(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var _m={exports:{}},ll={},Sm={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo=Symbol.for("react.element"),Fv=Symbol.for("react.portal"),Bv=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),Wv=Symbol.for("react.profiler"),Vv=Symbol.for("react.provider"),Hv=Symbol.for("react.context"),Gv=Symbol.for("react.forward_ref"),Kv=Symbol.for("react.suspense"),Jv=Symbol.for("react.memo"),Qv=Symbol.for("react.lazy"),Ih=Symbol.iterator;function Yv(t){return t===null||typeof t!="object"?null:(t=Ih&&t[Ih]||t["@@iterator"],typeof t=="function"?t:null)}var jm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cm=Object.assign,Em={};function Zi(t,e,n){this.props=t,this.context=e,this.refs=Em,this.updater=n||jm}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pm(){}Pm.prototype=Zi.prototype;function ld(t,e,n){this.props=t,this.context=e,this.refs=Em,this.updater=n||jm}var cd=ld.prototype=new Pm;cd.constructor=ld;Cm(cd,Zi.prototype);cd.isPureReactComponent=!0;var zh=Array.isArray,Tm=Object.prototype.hasOwnProperty,ud={current:null},Nm={key:!0,ref:!0,__self:!0,__source:!0};function Lm(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Tm.call(e,s)&&!Nm.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:yo,type:t,key:r,ref:o,props:i,_owner:ud.current}}function Xv(t,e){return{$$typeof:yo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dd(t){return typeof t=="object"&&t!==null&&t.$$typeof===yo}function Zv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $h=/\/+/g;function Dl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zv(""+t.key):e.toString(36)}function ua(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yo:case Fv:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+Dl(o,0):s,zh(i)?(n="",t!=null&&(n=t.replace($h,"$&/")+"/"),ua(i,e,n,"",function(c){return c})):i!=null&&(dd(i)&&(i=Xv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($h,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",zh(t))for(var a=0;a<t.length;a++){r=t[a];var l=s+Dl(r,a);o+=ua(r,e,n,l,i)}else if(l=Yv(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=s+Dl(r,a++),o+=ua(r,e,n,l,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Io(t,e,n){if(t==null)return t;var s=[],i=0;return ua(t,s,"","",function(r){return e.call(n,r,i++)}),s}function ew(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ze={current:null},da={transition:null},tw={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:da,ReactCurrentOwner:ud};function Mm(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Io,forEach:function(t,e,n){Io(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Io(t,function(){e++}),e},toArray:function(t){return Io(t,function(e){return e})||[]},only:function(t){if(!dd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Zi;U.Fragment=Bv;U.Profiler=Wv;U.PureComponent=ld;U.StrictMode=qv;U.Suspense=Kv;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tw;U.act=Mm;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Cm({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=ud.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Tm.call(e,l)&&!Nm.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:yo,type:t.type,key:i,ref:r,props:s,_owner:o}};U.createContext=function(t){return t={$$typeof:Hv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Vv,_context:t},t.Consumer=t};U.createElement=Lm;U.createFactory=function(t){var e=Lm.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Gv,render:t}};U.isValidElement=dd;U.lazy=function(t){return{$$typeof:Qv,_payload:{_status:-1,_result:t},_init:ew}};U.memo=function(t,e){return{$$typeof:Jv,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=da.transition;da.transition={};try{t()}finally{da.transition=e}};U.unstable_act=Mm;U.useCallback=function(t,e){return Ze.current.useCallback(t,e)};U.useContext=function(t){return Ze.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Ze.current.useDeferredValue(t)};U.useEffect=function(t,e){return Ze.current.useEffect(t,e)};U.useId=function(){return Ze.current.useId()};U.useImperativeHandle=function(t,e,n){return Ze.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Ze.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Ze.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Ze.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Ze.current.useReducer(t,e,n)};U.useRef=function(t){return Ze.current.useRef(t)};U.useState=function(t){return Ze.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Ze.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Ze.current.useTransition()};U.version="18.3.1";Sm.exports=U;var k=Sm.exports;const Ah=Dv(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw=k,sw=Symbol.for("react.element"),iw=Symbol.for("react.fragment"),rw=Object.prototype.hasOwnProperty,ow=nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aw={key:!0,ref:!0,__self:!0,__source:!0};function Rm(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)rw.call(e,s)&&!aw.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:sw,type:t,key:r,ref:o,props:i,_owner:ow.current}}ll.Fragment=iw;ll.jsx=Rm;ll.jsxs=Rm;_m.exports=ll;var u=_m.exports,Om={exports:{}},yt={},Im={exports:{}},zm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,M){var O=N.length;N.push(M);e:for(;0<O;){var X=O-1>>>1,he=N[X];if(0<i(he,M))N[X]=M,N[O]=he,O=X;else break e}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var M=N[0],O=N.pop();if(O!==M){N[0]=O;e:for(var X=0,he=N.length,wt=he>>>1;X<wt;){var xt=2*(X+1)-1,A=N[xt],$=xt+1,q=N[$];if(0>i(A,O))$<he&&0>i(q,A)?(N[X]=q,N[$]=O,X=$):(N[X]=A,N[xt]=O,X=xt);else if($<he&&0>i(q,O))N[X]=q,N[$]=O,X=$;else break e}}return M}function i(N,M){var O=N.sortIndex-M.sortIndex;return O!==0?O:N.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var M=n(c);M!==null;){if(M.callback===null)s(c);else if(M.startTime<=N)s(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function b(N){if(w=!1,y(N),!v)if(n(l)!==null)v=!0,Ot(S);else{var M=n(c);M!==null&&Un(b,M.startTime-N)}}function S(N,M){v=!1,w&&(w=!1,p(C),C=-1),g=!0;var O=f;try{for(y(M),h=n(l);h!==null&&(!(h.expirationTime>M)||N&&!F());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var he=X(h.expirationTime<=M);M=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&s(l),y(M)}else s(l);h=n(l)}if(h!==null)var wt=!0;else{var xt=n(c);xt!==null&&Un(b,xt.startTime-M),wt=!1}return wt}finally{h=null,f=O,g=!1}}var j=!1,_=null,C=-1,P=5,T=-1;function F(){return!(t.unstable_now()-T<P)}function re(){if(_!==null){var N=t.unstable_now();T=N;var M=!0;try{M=_(!0,N)}finally{M?ce():(j=!1,_=null)}}else j=!1}var ce;if(typeof m=="function")ce=function(){m(re)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,en=Ve.port2;Ve.port1.onmessage=re,ce=function(){en.postMessage(null)}}else ce=function(){x(re,0)};function Ot(N){_=N,j||(j=!0,ce())}function Un(N,M){C=x(function(){N(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Ot(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var O=f;f=M;try{return N()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,M){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var O=f;f=N;try{return M()}finally{f=O}},t.unstable_scheduleCallback=function(N,M,O){var X=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?X+O:X):O=X,N){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=O+he,N={id:d++,callback:M,priorityLevel:N,startTime:O,expirationTime:he,sortIndex:-1},O>X?(N.sortIndex=O,e(c,N),n(l)===null&&N===n(c)&&(w?(p(C),C=-1):w=!0,Un(b,O-X))):(N.sortIndex=he,e(l,N),v||g||(v=!0,Ot(S))),N},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(N){var M=f;return function(){var O=f;f=M;try{return N.apply(this,arguments)}finally{f=O}}}})(zm);Im.exports=zm;var lw=Im.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=k,gt=lw;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $m=new Set,Vr={};function ei(t,e){Fi(t,e),Fi(t+"Capture",e)}function Fi(t,e){for(Vr[t]=e,t=0;t<e.length;t++)$m.add(e[t])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=Object.prototype.hasOwnProperty,uw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dh={},Uh={};function dw(t){return Wc.call(Uh,t)?!0:Wc.call(Dh,t)?!1:uw.test(t)?Uh[t]=!0:(Dh[t]=!0,!1)}function hw(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fw(t,e,n,s){if(e===null||typeof e>"u"||hw(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function et(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ze[e]=new et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ze[t]=new et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ze[t]=new et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ze[t]=new et(t,5,!1,t.toLowerCase(),null,!1,!1)});var hd=/[\-:]([a-z])/g;function fd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hd,fd);ze[e]=new et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hd,fd);ze[e]=new et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hd,fd);ze[e]=new et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new et(t,1,!1,t.toLowerCase(),null,!1,!1)});ze.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ze[t]=new et(t,1,!1,t.toLowerCase(),null,!0,!0)});function pd(t,e,n,s){var i=ze.hasOwnProperty(e)?ze[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fw(e,n,i,s)&&(n=null),s||i===null?dw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var An=cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),mi=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),md=Symbol.for("react.strict_mode"),Vc=Symbol.for("react.profiler"),Am=Symbol.for("react.provider"),Dm=Symbol.for("react.context"),gd=Symbol.for("react.forward_ref"),Hc=Symbol.for("react.suspense"),Gc=Symbol.for("react.suspense_list"),yd=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),Um=Symbol.for("react.offscreen"),Fh=Symbol.iterator;function ur(t){return t===null||typeof t!="object"?null:(t=Fh&&t[Fh]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,Ul;function xr(t){if(Ul===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ul=e&&e[1]||""}return`
`+Ul+t}var Fl=!1;function Bl(t,e){if(!t||Fl)return"";Fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xr(t):""}function pw(t){switch(t.tag){case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 2:case 15:return t=Bl(t.type,!1),t;case 11:return t=Bl(t.type.render,!1),t;case 1:return t=Bl(t.type,!0),t;default:return""}}function Kc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gi:return"Fragment";case mi:return"Portal";case Vc:return"Profiler";case md:return"StrictMode";case Hc:return"Suspense";case Gc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Dm:return(t.displayName||"Context")+".Consumer";case Am:return(t._context.displayName||"Context")+".Provider";case gd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yd:return e=t.displayName||null,e!==null?e:Kc(t.type)||"Memo";case Hn:e=t._payload,t=t._init;try{return Kc(t(e))}catch{}}return null}function mw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kc(e);case 8:return e===md?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gw(t){var e=Fm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $o(t){t._valueTracker||(t._valueTracker=gw(t))}function Bm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Fm(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jc(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bh(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qm(t,e){e=e.checked,e!=null&&pd(t,"checked",e,!1)}function Qc(t,e){qm(t,e);var n=ds(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yc(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yc(t,e,n){(e!=="number"||Pa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var br=Array.isArray;function Li(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(br(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function Wm(t,e){var n=ds(e.value),s=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Vh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ao,Hm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ao.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yw=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(t){yw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Er[e]=Er[t]})});function Gm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Er.hasOwnProperty(t)&&Er[t]?(""+e).trim():e+"px"}function Km(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Gm(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var vw=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eu(t,e){if(e){if(vw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function tu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=null;function vd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var su=null,Mi=null,Ri=null;function Hh(t){if(t=xo(t)){if(typeof su!="function")throw Error(E(280));var e=t.stateNode;e&&(e=fl(e),su(t.stateNode,t.type,e))}}function Jm(t){Mi?Ri?Ri.push(t):Ri=[t]:Mi=t}function Qm(){if(Mi){var t=Mi,e=Ri;if(Ri=Mi=null,Hh(t),e)for(t=0;t<e.length;t++)Hh(e[t])}}function Ym(t,e){return t(e)}function Xm(){}var ql=!1;function Zm(t,e,n){if(ql)return t(e,n);ql=!0;try{return Ym(t,e,n)}finally{ql=!1,(Mi!==null||Ri!==null)&&(Xm(),Qm())}}function Gr(t,e){var n=t.stateNode;if(n===null)return null;var s=fl(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var iu=!1;if(Ln)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){iu=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{iu=!1}function ww(t,e,n,s,i,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Pr=!1,Ta=null,Na=!1,ru=null,xw={onError:function(t){Pr=!0,Ta=t}};function bw(t,e,n,s,i,r,o,a,l){Pr=!1,Ta=null,ww.apply(xw,arguments)}function kw(t,e,n,s,i,r,o,a,l){if(bw.apply(this,arguments),Pr){if(Pr){var c=Ta;Pr=!1,Ta=null}else throw Error(E(198));Na||(Na=!0,ru=c)}}function ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gh(t){if(ti(t)!==t)throw Error(E(188))}function _w(t){var e=t.alternate;if(!e){if(e=ti(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Gh(i),t;if(r===s)return Gh(i),e;r=r.sibling}throw Error(E(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==s)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function tg(t){return t=_w(t),t!==null?ng(t):null}function ng(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ng(t);if(e!==null)return e;t=t.sibling}return null}var sg=gt.unstable_scheduleCallback,Kh=gt.unstable_cancelCallback,Sw=gt.unstable_shouldYield,jw=gt.unstable_requestPaint,xe=gt.unstable_now,Cw=gt.unstable_getCurrentPriorityLevel,wd=gt.unstable_ImmediatePriority,ig=gt.unstable_UserBlockingPriority,La=gt.unstable_NormalPriority,Ew=gt.unstable_LowPriority,rg=gt.unstable_IdlePriority,cl=null,fn=null;function Pw(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(cl,t,void 0,(t.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Lw,Tw=Math.log,Nw=Math.LN2;function Lw(t){return t>>>=0,t===0?32:31-(Tw(t)/Nw|0)|0}var Do=64,Uo=4194304;function kr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ma(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=kr(a):(r&=o,r!==0&&(s=kr(r)))}else o=n&~i,o!==0?s=kr(o):r!==0&&(s=kr(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Gt(e),i=1<<n,s|=t[n],e&=~i;return s}function Mw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rw(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Gt(r),a=1<<o,l=i[o];l===-1?(!(a&n)||a&s)&&(i[o]=Mw(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function ou(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function og(){var t=Do;return Do<<=1,!(Do&4194240)&&(Do=64),t}function Wl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gt(e),t[e]=n}function Ow(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gt(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function xd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Gt(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var Y=0;function ag(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lg,bd,cg,ug,dg,au=!1,Fo=[],ts=null,ns=null,ss=null,Kr=new Map,Jr=new Map,Kn=[],Iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jh(t,e){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Kr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(e.pointerId)}}function hr(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=xo(e),e!==null&&bd(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zw(t,e,n,s,i){switch(e){case"focusin":return ts=hr(ts,t,e,n,s,i),!0;case"dragenter":return ns=hr(ns,t,e,n,s,i),!0;case"mouseover":return ss=hr(ss,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Kr.set(r,hr(Kr.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Jr.set(r,hr(Jr.get(r)||null,t,e,n,s,i)),!0}return!1}function hg(t){var e=$s(t.target);if(e!==null){var n=ti(e);if(n!==null){if(e=n.tag,e===13){if(e=eg(n),e!==null){t.blockedOn=e,dg(t.priority,function(){cg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ha(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);nu=s,n.target.dispatchEvent(s),nu=null}else return e=xo(n),e!==null&&bd(e),t.blockedOn=n,!1;e.shift()}return!0}function Qh(t,e,n){ha(t)&&n.delete(e)}function $w(){au=!1,ts!==null&&ha(ts)&&(ts=null),ns!==null&&ha(ns)&&(ns=null),ss!==null&&ha(ss)&&(ss=null),Kr.forEach(Qh),Jr.forEach(Qh)}function fr(t,e){t.blockedOn===e&&(t.blockedOn=null,au||(au=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,$w)))}function Qr(t){function e(i){return fr(i,t)}if(0<Fo.length){fr(Fo[0],t);for(var n=1;n<Fo.length;n++){var s=Fo[n];s.blockedOn===t&&(s.blockedOn=null)}}for(ts!==null&&fr(ts,t),ns!==null&&fr(ns,t),ss!==null&&fr(ss,t),Kr.forEach(e),Jr.forEach(e),n=0;n<Kn.length;n++)s=Kn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)hg(n),n.blockedOn===null&&Kn.shift()}var Oi=An.ReactCurrentBatchConfig,Ra=!0;function Aw(t,e,n,s){var i=Y,r=Oi.transition;Oi.transition=null;try{Y=1,kd(t,e,n,s)}finally{Y=i,Oi.transition=r}}function Dw(t,e,n,s){var i=Y,r=Oi.transition;Oi.transition=null;try{Y=4,kd(t,e,n,s)}finally{Y=i,Oi.transition=r}}function kd(t,e,n,s){if(Ra){var i=lu(t,e,n,s);if(i===null)ec(t,e,s,Oa,n),Jh(t,s);else if(zw(i,t,e,n,s))s.stopPropagation();else if(Jh(t,s),e&4&&-1<Iw.indexOf(t)){for(;i!==null;){var r=xo(i);if(r!==null&&lg(r),r=lu(t,e,n,s),r===null&&ec(t,e,s,Oa,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else ec(t,e,s,null,n)}}var Oa=null;function lu(t,e,n,s){if(Oa=null,t=vd(s),t=$s(t),t!==null)if(e=ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oa=t,null}function fg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cw()){case wd:return 1;case ig:return 4;case La:case Ew:return 16;case rg:return 536870912;default:return 16}default:return 16}}var Xn=null,_d=null,fa=null;function pg(){if(fa)return fa;var t,e=_d,n=e.length,s,i="value"in Xn?Xn.value:Xn.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return fa=i.slice(t,1<s?1-s:void 0)}function pa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bo(){return!0}function Yh(){return!1}function vt(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Bo:Yh,this.isPropagationStopped=Yh,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),e}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=vt(er),wo=ge({},er,{view:0,detail:0}),Uw=vt(wo),Vl,Hl,pr,ul=ge({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pr&&(pr&&t.type==="mousemove"?(Vl=t.screenX-pr.screenX,Hl=t.screenY-pr.screenY):Hl=Vl=0,pr=t),Vl)},movementY:function(t){return"movementY"in t?t.movementY:Hl}}),Xh=vt(ul),Fw=ge({},ul,{dataTransfer:0}),Bw=vt(Fw),qw=ge({},wo,{relatedTarget:0}),Gl=vt(qw),Ww=ge({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),Vw=vt(Ww),Hw=ge({},er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gw=vt(Hw),Kw=ge({},er,{data:0}),Zh=vt(Kw),Jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yw[t])?!!e[t]:!1}function jd(){return Xw}var Zw=ge({},wo,{key:function(t){if(t.key){var e=Jw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jd,charCode:function(t){return t.type==="keypress"?pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ex=vt(Zw),tx=ge({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=vt(tx),nx=ge({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jd}),sx=vt(nx),ix=ge({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),rx=vt(ix),ox=ge({},ul,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ax=vt(ox),lx=[9,13,27,32],Cd=Ln&&"CompositionEvent"in window,Tr=null;Ln&&"documentMode"in document&&(Tr=document.documentMode);var cx=Ln&&"TextEvent"in window&&!Tr,mg=Ln&&(!Cd||Tr&&8<Tr&&11>=Tr),tf=" ",nf=!1;function gg(t,e){switch(t){case"keyup":return lx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yi=!1;function ux(t,e){switch(t){case"compositionend":return yg(e);case"keypress":return e.which!==32?null:(nf=!0,tf);case"textInput":return t=e.data,t===tf&&nf?null:t;default:return null}}function dx(t,e){if(yi)return t==="compositionend"||!Cd&&gg(t,e)?(t=pg(),fa=_d=Xn=null,yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mg&&e.locale!=="ko"?null:e.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hx[t.type]:e==="textarea"}function vg(t,e,n,s){Jm(s),e=Ia(e,"onChange"),0<e.length&&(n=new Sd("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Nr=null,Yr=null;function fx(t){Tg(t,0)}function dl(t){var e=xi(t);if(Bm(e))return t}function px(t,e){if(t==="change")return e}var wg=!1;if(Ln){var Kl;if(Ln){var Jl="oninput"in document;if(!Jl){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),Jl=typeof rf.oninput=="function"}Kl=Jl}else Kl=!1;wg=Kl&&(!document.documentMode||9<document.documentMode)}function of(){Nr&&(Nr.detachEvent("onpropertychange",xg),Yr=Nr=null)}function xg(t){if(t.propertyName==="value"&&dl(Yr)){var e=[];vg(e,Yr,t,vd(t)),Zm(fx,e)}}function mx(t,e,n){t==="focusin"?(of(),Nr=e,Yr=n,Nr.attachEvent("onpropertychange",xg)):t==="focusout"&&of()}function gx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dl(Yr)}function yx(t,e){if(t==="click")return dl(e)}function vx(t,e){if(t==="input"||t==="change")return dl(e)}function wx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:wx;function Xr(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Wc.call(e,i)||!Yt(t[i],e[i]))return!1}return!0}function af(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lf(t,e){var n=af(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=af(n)}}function bg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kg(){for(var t=window,e=Pa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pa(t.document)}return e}function Ed(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xx(t){var e=kg(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bg(n.ownerDocument.documentElement,n)){if(s!==null&&Ed(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=lf(n,r);var o=lf(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bx=Ln&&"documentMode"in document&&11>=document.documentMode,vi=null,cu=null,Lr=null,uu=!1;function cf(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uu||vi==null||vi!==Pa(s)||(s=vi,"selectionStart"in s&&Ed(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Lr&&Xr(Lr,s)||(Lr=s,s=Ia(cu,"onSelect"),0<s.length&&(e=new Sd("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=vi)))}function qo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wi={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},Ql={},_g={};Ln&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function hl(t){if(Ql[t])return Ql[t];if(!wi[t])return t;var e=wi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _g)return Ql[t]=e[n];return t}var Sg=hl("animationend"),jg=hl("animationiteration"),Cg=hl("animationstart"),Eg=hl("transitionend"),Pg=new Map,uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(t,e){Pg.set(t,e),ei(e,[t])}for(var Yl=0;Yl<uf.length;Yl++){var Xl=uf[Yl],kx=Xl.toLowerCase(),_x=Xl[0].toUpperCase()+Xl.slice(1);ps(kx,"on"+_x)}ps(Sg,"onAnimationEnd");ps(jg,"onAnimationIteration");ps(Cg,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(Eg,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sx=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function df(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,kw(s,e,void 0,t),t.currentTarget=null}function Tg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;df(i,a,c),r=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;df(i,a,c),r=l}}}if(Na)throw t=ru,Na=!1,ru=null,t}function ae(t,e){var n=e[mu];n===void 0&&(n=e[mu]=new Set);var s=t+"__bubble";n.has(s)||(Ng(e,t,2,!1),n.add(s))}function Zl(t,e,n){var s=0;e&&(s|=4),Ng(n,t,s,e)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function Zr(t){if(!t[Wo]){t[Wo]=!0,$m.forEach(function(n){n!=="selectionchange"&&(Sx.has(n)||Zl(n,!1,t),Zl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wo]||(e[Wo]=!0,Zl("selectionchange",!1,e))}}function Ng(t,e,n,s){switch(fg(e)){case 1:var i=Aw;break;case 4:i=Dw;break;default:i=kd}n=i.bind(null,e,n,t),i=void 0,!iu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ec(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$s(a),o===null)return;if(l=o.tag,l===5||l===6){s=r=o;continue e}a=a.parentNode}}s=s.return}Zm(function(){var c=r,d=vd(n),h=[];e:{var f=Pg.get(t);if(f!==void 0){var g=Sd,v=t;switch(t){case"keypress":if(pa(n)===0)break e;case"keydown":case"keyup":g=ex;break;case"focusin":v="focus",g=Gl;break;case"focusout":v="blur",g=Gl;break;case"beforeblur":case"afterblur":g=Gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Bw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=sx;break;case Sg:case jg:case Cg:g=Vw;break;case Eg:g=rx;break;case"scroll":g=Uw;break;case"wheel":g=ax;break;case"copy":case"cut":case"paste":g=Gw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ef}var w=(e&4)!==0,x=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var m=c,y;m!==null;){y=m;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,p!==null&&(b=Gr(m,p),b!=null&&w.push(eo(m,b,y)))),x)break;m=m.return}0<w.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==nu&&(v=n.relatedTarget||n.fromElement)&&($s(v)||v[Mn]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?$s(v):null,v!==null&&(x=ti(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(w=Xh,b="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=ef,b="onPointerLeave",p="onPointerEnter",m="pointer"),x=g==null?f:xi(g),y=v==null?f:xi(v),f=new w(b,m+"leave",g,n,d),f.target=x,f.relatedTarget=y,b=null,$s(d)===c&&(w=new w(p,m+"enter",v,n,d),w.target=y,w.relatedTarget=x,b=w),x=b,g&&v)t:{for(w=g,p=v,m=0,y=w;y;y=ii(y))m++;for(y=0,b=p;b;b=ii(b))y++;for(;0<m-y;)w=ii(w),m--;for(;0<y-m;)p=ii(p),y--;for(;m--;){if(w===p||p!==null&&w===p.alternate)break t;w=ii(w),p=ii(p)}w=null}else w=null;g!==null&&hf(h,f,g,w,!1),v!==null&&x!==null&&hf(h,x,v,w,!0)}}e:{if(f=c?xi(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=px;else if(sf(f))if(wg)S=vx;else{S=gx;var j=mx}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=yx);if(S&&(S=S(t,c))){vg(h,S,n,d);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Yc(f,"number",f.value)}switch(j=c?xi(c):window,t){case"focusin":(sf(j)||j.contentEditable==="true")&&(vi=j,cu=c,Lr=null);break;case"focusout":Lr=cu=vi=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,cf(h,n,d);break;case"selectionchange":if(bx)break;case"keydown":case"keyup":cf(h,n,d)}var _;if(Cd)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else yi?gg(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(mg&&n.locale!=="ko"&&(yi||C!=="onCompositionStart"?C==="onCompositionEnd"&&yi&&(_=pg()):(Xn=d,_d="value"in Xn?Xn.value:Xn.textContent,yi=!0)),j=Ia(c,C),0<j.length&&(C=new Zh(C,t,null,n,d),h.push({event:C,listeners:j}),_?C.data=_:(_=yg(n),_!==null&&(C.data=_)))),(_=cx?ux(t,n):dx(t,n))&&(c=Ia(c,"onBeforeInput"),0<c.length&&(d=new Zh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=_))}Tg(h,e)})}function eo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ia(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Gr(t,n),r!=null&&s.unshift(eo(t,r,i)),r=Gr(t,e),r!=null&&s.push(eo(t,r,i))),t=t.return}return s}function ii(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hf(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,i?(l=Gr(n,r),l!=null&&o.unshift(eo(n,l,a))):i||(l=Gr(n,r),l!=null&&o.push(eo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jx=/\r\n?/g,Cx=/\u0000|\uFFFD/g;function ff(t){return(typeof t=="string"?t:""+t).replace(jx,`
`).replace(Cx,"")}function Vo(t,e,n){if(e=ff(e),ff(t)!==e&&n)throw Error(E(425))}function za(){}var du=null,hu=null;function fu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pu=typeof setTimeout=="function"?setTimeout:void 0,Ex=typeof clearTimeout=="function"?clearTimeout:void 0,pf=typeof Promise=="function"?Promise:void 0,Px=typeof queueMicrotask=="function"?queueMicrotask:typeof pf<"u"?function(t){return pf.resolve(null).then(t).catch(Tx)}:pu;function Tx(t){setTimeout(function(){throw t})}function tc(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Qr(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Qr(e)}function is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tr=Math.random().toString(36).slice(2),dn="__reactFiber$"+tr,to="__reactProps$"+tr,Mn="__reactContainer$"+tr,mu="__reactEvents$"+tr,Nx="__reactListeners$"+tr,Lx="__reactHandles$"+tr;function $s(t){var e=t[dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mn]||n[dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mf(t);t!==null;){if(n=t[dn])return n;t=mf(t)}return e}t=n,n=t.parentNode}return null}function xo(t){return t=t[dn]||t[Mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function fl(t){return t[to]||null}var gu=[],bi=-1;function ms(t){return{current:t}}function le(t){0>bi||(t.current=gu[bi],gu[bi]=null,bi--)}function ie(t,e){bi++,gu[bi]=t.current,t.current=e}var hs={},We=ms(hs),ct=ms(!1),Ws=hs;function Bi(t,e){var n=t.type.contextTypes;if(!n)return hs;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ut(t){return t=t.childContextTypes,t!=null}function $a(){le(ct),le(We)}function gf(t,e,n){if(We.current!==hs)throw Error(E(168));ie(We,e),ie(ct,n)}function Lg(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(E(108,mw(t)||"Unknown",i));return ge({},n,s)}function Aa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,Ws=We.current,ie(We,t),ie(ct,ct.current),!0}function yf(t,e,n){var s=t.stateNode;if(!s)throw Error(E(169));n?(t=Lg(t,e,Ws),s.__reactInternalMemoizedMergedChildContext=t,le(ct),le(We),ie(We,t)):le(ct),ie(ct,n)}var _n=null,pl=!1,nc=!1;function Mg(t){_n===null?_n=[t]:_n.push(t)}function Mx(t){pl=!0,Mg(t)}function gs(){if(!nc&&_n!==null){nc=!0;var t=0,e=Y;try{var n=_n;for(Y=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}_n=null,pl=!1}catch(i){throw _n!==null&&(_n=_n.slice(t+1)),sg(wd,gs),i}finally{Y=e,nc=!1}}return null}var ki=[],_i=0,Da=null,Ua=0,_t=[],St=0,Vs=null,Sn=1,jn="";function Ls(t,e){ki[_i++]=Ua,ki[_i++]=Da,Da=t,Ua=e}function Rg(t,e,n){_t[St++]=Sn,_t[St++]=jn,_t[St++]=Vs,Vs=t;var s=Sn;t=jn;var i=32-Gt(s)-1;s&=~(1<<i),n+=1;var r=32-Gt(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Sn=1<<32-Gt(e)+i|n<<i|s,jn=r+t}else Sn=1<<r|n<<i|s,jn=t}function Pd(t){t.return!==null&&(Ls(t,1),Rg(t,1,0))}function Td(t){for(;t===Da;)Da=ki[--_i],ki[_i]=null,Ua=ki[--_i],ki[_i]=null;for(;t===Vs;)Vs=_t[--St],_t[St]=null,jn=_t[--St],_t[St]=null,Sn=_t[--St],_t[St]=null}var mt=null,pt=null,ue=!1,qt=null;function Og(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mt=t,pt=is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:Sn,overflow:jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mt=t,pt=null,!0):!1;default:return!1}}function yu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vu(t){if(ue){var e=pt;if(e){var n=e;if(!vf(t,e)){if(yu(t))throw Error(E(418));e=is(n.nextSibling);var s=mt;e&&vf(t,e)?Og(s,n):(t.flags=t.flags&-4097|2,ue=!1,mt=t)}}else{if(yu(t))throw Error(E(418));t.flags=t.flags&-4097|2,ue=!1,mt=t}}}function wf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function Ho(t){if(t!==mt)return!1;if(!ue)return wf(t),ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fu(t.type,t.memoizedProps)),e&&(e=pt)){if(yu(t))throw Ig(),Error(E(418));for(;e;)Og(t,e),e=is(e.nextSibling)}if(wf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pt=is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=mt?is(t.stateNode.nextSibling):null;return!0}function Ig(){for(var t=pt;t;)t=is(t.nextSibling)}function qi(){pt=mt=null,ue=!1}function Nd(t){qt===null?qt=[t]:qt.push(t)}var Rx=An.ReactCurrentBatchConfig;function mr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var s=n.stateNode}if(!s)throw Error(E(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Go(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xf(t){var e=t._init;return e(t._payload)}function zg(t){function e(p,m){if(t){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=ls(p,m),p.index=0,p.sibling=null,p}function r(p,m,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,y,b){return m===null||m.tag!==6?(m=cc(y,p.mode,b),m.return=p,m):(m=i(m,y),m.return=p,m)}function l(p,m,y,b){var S=y.type;return S===gi?d(p,m,y.props.children,b,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hn&&xf(S)===m.type)?(b=i(m,y.props),b.ref=mr(p,m,y),b.return=p,b):(b=ba(y.type,y.key,y.props,null,p.mode,b),b.ref=mr(p,m,y),b.return=p,b)}function c(p,m,y,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=uc(y,p.mode,b),m.return=p,m):(m=i(m,y.children||[]),m.return=p,m)}function d(p,m,y,b,S){return m===null||m.tag!==7?(m=Bs(y,p.mode,b,S),m.return=p,m):(m=i(m,y),m.return=p,m)}function h(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=cc(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zo:return y=ba(m.type,m.key,m.props,null,p.mode,y),y.ref=mr(p,null,m),y.return=p,y;case mi:return m=uc(m,p.mode,y),m.return=p,m;case Hn:var b=m._init;return h(p,b(m._payload),y)}if(br(m)||ur(m))return m=Bs(m,p.mode,y,null),m.return=p,m;Go(p,m)}return null}function f(p,m,y,b){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(p,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zo:return y.key===S?l(p,m,y,b):null;case mi:return y.key===S?c(p,m,y,b):null;case Hn:return S=y._init,f(p,m,S(y._payload),b)}if(br(y)||ur(y))return S!==null?null:d(p,m,y,b,null);Go(p,y)}return null}function g(p,m,y,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(y)||null,a(m,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zo:return p=p.get(b.key===null?y:b.key)||null,l(m,p,b,S);case mi:return p=p.get(b.key===null?y:b.key)||null,c(m,p,b,S);case Hn:var j=b._init;return g(p,m,y,j(b._payload),S)}if(br(b)||ur(b))return p=p.get(y)||null,d(m,p,b,S,null);Go(m,b)}return null}function v(p,m,y,b){for(var S=null,j=null,_=m,C=m=0,P=null;_!==null&&C<y.length;C++){_.index>C?(P=_,_=null):P=_.sibling;var T=f(p,_,y[C],b);if(T===null){_===null&&(_=P);break}t&&_&&T.alternate===null&&e(p,_),m=r(T,m,C),j===null?S=T:j.sibling=T,j=T,_=P}if(C===y.length)return n(p,_),ue&&Ls(p,C),S;if(_===null){for(;C<y.length;C++)_=h(p,y[C],b),_!==null&&(m=r(_,m,C),j===null?S=_:j.sibling=_,j=_);return ue&&Ls(p,C),S}for(_=s(p,_);C<y.length;C++)P=g(_,p,C,y[C],b),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?C:P.key),m=r(P,m,C),j===null?S=P:j.sibling=P,j=P);return t&&_.forEach(function(F){return e(p,F)}),ue&&Ls(p,C),S}function w(p,m,y,b){var S=ur(y);if(typeof S!="function")throw Error(E(150));if(y=S.call(y),y==null)throw Error(E(151));for(var j=S=null,_=m,C=m=0,P=null,T=y.next();_!==null&&!T.done;C++,T=y.next()){_.index>C?(P=_,_=null):P=_.sibling;var F=f(p,_,T.value,b);if(F===null){_===null&&(_=P);break}t&&_&&F.alternate===null&&e(p,_),m=r(F,m,C),j===null?S=F:j.sibling=F,j=F,_=P}if(T.done)return n(p,_),ue&&Ls(p,C),S;if(_===null){for(;!T.done;C++,T=y.next())T=h(p,T.value,b),T!==null&&(m=r(T,m,C),j===null?S=T:j.sibling=T,j=T);return ue&&Ls(p,C),S}for(_=s(p,_);!T.done;C++,T=y.next())T=g(_,p,C,T.value,b),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?C:T.key),m=r(T,m,C),j===null?S=T:j.sibling=T,j=T);return t&&_.forEach(function(re){return e(p,re)}),ue&&Ls(p,C),S}function x(p,m,y,b){if(typeof y=="object"&&y!==null&&y.type===gi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case zo:e:{for(var S=y.key,j=m;j!==null;){if(j.key===S){if(S=y.type,S===gi){if(j.tag===7){n(p,j.sibling),m=i(j,y.props.children),m.return=p,p=m;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hn&&xf(S)===j.type){n(p,j.sibling),m=i(j,y.props),m.ref=mr(p,j,y),m.return=p,p=m;break e}n(p,j);break}else e(p,j);j=j.sibling}y.type===gi?(m=Bs(y.props.children,p.mode,b,y.key),m.return=p,p=m):(b=ba(y.type,y.key,y.props,null,p.mode,b),b.ref=mr(p,m,y),b.return=p,p=b)}return o(p);case mi:e:{for(j=y.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=i(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=uc(y,p.mode,b),m.return=p,p=m}return o(p);case Hn:return j=y._init,x(p,m,j(y._payload),b)}if(br(y))return v(p,m,y,b);if(ur(y))return w(p,m,y,b);Go(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,y),m.return=p,p=m):(n(p,m),m=cc(y,p.mode,b),m.return=p,p=m),o(p)):n(p,m)}return x}var Wi=zg(!0),$g=zg(!1),Fa=ms(null),Ba=null,Si=null,Ld=null;function Md(){Ld=Si=Ba=null}function Rd(t){var e=Fa.current;le(Fa),t._currentValue=e}function wu(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ii(t,e){Ba=t,Ld=Si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lt=!0),t.firstContext=null)}function Mt(t){var e=t._currentValue;if(Ld!==t)if(t={context:t,memoizedValue:e,next:null},Si===null){if(Ba===null)throw Error(E(308));Si=t,Ba.dependencies={lanes:0,firstContext:t}}else Si=Si.next=t;return e}var As=null;function Od(t){As===null?As=[t]:As.push(t)}function Ag(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,Od(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rn(t,s)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gn=!1;function Id(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,V&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Rn(t,n)}return i=s.interleaved,i===null?(e.next=e,Od(s)):(e.next=i.next,i.next=e),s.interleaved=e,Rn(t,n)}function ma(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,xd(t,n)}}function bf(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qa(t,e,n,s){var i=t.updateQueue;Gn=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(r!==null){var h=i.baseState;o=0,d=c=l=null,a=r;do{var f=a.lane,g=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,g=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=ge({},h,f);break e;case 2:Gn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Gs|=o,t.lanes=o,t.memoizedState=h}}function kf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(E(191,i));i.call(s)}}}var bo={},pn=ms(bo),no=ms(bo),so=ms(bo);function Ds(t){if(t===bo)throw Error(E(174));return t}function zd(t,e){switch(ie(so,e),ie(no,t),ie(pn,bo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zc(e,t)}le(pn),ie(pn,e)}function Vi(){le(pn),le(no),le(so)}function Ug(t){Ds(so.current);var e=Ds(pn.current),n=Zc(e,t.type);e!==n&&(ie(no,t),ie(pn,n))}function $d(t){no.current===t&&(le(pn),le(no))}var pe=ms(0);function Wa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sc=[];function Ad(){for(var t=0;t<sc.length;t++)sc[t]._workInProgressVersionPrimary=null;sc.length=0}var ga=An.ReactCurrentDispatcher,ic=An.ReactCurrentBatchConfig,Hs=0,me=null,Ee=null,Ne=null,Va=!1,Mr=!1,io=0,Ox=0;function $e(){throw Error(E(321))}function Dd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yt(t[n],e[n]))return!1;return!0}function Ud(t,e,n,s,i,r){if(Hs=r,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ga.current=t===null||t.memoizedState===null?Ax:Dx,t=n(s,i),Mr){r=0;do{if(Mr=!1,io=0,25<=r)throw Error(E(301));r+=1,Ne=Ee=null,e.updateQueue=null,ga.current=Ux,t=n(s,i)}while(Mr)}if(ga.current=Ha,e=Ee!==null&&Ee.next!==null,Hs=0,Ne=Ee=me=null,Va=!1,e)throw Error(E(300));return t}function Fd(){var t=io!==0;return io=0,t}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?me.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function Rt(){if(Ee===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Ne===null?me.memoizedState:Ne.next;if(e!==null)Ne=e,Ee=t;else{if(t===null)throw Error(E(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ne===null?me.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function ro(t,e){return typeof e=="function"?e(t):e}function rc(t){var e=Rt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var s=Ee,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,l=null,c=r;do{var d=c.lane;if((Hs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,me.lanes|=d,Gs|=d}c=c.next}while(c!==null&&c!==r);l===null?o=s:l.next=a,Yt(s,e.memoizedState)||(lt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,me.lanes|=r,Gs|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function oc(t){var e=Rt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);Yt(r,e.memoizedState)||(lt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function Fg(){}function Bg(t,e){var n=me,s=Rt(),i=e(),r=!Yt(s.memoizedState,i);if(r&&(s.memoizedState=i,lt=!0),s=s.queue,Bd(Vg.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,oo(9,Wg.bind(null,n,s,i,e),void 0,null),Le===null)throw Error(E(349));Hs&30||qg(n,e,i)}return i}function qg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wg(t,e,n,s){e.value=n,e.getSnapshot=s,Hg(e)&&Gg(t)}function Vg(t,e,n){return n(function(){Hg(e)&&Gg(t)})}function Hg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yt(t,n)}catch{return!0}}function Gg(t){var e=Rn(t,1);e!==null&&Kt(e,t,1,-1)}function _f(t){var e=an();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:t},e.queue=t,t=t.dispatch=$x.bind(null,me,t),[e.memoizedState,t]}function oo(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Kg(){return Rt().memoizedState}function ya(t,e,n,s){var i=an();me.flags|=t,i.memoizedState=oo(1|e,n,void 0,s===void 0?null:s)}function ml(t,e,n,s){var i=Rt();s=s===void 0?null:s;var r=void 0;if(Ee!==null){var o=Ee.memoizedState;if(r=o.destroy,s!==null&&Dd(s,o.deps)){i.memoizedState=oo(e,n,r,s);return}}me.flags|=t,i.memoizedState=oo(1|e,n,r,s)}function Sf(t,e){return ya(8390656,8,t,e)}function Bd(t,e){return ml(2048,8,t,e)}function Jg(t,e){return ml(4,2,t,e)}function Qg(t,e){return ml(4,4,t,e)}function Yg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xg(t,e,n){return n=n!=null?n.concat([t]):null,ml(4,4,Yg.bind(null,e,t),n)}function qd(){}function Zg(t,e){var n=Rt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Dd(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function e0(t,e){var n=Rt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Dd(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function t0(t,e,n){return Hs&21?(Yt(n,e)||(n=og(),me.lanes|=n,Gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lt=!0),t.memoizedState=n)}function Ix(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var s=ic.transition;ic.transition={};try{t(!1),e()}finally{Y=n,ic.transition=s}}function n0(){return Rt().memoizedState}function zx(t,e,n){var s=as(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},s0(t))i0(e,n);else if(n=Ag(t,e,n,s),n!==null){var i=Qe();Kt(n,t,s,i),r0(n,e,s)}}function $x(t,e,n){var s=as(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(s0(t))i0(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yt(a,o)){var l=e.interleaved;l===null?(i.next=i,Od(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ag(t,e,i,s),n!==null&&(i=Qe(),Kt(n,t,s,i),r0(n,e,s))}}function s0(t){var e=t.alternate;return t===me||e!==null&&e===me}function i0(t,e){Mr=Va=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r0(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,xd(t,n)}}var Ha={readContext:Mt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Ax={readContext:Mt,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:Sf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ya(4194308,4,Yg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ya(4194308,4,t,e)},useInsertionEffect:function(t,e){return ya(4,2,t,e)},useMemo:function(t,e){var n=an();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=an();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=zx.bind(null,me,t),[s.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:_f,useDebugValue:qd,useDeferredValue:function(t){return an().memoizedState=t},useTransition:function(){var t=_f(!1),e=t[0];return t=Ix.bind(null,t[1]),an().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=me,i=an();if(ue){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),Le===null)throw Error(E(349));Hs&30||qg(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Sf(Vg.bind(null,s,r,t),[t]),s.flags|=2048,oo(9,Wg.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=an(),e=Le.identifierPrefix;if(ue){var n=jn,s=Sn;n=(s&~(1<<32-Gt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=io++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ox++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Dx={readContext:Mt,useCallback:Zg,useContext:Mt,useEffect:Bd,useImperativeHandle:Xg,useInsertionEffect:Jg,useLayoutEffect:Qg,useMemo:e0,useReducer:rc,useRef:Kg,useState:function(){return rc(ro)},useDebugValue:qd,useDeferredValue:function(t){var e=Rt();return t0(e,Ee.memoizedState,t)},useTransition:function(){var t=rc(ro)[0],e=Rt().memoizedState;return[t,e]},useMutableSource:Fg,useSyncExternalStore:Bg,useId:n0,unstable_isNewReconciler:!1},Ux={readContext:Mt,useCallback:Zg,useContext:Mt,useEffect:Bd,useImperativeHandle:Xg,useInsertionEffect:Jg,useLayoutEffect:Qg,useMemo:e0,useReducer:oc,useRef:Kg,useState:function(){return oc(ro)},useDebugValue:qd,useDeferredValue:function(t){var e=Rt();return Ee===null?e.memoizedState=t:t0(e,Ee.memoizedState,t)},useTransition:function(){var t=oc(ro)[0],e=Rt().memoizedState;return[t,e]},useMutableSource:Fg,useSyncExternalStore:Bg,useId:n0,unstable_isNewReconciler:!1};function Dt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xu(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gl={isMounted:function(t){return(t=t._reactInternals)?ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Qe(),i=as(t),r=Nn(s,i);r.payload=e,n!=null&&(r.callback=n),e=rs(t,r,i),e!==null&&(Kt(e,t,i,s),ma(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Qe(),i=as(t),r=Nn(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=rs(t,r,i),e!==null&&(Kt(e,t,i,s),ma(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qe(),s=as(t),i=Nn(n,s);i.tag=2,e!=null&&(i.callback=e),e=rs(t,i,s),e!==null&&(Kt(e,t,s,n),ma(e,t,s))}};function jf(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!Xr(n,s)||!Xr(i,r):!0}function o0(t,e,n){var s=!1,i=hs,r=e.contextType;return typeof r=="object"&&r!==null?r=Mt(r):(i=ut(e)?Ws:We.current,s=e.contextTypes,r=(s=s!=null)?Bi(t,i):hs),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gl,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Cf(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&gl.enqueueReplaceState(e,e.state,null)}function bu(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Id(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=Mt(r):(r=ut(e)?Ws:We.current,i.context=Bi(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(xu(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gl.enqueueReplaceState(i,i.state,null),qa(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hi(t,e){try{var n="",s=e;do n+=pw(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function ac(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ku(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Fx=typeof WeakMap=="function"?WeakMap:Map;function a0(t,e,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Ka||(Ka=!0,Mu=s),ku(t,e)},n}function l0(t,e,n){n=Nn(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){ku(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){ku(t,e),typeof s!="function"&&(os===null?os=new Set([this]):os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ef(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Fx;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=tb.bind(null,t,e,n),e.then(t,t))}function Pf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tf(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nn(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var Bx=An.ReactCurrentOwner,lt=!1;function Je(t,e,n,s){e.child=t===null?$g(e,null,n,s):Wi(e,t.child,n,s)}function Nf(t,e,n,s,i){n=n.render;var r=e.ref;return Ii(e,i),s=Ud(t,e,n,s,r,i),n=Fd(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,On(t,e,i)):(ue&&n&&Pd(e),e.flags|=1,Je(t,e,s,i),e.child)}function Lf(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!Yd(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,c0(t,e,r,s,i)):(t=ba(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Xr,n(o,s)&&t.ref===e.ref)return On(t,e,i)}return e.flags|=1,t=ls(r,s),t.ref=e.ref,t.return=e,e.child=t}function c0(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(Xr(r,s)&&t.ref===e.ref)if(lt=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,On(t,e,i)}return _u(t,e,n,s,i)}function u0(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Ci,ft),ft|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(Ci,ft),ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ie(Ci,ft),ft|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ie(Ci,ft),ft|=s;return Je(t,e,i,n),e.child}function d0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _u(t,e,n,s,i){var r=ut(n)?Ws:We.current;return r=Bi(e,r),Ii(e,i),n=Ud(t,e,n,s,r,i),s=Fd(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,On(t,e,i)):(ue&&s&&Pd(e),e.flags|=1,Je(t,e,n,i),e.child)}function Mf(t,e,n,s,i){if(ut(n)){var r=!0;Aa(e)}else r=!1;if(Ii(e,i),e.stateNode===null)va(t,e),o0(e,n,s),bu(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mt(c):(c=ut(n)?Ws:We.current,c=Bi(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&Cf(e,o,s,c),Gn=!1;var f=e.memoizedState;o.state=f,qa(e,s,o,i),l=e.memoizedState,a!==s||f!==l||ct.current||Gn?(typeof d=="function"&&(xu(e,n,d,s),l=e.memoizedState),(a=Gn||jf(e,n,a,s,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Dg(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Dt(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=ut(n)?Ws:We.current,l=Bi(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Cf(e,o,s,l),Gn=!1,f=e.memoizedState,o.state=f,qa(e,s,o,i);var v=e.memoizedState;a!==h||f!==v||ct.current||Gn?(typeof g=="function"&&(xu(e,n,g,s),v=e.memoizedState),(c=Gn||jf(e,n,c,s,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return Su(t,e,n,s,r,i)}function Su(t,e,n,s,i,r){d0(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&yf(e,n,!1),On(t,e,r);s=e.stateNode,Bx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Wi(e,t.child,null,r),e.child=Wi(e,null,a,r)):Je(t,e,a,r),e.memoizedState=s.state,i&&yf(e,n,!0),e.child}function h0(t){var e=t.stateNode;e.pendingContext?gf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gf(t,e.context,!1),zd(t,e.containerInfo)}function Rf(t,e,n,s,i){return qi(),Nd(i),e.flags|=256,Je(t,e,n,s),e.child}var ju={dehydrated:null,treeContext:null,retryLane:0};function Cu(t){return{baseLanes:t,cachePool:null,transitions:null}}function f0(t,e,n){var s=e.pendingProps,i=pe.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ie(pe,i&1),t===null)return vu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=wl(o,s,0,null),t=Bs(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Cu(n),e.memoizedState=ju,t):Wd(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qx(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=ls(i,l),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=ls(a,r):(r=Bs(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?Cu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=ju,s}return r=t.child,t=r.sibling,s=ls(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Wd(t,e){return e=wl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ko(t,e,n,s){return s!==null&&Nd(s),Wi(e,t.child,null,n),t=Wd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qx(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=ac(Error(E(422))),Ko(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=wl({mode:"visible",children:s.children},i,0,null),r=Bs(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Wi(e,t.child,null,o),e.child.memoizedState=Cu(o),e.memoizedState=ju,r);if(!(e.mode&1))return Ko(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(E(419)),s=ac(r,s,void 0),Ko(t,e,o,s)}if(a=(o&t.childLanes)!==0,lt||a){if(s=Le,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Rn(t,i),Kt(s,t,i,-1))}return Qd(),s=ac(Error(E(421))),Ko(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nb.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,pt=is(i.nextSibling),mt=e,ue=!0,qt=null,t!==null&&(_t[St++]=Sn,_t[St++]=jn,_t[St++]=Vs,Sn=t.id,jn=t.overflow,Vs=e),e=Wd(e,s.children),e.flags|=4096,e)}function Of(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),wu(t.return,e,n)}function lc(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function p0(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Je(t,e,s.children,n),s=pe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Of(t,n,e);else if(t.tag===19)Of(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ie(pe,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lc(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lc(e,!0,n,null,r);break;case"together":lc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function va(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function On(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wx(t,e,n){switch(e.tag){case 3:h0(e),qi();break;case 5:Ug(e);break;case 1:ut(e.type)&&Aa(e);break;case 4:zd(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ie(Fa,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ie(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?f0(t,e,n):(ie(pe,pe.current&1),t=On(t,e,n),t!==null?t.sibling:null);ie(pe,pe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return p0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(pe,pe.current),s)break;return null;case 22:case 23:return e.lanes=0,u0(t,e,n)}return On(t,e,n)}var m0,Eu,g0,y0;m0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eu=function(){};g0=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Ds(pn.current);var r=null;switch(n){case"input":i=Jc(t,i),s=Jc(t,s),r=[];break;case"select":i=ge({},i,{value:void 0}),s=ge({},s,{value:void 0}),r=[];break;case"textarea":i=Xc(t,i),s=Xc(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=za)}eu(n,s);var o;n=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vr.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var l=s[c];if(a=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ae("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};y0=function(t,e,n,s){n!==s&&(e.flags|=4)};function gr(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Vx(t,e,n){var s=e.pendingProps;switch(Td(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return ut(e.type)&&$a(),Ae(e),null;case 3:return s=e.stateNode,Vi(),le(ct),le(We),Ad(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ho(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qt!==null&&(Iu(qt),qt=null))),Eu(t,e),Ae(e),null;case 5:$d(e);var i=Ds(so.current);if(n=e.type,t!==null&&e.stateNode!=null)g0(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(E(166));return Ae(e),null}if(t=Ds(pn.current),Ho(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[dn]=e,s[to]=r,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",s),ae("close",s);break;case"iframe":case"object":case"embed":ae("load",s);break;case"video":case"audio":for(i=0;i<_r.length;i++)ae(_r[i],s);break;case"source":ae("error",s);break;case"img":case"image":case"link":ae("error",s),ae("load",s);break;case"details":ae("toggle",s);break;case"input":Bh(s,r),ae("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},ae("invalid",s);break;case"textarea":Wh(s,r),ae("invalid",s)}eu(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&Vo(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Vo(s.textContent,a,t),i=["children",""+a]):Vr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ae("scroll",s)}switch(n){case"input":$o(s),qh(s,r,!0);break;case"textarea":$o(s),Vh(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=za)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[dn]=e,t[to]=s,m0(t,e,!1,!1),e.stateNode=t;e:{switch(o=tu(n,s),n){case"dialog":ae("cancel",t),ae("close",t),i=s;break;case"iframe":case"object":case"embed":ae("load",t),i=s;break;case"video":case"audio":for(i=0;i<_r.length;i++)ae(_r[i],t);i=s;break;case"source":ae("error",t),i=s;break;case"img":case"image":case"link":ae("error",t),ae("load",t),i=s;break;case"details":ae("toggle",t),i=s;break;case"input":Bh(t,s),i=Jc(t,s),ae("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=ge({},s,{value:void 0}),ae("invalid",t);break;case"textarea":Wh(t,s),i=Xc(t,s),ae("invalid",t);break;default:i=s}eu(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?Km(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hm(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hr(t,l):typeof l=="number"&&Hr(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Vr.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ae("scroll",t):l!=null&&pd(t,r,l,o))}switch(n){case"input":$o(t),qh(t,s,!1);break;case"textarea":$o(t),Vh(t);break;case"option":s.value!=null&&t.setAttribute("value",""+ds(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?Li(t,!!s.multiple,r,!1):s.defaultValue!=null&&Li(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=za)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ae(e),null;case 6:if(t&&e.stateNode!=null)y0(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(E(166));if(n=Ds(so.current),Ds(pn.current),Ho(e)){if(s=e.stateNode,n=e.memoizedProps,s[dn]=e,(r=s.nodeValue!==n)&&(t=mt,t!==null))switch(t.tag){case 3:Vo(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vo(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[dn]=e,e.stateNode=s}return Ae(e),null;case 13:if(le(pe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ue&&pt!==null&&e.mode&1&&!(e.flags&128))Ig(),qi(),e.flags|=98560,r=!1;else if(r=Ho(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(E(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(E(317));r[dn]=e}else qi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),r=!1}else qt!==null&&(Iu(qt),qt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?Pe===0&&(Pe=3):Qd())),e.updateQueue!==null&&(e.flags|=4),Ae(e),null);case 4:return Vi(),Eu(t,e),t===null&&Zr(e.stateNode.containerInfo),Ae(e),null;case 10:return Rd(e.type._context),Ae(e),null;case 17:return ut(e.type)&&$a(),Ae(e),null;case 19:if(le(pe),r=e.memoizedState,r===null)return Ae(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)gr(r,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wa(t),o!==null){for(e.flags|=128,gr(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(pe,pe.current&1|2),e.child}t=t.sibling}r.tail!==null&&xe()>Gi&&(e.flags|=128,s=!0,gr(r,!1),e.lanes=4194304)}else{if(!s)if(t=Wa(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ue)return Ae(e),null}else 2*xe()-r.renderingStartTime>Gi&&n!==1073741824&&(e.flags|=128,s=!0,gr(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=xe(),e.sibling=null,n=pe.current,ie(pe,s?n&1|2:n&1),e):(Ae(e),null);case 22:case 23:return Jd(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ft&1073741824&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Hx(t,e){switch(Td(e),e.tag){case 1:return ut(e.type)&&$a(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vi(),le(ct),le(We),Ad(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $d(e),null;case 13:if(le(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));qi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(pe),null;case 4:return Vi(),null;case 10:return Rd(e.type._context),null;case 22:case 23:return Jd(),null;case 24:return null;default:return null}}var Jo=!1,De=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,L=null;function ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ve(t,e,s)}else n.current=null}function Pu(t,e,n){try{n()}catch(s){ve(t,e,s)}}var If=!1;function Kx(t,e){if(du=Ra,t=kg(),Ed(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===r&&++d===s&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hu={focusedElem:t,selectionRange:n},Ra=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:Dt(e.type,w),x);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){ve(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return v=If,If=!1,v}function Rr(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&Pu(e,n,r)}i=i.next}while(i!==s)}}function yl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Tu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function v0(t){var e=t.alternate;e!==null&&(t.alternate=null,v0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dn],delete e[to],delete e[mu],delete e[Nx],delete e[Lx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function w0(t){return t.tag===5||t.tag===3||t.tag===4}function zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=za));else if(s!==4&&(t=t.child,t!==null))for(Nu(t,e,n),t=t.sibling;t!==null;)Nu(t,e,n),t=t.sibling}function Lu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Lu(t,e,n),t=t.sibling;t!==null;)Lu(t,e,n),t=t.sibling}var Re=null,Ft=!1;function qn(t,e,n){for(n=n.child;n!==null;)x0(t,e,n),n=n.sibling}function x0(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 5:De||ji(n,e);case 6:var s=Re,i=Ft;Re=null,qn(t,e,n),Re=s,Ft=i,Re!==null&&(Ft?(t=Re,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(Ft?(t=Re,n=n.stateNode,t.nodeType===8?tc(t.parentNode,n):t.nodeType===1&&tc(t,n),Qr(t)):tc(Re,n.stateNode));break;case 4:s=Re,i=Ft,Re=n.stateNode.containerInfo,Ft=!0,qn(t,e,n),Re=s,Ft=i;break;case 0:case 11:case 14:case 15:if(!De&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Pu(n,e,o),i=i.next}while(i!==s)}qn(t,e,n);break;case 1:if(!De&&(ji(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){ve(n,e,a)}qn(t,e,n);break;case 21:qn(t,e,n);break;case 22:n.mode&1?(De=(s=De)||n.memoizedState!==null,qn(t,e,n),De=s):qn(t,e,n);break;default:qn(t,e,n)}}function $f(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gx),e.forEach(function(s){var i=sb.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function zt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Re=a.stateNode,Ft=!1;break e;case 3:Re=a.stateNode.containerInfo,Ft=!0;break e;case 4:Re=a.stateNode.containerInfo,Ft=!0;break e}a=a.return}if(Re===null)throw Error(E(160));x0(r,o,i),Re=null,Ft=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ve(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b0(e,t),e=e.sibling}function b0(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zt(e,t),rn(t),s&4){try{Rr(3,t,t.return),yl(3,t)}catch(w){ve(t,t.return,w)}try{Rr(5,t,t.return)}catch(w){ve(t,t.return,w)}}break;case 1:zt(e,t),rn(t),s&512&&n!==null&&ji(n,n.return);break;case 5:if(zt(e,t),rn(t),s&512&&n!==null&&ji(n,n.return),t.flags&32){var i=t.stateNode;try{Hr(i,"")}catch(w){ve(t,t.return,w)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&qm(i,r),tu(a,o);var c=tu(a,r);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Km(i,h):d==="dangerouslySetInnerHTML"?Hm(i,h):d==="children"?Hr(i,h):pd(i,d,h,c)}switch(a){case"input":Qc(i,r);break;case"textarea":Wm(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?Li(i,!!r.multiple,g,!1):f!==!!r.multiple&&(r.defaultValue!=null?Li(i,!!r.multiple,r.defaultValue,!0):Li(i,!!r.multiple,r.multiple?[]:"",!1))}i[to]=r}catch(w){ve(t,t.return,w)}}break;case 6:if(zt(e,t),rn(t),s&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(w){ve(t,t.return,w)}}break;case 3:if(zt(e,t),rn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Qr(e.containerInfo)}catch(w){ve(t,t.return,w)}break;case 4:zt(e,t),rn(t);break;case 13:zt(e,t),rn(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Gd=xe())),s&4&&$f(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(De=(c=De)||d,zt(e,t),De=c):zt(e,t),rn(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(L=t,d=t.child;d!==null;){for(h=L=d;L!==null;){switch(f=L,g=f.child,f.tag){case 0:case 11:case 14:case 15:Rr(4,f,f.return);break;case 1:ji(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ve(s,n,w)}}break;case 5:ji(f,f.return);break;case 22:if(f.memoizedState!==null){Df(h);continue}}g!==null?(g.return=f,L=g):Df(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gm("display",o))}catch(w){ve(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){ve(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zt(e,t),rn(t),s&4&&$f(t);break;case 21:break;default:zt(e,t),rn(t)}}function rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(w0(n)){var s=n;break e}n=n.return}throw Error(E(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Hr(i,""),s.flags&=-33);var r=zf(t);Lu(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=zf(t);Nu(t,a,o);break;default:throw Error(E(161))}}catch(l){ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jx(t,e,n){L=t,k0(t)}function k0(t,e,n){for(var s=(t.mode&1)!==0;L!==null;){var i=L,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Jo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||De;a=Jo;var c=De;if(Jo=o,(De=l)&&!c)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?Uf(i):l!==null?(l.return=o,L=l):Uf(i);for(;r!==null;)L=r,k0(r),r=r.sibling;L=i,Jo=a,De=c}Af(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,L=r):Af(t)}}function Af(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:De||yl(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!De)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dt(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&kf(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kf(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}De||e.flags&512&&Tu(e)}catch(f){ve(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Df(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Uf(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yl(4,e)}catch(l){ve(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){ve(e,i,l)}}var r=e.return;try{Tu(e)}catch(l){ve(e,r,l)}break;case 5:var o=e.return;try{Tu(e)}catch(l){ve(e,o,l)}}}catch(l){ve(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var Qx=Math.ceil,Ga=An.ReactCurrentDispatcher,Vd=An.ReactCurrentOwner,Et=An.ReactCurrentBatchConfig,V=0,Le=null,_e=null,Ie=0,ft=0,Ci=ms(0),Pe=0,ao=null,Gs=0,vl=0,Hd=0,Or=null,ot=null,Gd=0,Gi=1/0,bn=null,Ka=!1,Mu=null,os=null,Qo=!1,Zn=null,Ja=0,Ir=0,Ru=null,wa=-1,xa=0;function Qe(){return V&6?xe():wa!==-1?wa:wa=xe()}function as(t){return t.mode&1?V&2&&Ie!==0?Ie&-Ie:Rx.transition!==null?(xa===0&&(xa=og()),xa):(t=Y,t!==0||(t=window.event,t=t===void 0?16:fg(t.type)),t):1}function Kt(t,e,n,s){if(50<Ir)throw Ir=0,Ru=null,Error(E(185));vo(t,n,s),(!(V&2)||t!==Le)&&(t===Le&&(!(V&2)&&(vl|=n),Pe===4&&Jn(t,Ie)),dt(t,s),n===1&&V===0&&!(e.mode&1)&&(Gi=xe()+500,pl&&gs()))}function dt(t,e){var n=t.callbackNode;Rw(t,e);var s=Ma(t,t===Le?Ie:0);if(s===0)n!==null&&Kh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Kh(n),e===1)t.tag===0?Mx(Ff.bind(null,t)):Mg(Ff.bind(null,t)),Px(function(){!(V&6)&&gs()}),n=null;else{switch(ag(s)){case 1:n=wd;break;case 4:n=ig;break;case 16:n=La;break;case 536870912:n=rg;break;default:n=La}n=N0(n,_0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _0(t,e){if(wa=-1,xa=0,V&6)throw Error(E(327));var n=t.callbackNode;if(zi()&&t.callbackNode!==n)return null;var s=Ma(t,t===Le?Ie:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Qa(t,s);else{e=s;var i=V;V|=2;var r=j0();(Le!==t||Ie!==e)&&(bn=null,Gi=xe()+500,Fs(t,e));do try{Zx();break}catch(a){S0(t,a)}while(!0);Md(),Ga.current=r,V=i,_e!==null?e=0:(Le=null,Ie=0,e=Pe)}if(e!==0){if(e===2&&(i=ou(t),i!==0&&(s=i,e=Ou(t,i))),e===1)throw n=ao,Fs(t,0),Jn(t,s),dt(t,xe()),n;if(e===6)Jn(t,s);else{if(i=t.current.alternate,!(s&30)&&!Yx(i)&&(e=Qa(t,s),e===2&&(r=ou(t),r!==0&&(s=r,e=Ou(t,r))),e===1))throw n=ao,Fs(t,0),Jn(t,s),dt(t,xe()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(E(345));case 2:Ms(t,ot,bn);break;case 3:if(Jn(t,s),(s&130023424)===s&&(e=Gd+500-xe(),10<e)){if(Ma(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){Qe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pu(Ms.bind(null,t,ot,bn),e);break}Ms(t,ot,bn);break;case 4:if(Jn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-Gt(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=xe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Qx(s/1960))-s,10<s){t.timeoutHandle=pu(Ms.bind(null,t,ot,bn),s);break}Ms(t,ot,bn);break;case 5:Ms(t,ot,bn);break;default:throw Error(E(329))}}}return dt(t,xe()),t.callbackNode===n?_0.bind(null,t):null}function Ou(t,e){var n=Or;return t.current.memoizedState.isDehydrated&&(Fs(t,e).flags|=256),t=Qa(t,e),t!==2&&(e=ot,ot=n,e!==null&&Iu(e)),t}function Iu(t){ot===null?ot=t:ot.push.apply(ot,t)}function Yx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!Yt(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jn(t,e){for(e&=~Hd,e&=~vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gt(e),s=1<<n;t[n]=-1,e&=~s}}function Ff(t){if(V&6)throw Error(E(327));zi();var e=Ma(t,0);if(!(e&1))return dt(t,xe()),null;var n=Qa(t,e);if(t.tag!==0&&n===2){var s=ou(t);s!==0&&(e=s,n=Ou(t,s))}if(n===1)throw n=ao,Fs(t,0),Jn(t,e),dt(t,xe()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ms(t,ot,bn),dt(t,xe()),null}function Kd(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(Gi=xe()+500,pl&&gs())}}function Ks(t){Zn!==null&&Zn.tag===0&&!(V&6)&&zi();var e=V;V|=1;var n=Et.transition,s=Y;try{if(Et.transition=null,Y=1,t)return t()}finally{Y=s,Et.transition=n,V=e,!(V&6)&&gs()}}function Jd(){ft=Ci.current,le(Ci)}function Fs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ex(n)),_e!==null)for(n=_e.return;n!==null;){var s=n;switch(Td(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$a();break;case 3:Vi(),le(ct),le(We),Ad();break;case 5:$d(s);break;case 4:Vi();break;case 13:le(pe);break;case 19:le(pe);break;case 10:Rd(s.type._context);break;case 22:case 23:Jd()}n=n.return}if(Le=t,_e=t=ls(t.current,null),Ie=ft=e,Pe=0,ao=null,Hd=vl=Gs=0,ot=Or=null,As!==null){for(e=0;e<As.length;e++)if(n=As[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}As=null}return t}function S0(t,e){do{var n=_e;try{if(Md(),ga.current=Ha,Va){for(var s=me.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Va=!1}if(Hs=0,Ne=Ee=me=null,Mr=!1,io=0,Vd.current=null,n===null||n.return===null){Pe=1,ao=e,_e=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Pf(o);if(g!==null){g.flags&=-257,Tf(g,o,a,r,e),g.mode&1&&Ef(r,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Ef(r,c,e),Qd();break e}l=Error(E(426))}}else if(ue&&a.mode&1){var x=Pf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Tf(x,o,a,r,e),Nd(Hi(l,a));break e}}r=l=Hi(l,a),Pe!==4&&(Pe=2),Or===null?Or=[r]:Or.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var p=a0(r,l,e);bf(r,p);break e;case 1:a=l;var m=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(os===null||!os.has(y)))){r.flags|=65536,e&=-e,r.lanes|=e;var b=l0(r,a,e);bf(r,b);break e}}r=r.return}while(r!==null)}E0(n)}catch(S){e=S,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function j0(){var t=Ga.current;return Ga.current=Ha,t===null?Ha:t}function Qd(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Le===null||!(Gs&268435455)&&!(vl&268435455)||Jn(Le,Ie)}function Qa(t,e){var n=V;V|=2;var s=j0();(Le!==t||Ie!==e)&&(bn=null,Fs(t,e));do try{Xx();break}catch(i){S0(t,i)}while(!0);if(Md(),V=n,Ga.current=s,_e!==null)throw Error(E(261));return Le=null,Ie=0,Pe}function Xx(){for(;_e!==null;)C0(_e)}function Zx(){for(;_e!==null&&!Sw();)C0(_e)}function C0(t){var e=T0(t.alternate,t,ft);t.memoizedProps=t.pendingProps,e===null?E0(t):_e=e,Vd.current=null}function E0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Hx(n,e),n!==null){n.flags&=32767,_e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pe=6,_e=null;return}}else if(n=Vx(n,e,ft),n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);Pe===0&&(Pe=5)}function Ms(t,e,n){var s=Y,i=Et.transition;try{Et.transition=null,Y=1,eb(t,e,n,s)}finally{Et.transition=i,Y=s}return null}function eb(t,e,n,s){do zi();while(Zn!==null);if(V&6)throw Error(E(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(Ow(t,r),t===Le&&(_e=Le=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qo||(Qo=!0,N0(La,function(){return zi(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Et.transition,Et.transition=null;var o=Y;Y=1;var a=V;V|=4,Vd.current=null,Kx(t,n),b0(n,t),xx(hu),Ra=!!du,hu=du=null,t.current=n,Jx(n),jw(),V=a,Y=o,Et.transition=r}else t.current=n;if(Qo&&(Qo=!1,Zn=t,Ja=i),r=t.pendingLanes,r===0&&(os=null),Pw(n.stateNode),dt(t,xe()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Ka)throw Ka=!1,t=Mu,Mu=null,t;return Ja&1&&t.tag!==0&&zi(),r=t.pendingLanes,r&1?t===Ru?Ir++:(Ir=0,Ru=t):Ir=0,gs(),null}function zi(){if(Zn!==null){var t=ag(Ja),e=Et.transition,n=Y;try{if(Et.transition=null,Y=16>t?16:t,Zn===null)var s=!1;else{if(t=Zn,Zn=null,Ja=0,V&6)throw Error(E(331));var i=V;for(V|=4,L=t.current;L!==null;){var r=L,o=r.child;if(L.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:Rr(8,d,r)}var h=d.child;if(h!==null)h.return=d,L=h;else for(;L!==null;){d=L;var f=d.sibling,g=d.return;if(v0(d),d===c){L=null;break}if(f!==null){f.return=g,L=f;break}L=g}}}var v=r.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}L=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,L=o;else e:for(;L!==null;){if(r=L,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Rr(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,L=p;break e}L=r.return}}var m=t.current;for(L=m;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=m;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yl(9,a)}}catch(S){ve(a,a.return,S)}if(a===o){L=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,L=b;break e}L=a.return}}if(V=i,gs(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(cl,t)}catch{}s=!0}return s}finally{Y=n,Et.transition=e}}return!1}function Bf(t,e,n){e=Hi(n,e),e=a0(t,e,1),t=rs(t,e,1),e=Qe(),t!==null&&(vo(t,1,e),dt(t,e))}function ve(t,e,n){if(t.tag===3)Bf(t,t,n);else for(;e!==null;){if(e.tag===3){Bf(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(os===null||!os.has(s))){t=Hi(n,t),t=l0(e,t,1),e=rs(e,t,1),t=Qe(),e!==null&&(vo(e,1,t),dt(e,t));break}}e=e.return}}function tb(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Qe(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Ie&n)===n&&(Pe===4||Pe===3&&(Ie&130023424)===Ie&&500>xe()-Gd?Fs(t,0):Hd|=n),dt(t,e)}function P0(t,e){e===0&&(t.mode&1?(e=Uo,Uo<<=1,!(Uo&130023424)&&(Uo=4194304)):e=1);var n=Qe();t=Rn(t,e),t!==null&&(vo(t,e,n),dt(t,n))}function nb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),P0(t,n)}function sb(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(E(314))}s!==null&&s.delete(e),P0(t,n)}var T0;T0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lt=!1,Wx(t,e,n);lt=!!(t.flags&131072)}else lt=!1,ue&&e.flags&1048576&&Rg(e,Ua,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;va(t,e),t=e.pendingProps;var i=Bi(e,We.current);Ii(e,n),i=Ud(null,e,s,t,i,n);var r=Fd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(s)?(r=!0,Aa(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Id(e),i.updater=gl,e.stateNode=i,i._reactInternals=e,bu(e,s,t,n),e=Su(null,e,s,!0,r,n)):(e.tag=0,ue&&r&&Pd(e),Je(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(va(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=rb(s),t=Dt(s,t),i){case 0:e=_u(null,e,s,t,n);break e;case 1:e=Mf(null,e,s,t,n);break e;case 11:e=Nf(null,e,s,t,n);break e;case 14:e=Lf(null,e,s,Dt(s.type,t),n);break e}throw Error(E(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Dt(s,i),_u(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Dt(s,i),Mf(t,e,s,i,n);case 3:e:{if(h0(e),t===null)throw Error(E(387));s=e.pendingProps,r=e.memoizedState,i=r.element,Dg(t,e),qa(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Hi(Error(E(423)),e),e=Rf(t,e,s,n,i);break e}else if(s!==i){i=Hi(Error(E(424)),e),e=Rf(t,e,s,n,i);break e}else for(pt=is(e.stateNode.containerInfo.firstChild),mt=e,ue=!0,qt=null,n=$g(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qi(),s===i){e=On(t,e,n);break e}Je(t,e,s,n)}e=e.child}return e;case 5:return Ug(e),t===null&&vu(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,fu(s,i)?o=null:r!==null&&fu(s,r)&&(e.flags|=32),d0(t,e),Je(t,e,o,n),e.child;case 6:return t===null&&vu(e),null;case 13:return f0(t,e,n);case 4:return zd(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Wi(e,null,s,n):Je(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Dt(s,i),Nf(t,e,s,i,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,ie(Fa,s._currentValue),s._currentValue=o,r!==null)if(Yt(r.value,o)){if(r.children===i.children&&!ct.current){e=On(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=Nn(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),wu(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wu(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Je(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Ii(e,n),i=Mt(i),s=s(i),e.flags|=1,Je(t,e,s,n),e.child;case 14:return s=e.type,i=Dt(s,e.pendingProps),i=Dt(s.type,i),Lf(t,e,s,i,n);case 15:return c0(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Dt(s,i),va(t,e),e.tag=1,ut(s)?(t=!0,Aa(e)):t=!1,Ii(e,n),o0(e,s,i),bu(e,s,i,n),Su(null,e,s,!0,t,n);case 19:return p0(t,e,n);case 22:return u0(t,e,n)}throw Error(E(156,e.tag))};function N0(t,e){return sg(t,e)}function ib(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,s){return new ib(t,e,n,s)}function Yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rb(t){if(typeof t=="function")return Yd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gd)return 11;if(t===yd)return 14}return 2}function ls(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ba(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")Yd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gi:return Bs(n.children,i,r,e);case md:o=8,i|=8;break;case Vc:return t=jt(12,n,e,i|2),t.elementType=Vc,t.lanes=r,t;case Hc:return t=jt(13,n,e,i),t.elementType=Hc,t.lanes=r,t;case Gc:return t=jt(19,n,e,i),t.elementType=Gc,t.lanes=r,t;case Um:return wl(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Am:o=10;break e;case Dm:o=9;break e;case gd:o=11;break e;case yd:o=14;break e;case Hn:o=16,s=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=jt(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Bs(t,e,n,s){return t=jt(7,t,s,e),t.lanes=n,t}function wl(t,e,n,s){return t=jt(22,t,s,e),t.elementType=Um,t.lanes=n,t.stateNode={isHidden:!1},t}function cc(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function uc(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ob(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xd(t,e,n,s,i,r,o,a,l){return t=new ob(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=jt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(r),t}function ab(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function L0(t){if(!t)return hs;t=t._reactInternals;e:{if(ti(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(ut(n))return Lg(t,n,e)}return e}function M0(t,e,n,s,i,r,o,a,l){return t=Xd(n,s,!0,t,i,r,o,a,l),t.context=L0(null),n=t.current,s=Qe(),i=as(n),r=Nn(s,i),r.callback=e??null,rs(n,r,i),t.current.lanes=i,vo(t,i,s),dt(t,s),t}function xl(t,e,n,s){var i=e.current,r=Qe(),o=as(i);return n=L0(n),e.context===null?e.context=n:e.pendingContext=n,e=Nn(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=rs(i,e,o),t!==null&&(Kt(t,i,o,r),ma(t,i,o)),o}function Ya(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zd(t,e){qf(t,e),(t=t.alternate)&&qf(t,e)}function lb(){return null}var R0=typeof reportError=="function"?reportError:function(t){console.error(t)};function eh(t){this._internalRoot=t}bl.prototype.render=eh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));xl(t,e,null,null)};bl.prototype.unmount=eh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ks(function(){xl(null,t,null,null)}),e[Mn]=null}};function bl(t){this._internalRoot=t}bl.prototype.unstable_scheduleHydration=function(t){if(t){var e=ug();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kn.length&&e!==0&&e<Kn[n].priority;n++);Kn.splice(n,0,t),n===0&&hg(t)}};function th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wf(){}function cb(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var c=Ya(o);r.call(c)}}var o=M0(e,s,t,0,null,!1,!1,"",Wf);return t._reactRootContainer=o,t[Mn]=o.current,Zr(t.nodeType===8?t.parentNode:t),Ks(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var c=Ya(l);a.call(c)}}var l=Xd(t,0,!1,null,null,!1,!1,"",Wf);return t._reactRootContainer=l,t[Mn]=l.current,Zr(t.nodeType===8?t.parentNode:t),Ks(function(){xl(e,l,n,s)}),l}function _l(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var l=Ya(o);a.call(l)}}xl(e,o,t,i)}else o=cb(n,e,t,i,s);return Ya(o)}lg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kr(e.pendingLanes);n!==0&&(xd(e,n|1),dt(e,xe()),!(V&6)&&(Gi=xe()+500,gs()))}break;case 13:Ks(function(){var s=Rn(t,1);if(s!==null){var i=Qe();Kt(s,t,1,i)}}),Zd(t,1)}};bd=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=Qe();Kt(e,t,134217728,n)}Zd(t,134217728)}};cg=function(t){if(t.tag===13){var e=as(t),n=Rn(t,e);if(n!==null){var s=Qe();Kt(n,t,e,s)}Zd(t,e)}};ug=function(){return Y};dg=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};su=function(t,e,n){switch(e){case"input":if(Qc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=fl(s);if(!i)throw Error(E(90));Bm(s),Qc(s,i)}}}break;case"textarea":Wm(t,n);break;case"select":e=n.value,e!=null&&Li(t,!!n.multiple,e,!1)}};Ym=Kd;Xm=Ks;var ub={usingClientEntryPoint:!1,Events:[xo,xi,fl,Jm,Qm,Kd]},yr={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},db={bundleType:yr.bundleType,version:yr.version,rendererPackageName:yr.rendererPackageName,rendererConfig:yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tg(t),t===null?null:t.stateNode},findFiberByHostInstance:yr.findFiberByHostInstance||lb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{cl=Yo.inject(db),fn=Yo}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ub;yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!th(e))throw Error(E(200));return ab(t,e,null,n)};yt.createRoot=function(t,e){if(!th(t))throw Error(E(299));var n=!1,s="",i=R0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xd(t,1,!1,null,null,n,!1,s,i),t[Mn]=e.current,Zr(t.nodeType===8?t.parentNode:t),new eh(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=tg(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return Ks(t)};yt.hydrate=function(t,e,n){if(!kl(e))throw Error(E(200));return _l(null,t,e,!0,n)};yt.hydrateRoot=function(t,e,n){if(!th(t))throw Error(E(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=R0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=M0(e,null,t,1,n??null,i,!1,r,o),t[Mn]=e.current,Zr(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bl(e)};yt.render=function(t,e,n){if(!kl(e))throw Error(E(200));return _l(null,t,e,!1,n)};yt.unmountComponentAtNode=function(t){if(!kl(t))throw Error(E(40));return t._reactRootContainer?(Ks(function(){_l(null,null,t,!1,function(){t._reactRootContainer=null,t[Mn]=null})}),!0):!1};yt.unstable_batchedUpdates=Kd;yt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!kl(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return _l(t,e,n,!1,s)};yt.version="18.3.1-next-f1338f8080-20240426";function O0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O0)}catch(t){console.error(t)}}O0(),Om.exports=yt;var hb=Om.exports,I0,Vf=hb;I0=Vf.createRoot,Vf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(t,e)=>{const n=k.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>k.createElement("svg",{ref:d,...fb,width:i,height:i,stroke:s,strokeWidth:o?Number(r)*24/Number(i):r,className:["lucide",`lucide-${pb(t)}`,a].join(" "),...c},[...e.map(([h,f])=>k.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=G("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=G("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=G("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=G("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=G("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=G("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=G("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=G("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=G("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=G("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=G("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=G("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=G("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=G("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=G("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=G("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=G("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=G("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=G("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=G("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Sb="modulepreload",jb=function(t){return"/"+t},Hf={},nr=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=jb(l),l in Hf)return;Hf[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Sb,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},Cb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>nr(async()=>{const{default:s}=await Promise.resolve().then(()=>sr);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class ah extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Eb extends ah{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gf extends ah{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Kf extends ah{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $u;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($u||($u={}));var Pb=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class Tb{constructor(e,{headers:n={},customFetch:s,region:i=$u.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Cb(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return Pb(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(w=>{throw new Eb(w)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Gf(h);if(!h.ok)throw new Kf(h);let g=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield h.json():g==="application/octet-stream"?v=yield h.blob():g==="text/event-stream"?v=h:g==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Kf||i instanceof Gf?i.context:void 0}}})}}var at={},lh={},jl={},ko={},Cl={},El={},Nb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ki=Nb();const Lb=Ki.fetch,H0=Ki.fetch.bind(Ki),G0=Ki.Headers,Mb=Ki.Request,Rb=Ki.Response,sr=Object.freeze(Object.defineProperty({__proto__:null,Headers:G0,Request:Mb,Response:Rb,default:H0,fetch:Lb},Symbol.toStringTag,{value:"Module"})),Ob=Uv(sr);var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});let Ib=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Pl.default=Ib;var K0=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(El,"__esModule",{value:!0});const zb=K0(Ob),$b=K0(Pl);let Ab=class{constructor(e){var n,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,a,l,c;let d=null,h=null,f=null,g=r.status,v=r.statusText;if(r.ok){if(this.method!=="HEAD"){const m=await r.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const x=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),p=(l=r.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,g=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await r.text();try{d=JSON.parse(x),Array.isArray(d)&&r.status===404&&(h=[],d=null,g=200,v="OK")}catch{r.status===404&&x===""?(g=204,v="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,g=200,v="OK"),d&&this.shouldThrowOnError)throw new $b.default(d)}return{error:d,data:h,count:f,status:g,statusText:v}});return this.shouldThrowOnError||(i=i.catch(r=>{var o,a,l;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(a=r==null?void 0:r.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=r==null?void 0:r.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};El.default=Ab;var Db=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cl,"__esModule",{value:!0});const Ub=Db(El);let Fb=class extends Ub.default{select(e){let n=!1;const s=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:i=s}={}){const r=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:r=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Cl.default=Fb;var Bb=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ko,"__esModule",{value:!0});const qb=Bb(Cl);let Wb=class extends qb.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${r}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};ko.default=Wb;var Vb=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jl,"__esModule",{value:!0});const vr=Vb(ko);let Hb=class{constructor(e,{headers:n={},schema:s,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(e,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let r=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new vr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:s=!0}={}){var i;const r="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:r=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new vr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new vr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var n;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};jl.default=Hb;var J0=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lh,"__esModule",{value:!0});const Gb=J0(jl),Kb=J0(ko);let Jb=class Q0{constructor(e,{headers:n={},schema:s,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Gb.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Q0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:i=!1,count:r}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;s||i?(a=s?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",c=n);const d=new Headers(this.headers);return r&&d.set("Prefer",`count=${r}`),new Kb.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};lh.default=Jb;var ir=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(at,"__esModule",{value:!0});at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const Y0=ir(lh);at.PostgrestClient=Y0.default;const X0=ir(jl);at.PostgrestQueryBuilder=X0.default;const Z0=ir(ko);at.PostgrestFilterBuilder=Z0.default;const ey=ir(Cl);at.PostgrestTransformBuilder=ey.default;const ty=ir(El);at.PostgrestBuilder=ty.default;const ny=ir(Pl);at.PostgrestError=ny.default;var Qb=at.default={PostgrestClient:Y0.default,PostgrestQueryBuilder:X0.default,PostgrestFilterBuilder:Z0.default,PostgrestTransformBuilder:ey.default,PostgrestBuilder:ty.default,PostgrestError:ny.default};const{PostgrestClient:Yb,PostgrestQueryBuilder:GP,PostgrestFilterBuilder:KP,PostgrestTransformBuilder:JP,PostgrestBuilder:QP,PostgrestError:YP}=Qb;class Xb{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Zb="2.15.5",e1=`realtime-js/${Zb}`,t1="1.0.0",Au=1e4,n1=1e3,s1=100;var zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zr||(zr={}));var je;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(je||(je={}));var Bt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Bt||(Bt={}));var Du;(function(t){t.websocket="websocket"})(Du||(Du={}));var Os;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Os||(Os={}));class i1{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const i=n.getUint8(1),r=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+i));o=o+i;const l=s.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class sy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ne||(ne={}));const Jf=(t,e,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((r,o)=>(r[o]=r1(o,t,e,i),r),{})},r1=(t,e,n,s)=>{const i=e.find(a=>a.name===t),r=i==null?void 0:i.type,o=n[t];return r&&!s.includes(r)?iy(r,o):Uu(o)},iy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return c1(e,n)}switch(t){case ne.bool:return o1(e);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return a1(e);case ne.json:case ne.jsonb:return l1(e);case ne.timestamp:return u1(e);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return Uu(e);default:return Uu(e)}},Uu=t=>t,o1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},a1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},l1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},c1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let r;const o=t.slice(1,n);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>iy(e,a))}return t},u1=t=>typeof t=="string"?t.replace(" ","T"):t,ry=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};let dc=class{constructor(e,n,s={},i=Au){this.channel=e,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Qf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qf||(Qf={}));class $r{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$r.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=$r.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$r.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,i){const r=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(r,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=r[c];if(h){const f=d.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),v=d.filter(x=>g.indexOf(x.presence_ref)<0),w=h.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(a[c]=v),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(e,n,s,i){const{joins:r,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...f)}s(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const i=e[s];return"metas"in i?n[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yf||(Yf={}));var Ar;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ar||(Ar={}));var kn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class ch{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dc(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new sy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bt.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new $r(this),this.broadcastEndpointURL=ry(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ar.PRESENCE]&&this.bindings[Ar.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(kn.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e(kn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,p=[];for(let m=0;m<x;m++){const y=w[m],{filter:{event:b,schema:S,table:j,filter:_}}=y,C=g&&g[m];if(C&&C.event===b&&C.schema===S&&C.table===j&&C.filter===_)p.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=je.errored,e==null||e(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(kn.SUBSCRIBED);return}}).receive("error",g=>{this.state=je.errored,e==null||e(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===je.joined&&e===Ar.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new dc(this,Bt.leave,{},e),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=je.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new dc(this,e,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>s1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Bt;if(s&&[a,l,c,d].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,w,x;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(w=g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(f,s)):(r=this.bindings[o])===null||r===void 0||r.filter(g=>{var v,w,x,p,m,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return b&&((w=n.ids)===null||w===void 0?void 0:w.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(m=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:x,commit_timestamp:p,type:m,errors:y}=v;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:p,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(v))}g.callback(f,s)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const i=e.toLocaleLowerCase(),r={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&ch.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bt.close,{},e)}_onError(e){this._on(Bt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Jf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Jf(e.columns,e.old_record)),n}}const hc=()=>{},Xo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},d1=[1e3,2e3,5e3,1e4],h1=1e4,f1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p1{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Au,this.transport=null,this.heartbeatIntervalMs=Xo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hc,this.ref=0,this.reconnectTimer=null,this.logger=hc,this.conn=null,this.sendBuffer=[],this.serializer=new i1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>sr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Du.websocket}`,this.httpEndpoint=ry(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:t1}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return Os.Connecting;case zr.open:return Os.Open;case zr.closing:return Os.Closing;default:return Os.Closed}}isConnected(){return this.connectionState()===Os.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new ch(`realtime:${e}`,n,this);return this.channels.push(r),r}}push(e){const{topic:n,event:s,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(n1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=n,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${s}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([f1],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:e1};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Bt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new sy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,i,r,o,a,l,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Au,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Xo.HEARTBEAT_INTERVAL,this.worker=(r=e==null?void 0:e.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:hc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>d1[h-1]||h1,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class uh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class m1 extends uh{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fu extends uh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var g1=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const oy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>nr(async()=>{const{default:s}=await Promise.resolve().then(()=>sr);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},y1=()=>g1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nr(()=>Promise.resolve().then(()=>sr),void 0)).Response:Response}),Bu=t=>{if(Array.isArray(t))return t.map(n=>Bu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=Bu(s)}),e},v1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ni=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const fc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),w1=(t,e,n)=>ni(void 0,void 0,void 0,function*(){const s=yield y1();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const r=t.status||500,o=(i==null?void 0:i.statusCode)||r+"";e(new m1(fc(i),r,o))}).catch(i=>{e(new Fu(fc(i),i))}):e(new Fu(fc(t),t))}),x1=(t,e,n,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?i:(v1(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(s)):i.body=s,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function _o(t,e,n,s,i,r){return ni(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,x1(e,s,i,r)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>w1(l,a,s))})})}function Xa(t,e,n,s){return ni(this,void 0,void 0,function*(){return _o(t,"GET",e,n,s)})}function ln(t,e,n,s,i){return ni(this,void 0,void 0,function*(){return _o(t,"POST",e,s,i,n)})}function qu(t,e,n,s,i){return ni(this,void 0,void 0,function*(){return _o(t,"PUT",e,s,i,n)})}function b1(t,e,n,s){return ni(this,void 0,void 0,function*(){return _o(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function ay(t,e,n,s,i){return ni(this,void 0,void 0,function*(){return _o(t,"DELETE",e,s,i,n)})}var Ke=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const k1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _1{constructor(e,n={},s,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=oy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,i){return Ke(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Xf),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?qu:ln)(this.fetch,`${this.url}/object/${d}`,r,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}upload(e,n,s){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,i){return Ke(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Xf.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield qu(this.fetch,a.toString(),l,{headers:d});return{data:{path:r,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ce(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const r=yield ln(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new uh("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ce(s))return{data:null,error:s};throw s}})}update(e,n,s){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Ke(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}})}copy(e,n,s){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,s){return Ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield ln(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,s){return Ke(this,void 0,void 0,function*(){try{const i=yield ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}})}download(e,n){return Ke(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Xa(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ce(a))return{data:null,error:a};throw a}})}info(e){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Xa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Bu(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ce(s))return{data:null,error:s};throw s}})}exists(e){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield b1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ce(s)&&s instanceof Fu){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),i=[],r=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return Ke(this,void 0,void 0,function*(){try{return{data:yield ay(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}list(e,n,s){return Ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},k1),n),{prefix:e||""});return{data:yield ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}})}listV2(e,n){return Ke(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield ln(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ce(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const S1="2.12.1",j1={"X-Client-Info":`storage-js/${S1}`};var ri=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class C1{constructor(e,n={},s,i){this.shouldThrowOnError=!1;const r=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href,this.headers=Object.assign(Object.assign({},j1),n),this.fetch=oy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ri(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ce(e))return{data:null,error:e};throw e}})}getBucket(e){return ri(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ri(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ce(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return ri(this,void 0,void 0,function*(){try{return{data:yield qu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ce(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ri(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ri(this,void 0,void 0,function*(){try{return{data:yield ay(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}}class E1 extends C1{constructor(e,n={},s,i){super(e,n,s,i)}from(e){return new _1(this.url,this.headers,e,this.fetch)}}const P1="2.57.4";let Sr="";typeof Deno<"u"?Sr="deno":typeof document<"u"?Sr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sr="react-native":Sr="node";const T1={"X-Client-Info":`supabase-js-${Sr}/${P1}`},N1={headers:T1},L1={schema:"public"},M1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R1={};var O1=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const I1=t=>{let e;return t?e=t:typeof fetch>"u"?e=H0:e=fetch,(...n)=>e(...n)},z1=()=>typeof Headers>"u"?G0:Headers,$1=(t,e,n)=>{const s=I1(n),i=z1();return(r,o)=>O1(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))})};var A1=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};function D1(t){return t.endsWith("/")?t:t+"/"}function U1(t,e){var n,s;const{db:i,auth:r,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>A1(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function F1(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(D1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ly="2.71.1",fi=30*1e3,Wu=3,pc=Wu*fi,B1="http://localhost:9999",q1="supabase.auth.token",W1={"X-Client-Info":`gotrue-js/${ly}`},Vu="X-Supabase-Api-Version",cy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},V1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H1=10*60*1e3;class dh extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class G1 extends dh{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function K1(t){return I(t)&&t.name==="AuthApiError"}class uy extends dh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ys extends dh{constructor(e,n,s,i){super(e,s,i),this.name=n,this.status=s}}class Vn extends ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J1(t){return I(t)&&t.name==="AuthSessionMissingError"}class Zo extends ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ea extends ys{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ta extends ys{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Q1(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class Zf extends ys{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hu extends ys{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function mc(t){return I(t)&&t.name==="AuthRetryableFetchError"}class ep extends ys{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Gu extends ys{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tp=` 	
\r=`.split(""),Y1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<tp.length;e+=1)t[tp[e].charCodeAt(0)]=-2;for(let e=0;e<Za.length;e+=1)t[Za[e].charCodeAt(0)]=e;return t})();function np(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Za[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Za[s]),e.queuedBits-=6}}function dy(t,e,n){const s=Y1[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function sp(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{ek(o,s,n)};for(let o=0;o<t.length;o+=1)dy(t.charCodeAt(o),i,r);return e.join("")}function X1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Z1(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}X1(s,e)}}function ek(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function tk(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)dy(t.charCodeAt(i),n,s);return new Uint8Array(e)}function nk(t){const e=[];return Z1(t,n=>e.push(n)),new Uint8Array(e)}function sk(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};return t.forEach(i=>np(i,n,s)),np(null,n,s),e.join("")}function ik(t){return Math.round(Date.now()/1e3)+t}function rk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $t=()=>typeof window<"u"&&typeof document<"u",Ss={tested:!1,writable:!1},hy=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ss.tested)return Ss.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ss.tested=!0,Ss.writable=!0}catch{Ss.tested=!0,Ss.writable=!1}return Ss.writable};function ok(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return n.searchParams.forEach((s,i)=>{e[i]=s}),e}const fy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>nr(async()=>{const{default:s}=await Promise.resolve().then(()=>sr);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},ak=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pi=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},js=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wn=async(t,e)=>{await t.removeItem(e)};class Tl{constructor(){this.promise=new Tl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Tl.promiseConstructor=Promise;function gc(t){const e=t.split(".");if(e.length!==3)throw new Gu("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!V1.test(e[s]))throw new Gu("JWT not in base64url format");return{header:JSON.parse(sp(e[0])),payload:JSON.parse(sp(e[1])),signature:tk(e[2]),raw:{header:e[0],payload:e[1]}}}async function lk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ck(t,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){s(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function uk(t){return("0"+t.toString(16)).substr(-2)}function dk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,uk).join("")}async function hk(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function fk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await hk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oi(t,e,n=!1){const s=dk();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await pi(t,`${e}-code-verifier`,i);const r=await fk(s);return[r,s===r?"plain":"s256"]}const pk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mk(t){const e=t.headers.get(Vu);if(!e||!e.match(pk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function yk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ai(t){if(!vk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ip(t){return JSON.parse(JSON.stringify(t))}var wk=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};const Rs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xk=[502,503,504];async function rp(t){var e;if(!ak(t))throw new Hu(Rs(t),0);if(xk.includes(t.status))throw new Hu(Rs(t),t.status);let n;try{n=await t.json()}catch(r){throw new uy(Rs(r),r)}let s;const i=mk(t);if(i&&i.getTime()>=cy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new ep(Rs(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Vn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new ep(Rs(n),t.status,n.weak_password.reasons);throw new G1(Rs(n),t.status||500,s)}const bk=(t,e,n,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function D(t,e,n,s){var i;const r=Object.assign({},s==null?void 0:s.headers);r[Vu]||(r[Vu]=cy["2024-01-01"].name),s!=null&&s.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await kk(t,e,n+a,{headers:r,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function kk(t,e,n,s,i,r){const o=bk(e,s,i,r);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Hu(Rs(l),0)}if(a.ok||await rp(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await rp(l)}}function xn(t){var e;let n=null;Ck(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ik(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function op(t){const e=xn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _k(t){return{data:t,error:null}}function Sk(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r}=t,o=wk(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function jk(t){return t}function Ck(t){return t.access_token&&t.refresh_token&&t.expires_in}const vc=["global","local","others"];var Ek=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};class Pk{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=fy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=vc[0]){if(vc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vc.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qn})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Ek(e,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Sk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:jk});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ai(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ai(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Qn})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){ai(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qn})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ai(e.userId);try{const{data:n,error:s}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ai(e.userId),ai(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}function ap(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Tk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const li={debug:!!(globalThis&&hy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class py extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nk extends py{}async function Lk(t,e,n){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Nk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(li.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Tk();const Mk={url:B1,storageKey:q1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lp(t,e,n){return await n()}const ci={};class co{constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=co.nextInstanceID,co.nextInstanceID+=1,this.instanceID>0&&$t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Mk),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Pk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fy(i.fetch),this.lock=i.lock||lp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Lk:this.lock=lp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:hy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ap(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ap(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=ci[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ci[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ly}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=ok(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),$t()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),Q1(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?{error:n}:{error:new uy("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,i;try{const r=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:xn}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var n,s,i;try{let r;if("email"in e){const{email:d,password:h,options:f}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await oi(this.storage,this.storageKey)),r=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:v},xform:xn})}else if("phone"in e){const{phone:d,password:h,options:f}=e;r=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xn})}else throw new ea("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let n;if("email"in e){const{email:r,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:op})}else if("phone"in e){const{phone:r,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:op})}else throw new ea("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Zo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,s,i,r,o,a,l,c,d,h,f,g;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:x,wallet:p,statement:m,options:y}=e;let b;if($t())if(typeof p=="object")b=p;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const S=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let _;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")_=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)_=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),w=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:x,error:p}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:sk(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:xn});if(p)throw p;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Zo}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:p})}catch(x){if(I(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const n=await js(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:r,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:xn});if(await Wn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Zo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(I(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:n,provider:s,token:i,access_token:r,nonce:o}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await oi(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ea("You must provide either an email or phone number.")}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let i,r;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:xn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await oi(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:_k})}catch(r){if(I(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Vn;const{error:i}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:o,error:a}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ea("You must provide either an email or phone number and a type")}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<pc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await js(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=yc()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qn}):await this._useSession(async n=>{var s,i,r;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vn}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Qn})})}catch(n){if(I(n))return J1(n)&&(await this._removeSession(),await Wn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new Vn;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await oi(this.storage,this.storageKey));const{data:c,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Qn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vn;const n=Date.now()/1e3;let s=n,i=!0,r=null;const{payload:o}=gc(e.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if(I(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Vn;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!$t())throw new ta("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ta(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Zf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ta("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Zf("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new ta("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=fi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:x}=await this._getUser(r);if(x)throw x;const p={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(s){if(I(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await js(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(K1(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Wn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=rk(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,i;try{const{data:{session:r},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await oi(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(I(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,d;const{data:h,error:f}=r;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return $t()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(I(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await ck(async i=>(i>0&&await lk(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xn})),(i,r)=>{const o=200*Math.pow(2,i);return r&&mc(r)&&Date.now()+o-s<fi})}catch(s){if(this._debug(n,"error",s),I(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),$t()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await js(this.storage,this.storageKey);if(i&&this.userStorage){let o=await js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await pi(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:yc()}else if(i&&!i.user&&!i.user){const o=await js(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Wn(this.storage,this.storageKey+"-user"),await pi(this.storage,this.storageKey,i)):i.user=yc()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<pc;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${pc}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),mc(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tl;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new Vn;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),I(r)){const o={session:null,error:r};return mc(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await pi(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=ip(i);await pi(this.storage,this.storageKey,r)}else{const i=ip(n);await pi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Wn(this.storage,this.storageKey),await Wn(this.storage,this.storageKey+"-code-verifier"),await Wn(this.storage,this.storageKey+"-user"),this.userStorage&&await Wn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/fi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${fi}ms, refresh threshold is ${Wu} ticks`),i<=Wu&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof py)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await oi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s!=null&&s.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gc(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(a=>a.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+H1>i)return s;const{data:r,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};s=g.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=gc(s);n!=null&&n.allowExpired||gk(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:r,header:i,signature:o},error:null}}const d=yk(i.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,nk(`${a}.${l}`)))throw new Gu("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}}co.nextInstanceID=0;const Rk=co;class Ok extends Rk{constructor(e){super(e)}}var Ik=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class zk{constructor(e,n,s){var i,r,o;this.supabaseUrl=e,this.supabaseKey=n;const a=F1(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:L1,realtime:R1,auth:Object.assign(Object.assign({},M1),{storageKey:l}),global:N1},d=U1(s??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=d.global.headers)!==null&&r!==void 0?r:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=$1(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Yb(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new E1(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Tb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Ik(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ok({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new p1(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $k=(t,e,n)=>new zk(t,e,n);function Ak(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ak()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Dk="https://fdlqyqeobwumyjuqgrpl.supabase.co",Uk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI",de=$k(Dk,Uk);function Tt(){const t=localStorage.getItem("client_id");if(t)return t;const e=crypto.randomUUID();return localStorage.setItem("client_id",e),e}const my="user_coins",gy="last_daily_at",yy="owned_skins",vy="equipped_skin";function Fe(){const t=localStorage.getItem(my);return t?parseInt(t,10):0}function hh(t){localStorage.setItem(my,t.toString())}function En(t){const n=Fe()+t;return hh(n),ky(),n}function fh(t){const e=Fe();return e<t?!1:(hh(e-t),ky(),!0)}function wy(){return localStorage.getItem(gy)}function xy(t){localStorage.setItem(gy,t)}function by(){const t=wy();if(!t)return!0;const e=new Date(t),n=new Date,s=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));return new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())).getTime()>s.getTime()}function Fk(){if(!by())return 0;const t=new Date,e=`${t.getUTCFullYear()}-${String(t.getUTCMonth()+1).padStart(2,"0")}-${String(t.getUTCDate()).padStart(2,"0")}`;return xy(e),En(50)}function Bk(){const t=localStorage.getItem(yy);return t?JSON.parse(t):[]}function qk(t){localStorage.setItem(yy,JSON.stringify(t))}function Wk(){return localStorage.getItem(vy)}async function ky(){try{const t=Tt(),e=Fe(),n=Bk(),s=Wk(),i=wy();await de.from("profiles").upsert({client_id:t,coins:e,owned_skins:n,equipped_skin:s,last_daily_at:i,current_world:1,current_level:1,worlds_completed:0,updated_at:new Date().toISOString()})}catch(t){console.error("[syncToSupabase] Error:",t)}}async function _y(){try{const t=Tt(),{data:e,error:n}=await de.from("profiles").select("*").eq("client_id",t).maybeSingle();if(n){console.error("[loadFromSupabase] Error:",n);return}e&&(hh(e.coins),qk(e.owned_skins||[]),e.equipped_skin&&localStorage.setItem(vy,e.equipped_skin),e.last_daily_at&&xy(e.last_daily_at))}catch(t){console.error("[loadFromSupabase] Exception:",t)}}const Vk=[{id:"small",coins:500,price:1,priceLabel:"1"},{id:"medium",coins:2e3,price:2.5,priceLabel:"2,50",popular:!0,bonus:500},{id:"large",coins:1e4,price:6,priceLabel:"6",bonus:2e3}];function Sy({onClose:t}){const[e,n]=k.useState(null),[s,i]=k.useState(!1),[r,o]=k.useState(Fe());k.useEffect(()=>{const c=new URLSearchParams(window.location.search),d=c.get("payment"),h=c.get("coins");if(d==="success"&&h){En(parseInt(h,10)),o(Fe());const f=new URL(window.location.href);f.searchParams.delete("payment"),f.searchParams.delete("coins"),window.history.replaceState({},"",f.toString()),alert(`Pago exitoso! Se han aadido ${h} monedas a tu cuenta.`)}else if(d==="cancelled"){const f=new URL(window.location.href);f.searchParams.delete("payment"),window.history.replaceState({},"",f.toString())}},[]);const a=c=>{n(c)},l=async()=>{if(e){i(!0);try{console.log("=== INICIO DE COMPRA ==="),console.log("Paquete seleccionado:",e),console.log("URL:","https://fdlqyqeobwumyjuqgrpl.supabase.co"),console.log("Anon Key:","Presente"),console.log("========================");const c=await fetch("https://fdlqyqeobwumyjuqgrpl.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI","Content-Type":"application/json"},body:JSON.stringify({packageId:e.id,coins:e.coins+(e.bonus||0),price:Math.round(e.price*100)})}),d=await c.json();if(console.log("=== DIAGNSTICO DE PAGO ==="),console.log("Status:",c.status),console.log("Response:",d),console.log("==========================="),!c.ok){console.error("Error response:",d),alert(`Error: ${d.error||"Error al procesar el pago"}

Revisa la consola para ms detalles.`);return}d.url?window.location.href=d.url:alert("Error al procesar el pago. Por favor, intenta de nuevo.")}catch(c){console.error("Error al crear checkout:",c),alert("Error al conectar con el servidor de pagos.")}finally{i(!1)}}};return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 overflow-y-auto",children:[u.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-3xl p-6 max-w-2xl w-full shadow-2xl animate-scale-in relative my-auto max-h-[90vh] overflow-y-auto",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors",children:u.jsx(Js,{size:28})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"inline-block relative mb-4",children:[u.jsx("div",{className:"text-6xl",children:""}),u.jsx(Xt,{className:"absolute -top-2 -right-2 text-yellow-500 animate-pulse",size:24})]}),u.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-2",children:"Tienda de Monedas"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Mejora tu experiencia con monedas adicionales"}),u.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-md",children:[u.jsx(Pt,{className:"text-yellow-500",size:20}),u.jsxs("span",{className:"font-bold text-gray-800",children:["Saldo actual: ",r]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:Vk.map(c=>u.jsxs("button",{onClick:()=>a(c),className:`relative p-6 rounded-2xl transition-all transform ${(e==null?void 0:e.id)===c.id?"bg-gradient-to-br from-yellow-400 to-orange-500 scale-105 shadow-2xl":"bg-white hover:scale-105 shadow-lg"}`,children:[c.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"MS POPULAR"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:`text-5xl font-black ${(e==null?void 0:e.id)===c.id?"text-white":"text-yellow-500"}`,children:c.coins.toLocaleString()}),c.bonus&&u.jsxs("div",{className:`text-sm font-semibold ${(e==null?void 0:e.id)===c.id?"text-yellow-100":"text-green-600"}`,children:["+",c.bonus," BONUS"]})]}),u.jsxs("div",{className:`flex items-center justify-center gap-1 mb-2 ${(e==null?void 0:e.id)===c.id?"text-white":"text-gray-600"}`,children:[u.jsx(Pt,{size:20}),u.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]}),u.jsx("div",{className:`text-3xl font-black ${(e==null?void 0:e.id)===c.id?"text-white":"text-gray-800"}`,children:c.priceLabel}),(e==null?void 0:e.id)===c.id&&u.jsx("div",{className:"mt-3 text-white text-sm font-semibold",children:" Seleccionado"})]},c.id))}),u.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-4",children:[u.jsxs("h3",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[u.jsx(Xt,{className:"text-yellow-500",size:20}),"Por qu comprar monedas?"]}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("li",{children:" Desbloquea skins exclusivos para tus cartas"}),u.jsx("li",{children:" Usa power-ups para ayuda adicional en niveles difciles"}),u.jsx("li",{children:" Personaliza tu experiencia de juego"}),u.jsx("li",{children:" Progresa ms rpido en tu aventura"})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:t,className:"px-6 py-4 rounded-2xl font-bold text-lg shadow-lg transition-all bg-gray-200 text-gray-700 hover:bg-gray-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(lo,{size:20}),"Volver"]}),u.jsx("button",{onClick:l,disabled:!e||s,className:`flex-1 py-4 rounded-2xl font-black text-xl shadow-lg transition-all ${e&&!s?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Procesando..."]}):u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx(gb,{size:24}),e?`Pagar ${e.priceLabel}`:"Selecciona un paquete"]})})]}),u.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:"Pago seguro procesado por Stripe"})]}),u.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const cp=["world-1","world-2","world-3","world-4","world-5","world-6","world-7","world-8","world-9","world-10"];async function Hk(t){try{const e=Tt(),{data:n,error:s}=await de.from("world_progress").select("purchased, levels").eq("client_id",e).eq("world_id",t).maybeSingle();if(s)throw s;return n?{purchased:!!n.purchased,levels:n.levels||[]}:null}catch(e){return console.error("Error reading world from Supabase:",e),Kk(t)}}async function Gk(t,e){try{const n=Tt(),{error:s}=await de.from("world_progress").upsert({client_id:n,world_id:t,purchased:e.purchased,levels:e.levels,updated_at:new Date().toISOString()},{onConflict:"client_id,world_id"});if(s)throw s;up(t,e)}catch(n){console.error("Error writing world to Supabase:",n),up(t,e)}}function Kk(t){const e=localStorage.getItem(`progress.${t}`);return e?JSON.parse(e):null}function up(t,e){localStorage.setItem(`progress.${t}`,JSON.stringify(e))}async function vs(t){return await Hk(t)}async function So(t,e){await Gk(t,e)}async function jy(t,e){var o;const n=await vs(t);if(n&&((o=n.levels)==null?void 0:o.length)>=e)return;const s=(n==null?void 0:n.purchased)??t==="world-1",i=Array.from({length:e},(a,l)=>({unlocked:s&&l===0,completed:!1,stars:0}));await So(t,{purchased:s,levels:i})}async function ph(t){const e=await vs(t);return!!(e!=null&&e.purchased)}async function Cy(t){const e=await vs(t);return e?e.levels.length>0&&e.levels.every(n=>n.completed===!0):!1}async function Jk(t){if(t==="world-1"||await ph(t))return!0;const e=cp.indexOf(t);if(e<=0)return!0;const n=cp[e-1];return await Cy(n)}async function Ey(t,e){const n=await vs(t)??{purchased:!1,levels:[]};return n.purchased?{ok:!0}:fh(e)?(n.purchased=!0,n.levels.length?n.levels[0].unlocked=!0:n.levels=[{unlocked:!0,completed:!1,stars:0}],await So(t,n),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function Qk(t,e,n){if(e<1)return{ok:!1,reason:"Nivel invlido"};if(e===1)return{ok:!0};const s=await vs(t);if(!s)return{ok:!1,reason:"Mundo no encontrado"};const i=e-1;if(i>=s.levels.length)return{ok:!1,reason:"Nivel inexistente"};const r=s.levels[i];return r.unlocked?{ok:!0}:fh(n)?(r.unlocked=!0,await So(t,s),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function Yk(t,e,n=0){const s=await vs(t);if(!s)throw new Error("World not found");const i=e-1,r=s.levels[i];if(!r)throw new Error("Level not found");r.completed=!0,r.stars=Math.max(r.stars,Math.max(0,Math.min(3,n)));const o=s.levels[i+1];o&&!o.unlocked&&(o.unlocked=!0),await So(t,s)}async function Xk(t){return await vs(t)??{purchased:!1,levels:[]}}function Zk(t){return`world-${Math.ceil(t/5)}`}function e_(t){return(t-1)%5+1}const el={"world-1":0,"world-2":300,"world-3":500,"world-4":700,"world-5":1e3,"world-6":1500,"world-7":2e3,"world-8":2500,"world-9":3e3,"world-10":4e3},dp=100;async function wc(t){const e=`world-${t}`,n=await vs(e),s={purchased:!0,levels:(n==null?void 0:n.levels)||[{unlocked:!0,completed:!1,stars:0}]};s.levels.length===0?s.levels=[{unlocked:!0,completed:!1,stars:0}]:s.levels[0].unlocked=!0,await So(e,s)}async function t_(){const t=[];for(let e=1;e<=10;e++){const n=`world-${e}`;await ph(n)&&t.push(e)}return t}const n_=[ih,nh,sh,rh,oh,V0,F0,U0,Xt,D0],s_=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],i_=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}],r_=({onClose:t,onSkinChanged:e})=>{const[n,s]=k.useState(Fe()),[i,r]=k.useState({1:!0}),[o,a]=k.useState(!0),[l,c]=k.useState(null),[d,h]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const w={1:!0};for(let x=2;x<=10;x++){const p=await ph(`world-${x}`);w[x]=p}r(w)}catch(w){console.error("Error loading worlds:",w)}finally{a(!1)}})()},[]);const f=async v=>{if(l)return;const w=`world-${v}`,x=el[w];if(n<x){alert("No tienes suficientes monedas");return}c(v);try{const p=await Ey(w,x);p.ok?(s(Fe()),r({...i,[v]:!0})):alert(p.reason)}catch(p){console.error("Error en compra:",p)}finally{c(null)}},g=Object.values(i).filter(Boolean).length;return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Tienda de Mundos"}),u.jsx("button",{type:"button",onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Js,{size:24})})]}),u.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-3 mb-4",children:[u.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Desbloquea mundos para acceder a nuevos niveles y desafos."}),u.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Al comprar un mundo, solo se desbloquea el nivel 1. Los dems niveles se desbloquean jugando."})]}),u.jsxs("div",{className:"flex gap-3 mb-4",children:[u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx(Pt,{size:20,className:"text-white"}),u.jsx("span",{className:"text-xl font-bold text-white",children:n})]}),u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx(Xt,{size:20,className:"text-white"}),u.jsxs("span",{className:"text-xl font-bold text-white",children:[g,"/10"]})]})]}),u.jsxs("button",{onClick:()=>h(!0),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold shadow-lg hover:scale-105 active:scale-95 transition-all mb-4 flex items-center justify-center gap-2",children:[u.jsx(W0,{size:20}),"Comprar Monedas"]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6,7,8,9,10].map(v=>{const w=i[v]??!1,x=n_[v-1],p=i_[v-1],m=`world-${v}`,y=el[m];return u.jsx("div",{className:`border-2 rounded-xl p-4 transition-all ${w?"border-green-500 bg-green-50":"border-gray-200"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${p.from} ${p.to}`,children:u.jsx(x,{size:32,className:"text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsxs("h3",{className:"font-bold text-lg",children:["Mundo ",v]}),w&&u.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-0.5 rounded-full font-bold",children:"Desbloqueado"})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:s_[v-1]}),v===1&&u.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Gratis  5 niveles desbloqueados"}),v>1&&!w&&u.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Al comprar se desbloquea el nivel 1"}),!w&&v>1&&u.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[u.jsx(Pt,{size:16,className:"text-yellow-500"}),u.jsx("span",{className:"font-semibold",children:y})]}),u.jsx("div",{className:"mt-2",children:w?u.jsxs("div",{className:"text-sm text-green-600 font-semibold flex items-center gap-1",children:[u.jsx(z0,{size:16}),"Desbloqueado"]}):u.jsxs("button",{type:"button",onClick:()=>f(v),disabled:n<y||l===v,className:"bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[u.jsx(Sl,{size:16}),l===v?"Comprando...":"Desbloquear"]})})]})]})},v)})})}),u.jsx("button",{type:"button",onClick:t,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]}),d&&u.jsx(Sy,{onClose:()=>{h(!1),s(Fe())}})]})},o_=({onClose:t})=>{const[e,n]=k.useState(!1),[s,i]=k.useState(!0),[r,o]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(""),[h,f]=k.useState(""),g="admin2024";k.useEffect(()=>{v()},[]);const v=async()=>{try{const S=Tt(),{data:j,error:_}=await de.from("profiles").select("is_admin").eq("client_id",S).maybeSingle();!_&&(j!=null&&j.is_admin)&&n(!0)}catch(S){console.error("Error checking admin status:",S)}finally{i(!1)}},w=async()=>{const S=await t_();o(S)},x=()=>{c===g?(l(!1),w(),f("")):(f("Contrasea incorrecta"),d(""))},p=async S=>{r.includes(S)?await m(S):await wc(S),await w()},m=async S=>{const j=Tt();await de.from("world_progress").delete().eq("client_id",j).eq("world_id",`world-${S}`)},y=async()=>{for(let S=1;S<=10;S++)await wc(S);await w()},b=async()=>{const S=Tt();await de.from("world_progress").delete().eq("client_id",S),await wc(1),await w()};return s?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:u.jsx("div",{className:"text-center",children:"Verificando permisos..."})})}):e?a?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Contrasea Admin"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(Js,{size:20})})]}),u.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-4",children:u.jsx("p",{className:"text-sm text-yellow-800",children:" Ingresa la contrasea de administrador para acceder al panel"})}),u.jsx("input",{type:"password",value:c,onChange:S=>d(S.target.value),onKeyPress:S=>S.key==="Enter"&&x(),placeholder:"Contrasea",className:"w-full px-4 py-3 border border-gray-300 rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),h&&u.jsx("p",{className:"text-sm text-red-600 mb-4",children:h}),u.jsx("button",{onClick:x,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Acceder"})]})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Panel Admin"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(Js,{size:20})})]}),u.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-4 mb-4",children:[u.jsx("div",{className:"text-sm font-semibold text-purple-800 mb-2",children:"Gestionar Mundos"}),u.jsx("p",{className:"text-xs text-purple-600",children:"Toca un mundo para bloquearlo/desbloquearlo"})]}),u.jsx("div",{className:"space-y-2 mb-4",children:[1,2,3,4,5,6,7,8,9,10].map(S=>{const j=r.includes(S);return u.jsxs("button",{onClick:()=>p(S),className:`w-full flex items-center justify-between p-3 rounded-xl font-semibold transition-all ${j?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[u.jsxs("span",{children:["Mundo ",S]}),j?u.jsx(kb,{size:18,className:"text-green-600"}):u.jsx(Sl,{size:18,className:"text-red-600"})]},S)})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:y,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Desbloquear Todos"}),u.jsx("button",{onClick:b,className:"bg-gradient-to-r from-red-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Bloquear Todos"})]})]})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Acceso Denegado"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"No tienes permisos de administrador"}),u.jsx("button",{onClick:t,className:"w-full bg-gray-200 text-gray-800 py-3 rounded-xl font-bold hover:bg-gray-300 transition-colors",children:"Cerrar"})]})})})},hp={zap:{name:"Electric Zap",url:"/sounds/zap.wav",volume:.6},flipPop:{name:"Card Flip",url:"/sounds/flip_pop.wav",volume:.4},countdownClick:{name:"Countdown Tick",url:"/sounds/countdown_click.wav",volume:.5},confetti:{name:"Victory Confetti",url:"/sounds/confetti.wav",volume:.7},loop:{name:"Background Loop",url:"/sounds/loop_150bpm.wav",volume:.3}};let a_=class{constructor(){this.sounds=new Map,this.enabled=!0,this.bgmLoop=null,this.preloadSounds()}preloadSounds(){Object.entries(hp).forEach(([e,n])=>{try{const s=new Audio(n.url);s.volume=n.volume||.5,s.preload="auto",this.sounds.set(e,s)}catch(s){console.warn(`Failed to preload sound: ${n.name}`,s)}})}play(e){if(!this.enabled)return;const n=this.sounds.get(e);if(n)try{n.currentTime=0,n.play().catch(s=>{console.warn(`Failed to play sound: ${e}`,s)})}catch(s){console.warn(`Error playing sound: ${e}`,s)}}playZap(){this.play("zap")}playFlipPop(){this.play("flipPop")}playCountdownClick(){this.play("countdownClick")}playConfetti(){this.play("confetti")}startBackgroundLoop(){if(!this.enabled)return;const e=this.sounds.get("loop");if(e&&!this.bgmLoop)try{e.loop=!0,e.volume=.2,e.play().catch(n=>{console.warn("Failed to play background loop",n)}),this.bgmLoop=e}catch(n){console.warn("Error starting background loop",n)}}stopBackgroundLoop(){if(this.bgmLoop)try{this.bgmLoop.pause(),this.bgmLoop.currentTime=0,this.bgmLoop=null}catch(e){console.warn("Error stopping background loop",e)}}setEnabled(e){this.enabled=e,e||this.stopBackgroundLoop()}isEnabled(){return this.enabled}setVolume(e,n){const s=this.sounds.get(e);s&&(s.volume=Math.max(0,Math.min(1,n)))}setMasterVolume(e){const n=Math.max(0,Math.min(1,e));this.sounds.forEach(s=>{const i=Object.entries(hp).find(([,r])=>r.url===s.src.split("/").pop());i&&(s.volume=(i[1].volume||.5)*n)})}};const mh=new a_,l_=()=>mh.playZap(),c_=()=>mh.playFlipPop(),u_=()=>mh.playConfetti();class d_{constructor(){this.startMusicTrack=null,this.currentLevelTrack=null,this.levelTracks=new Map,this.matchSfx=null,this.winSfx=null,this.loseSfx=null,this.muted=!1,this.masterVolume=1,this.userInteracted=!1,this.loadSettings(),this.preloadAudio(),this.setupUserInteractionListener()}loadSettings(){try{const e=localStorage.getItem("sound.muted"),n=localStorage.getItem("sound.volume");if(e!==null&&(this.muted=e==="true"),n!==null){const s=parseFloat(n);isNaN(s)||(this.masterVolume=Math.max(0,Math.min(1,s)))}}catch(e){console.warn("Error loading sound settings:",e)}}saveSettings(){try{localStorage.setItem("sound.muted",String(this.muted)),localStorage.setItem("sound.volume",String(this.masterVolume))}catch(e){console.warn("Error saving sound settings:",e)}}setupUserInteractionListener(){const e=()=>{this.userInteracted=!0,document.removeEventListener("click",e),document.removeEventListener("keypress",e),document.removeEventListener("touchstart",e)};document.addEventListener("click",e,{once:!0}),document.addEventListener("keypress",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}preloadAudio(){try{this.startMusicTrack=new Audio("/audio/start_theme.mp3"),this.startMusicTrack.loop=!0,this.startMusicTrack.preload="auto";for(let e=1;e<=10;e++){const n=new Audio(`/audio/level_${e}.mp3`);n.loop=!0,n.preload="auto",this.levelTracks.set(e,n)}this.matchSfx=new Audio("/audio/match.wav"),this.matchSfx.preload="auto",this.winSfx=new Audio("/audio/win.wav"),this.winSfx.preload="auto",this.loseSfx=new Audio("/audio/lose.wav"),this.loseSfx.preload="auto",this.applyVolume()}catch(e){console.warn("Error preloading audio:",e)}}applyVolume(){const e=this.muted?0:this.masterVolume;this.startMusicTrack&&(this.startMusicTrack.volume=e),this.levelTracks.forEach(n=>{n.volume=e}),this.matchSfx&&(this.matchSfx.volume=e),this.winSfx&&(this.winSfx.volume=e),this.loseSfx&&(this.loseSfx.volume=e)}async crossFade(e,n){const o=this.muted?0:this.masterVolume;for(let a=20;a>=0;a--)e.volume=a/20*o,await new Promise(l=>setTimeout(l,15));e.pause(),e.currentTime=0,n.volume=0;try{await n.play();for(let a=0;a<=20;a++)n.volume=a/20*o,await new Promise(l=>setTimeout(l,15))}catch(a){console.warn("Error during crossfade:",a)}}async playSafely(e){if(!this.userInteracted){console.warn("Cannot play audio before user interaction");return}try{e.currentTime=0,await e.play()}catch(n){console.warn("Error playing audio:",n)}}playStartMusic(){if(!(!this.startMusicTrack||!this.userInteracted))try{this.playSafely(this.startMusicTrack)}catch(e){console.warn("Error playing start music:",e)}}stopStartMusic(){if(this.startMusicTrack)try{this.startMusicTrack.pause(),this.startMusicTrack.currentTime=0}catch(e){console.warn("Error stopping start music:",e)}}playLevelMusic(e){if(!this.userInteracted)return;const n=this.levelTracks.get(e);if(!n){console.warn(`Level ${e} music not found`);return}try{this.currentLevelTrack&&!this.currentLevelTrack.paused?this.crossFade(this.currentLevelTrack,n):(n.volume=this.muted?0:this.masterVolume,this.playSafely(n)),this.currentLevelTrack=n}catch(s){console.warn(`Error playing level ${e} music:`,s)}}stopLevelMusic(){if(this.currentLevelTrack)try{this.currentLevelTrack.pause(),this.currentLevelTrack.currentTime=0,this.currentLevelTrack=null}catch(e){console.warn("Error stopping level music:",e)}}playMatch(){!this.matchSfx||!this.userInteracted||this.playSafely(this.matchSfx)}playWin(){!this.winSfx||!this.userInteracted||this.playSafely(this.winSfx)}playLose(){!this.loseSfx||!this.userInteracted||this.playSafely(this.loseSfx)}mute(){this.muted=!0,this.applyVolume(),this.saveSettings()}unmute(){this.muted=!1,this.applyVolume(),this.saveSettings()}toggleMute(){this.muted?this.unmute():this.mute()}isMuted(){return this.muted}setMasterVolume(e){this.masterVolume=Math.max(0,Math.min(1,e)),this.applyVolume(),this.saveSettings()}getMasterVolume(){return this.masterVolume}}const Ue=new d_;/*! Capacitor: https://capacitorjs.com/ - MIT License */var Ji;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Ji||(Ji={}));class xc extends Error{constructor(e,n,s){super(e),this.message=e,this.code=n,this.data=s}}const h_=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},f_=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},s=n.Plugins=n.Plugins||{},i=()=>e!==null?e.name:h_(t),r=()=>i()!=="web",o=h=>{const f=c.get(h);return!!(f!=null&&f.platforms.has(i())||a(h))},a=h=>{var f;return(f=n.PluginHeaders)===null||f===void 0?void 0:f.find(g=>g.name===h)},l=h=>t.console.error(h),c=new Map,d=(h,f={})=>{const g=c.get(h);if(g)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),g.proxy;const v=i(),w=a(h);let x;const p=async()=>(!x&&v in f?x=typeof f[v]=="function"?x=await f[v]():x=f[v]:e!==null&&!x&&"web"in f&&(x=typeof f.web=="function"?x=await f.web():x=f.web),x),m=(C,P)=>{var T,F;if(w){const re=w==null?void 0:w.methods.find(ce=>P===ce.name);if(re)return re.rtype==="promise"?ce=>n.nativePromise(h,P.toString(),ce):(ce,Ve)=>n.nativeCallback(h,P.toString(),ce,Ve);if(C)return(T=C[P])===null||T===void 0?void 0:T.bind(C)}else{if(C)return(F=C[P])===null||F===void 0?void 0:F.bind(C);throw new xc(`"${h}" plugin is not implemented on ${v}`,Ji.Unimplemented)}},y=C=>{let P;const T=(...F)=>{const re=p().then(ce=>{const Ve=m(ce,C);if(Ve){const en=Ve(...F);return P=en==null?void 0:en.remove,en}else throw new xc(`"${h}.${C}()" is not implemented on ${v}`,Ji.Unimplemented)});return C==="addListener"&&(re.remove=async()=>P()),re};return T.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(T,"name",{value:C,writable:!1,configurable:!1}),T},b=y("addListener"),S=y("removeListener"),j=(C,P)=>{const T=b({eventName:C},P),F=async()=>{const ce=await T;S({eventName:C,callbackId:ce},P)},re=new Promise(ce=>T.then(()=>ce({remove:F})));return re.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await F()},re},_=new Proxy({},{get(C,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?j:b;case"removeListener":return S;default:return y(P)}}});return s[h]=_,c.set(h,{name:h,proxy:_,platforms:new Set([...Object.keys(f),...w?[v]:[]])}),_};return n.convertFileSrc||(n.convertFileSrc=h=>h),n.getPlatform=i,n.handleError=l,n.isNativePlatform=r,n.isPluginAvailable=o,n.registerPlugin=d,n.Exception=xc,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},p_=t=>t.Capacitor=f_(t),Ku=p_(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),gh=Ku.registerPlugin;class Py{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(n);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),s&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,s){const i=this.listeners[e];if(!i){if(s){let r=this.retainedEventArguments[e];r||(r=[]),r.push(n),this.retainedEventArguments[e]=r}return}i.forEach(r=>r(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(e="not implemented"){return new Ku.Exception(e,Ji.Unimplemented)}unavailable(e="not available"){return new Ku.Exception(e,Ji.Unavailable)}async removeListener(e,n){const s=this.listeners[e];if(!s)return;const i=s.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(s=>{this.notifyListeners(e,s)}))}}const fp=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),pp=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class m_ extends Py{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[i,r]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=pp(i).trim(),r=pp(r).trim(),n[i]=r}),n}async setCookie(e){try{const n=fp(e.key),s=fp(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${s||""}${i}; path=${r}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}gh("CapacitorCookies",{web:()=>new m_});const g_=async t=>new Promise((e,n)=>{const s=new FileReader;s.onload=()=>{const i=s.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},s.onerror=i=>n(i),s.readAsDataURL(t)}),y_=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,r,o)=>(i[r]=t[e[o]],i),{})},v_=(t,e=!0)=>t?Object.entries(t).reduce((s,i)=>{const[r,o]=i;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${r}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l=`${r}=${a}`),`${s}&${l}`},"").substr(1):null,w_=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=y_(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))r.set(o,a);n.body=r.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const r=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{r.append(l,a)});else for(const a of Object.keys(t.data))r.append(a,t.data[a]);n.body=r;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class x_ extends Py{async request(e){const n=w_(e,e.webFetchExtra),s=v_(e.params,e.shouldEncodeUrlParams),i=s?`${e.url}?${s}`:e.url,r=await fetch(i,n),o=r.headers.get("content-type")||"";let{responseType:a="text"}=r.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await r.blob(),l=await g_(c);break;case"json":l=await r.json();break;case"document":case"text":default:l=await r.text()}const d={};return r.headers.forEach((h,f)=>{d[f]=h}),{data:l,headers:d,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}gh("CapacitorHttp",{web:()=>new x_});var mp;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(mp||(mp={}));const Ju=gh("LocalNotifications",{web:()=>nr(()=>import("./web-BkaYJVw7.js"),[]).then(t=>new t.LocalNotificationsWeb)});async function b_(){try{return(await Ju.requestPermissions()).display==="granted"?(await k_(),!0):!1}catch(t){return console.error("Error initializing notifications:",t),!1}}async function k_(){try{await Ju.cancel({notifications:[{id:1}]});const t=new Date,e=new Date;return e.setHours(19,0,0,0),e<=t&&e.setDate(e.getDate()+1),await Ju.schedule({notifications:[{id:1,title:" Twin Clash te extraa!",body:"Vuelve y completa tu reto diario. Gana monedas extra!",schedule:{at:e,repeats:!0,every:"day"},sound:void 0,attachments:void 0,actionTypeId:"",extra:null}]}),console.log("Daily reminder scheduled for",e),!0}catch(t){return console.error("Error scheduling daily reminder:",t),!1}}const __=({onStartGame:t,onStartDailyChallenge:e,onStartDuel:n})=>{const[s,i]=k.useState(!1),[r,o]=k.useState(!1),[a,l]=k.useState(0),[c,d]=k.useState(!1),h=k.useRef(!1),f=k.useRef(0),g=k.useRef(null);k.useEffect(()=>{_y().then(()=>{l(Fe()),by()&&d(!0)}),h.current||(setTimeout(()=>{l_(),Ue.playStartMusic()},300),h.current=!0),b_().then(p=>{p&&console.log("Notificaciones diarias activadas")})},[]);const v=()=>{const p=Fk();l(p),d(!1)},w=()=>{i(!1),l(Fe())},x=()=>{f.current+=1,g.current&&clearTimeout(g.current),f.current>=5?(o(!0),f.current=0):g.current=window.setTimeout(()=>{f.current=0},2e3)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:[u.jsx("div",{className:"fixed top-0 right-0 w-16 h-16 z-40",onClick:x}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("img",{src:"/twinlogo.png",alt:"Twin Clash",style:{width:"75%",maxWidth:"420px",margin:"0 auto"}})}),u.jsx("p",{className:"text-center text-gray-600 mb-6 text-sm font-medium",children:"Encuentra todas las parejas antes de que se acabe el tiempo"}),u.jsxs("div",{className:"flex gap-3 mb-6",children:[u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx(Pt,{size:20,className:"text-white"}),u.jsx("span",{className:"text-lg font-bold text-white",children:a})]}),u.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-3 flex items-center justify-center gap-2 hover:shadow-lg transition-all cursor-pointer",children:[u.jsx(W0,{size:20,className:"text-white"}),u.jsx("span",{className:"text-sm font-bold text-white",children:"Tienda"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105",children:" Jugar"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"button",onClick:e,className:"flex-1 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-xl p-3 font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[u.jsx(mb,{size:20}),u.jsx("span",{className:"text-sm",children:"Reto Diario"})]}),u.jsxs("button",{type:"button",onClick:n,className:"flex-1 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-xl p-3 font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[u.jsx(bb,{size:20}),u.jsx("span",{className:"text-sm",children:"Duelo 1v1"})]})]})]})]}),s&&u.jsx(r_,{onClose:w,onSkinChanged:()=>{}}),r&&u.jsx(o_,{onClose:()=>o(!1)}),c&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:u.jsx(yb,{size:64,className:"mx-auto text-yellow-500"})}),u.jsx("h3",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"Recompensa Diaria!"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Reclama tus monedas gratis"}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Pt,{size:32,className:"text-white"}),u.jsx("span",{className:"text-4xl font-bold text-white",children:"+50"})]})}),u.jsx("button",{type:"button",onClick:v,className:"w-full bg-gradient-to-r from-yellow-500 to-amber-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reclamar"})]})})]})},Ty=[{id:"default",name:"Clsico",price:0,cardBackColor:"bg-gradient-to-br from-blue-400 to-blue-600",cardBorderColor:"border-blue-300",description:"El diseo original"},{id:"gold",name:"Dorado",price:100,cardBackColor:"bg-gradient-to-br from-yellow-400 to-amber-600",cardBorderColor:"border-yellow-300",description:"Lujo y elegancia"},{id:"emerald",name:"Esmeralda",price:150,cardBackColor:"bg-gradient-to-br from-green-400 to-emerald-600",cardBorderColor:"border-green-300",description:"Naturaleza y frescura"},{id:"ruby",name:"Rub",price:180,cardBackColor:"bg-gradient-to-br from-red-400 to-rose-600",cardBorderColor:"border-red-300",description:"Pasin y energa"},{id:"midnight",name:"Medianoche",price:220,cardBackColor:"bg-gradient-to-br from-indigo-600 to-purple-800",cardBorderColor:"border-indigo-400",description:"Misterio nocturno"}];function S_(t){return Ty.find(e=>e.id===t)}function gp(){return Ty[0]}async function j_(){const t=Tt(),{data:e,error:n}=await de.from("user_themes").select("owned_themes, equipped_theme").eq("client_id",t).maybeSingle();if(n)return console.error("Error fetching themes:",n),{owned_themes:["default"],equipped_theme:"default"};if(!e){const{data:s,error:i}=await de.from("user_themes").upsert({client_id:t,owned_themes:["default"],equipped_theme:"default"},{onConflict:"client_id"}).select("owned_themes, equipped_theme").maybeSingle();return i&&console.error("Error upserting themes:",i),s||{owned_themes:["default"],equipped_theme:"default"}}return e}async function C_(){return(await j_()).equipped_theme||"default"}const E_=({card:t,isBreaking:e=!1})=>{const[n,s]=k.useState(!1),[i,r]=k.useState(!1),[o,a]=k.useState(t.obstacleHealth);k.useEffect(()=>{o!==void 0&&o>0&&(t.obstacleHealth??0)<=0&&(t.obstacle==="ice"?(s(!0),setTimeout(()=>s(!1),500)):t.obstacle==="stone"&&(r(!0),setTimeout(()=>r(!1),600))),a(t.obstacleHealth)},[t.obstacle,t.obstacleHealth,o]);const l=t.obstacle&&(t.obstacleHealth??0)>0;if(!l&&!n&&!i)return null;if(t.obstacle==="ice"||n)return u.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[l&&t.obstacle==="ice"&&u.jsxs("div",{className:`absolute inset-0 rounded-xl ice-overlay ${n?"ice-breaking":""}`,children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-200/80 via-sky-300/80 to-sky-400/80 backdrop-blur-sm border-2 border-cyan-100/80 rounded-xl"}),u.jsxs("div",{className:"absolute inset-0 rounded-xl overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/40 to-transparent"}),u.jsx("div",{className:"absolute top-1/4 left-0 w-1/3 h-1/3 bg-white/20 blur-xl rounded-full"})]}),u.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full animate-ping opacity-60"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-5xl animate-pulse",children:""})})]}),n&&u.jsx("div",{className:"absolute inset-0",children:[0,1,2,3,4].map(c=>u.jsx("div",{className:"ice-particle",style:{left:"50%",top:"50%","--angle":`${c*72}deg`}},c))})]});if(t.obstacle==="stone"||i){const c=t.obstacleHealth??0;return u.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[l&&t.obstacle==="stone"&&u.jsxs("div",{className:`absolute inset-0 rounded-xl ${i?"rock-breaking":""}`,children:[c===2&&u.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 50%, #4b5563 100%)",boxShadow:"inset 0 3px 10px rgba(255,255,255,0.4), inset 0 -6px 16px rgba(0,0,0,0.6), 0 8px 24px rgba(0,0,0,0.5)",border:"4px solid #52525b"},children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-slate-600/80 to-transparent"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-gradient-to-t from-slate-800/80 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-slate-600/80 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-slate-600/80 to-transparent"})]}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("path",{d:"M 8 8 L 15 12 L 12 18",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 8 8 L 12 15 L 18 12",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 8 L 85 12 L 88 18",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 8 L 88 15 L 82 12",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 8 92 L 15 88 L 12 82",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 8 92 L 12 85 L 18 88",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 92 L 85 88 L 88 82",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 92 L 88 85 L 82 88",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 35 5 L 38 10",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M 65 5 L 62 10",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M 5 35 L 10 38",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M 5 65 L 10 62",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),u.jsx("div",{className:"absolute inset-8 bg-gradient-to-br from-slate-300/30 to-transparent rounded-lg"}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-40",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("ellipse",{cx:"70",cy:"65",rx:"8",ry:"6",fill:"rgba(0,0,0,0.3)"}),u.jsx("ellipse",{cx:"30",cy:"55",rx:"6",ry:"5",fill:"rgba(0,0,0,0.25)"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-5xl filter drop-shadow-lg",children:""})}),u.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 bg-gradient-to-br from-slate-500 to-slate-700 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-xl border-2 border-slate-300",children:"2"})]}),c===1&&u.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #cbd5e1 0%, #94a3b8 50%, #64748b 100%)",boxShadow:"inset 0 2px 8px rgba(255,255,255,0.5), inset 0 -4px 12px rgba(0,0,0,0.5), 0 6px 20px rgba(0,0,0,0.4)",border:"4px solid #71717a"},children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-slate-400/70 to-transparent"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-gradient-to-t from-slate-700/70 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-slate-400/70 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-slate-400/70 to-transparent"})]}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("path",{d:"M 5 5 L 18 15 L 12 25",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 5 5 L 15 18 L 25 12",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 5 L 82 15 L 88 25",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 5 L 85 18 L 75 12",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 5 95 L 18 85 L 12 75",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 5 95 L 15 82 L 25 88",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 95 L 82 85 L 88 75",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 95 L 85 82 L 75 88",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 30 20 L 40 35 L 35 50",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 70 30 L 60 45 L 65 60",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 45 55 L 50 70 L 55 85",stroke:"rgba(255,255,255,0.6)",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),u.jsx("div",{className:"absolute inset-10 bg-gradient-to-br from-slate-200/40 to-transparent rounded-lg"}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-30",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("ellipse",{cx:"65",cy:"60",rx:"7",ry:"5",fill:"rgba(0,0,0,0.25)"}),u.jsx("ellipse",{cx:"35",cy:"50",rx:"5",ry:"4",fill:"rgba(0,0,0,0.2)"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-5xl opacity-80 filter drop-shadow-md",children:""})}),u.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 bg-gradient-to-br from-slate-400 to-slate-600 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg border-2 border-slate-200",children:"1"})]})]}),i&&u.jsx("div",{className:"absolute inset-0",children:[0,1,2,3,4].map(d=>u.jsx("div",{className:"rock-particle",style:{left:"50%",top:"50%","--angle":`${d*72}deg`}},d))})]})}return null},Ny=({card:t,image:e,onClick:n,disabled:s,showHint:i=!1,isBreaking:r=!1})=>{const[o,a]=k.useState(gp());k.useEffect(()=>{const c=async()=>{const h=await C_(),f=S_(h)||gp();a(f)};c();const d=()=>{c()};return window.addEventListener("themeChanged",d),()=>window.removeEventListener("themeChanged",d)},[]);const l=()=>{!s&&!t.isFlipped&&!t.isMatched&&(c_(),n(t.id))};return t.obstacle&&(t.obstacleHealth??0)>0,u.jsx("div",{className:"relative aspect-square cursor-pointer perspective-1000",onClick:l,children:u.jsxs("div",{className:`relative w-full h-full transition-transform duration-500 transform-style-3d ${t.isFlipped||t.isMatched?"rotate-y-180":""}`,children:[u.jsxs("div",{className:"absolute w-full h-full backface-hidden",children:[u.jsx("div",{className:`w-full h-full ${o.cardBackColor} rounded-xl shadow-lg flex items-center justify-center border-4 ${o.cardBorderColor} relative overflow-hidden ${i?"hint-pulse":""}`,children:u.jsx("div",{className:"text-4xl text-white font-bold",children:"?"})}),u.jsx(E_,{card:t,isBreaking:r})]}),u.jsx("div",{className:"absolute w-full h-full backface-hidden rotate-y-180",children:u.jsx("div",{className:`w-full h-full bg-white rounded-xl shadow-lg flex items-center justify-center border-4 ${o.cardBorderColor} overflow-hidden`,children:u.jsx("div",{className:"text-6xl",children:e})})})]})})};function Ly(){return typeof window>"u"?null:new URLSearchParams(window.location.search).get("crew")}function P_(t){if(typeof window>"u")return;const e=new URL(window.location.href);e.searchParams.set("crew",t),window.history.replaceState({},"",e.toString())}async function T_(t){try{const{data:e,error:n}=await de.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);return n?(console.error("[checkIfPioneer] Error:",n),!1):((e==null?void 0:e.length)??0)===0}catch(e){return console.error("[checkIfPioneer] Exception:",e),!1}}async function N_(t){try{const{data:e,error:n}=await de.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);if(n){console.error("[seedBotsIfEmpty] Error checking:",n);return}if(((e==null?void 0:e.length)??0)>0)return;const i=[23e3,27e3,31e3,35e3,4e4].map((o,a)=>({seed:t,time_ms:o,moves:10+a,client_id:`bot-${t}-${a}`,display_name:`CPU Kiwi #${a+1}`,is_bot:!0})),{error:r}=await de.from("scores").insert(i);r&&console.error("[seedBotsIfEmpty] Error inserting bots:",r)}catch(e){console.error("[seedBotsIfEmpty] Exception:",e)}}async function L_({seed:t,timeMs:e,moves:n,crewId:s=null,displayName:i=null,levelId:r=null}){try{const o=await T_(t),a=Tt(),l=Math.floor(1e4/(e/1e3+n)),{error:c}=await de.from("scores").insert({seed:t,time_ms:e,moves:n,client_id:a,crew_id:s,display_name:i,is_bot:!1,level_id:r,score:l});return c?(console.error("[submitScoreAndReward] Error:",c),{success:!1,isPioneer:!1}):(o&&En(20),{success:!0,isPioneer:o})}catch(o){return console.error("[submitScoreAndReward] Exception:",o),{success:!1,isPioneer:!1}}}async function M_({seed:t,limit:e=20}){try{await N_(t);const{data:n,error:s}=await de.from("scores").select("*").eq("seed",t).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(e);return s?(console.error("[getTop] Error:",s),[]):n||[]}catch(n){return console.error("[getTop] Exception:",n),[]}}async function R_({seed:t,crewId:e,limit:n=20}){try{if(!e)return[];const{data:s,error:i}=await de.from("scores").select("*").eq("seed",t).eq("crew_id",e).eq("is_bot",!1).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(n);return i?(console.error("[getCrewTop] Error:",i),[]):s||[]}catch(s){return console.error("[getCrewTop] Exception:",s),[]}}const O_=({seed:t,onClose:e,onPlayNow:n})=>{const[s,i]=k.useState([]),[r,o]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(!1),h=Tt(),f=Ly();k.useEffect(()=>{(async()=>{l(!0);const x=await M_({seed:t,limit:20});if(i(x),f){const p=await R_({seed:t,crewId:f,limit:20});o(p)}l(!1)})()},[t,f]);const g=c&&f?r:s,v=s.some(w=>!w.is_bot);return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Cn,{className:"text-yellow-500",size:28}),c?"Top Amigos":"Top Diario"]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Js,{size:24})})]}),u.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Reto: ",t]}),f&&u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsxs("button",{onClick:()=>d(!1),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${c?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-yellow-500 text-white"}`,children:[u.jsx(Cn,{size:16,className:"inline mr-1"}),"Global"]}),u.jsxs("button",{onClick:()=>d(!0),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${c?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(zu,{size:16,className:"inline mr-1"}),"Amigos"]})]}),a?u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"text-gray-500",children:"Cargando..."})}):g.length===0?u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center p-6",children:[u.jsx(Cn,{size:64,className:"mx-auto mb-4 text-gray-300"}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:c?"Sin marcas de amigos":"Sin marcas para hoy"}),u.jsx("p",{className:"text-gray-600 mb-4",children:c?"Comparte el enlace con tu crew para competir juntos":"S el primero y desbloquea la medalla Pionero! (+20 monedas)"}),n&&!c&&u.jsx("button",{onClick:()=>{e(),n()},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Jugar ahora"})]})}):u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!v&&!c&&u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[u.jsx(Xt,{size:16}),u.jsx("span",{className:"font-semibold",children:"Marcas de prueba"})]}),u.jsx("p",{className:"text-blue-600 text-xs",children:"S el primero en jugar hoy y gana +20 monedas con la medalla Pionero!"})]}),u.jsx("div",{className:"space-y-2",children:g.map((w,x)=>{const p=w.client_id===h,m=w.is_bot,y=x+1,b=y===1?"text-yellow-500":y===2?"text-gray-400":y===3?"text-amber-600":"text-gray-400";return u.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${p?"bg-blue-50 border-2 border-blue-300":m?"bg-gray-50 opacity-75":"bg-gray-50"}`,children:[u.jsx("div",{className:`text-2xl font-bold ${b} w-8 text-center`,children:y<=3?u.jsx(Cn,{size:24,className:"inline"}):y}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[m&&u.jsx("span",{className:"text-xs",children:""}),w.display_name&&u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:w.display_name}),m&&u.jsx("span",{className:"text-xs text-gray-500",children:"(Prueba)"})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx($0,{size:14,className:"text-blue-500"}),u.jsxs("span",{className:"font-semibold",children:[(w.time_ms/1e3).toFixed(1),"s"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(wb,{size:14,className:"text-purple-500"}),u.jsx("span",{className:"font-semibold",children:w.moves})]})]}),p&&u.jsx("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:"T!"})]}),!m&&u.jsx("div",{className:"text-xs text-gray-400",children:new Date(w.created_at).toLocaleTimeString("es",{hour:"2-digit",minute:"2-digit"})})]},w.id)})})]}),u.jsx("button",{onClick:e,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]})})};function I_({onPowerUpUsed:t,disabled:e}){const[n,s]=k.useState(Fe()),[i,r]=k.useState(null),o=(c,d)=>{r(c)},a=(c,d)=>{fh(d)?(s(Fe()),t(c),r(null)):alert("No tienes suficientes monedas!")},l=()=>{r(null)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-2 justify-center",children:[u.jsxs("button",{onClick:()=>o(20),disabled:e||n<100,className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm shadow-lg transition-all ${e||n<100?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95"}`,children:[u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(_b,{size:16}),u.jsx("span",{children:"20%"})]}),u.jsxs("div",{className:"text-xs flex items-center justify-center gap-1 mt-1",children:[u.jsx(Pt,{size:12}),u.jsx("span",{children:"100"})]})]}),u.jsxs("button",{onClick:()=>o(40),disabled:e||n<200,className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm shadow-lg transition-all ${e||n<200?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-600 text-white hover:scale-105 active:scale-95"}`,children:[u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(Xt,{size:16}),u.jsx("span",{children:"40%"})]}),u.jsxs("div",{className:"text-xs flex items-center justify-center gap-1 mt-1",children:[u.jsx(Pt,{size:12}),u.jsx("span",{children:"200"})]})]})]}),i&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full text-center shadow-2xl animate-scale-in",children:[u.jsx("div",{className:"text-6xl mb-4",children:i===20?"":""}),u.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Revelar ",i,"% de Parejas"]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Esta ayuda revelar automticamente algunas parejas de cartas"}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-3 mb-6",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[u.jsx(Pt,{size:24}),u.jsx("span",{className:"text-2xl font-black",children:i===20?"100":"200"}),u.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:l,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-bold hover:bg-gray-600 transition-colors",children:"Cancelar"}),u.jsx("button",{onClick:()=>a(i,i===20?100:200),className:`flex-1 py-3 rounded-xl font-bold text-white transition-all ${i===20?"bg-gradient-to-r from-green-500 to-emerald-600 hover:scale-105":"bg-gradient-to-r from-yellow-500 to-orange-600 hover:scale-105"}`,children:"Confirmar"})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Tu saldo actual: ",n," monedas"]})]})}),u.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const z_=({open:t,onStay:e,onExit:n})=>{const s=k.useRef(null);return k.useEffect(()=>{var i;t&&((i=s.current)==null||i.focus())},[t]),k.useEffect(()=>{if(!t)return;const i=r=>{r.key==="Escape"&&(r.preventDefault(),e())};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[t,e]),t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Quieres salir del nivel?"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{ref:s,type:"button",onClick:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Seguir Jugando"}),u.jsx("button",{type:"button",onClick:n,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"})]})]})}):null},$_=()=>{const[t,e]=k.useState(!1),[n,s]=k.useState(!1),[i,r]=k.useState(1),o=k.useRef(null);k.useEffect(()=>{const c=localStorage.getItem("sound.muted"),d=localStorage.getItem("sound.volume"),h=c==="true",f=d?Math.max(0,Math.min(1,parseFloat(d))):1;s(h),r(f);try{h?Ue.mute():Ue.unmute(),Ue.setMasterVolume(f)}catch(g){console.error("Error initializing sound:",g)}},[]),k.useEffect(()=>{if(!t)return;const c=d=>{o.current&&!o.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[t]);const a=()=>{const c=!n;s(c),localStorage.setItem("sound.muted",c?"true":"false");try{c?Ue.mute():Ue.unmute()}catch(d){console.error("Error toggling sound:",d)}},l=c=>{const d=Number(c.target.value)/100;r(d),localStorage.setItem("sound.volume",String(d));try{Ue.setMasterVolume(d)}catch(h){console.error("Error setting volume:",h)}};return u.jsxs("div",{className:"relative select-none",ref:o,children:[u.jsx("button",{type:"button","aria-label":"Ajustes de sonido",onClick:()=>e(c=>!c),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(xb,{size:20,className:"text-gray-700"})}),t&&u.jsxs("div",{className:"absolute right-0 mt-2 rounded-xl shadow-2xl bg-white p-4 z-50 min-w-[200px]",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Sonido"}),u.jsx("button",{type:"button",onClick:a,className:`px-3 py-1 rounded-lg text-sm font-semibold transition-colors ${n?"bg-gray-200 text-gray-600":"bg-green-500 text-white"}`,children:n?"OFF":"ON"})]}),u.jsxs("div",{className:"mt-2",children:[u.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Volumen: ",Math.round(i*100),"%"]}),u.jsx("input",{type:"range",min:0,max:100,value:Math.round(i*100),onChange:l,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500",disabled:n})]})]})]})},A_=({open:t,onClose:e,shareText:n,shareUrl:s})=>{const[i,r]=k.useState(!1);if(!t)return null;const o=async()=>{try{await navigator.clipboard.writeText(`${n}
${s}`),r(!0),setTimeout(()=>r(!1),2e3)}catch(h){console.error("Error copying to clipboard:",h)}},a=()=>{const h=`https://wa.me/?text=${encodeURIComponent(`${n}
${s}`)}`;window.open(h,"_blank")},l=()=>{window.open("https://www.tiktok.com/","_blank")},c=()=>{window.open("https://www.instagram.com/","_blank")},d=async()=>{if(navigator.share)try{await navigator.share({title:"TwinClash",text:n,url:s}),e()}catch(h){console.error("Error sharing:",h)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Compartir"}),u.jsx("button",{type:"button",onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Js,{size:24})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("button",{type:"button",onClick:a,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-green-500 flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"WhatsApp"})]}),u.jsxs("button",{type:"button",onClick:c,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Instagram"})]}),u.jsxs("button",{type:"button",onClick:l,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-black flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"TikTok"})]})]}),u.jsx("button",{type:"button",onClick:o,className:"w-full bg-blue-500 text-white py-4 rounded-xl font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 mb-3",children:i?u.jsxs(u.Fragment,{children:[u.jsx(z0,{size:20}),"Copiado!"]}):u.jsxs(u.Fragment,{children:[u.jsx(A0,{size:20}),"Copiar enlace"]})}),navigator.share&&u.jsx("button",{type:"button",onClick:d,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Ms opciones..."})]})})},Dr="generated",D_="pointerdown",U_="pointerup",yp="pointerleave",F_="pointerout",vp="pointermove",B_="touchstart",wp="touchend",q_="touchmove",W_="touchcancel",V_="resize",H_="visibilitychange",Qs="tsParticles - Error";let Qu=class on{constructor(e,n,s){if(this._updateFromAngle=(i,r)=>{this.x=Math.cos(i)*r,this.y=Math.sin(i)*r},!Jt(e)&&e){this.x=e.x,this.y=e.y;const i=e;this.z=i.z?i.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=s??0;else throw new Error(`${Qs} Vector3d not initialized correctly`)}static get origin(){return on.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return on.create(e.x,e.y,e.z)}static create(e,n,s){return new on(e,n,s)}add(e){return on.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return on.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return on.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return on.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return on.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return on.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}},My=class _a extends Qu{constructor(e,n){super(e,n,0)}static get origin(){return _a.create(0,0)}static clone(e){return _a.create(e.x,e.y)}static create(e,n){return new _a(e,n)}},G_=Math.random;function In(){return Ry(G_(),0,1-1e-16)}function Ry(t,e,n){return Math.min(Math.max(t,e),n)}function $i(t){const e=vh(t);let n=yh(t);return e===n&&(n=0),In()*(e-n)+n}function se(t){return Jt(t)?t:$i(t)}function yh(t){return Jt(t)?t:t.min}function vh(t){return Jt(t)?t:t.max}function H(t,e){if(t===e||e===void 0&&Jt(t))return t;const n=yh(t),s=vh(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(s,e)}:H(n,s)}function K_(t){const e=t.random,{enable:n,minimumValue:s}=cs(e)?{enable:e,minimumValue:0}:e;return se(n?H(t.value,s):t.value)}function J_(t,e){const n=t.x-e.x,s=t.y-e.y;return{dx:n,dy:s,distance:Math.sqrt(n**2+s**2)}}function wh(t,e){return J_(t,e).distance}function Q_(t,e,n){if(Jt(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return In()*Math.PI*2}}function Y_(t){const e=My.origin;return e.length=1,e.angle=t,e}function X_(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??In()*t.size.width,y:((n=t.position)==null?void 0:n.y)??In()*t.size.height}}function Oy(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const Z_={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function uo(){return Z_}function Nl(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function eS(){return!Nl()&&typeof matchMedia<"u"}function Iy(t){if(eS())return matchMedia(t)}function tS(t){if(!(Nl()||typeof MutationObserver>"u"))return new MutationObserver(t)}function nS(t,e){return t===e||gn(e)&&e.indexOf(t)>-1}function sS(t){return Math.floor(In()*t.length)}function xh(t,e,n=!0){return t[e!==void 0&&n?e%t.length:sS(t)]}function Be(t,...e){for(const n of e){if(n==null)continue;if(!jr(n)){t=n;continue}const s=Array.isArray(n);s&&(jr(t)||!t||!Array.isArray(t))?t=[]:!s&&(jr(t)||!t||Array.isArray(t))&&(t={});for(const i in n){if(i==="__proto__")continue;const r=n,o=r[i],a=t;a[i]=jr(o)&&Array.isArray(o)?o.map(l=>Be(a[i],l)):Be(a[i],o)}}return t}function Ys(t,e){return gn(t)?t.map((n,s)=>e(n,s)):e(t,0)}function Ur(t,e,n){return gn(t)?xh(t,e,n):t}function iS(t,e){const n=t.value,s=t.animation,i={delayTime:se(s.delay)*1e3,enable:s.enable,value:se(t.value)*e,max:vh(n)*e,min:yh(n)*e,loops:0,maxLoops:se(s.count),time:0};if(s.enable){switch(i.decay=1-se(s.decay),s.mode){case"increase":i.status="increasing";break;case"decrease":i.status="decreasing";break;case"random":i.status=In()>=.5?"increasing":"decreasing";break}const r=s.mode==="auto";switch(s.startValue){case"min":i.value=i.min,r&&(i.status="increasing");break;case"max":i.value=i.max,r&&(i.status="decreasing");break;case"random":default:i.value=$i(i),r&&(i.status=In()>=.5?"increasing":"decreasing");break}}return i.initialValue=i.value,i}function rS(t,e){if(!(t.mode==="percent")){const{mode:i,...r}=t;return r}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function zy(t,e){return rS(t,e)}function cs(t){return typeof t=="boolean"}function mn(t){return typeof t=="string"}function Jt(t){return typeof t=="number"}function $y(t){return typeof t=="function"}function jr(t){return typeof t=="object"&&t!==null}function gn(t){return Array.isArray(t)}const oS="random",Ll=new Map;function xp(t){Ll.set(t.key,t)}function bc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aS(t){for(const[,r]of Ll)if(t.startsWith(r.stringPrefix))return r.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(r,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,i=s.exec(n);return i?{a:i[4]!==void 0?parseInt(i[4],16)/255:1,b:parseInt(i[3],16),g:parseInt(i[2],16),r:parseInt(i[1],16)}:void 0}function Ai(t,e,n=!0){if(!t)return;const s=mn(t)?{value:t}:t;if(mn(s.value))return Ay(s.value,e,n);if(gn(s.value))return Ai({value:xh(s.value,e,n)});for(const[,i]of Ll){const r=i.handleRangeColor(s);if(r)return r}}function Ay(t,e,n=!0){if(!t)return;const s=mn(t)?{value:t}:t;if(mn(s.value))return s.value===oS?dS():cS(s.value);if(gn(s.value))return Ay({value:xh(s.value,e,n)});for(const[,i]of Ll){const r=i.handleColor(s);if(r)return r}}function bp(t,e,n=!0){const s=Ai(t,e,n);return s?lS(s):void 0}function lS(t){const e=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(e,n,s),r=Math.min(e,n,s),o={h:0,l:(i+r)/2,s:0};return i!==r&&(o.s=o.l<.5?(i-r)/(i+r):(i-r)/(2-i-r),o.h=e===i?(n-s)/(i-r):o.h=n===i?2+(s-e)/(i-r):4+(e-n)/(i-r)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function cS(t){return aS(t)}function Yu(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const s=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,i=2*n.l-s;e.r=bc(i,s,n.h+1/3),e.g=bc(i,s,n.h),e.b=bc(i,s,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function uS(t){const e=Yu(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function dS(t){return{b:Math.floor($i(H(0,256))),g:Math.floor($i(H(0,256))),r:Math.floor($i(H(0,256)))}}function Sa(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function kp(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function _p(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function hS(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function fS(t,e,n,s){n&&(t.globalAlpha=s,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function kc(t,e){t.clearRect(0,0,e.width,e.height)}function pS(t){const{container:e,context:n,particle:s,delta:i,colorStyles:r,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:d,transform:h}=t,f=s.getPosition(),g=s.rotation+(s.pathRotation?s.velocity.angle:0),v={sin:Math.sin(g),cos:Math.cos(g)},w={a:v.cos*(h.a??1),b:v.sin*(h.b??1),c:-v.sin*(h.c??1),d:v.cos*(h.d??1)};n.setTransform(w.a,w.b,w.c,w.d,f.x,f.y),n.beginPath(),o&&(n.globalCompositeOperation=a);const x=s.shadowColor;d.enable&&x&&(n.shadowBlur=d.blur,n.shadowColor=Sa(x),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),r.fill&&(n.fillStyle=r.fill);const p=s.strokeWidth??0;n.lineWidth=p,r.stroke&&(n.strokeStyle=r.stroke),mS(e,n,s,l,c,i),p>0&&n.stroke(),s.close&&n.closePath(),s.fill&&n.fill(),gS(e,n,s,l,c,i),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function mS(t,e,n,s,i,r){if(!n.shape)return;const o=t.drawers.get(n.shape);o&&o.draw(e,n,s,i,r,t.retina.pixelRatio)}function gS(t,e,n,s,i,r){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||!o.afterEffect||o.afterEffect(e,n,s,i,r,t.retina.pixelRatio)}function yS(t,e,n){e.draw&&e.draw(t,n)}function vS(t,e,n,s){e.drawParticle&&e.drawParticle(t,n,s)}function wS(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function xS(t,e,n){const s=e[n];s!==void 0&&(t[n]=(t[n]??1)*s)}class bS{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const s of this._postDrawUpdaters)s.afterDraw&&s.afterDraw(n)},this._applyPreDrawUpdaters=(n,s,i,r,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:d}=l.getColorStyles(s,n,i,r);c&&(o.fill=c),d&&(o.stroke=d)}if(l.getTransformValues){const c=l.getTransformValues(s);for(const d in c)xS(a,c,d)}l.beforeDraw&&l.beforeDraw(s)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let s,i;for(const r of this._colorPlugins)if(!s&&r.particleFillColor&&(s=bp(r.particleFillColor(n))),!i&&r.particleStrokeColor&&(i=bp(r.particleStrokeColor(n))),s&&i)break;return[s,i]},this._initCover=()=>{const n=this.container.actualOptions,s=n.backgroundMask.cover,i=s.color,r=Ai(i);if(r){const o={...r,a:s.opacity};this._coverColorStyle=Sa(o,o.a)}},this._initStyle=()=>{const n=this.element,s=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Be({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const i in s.style){if(!i||!s.style)continue;const r=s.style[i];r&&n.style.setProperty(i,r,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,s=n.particles.move.trail,i=s.fill;if(s.enable)if(i.color){const r=Ai(i.color);if(!r)return;const o=n.particles.move.trail;this._trailFill={color:{...r},opacity:1/o.length}}else await new Promise((r,o)=>{if(!i.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/s.length},r()}),a.addEventListener("error",l=>{o(l.error)}),a.src=i.image})},this._paintBase=n=>{this.draw(s=>hS(s,this.size,n))},this._paintImage=(n,s)=>{this.draw(i=>fS(i,this.size,n,s))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(s=>s.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(s=>s.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,s=this._originalStyle;if(!(n&&s))return;const i=n.style;i.position=s.position,i.zIndex=s.zIndex,i.top=s.top,i.left=s.left,i.width=s.width,i.height=s.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const s="important",i=n.style;i.setProperty("position","fixed",s),i.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),s),i.setProperty("top","0",s),i.setProperty("left","0",s),i.setProperty("width","100%",s),i.setProperty("height","100%",s)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,s=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&s?s.color?this._paintBase(Sa(s.color,s.opacity)):s.image&&this._paintImage(s.image,s.opacity):this.draw(i=>{kc(i,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const s=e.getRadius();if(s<=0)return;const i=e.getFillColor(),r=e.getStrokeColor()??i;let[o,a]=this._getPluginParticleColors(e);o||(o=i),a||(a=r),!(!o&&!a)&&this.draw(l=>{var y;const c=this.container,d=c.actualOptions,h=e.options.zIndex,f=(1-e.zIndexFactor)**h.opacityRate,g=e.bubble.opacity??((y=e.opacity)==null?void 0:y.value)??1,v=e.strokeOpacity??g,w=g*f,x=v*f,p={},m={fill:o?kp(o,w):void 0};m.stroke=a?kp(a,x):m.fill,this._applyPreDrawUpdaters(l,e,s,w,m,p),pS({container:c,context:l,particle:e,delta:n,colorStyles:m,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:s*(1-e.zIndexFactor)**h.sizeRate,opacity:w,shadow:e.options.shadow,transform:p}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,s){this.draw(i=>vS(i,e,n,s))}drawPlugin(e,n){this.draw(s=>yS(s,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=tS(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){uo().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,s=this.element;if(!s)return;const i=s.style;if(i){if(n.color){const r=Ai(n.color);i.backgroundColor=r?Sa(r,n.opacity):""}else i.backgroundColor="";i.backgroundImage=n.image||"",i.backgroundPosition=n.position||"",i.backgroundRepeat=n.repeat||"",i.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Dr in e.dataset?e.dataset[Dr]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Be({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(kc(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,s=e.canvas.size,i={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(i.height===s.height&&i.width===s.width&&i.height===this.element.height&&i.width===this.element.width)return!1;const r={...s};return this.element.width=s.width=this.element.offsetWidth*n,this.element.height=s.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:s.width/r.width,height:s.height/r.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>kc(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function kt(t,e,n,s,i){if(s){let r={passive:!0};cs(i)?r.capture=i:i!==void 0&&(r=i),t.addEventListener(e,n,r)}else{const r=i;t.removeEventListener(e,n,r)}}class kS{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const s=this.container,i=s.actualOptions;if(this._canPush){const r=s.interactivity.mouse,o=r.position;if(!o)return;r.clickPosition={...o},r.clickTime=new Date().getTime();const a=i.interactivity.events.onClick;Ys(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const s=n,i=this.container,r=i.options,o=r.defaultThemes,a=s.matches?o.dark:o.light,l=r.themes.find(c=>c.name===a);l&&l.default.auto&&i.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,s=n.actualOptions;this._mouseTouchFinish(),s.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,s)=>{const i=this._handlers,r=this.container,o=r.actualOptions,a=r.interactivity.element;if(!a)return;const l=a,c=r.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(kt(a,vp,i.mouseMove,s),kt(a,B_,i.touchStart,s),kt(a,q_,i.touchMove,s),o.interactivity.events.onClick.enable?(kt(a,wp,i.touchEndClick,s),kt(a,U_,i.mouseUp,s),kt(a,D_,i.mouseDown,s)):kt(a,wp,i.touchEnd,s),kt(a,n,i.mouseLeave,s),kt(a,W_,i.touchCancel,s))},this._manageListeners=n=>{const s=this._handlers,i=this.container,r=i.actualOptions,o=r.interactivity.detectsOn,a=i.canvas.element;let l=yp;o==="window"?(i.interactivity.element=window,l=F_):o==="parent"&&a?i.interactivity.element=a.parentElement??a.parentNode:i.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&kt(document,H_,s.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const s=this._handlers,i=Iy("(prefers-color-scheme: dark)");if(i){if(i.addEventListener!==void 0){kt(i,"change",s.themeChange,n);return}i.addListener!==void 0&&(n?i.addListener(s.oldThemeChange):i.removeListener(s.oldThemeChange))}},this._manageResize=n=>{const s=this._handlers,i=this.container;if(!i.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){kt(window,V_,s.resize,n);return}const o=i.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:s}=n;s.clicking=!0,s.downPosition=s.position},this._mouseTouchClick=n=>{const s=this.container,i=s.actualOptions,{mouse:r}=s.interactivity;r.inside=!0;let o=!1;const a=r.position;if(!(!a||!i.interactivity.events.onClick.enable)){for(const[,l]of s.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),r.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const s=n.mouse;delete s.position,delete s.clickPosition,delete s.downPosition,n.status=yp,s.inside=!1,s.clicking=!1},this._mouseTouchMove=n=>{const s=this.container,i=s.actualOptions,r=s.interactivity,o=s.canvas.element;if(!r||!r.element)return;r.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(r.element===window){if(o){const d=o.getBoundingClientRect();a={x:c.clientX-d.left,y:c.clientY-d.top}}}else if(i.interactivity.detectsOn==="parent"){const d=c.target,h=c.currentTarget;if(d&&h&&o){const f=d.getBoundingClientRect(),g=h.getBoundingClientRect(),v=o.getBoundingClientRect();a={x:c.offsetX+2*f.left-(g.left+v.left),y:c.offsetY+2*f.top-(g.top+v.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,d=c.touches[c.touches.length-1],h=o.getBoundingClientRect();a={x:d.clientX-(h.left??0),y:d.clientY-(h.top??0)}}const l=s.retina.pixelRatio;a&&(a.x*=l,a.y*=l),r.mouse.position=a,r.status=vp},this._touchEnd=n=>{const s=n,i=Array.from(s.changedTouches);for(const r of i)this._touches.delete(r.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const s=n,i=Array.from(s.changedTouches);for(const r of i)this._touches.delete(r.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const s=n,i=Array.from(s.changedTouches);for(const r of i)this._touches.set(r.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}let fs=class Dy{constructor(){this.value=""}static create(e,n){const s=new Dy;return s.load(e),n!==void 0&&(mn(n)||gn(n)?s.load({value:n}):s.load(n)),s}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}};class _S{constructor(){this.color=new fs,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=fs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class SS{constructor(){this.color=new fs,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=fs.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class jS{constructor(){this.composite="destination-out",this.cover=new SS,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,s=mn(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:s})}e.enable!==void 0&&(this.enable=e.enable)}}}class CS{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class ES{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class Sp{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Ys(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Ys(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class PS{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class TS{constructor(){this.enable=!1,this.mode=[],this.parallax=new PS}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class NS{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class LS{constructor(){this.onClick=new ES,this.onDiv=new Sp,this.onHover=new TS,this.resize=new NS}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=Ys(n,s=>{const i=new Sp;return i.load(s),i})),this.onHover.load(e.onHover??e.onhover),cs(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class MS{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const s of n)s.loadModeOptions&&s.loadModeOptions(this,e)}}class Uy{constructor(e,n){this.detectsOn="window",this.events=new LS,this.modes=new MS(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class RS{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Be({},e.options)))}}class OS{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Be({},e.options)))}}class IS{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class zS{constructor(){this.name="",this.default=new IS}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Be({},e.options)))}}class _c{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=H(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=H(e.offset)),e.speed!==void 0&&(this.speed=H(e.speed)),e.decay!==void 0&&(this.decay=H(e.decay)),e.delay!==void 0&&(this.delay=H(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class $S{constructor(){this.h=new _c,this.s=new _c,this.l=new _c}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class ho extends fs{constructor(){super(),this.animation=new $S}static create(e,n){const s=new ho;return s.load(e),n!==void 0&&(mn(n)||gn(n)?s.load({value:n}):s.load(n)),s}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class AS{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class DS{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class US{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=H(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=H(e.speed)),e.decay!==void 0&&(this.decay=H(e.decay)),e.delay!==void 0&&(this.delay=H(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Fy extends US{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class FS{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}let jo=class{constructor(){this.random=new FS,this.value=0}load(e){e&&(cs(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=H(e.value,this.random.enable?this.random.minimumValue:void 0)))}};class jp extends jo{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class By{constructor(){this.horizontal=new jp,this.vertical=new jp}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class BS{constructor(){this.absorb=new AS,this.bounce=new By,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new DS}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=H(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class qS{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=H(e.offset)),e.value!==void 0&&(this.value=H(e.value)))}}class WS{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var i,r;if(!e)return;e.distance!==void 0&&(this.distance=H(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((i=e.rotate)==null?void 0:i.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const s=((r=e.rotate)==null?void 0:r.y)??e.rotateY;s!==void 0&&(this.rotate.y=s)}}class VS{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class HS{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=H(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=H(e.maxSpeed)))}}class GS{constructor(){this.clamp=!0,this.delay=new jo,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Be(this.options,e.options)))}}class KS{load(e){e&&(e.color!==void 0&&(this.color=fs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class JS{constructor(){this.enable=!1,this.length=10,this.fill=new KS}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class QS{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class YS{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=H(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Be({},e.position)))}}class XS{constructor(){this.angle=new qS,this.attract=new WS,this.center=new VS,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new HS,this.path=new GS,this.outModes=new QS,this.random=!1,this.size=!1,this.speed=2,this.spin=new YS,this.straight=!1,this.trail=new JS,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Jt(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=H(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Jt(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=H(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(jr(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=H(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class ZS extends Fy{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class e2 extends jo{constructor(){super(),this.animation=new ZS,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=H(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class t2{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const s=e.height??e.factor;s!==void 0&&(this.height=s)}}class n2{constructor(){this.density=new t2,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class s2{constructor(){this.blur=0,this.color=new fs,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=fs.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Sc="character",jc="char",Cc="image",Ec="images",Pc="polygon",Tc="star";class i2{constructor(){this.loadShape=(e,n,s,i)=>{if(!e)return;const r=gn(e),o=r?[]:{},a=r!==gn(this.options[n]),l=r!==gn(this.options[s]);a&&(this.options[n]=o),l&&i&&(this.options[s]=o),this.options[n]=Be(this.options[n]??o,e),(!this.options[s]||i)&&(this.options[s]=Be(this.options[s]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Sc]??this.options[jc]}set character(e){this.options[jc]=this.options[Sc]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Cc]??this.options[Ec]}set image(e){this.options[Ec]=this.options[Cc]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Pc]??this.options[Tc]}set polygon(e){this.options[Tc]=this.options[Pc]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const s in n){const i=n[s];i&&(this.options[s]=Be(this.options[s]??{},i))}this.loadShape(e.character,Sc,jc,!0),this.loadShape(e.polygon,Pc,Tc,!1),this.loadShape(e.image??e.images,Cc,Ec,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class r2 extends Fy{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class o2 extends jo{constructor(){super(),this.animation=new r2,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=H(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Cp{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=ho.create(this.color,e.color)),e.width!==void 0&&(this.width=H(e.width)),e.opacity!==void 0&&(this.opacity=H(e.opacity)))}}class a2 extends jo{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class l2{constructor(e,n){this._engine=e,this._container=n,this.bounce=new By,this.collisions=new BS,this.color=new ho,this.color.value="#fff",this.groups={},this.move=new XS,this.number=new n2,this.opacity=new e2,this.reduceDuplicates=!1,this.shadow=new s2,this.shape=new i2,this.size=new o2,this.stroke=new Cp,this.zIndex=new a2}load(e){var i,r,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(ho.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=Be(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((i=e.move)==null?void 0:i.collisions)??((r=e.move)==null?void 0:r.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Be({},e.interactivity));const s=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(s&&(this.stroke=Ys(s,a=>{const l=new Cp;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function qy(t,...e){for(const n of e)t.load(n)}function Wy(t,e,...n){const s=new l2(t,e);return qy(s,...n),s}class c2{constructor(e,n){this._findDefaultTheme=s=>this.themes.find(i=>i.default.value&&i.default.mode===s)??this.themes.find(i=>i.default.value&&i.default.mode==="any"),this._importPreset=s=>{this.load(this._engine.plugins.getPreset(s))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new _S,this.backgroundMask=new jS,this.defaultThemes={},this.delay=0,this.fullScreen=new CS,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Uy(e,n),this.manualParticles=[],this.particles=Wy(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&Ys(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=H(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=H(e.duration));const s=e.fpsLimit??e.fps_limit;s!==void 0&&(this.fpsLimit=s),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const i=e.fullScreen??e.backgroundMode;cs(i)?this.fullScreen.enable=i:this.fullScreen.load(i),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new RS;return c.load(l),c})),this.particles.load(e.particles),this.style=Be(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const r=this._engine.plugins.interactors.get(this._container);if(r)for(const l of r)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new OS;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(d=>d.name===l.name);if(c)c.load(l);else{const d=new zS;d.load(l),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,n,s){this.load(s);const i=this.responsive.find(r=>r.mode==="screen"&&screen?r.maxWidth>screen.availWidth:r.maxWidth*n>e);return this.load(i==null?void 0:i.options),i==null?void 0:i.maxWidth}setTheme(e){if(e){const n=this.themes.find(s=>s.name===e);n&&this.load(n.options)}else{const n=Iy("(prefers-color-scheme: dark)"),s=n&&n.matches,i=this._findDefaultTheme(s?"dark":"light");i&&this.load(i.options)}}}class u2{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const s of this._externalInteractors)s.clear(e,n);for(const s of this._particleInteractors)s.isEnabled(e)&&await s.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const Ep=t=>{if(!nS(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class d2{constructor(e,n,s,i,r,o){this.container=s,this._calcPosition=(a,l,c,d=0)=>{for(const[,m]of a.plugins){const y=m.particlePosition!==void 0?m.particlePosition(l,this):void 0;if(y)return Qu.create(y.x,y.y,c)}const h=a.canvas.size,f=X_({size:h,position:l}),g=Qu.create(f.x,f.y,c),v=this.getRadius(),w=this.options.move.outModes,x=m=>{Ep({outMode:m,checkModes:["bounce","bounce-horizontal"],coord:g.x,maxCoord:a.canvas.size.width,setCb:y=>g.x+=y,radius:v})},p=m=>{Ep({outMode:m,checkModes:["bounce","bounce-vertical"],coord:g.y,maxCoord:a.canvas.size.height,setCb:y=>g.y+=y,radius:v})};return x(w.left??w.default),x(w.right??w.default),p(w.top??w.default),p(w.bottom??w.default),this._checkOverlap(g,d)?this._calcPosition(a,void 0,c,d+1):g},this._calculateVelocity=()=>{const a=Y_(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const d=Math.PI/180*se(c.angle.value),h=Math.PI/180*se(c.angle.offset),f={left:h-d/2,right:h+d/2};return c.straight||(l.angle+=$i(H(f.left,f.right))),c.random&&typeof c.speed=="number"&&(l.length*=In()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,d=this.getRadius();if(!c.enable)return!1;const h=c.overlap;if(h.enable)return!1;const f=h.retries;if(f>=0&&l>f)throw new Error(`${Qs} particle is overlapping and can't be placed`);return!!this.container.particles.find(g=>wh(a,g.position)<d+g.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?wS(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=se(this.options.zIndex.value);this.position=this._calcPosition(l,a,Ry(c,0,l.zLayers)),this.initialPosition=this.position.copy();const d=l.canvas.size;switch(this.moveCenter={...zy(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=Q_(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=My.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return Be({close:a.close,fill:a.fill},Ur(c,this.id,l))},this._engine=e,this.init(n,i,r,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,s=this.pathGenerator;for(const[,i]of n.plugins)i.particleDestroyed&&i.particleDestroyed(this,e);for(const i of n.particles.updaters)i.particleDestroyed&&i.particleDestroyed(this,e);s&&s.reset(this)}draw(e){const n=this.container;for(const[,s]of n.plugins)n.canvas.drawParticlePlugin(s,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??_p(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??_p(this.strokeColor))}init(e,n,s,i){const r=this.container,o=this._engine;this.id=e,this.group=i,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=r.retina.pixelRatio,l=r.actualOptions,c=Wy(this._engine,r,l.particles),d=c.shape.type,{reduceDuplicates:h}=c;this.shape=Ur(d,this.id,h);const f=c.shape;if(s&&s.shape&&s.shape.type){const y=s.shape.type,b=Ur(y,this.id,h);b&&(this.shape=b,f.load(s.shape))}this.shapeData=this._loadShapeData(f,h),c.load(s);const g=this.shapeData;g&&c.load(g.particles);const v=new Uy(o,r);v.load(r.actualOptions.interactivity),v.load(c.interactivity),this.interactivity=v,this.fill=(g==null?void 0:g.fill)??c.shape.fill,this.close=(g==null?void 0:g.close)??c.shape.close,this.options=c;const w=this.options.move.path;this.pathDelay=K_(w.delay)*1e3,w.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(w.generator),this.pathGenerator&&r.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(r)),r.retina.initParticle(this),this.size=iS(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-se(this.options.move.decay);const x=r.particles;x.needsSort=x.needsSort||x.lastZIndex<this.position.z,x.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/r.zLayers,this.sides=24;let p=r.drawers.get(this.shape);p||(p=this._engine.plugins.getShapeDrawer(this.shape),p&&r.drawers.set(this.shape,p)),p&&p.loadShape&&p.loadShape(this);const m=p==null?void 0:p.getSidesCount;m&&(this.sides=m(this)),this.spawning=!1,this.shadowColor=Ai(this.options.shadow.color);for(const y of r.particles.updaters)y.init(this);for(const y of r.particles.movers)y.init&&y.init(this);p&&p.particleInit&&p.particleInit(r,this);for(const[,y]of r.plugins)y.particleCreated&&y.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,s=this.position;return s.x>=-e&&s.y>=-e&&s.y<=n.height+e&&s.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class h2{constructor(e,n){this.position=e,this.particle=n}}class Vy{constructor(e,n){this.position={x:e,y:n}}}let tl=class Hy extends Vy{constructor(e,n,s,i){super(e,n),this.size={height:i,width:s}}contains(e){const n=this.size.width,s=this.size.height,i=this.position;return e.x>=i.x&&e.x<=i.x+n&&e.y>=i.y&&e.y<=i.y+s}intersects(e){e instanceof Gy&&e.intersects(this);const n=this.size.width,s=this.size.height,i=this.position,r=e.position,o=e instanceof Hy?e.size:{width:0,height:0},a=o.width,l=o.height;return r.x<i.x+n&&r.x+a>i.x&&r.y<i.y+s&&r.y+l>i.y}},Gy=class Ky extends Vy{constructor(e,n,s){super(e,n),this.radius=s}contains(e){return wh(e,this.position)<=this.radius}intersects(e){const n=this.position,s=e.position,i={x:Math.abs(s.x-n.x),y:Math.abs(s.y-n.y)},r=this.radius;if(e instanceof Ky){const o=r+e.radius,a=Math.sqrt(i.x**2+i.y**2);return o>a}else if(e instanceof tl){const{width:o,height:a}=e.size;return Math.pow(i.x-o,2)+Math.pow(i.y-a,2)<=r**2||i.x<=r+o&&i.y<=r+a||i.x<=o||i.y<=a}return!1}};class nl{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:s,y:i}=this.rectangle.position,{width:r,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new nl(new tl(s+r/2*(l%2),i+o/2*(Math.round(l/2)-l%2),r/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,s){const i=s||[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&wh(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)r.query(e,n,i);return i}queryCircle(e,n,s){return this.query(new Gy(e.x,e.y,n),s)}queryRectangle(e,n,s){return this.query(new tl(e.x,e.y,n.width,n.height),s)}}const Pp=4,Tp=t=>new tl(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let f2=class{constructor(e,n){this._applyDensity=(i,r,o)=>{var g;if(!((g=i.number.density)!=null&&g.enable))return;const a=i.number,l=this._initDensityFactor(a.density),c=a.value,d=a.limit>0?a.limit:c,h=Math.min(c,d)*l+r,f=Math.min(this.count,this.filter(v=>v.group===o).length);this.limit=a.limit*l,f<h?this.push(Math.abs(h-f),void 0,i,o):f>h&&this.removeQuantity(f-h,o)},this._initDensityFactor=i=>{const r=this._container;if(!r.canvas.element||!i.enable)return 1;const o=r.canvas.element,a=r.retina.pixelRatio;return o.width*o.height/(i.factor*a**2*i.area)},this._pushParticle=(i,r,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,i,r,o):l=new d2(this._engine,this._nextId,this._container,i,r,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){uo().warning(`${Qs} adding particle: ${l}`);return}},this._removeParticle=(i,r,o)=>{const a=this._array[i];if(!a||a.group!==r)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(i,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new u2(e,n);const s=n.canvas.size;this.quadTree=new nl(Tp(s),Pp),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const s of n.manualParticles)this.addParticle(s.position?zy(s.position,e.canvas.size):void 0,s.options)}addParticle(e,n,s,i){const r=this._container,o=r.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,n,s,i)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,s]of n.plugins)n.canvas.drawPlugin(s,e);for(const s of this._zArray)s.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var i;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let s=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,r]of e.plugins)if(r.particlesInitialization!==void 0&&(s=r.particlesInitialization()),s)break;this._interactionManager.init();for(const[,r]of e.pathGenerators)r.init(e);if(this.addManualParticles(),!s){for(const r in n.particles.groups){const o=n.particles.groups[r];for(let a=this.count,l=0;l<((i=o.number)==null?void 0:i.value)&&a<n.particles.number.value;a++,l++)this.addParticle(void 0,o,r)}for(let r=this.count;r<n.particles.number.value;r++)this.addParticle()}}push(e,n,s,i){this.pushing=!0;for(let r=0;r<e;r++)this.addParticle(n==null?void 0:n.position,s,i);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,s){this.removeAt(this._array.indexOf(e),void 0,n,s)}removeAt(e,n=1,s,i){if(e<0||e>this.count)return;let r=0;for(let o=e;r<n&&o<this.count;o++)this._removeParticle(o--,s,i)&&r++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const s in n)this._applyDensity(n[s],0,s);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,s=new Set;this.quadTree=new nl(Tp(n.canvas.size),Pp);for(const[,i]of n.pathGenerators)i.update();for(const[,i]of n.plugins)i.update&&i.update(e);for(const i of this._array){const r=n.canvas.resizeFactor;r&&!i.ignoresResizeRatio&&(i.position.x*=r.width,i.position.y*=r.height,i.initialPosition.x*=r.width,i.initialPosition.y*=r.height),i.ignoresResizeRatio=!1,await this._interactionManager.reset(i);for(const[,o]of this._container.plugins){if(i.destroyed)break;o.particleUpdate&&o.particleUpdate(i,e)}for(const o of this.movers)o.isEnabled(i)&&o.move(i,e);if(i.destroyed){s.add(i);continue}this.quadTree.insert(new h2(i.getPosition(),i))}if(s.size){const i=r=>!s.has(r);this._array=this.filter(i),this._zArray=this._zArray.filter(i),this.pool.push(...s)}await this._interactionManager.externalInteract(e);for(const i of this._array){for(const r of this.updaters)r.update(i,e);!i.destroyed&&!i.spawning&&await this._interactionManager.particlesInteract(i,e)}if(delete n.canvas.resizeFactor,this.needsSort){const i=this._zArray;i.sort((r,o)=>o.position.z-r.position.z||r.id-o.id),this.lastZIndex=i[i.length-1].position.z,this.needsSort=!1}}};class p2{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Nl()?1:window.devicePixelRatio,this.reduceFactor=1;const s=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*s,e.canvas.size.height=o.offsetHeight*s}const i=n.particles,r=i.move;this.attractDistance=se(r.attract.distance)*s,this.maxSpeed=se(r.gravity.maxSpeed)*s,this.sizeAnimationSpeed=se(i.size.animation.speed)*s}initParticle(e){const n=e.options,s=this.pixelRatio,i=n.move,r=i.distance,o=e.retina;o.attractDistance=se(i.attract.distance)*s,o.moveDrift=se(i.drift)*s,o.moveSpeed=se(i.speed)*s,o.sizeAnimationSpeed=se(n.size.animation.speed)*s;const a=o.maxDistance;a.horizontal=r.horizontal!==void 0?r.horizontal*s:void 0,a.vertical=r.vertical!==void 0?r.vertical*s:void 0,o.maxSpeed=se(i.gravity.maxSpeed)*s}}function fe(t){return t&&!t.destroyed}function m2(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function ui(t,e,...n){const s=new c2(t,e);return qy(s,...n),s}const g2="default",Np={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class y2{constructor(e,n,s){this.id=n,this._intersectionManager=i=>{if(!(!fe(this)||!this.actualOptions.pauseOnOutsideViewport))for(const r of i)r.target===this.interactivity.element&&(r.isIntersecting?this.play:this.pause)()},this._nextFrame=async i=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&i<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=i);const r=m2(i-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(r.value),this.lastFrameTime=i,r.value>1e3){this.draw(!1);return}if(await this.particles.draw(r),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(r){uo().error(`${Qs} in animation loop`,r)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=s,this._initialSourceOptions=s,this.retina=new p2(this),this.canvas=new bS(this),this.particles=new f2(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=ui(this._engine,this),this.actualOptions=ui(this._engine,this),this._eventListeners=new kS(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(i=>this._intersectionManager(i))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!fe(this))return;const n=this.interactivity.element;if(!n)return;const s=(h,f,g)=>{if(!fe(this))return;const v=this.retina.pixelRatio,w={x:f.x*v,y:f.y*v},x=this.particles.quadTree.queryCircle(w,g*v);e(h,x)},i=h=>{if(!fe(this))return;const f=h,g={x:f.offsetX||f.clientX,y:f.offsetY||f.clientY};s(h,g,1)},r=()=>{fe(this)&&(c=!0,d=!1)},o=()=>{fe(this)&&(d=!0)},a=h=>{if(fe(this)){if(c&&!d){const f=h;let g=f.touches[f.touches.length-1];if(!g&&(g=f.changedTouches[f.changedTouches.length-1],!g))return;const v=this.canvas.element,w=v?v.getBoundingClientRect():void 0,x={x:g.clientX-(w?w.left:0),y:g.clientY-(w?w.top:0)};s(h,x,Math.max(g.radiusX,g.radiusY))}c=!1,d=!1}},l=()=>{fe(this)&&(c=!1,d=!1)};let c=!1,d=!1;n.addEventListener("click",i),n.addEventListener("touchstart",r),n.addEventListener("touchmove",o),n.addEventListener("touchend",a),n.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,s=!1){return!fe(this)||!s&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??Np),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!fe(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,s]of this.drawers)s.destroy&&s.destroy(this);for(const s of this.drawers.keys())this.drawers.delete(s);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(s=>s===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!fe(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async s=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(s)})}async export(e,n={}){for(const[,s]of this.plugins){if(!s.export)continue;const i=await s.export(e,n);if(i.supported)return i.blob}uo().error(`${Qs} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&fe(this)}handleClickMode(e){if(fe(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!fe(this))return;const e=this._engine.plugins.getSupportedShapes();for(const s of e){const i=this._engine.plugins.getShapeDrawer(s);i&&this.drawers.set(s,i)}this._options=ui(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ui(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[s,i]of n)this.plugins.set(s,i);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=se(this.actualOptions.duration)*1e3,this._delay=se(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,s]of this.drawers)s.init&&await s.init(this);for(const[,s]of this.plugins)s.init&&await s.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,s]of this.plugins)s.particlesSetup&&s.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){fe(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(fe(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!fe(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,s]of this.plugins)s.play&&s.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(fe(this))return this.stop(),this.start()}async reset(){if(fe(this))return this._initialSourceOptions=void 0,this._options=ui(this._engine,this),this.actualOptions=ui(this._engine,this,this._options),this.refresh()}setNoise(e,n,s){fe(this)&&this.setPath(e,n,s)}setPath(e,n,s){if(!e||!fe(this))return;const i={...Np};if($y(e))i.generate=e,n&&(i.init=n),s&&(i.update=s);else{const r=i;i.generate=e.generate||r.generate,i.init=e.init||r.init,i.update=e.update||r.update}this.addPath(g2,i,!0)}async start(){!fe(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!fe(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class v2{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let s=this._listeners.get(e);s||(s=[],this._listeners.set(e,s)),s.push(n)}dispatchEvent(e,n){const s=this._listeners.get(e);s&&s.forEach(i=>i(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const s=this._listeners.get(e);if(!s)return;const i=s.length,r=s.indexOf(n);r<0||(i===1?this._listeners.delete(e):s.splice(r,1))}}function Nc(t,e,n,s=!1){let i=e.get(t);return(!i||s)&&(i=[...n.values()].map(r=>r(t)),e.set(t,i)),i}class w2{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,s=!1){(s||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){Ys(e,s=>{!this.getShapeDrawer(s)&&this.drawers.set(s,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const s of this.plugins)s.needsPlugin(e.actualOptions)&&n.set(s.id,s.getPlugin(e));return n}getInteractors(e,n=!1){return Nc(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return Nc(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return Nc(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const s of this.plugins)s.loadOptions(e,n)}loadParticlesOptions(e,n,...s){const i=this.updaters.get(e);if(i)for(const r of i)r.loadOptions&&r.loadOptions(n,...s)}}async function x2(t){const e=Ur(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(uo().error(`${Qs} ${n.status} while retrieving config file`),t.fallback)}function b2(t){return!t.id&&!t.element&&!t.url&&!t.options}function k2(t){return!b2(t)}class _2{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new v2,this._initialized=!1,this.plugins=new w2(this)}get configs(){const e={};for(const[n,s]of this._configs)e[n]=s;return e}get version(){return"2.12.0"}addConfig(e,n){mn(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,s=!0){this.plugins.addInteractor(e,n),await this.refresh(s)}async addMover(e,n,s=!0){this.plugins.addParticleMover(e,n),await this.refresh(s)}async addParticleUpdater(e,n,s=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(s)}async addPathGenerator(e,n,s=!0){this.plugins.addPathGenerator(e,n),await this.refresh(s)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,s=!1,i=!0){this.plugins.addPreset(e,n,s),await this.refresh(i)}async addShape(e,n,s,i,r,o=!0){let a,l=o,c,d,h;cs(s)?(l=s,c=void 0):c=s,cs(i)?(l=i,d=void 0):d=i,cs(r)?(l=r,h=void 0):h=r,$y(n)?a={afterEffect:d,destroy:h,draw:n,init:c}:a=n,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),s=n[e];if(!s||s.destroyed){n.splice(e,1);return}return s}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,s){let i;return k2(e)?i=e:(i={},mn(e)?i.id=e:i.options=e,Jt(n)?i.index=n:i.options=n??i.options,i.index=s??i.index),this._loadParams(i)}async loadJSON(e,n,s){let i,r;return Jt(n)||n===void 0?i=e:(r=e,i=n),this._loadParams({id:r,url:i,index:s})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,s,i){const r={index:i};return mn(e)?r.id=e:r.element=e,n instanceof HTMLElement?r.element=n:r.options=n,Jt(s)?r.index=s:r.options=s??r.options,this._loadParams(r)}async setJSON(e,n,s,i){const r={};return e instanceof HTMLElement?(r.element=e,r.url=n,r.index=s):(r.id=e,r.element=n,r.url=s,r.index=i),this._loadParams(r)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${Qs} can only set click handlers after calling tsParticles.load()`);for(const s of n)s.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(In()*1e4)}`,{index:s,url:i}=e,r=i?await x2({fallback:e.options,url:i,index:s}):e.options;let o=e.element??document.getElementById(n);o||(o=document.createElement("div"),o.id=n,document.body.append(o));const a=Ur(r,s),l=this.dom(),c=l.findIndex(f=>f.id===n);if(c>=0){const f=this.domItem(c);f&&!f.destroyed&&(f.destroy(),l.splice(c,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[Dr]="false";else{const f=o.getElementsByTagName("canvas");f.length?(d=f[0],d.dataset[Dr]="false"):(d=document.createElement("canvas"),d.dataset[Dr]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const h=new y2(this,n,a);return c>=0?l.splice(c,0,h):l.push(h),h.canvas.loadCanvas(d),await h.start(),h}}let S2=class{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,s=n.hsl??e.value;if(s.h!==void 0&&s.s!==void 0&&s.l!==void 0)return Yu(s)}handleRangeColor(e){const n=e.value,s=n.hsl??e.value;if(s.h!==void 0&&s.l!==void 0)return Yu({h:se(s.h),l:se(s.l),s:se(s.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,s=n.exec(e);return s?uS({a:s.length>4?Oy(s[5]):1,h:parseInt(s[1],10),l:parseInt(s[3],10),s:parseInt(s[2],10)}):void 0}},j2=class{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,s=n.rgb??e.value;if(s.r!==void 0)return s}handleRangeColor(e){const n=e.value,s=n.rgb??e.value;if(s.r!==void 0)return{r:se(s.r),g:se(s.g),b:se(s.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,s=n.exec(e);return s?{a:s.length>4?Oy(s[5]):1,b:parseInt(s[3],10),g:parseInt(s[2],10),r:parseInt(s[1],10)}:void 0}};function C2(){const t=new j2,e=new S2;xp(t),xp(e);const n=new _2;return n.init(),n}const Xu=C2();Nl()||(window.tsParticles=Xu);const Ei=t=>typeof t=="object"&&t!==null;function sl(t,e,n=()=>!1){if(!Ei(t)||!Ei(e))return t===e;const s=Object.keys(t).filter(r=>!n(r)),i=Object.keys(e).filter(r=>!n(r));if(s.length!==i.length)return!1;for(const r of s){const o=t[r],a=e[r];if(Ei(o)&&Ei(a)){if(o===e&&a===t)continue;if(!sl(o,a,n))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!Jy(o,a,n))return!1}else if(o!==a)return!1}return!0}function Jy(t,e,n){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++){const i=t[s],r=e[s];if(Array.isArray(i)&&Array.isArray(r)){if(!Jy(i,r,n))return!1}else if(Ei(i)&&Ei(r)){if(!sl(i,r,n))return!1}else if(i!==r)return!1}return!0}const Qy="tsparticles";class Ml extends k.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const n=e.options??e.params,s=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!sl(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!sl(n,s,i=>i.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Xu),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:s,canvasClassName:i,id:r}=this.props;return Ah.createElement("div",{className:s,id:r},Ah.createElement("canvas",{className:i,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??Ml.defaultProps.id??Qy,n=await Xu.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}}Ml.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:Qy};const E2="pointerleave",Co="pointermove",Qi="tsParticles - Error",Rl=100,Xs=.5,zn=1e3,un={x:0,y:0,z:0},il="random",ja="mid",Pn=2,Is=2,P2=1,Ca=255,Us=360,Zu=100,ed=100,Lp=0,td=0,T2=60,Mp=0,Yy=1,N2=0,L2=1,M2=1,R2=0,Cs=255,Lc=3,Mc=6,O2=1,I2=1,z2=0,$2=0,A2=0,D2=0;var Rp;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(Rp||(Rp={}));function Yi(t){return typeof t=="string"}function Eo(t){return typeof t=="number"}function Cr(t){return typeof t=="object"&&t!==null}function Dn(t){return Array.isArray(t)}function te(t){return t==null}class At{constructor(e,n,s){if(this._updateFromAngle=(i,r)=>{this.x=Math.cos(i)*r,this.y=Math.sin(i)*r},!Eo(e)&&e){this.x=e.x,this.y=e.y;const i=e;this.z=i.z?i.z:un.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=s??un.z;else throw new Error(`${Qi} Vector3d not initialized correctly`)}static get origin(){return At.create(un.x,un.y,un.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return At.create(e.x,e.y,e.z)}static create(e,n,s){return new At(e,n,s)}add(e){return At.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return At.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return At.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Is+this.y**Is}mult(e){return At.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=N2&&this.multTo(P2/e)}rotate(e){return At.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),un.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:un.z}sub(e){return At.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class qe extends At{constructor(e,n){super(e,n,un.z)}static get origin(){return qe.create(un.x,un.y)}static clone(e){return qe.create(e.x,e.y)}static create(e,n){return new qe(e,n)}}let U2=Math.random;function be(){return Zt(U2(),0,1-Number.EPSILON)}function Zt(t,e,n){return Math.min(Math.max(t,e),n)}function Rc(t,e,n,s){return Math.floor((t*n+e*s)/(n+s))}function Ct(t){const e=hn(t),n=0;let s=Ol(t);return e===s&&(s=n),be()*(e-s)+s}function z(t){return Eo(t)?t:Ct(t)}function Ol(t){return Eo(t)?t:t.min}function hn(t){return Eo(t)?t:t.max}function Nt(t,e){if(t===e||e===void 0&&Eo(t))return t;const n=Ol(t),s=hn(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(s,e)}:Nt(n,s)}function Ye(t,e){const n=t.x-e.x,s=t.y-e.y,i=2;return{dx:n,dy:s,distance:Math.sqrt(n**i+s**i)}}function Qt(t,e){return Ye(t,e).distance}function Fr(t){return t*Math.PI/180}function Op(t,e,n,s){return qe.create(t.x*(n-s)/(n+s)+e.x*Pn*s/(n+s),t.y)}function Xy(t){return t?t.endsWith("%")?parseFloat(t)/Rl:parseFloat(t):1}var Pi;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(Pi||(Pi={}));var ke;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(ke||(ke={}));var fo;(function(t){t.none="none",t.max="max",t.min="min"})(fo||(fo={}));var B;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(B||(B={}));var Ip;(function(t){t.precise="precise",t.percent="percent"})(Ip||(Ip={}));var Br;(function(t){t.max="max",t.min="min",t.random="random"})(Br||(Br={}));const F2={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Zy(){return F2}function zp(t){const e={bounced:!1},{pSide:n,pOtherSide:s,rectSide:i,rectOtherSide:r,velocity:o,factor:a}=t;return s.min<r.min||s.min>r.max||s.max<r.min||s.max>r.max||(n.max>=i.min&&n.max<=(i.max+i.min)*Xs&&o>Mp||n.min<=i.max&&n.min>(i.max+i.min)*Xs&&o<Mp)&&(e.velocity=o*-a,e.bounced=!0),e}function B2(t,e){const n=ws(e,s=>t.matches(s));return Dn(n)?n.some(s=>s):n}function $p(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function Se(t,e){return t===e||Dn(e)&&e.indexOf(t)>-1}async function Ap(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function q2(t){return Math.floor(be()*t.length)}function Il(t,e,n=!0){return t[e!==void 0&&n?e%t.length:q2(t)]}function bh(t,e,n,s,i){return W2(Po(t,s??0),e,n,i)}function W2(t,e,n,s){let i=!0;return(!s||s===B.bottom)&&(i=t.top<e.height+n.x),i&&(!s||s===B.left)&&(i=t.right>n.x),i&&(!s||s===B.right)&&(i=t.left<e.width+n.y),i&&(!s||s===B.top)&&(i=t.bottom>n.y),i}function Po(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function rl(t,...e){for(const n of e){if(n==null)continue;if(!Cr(n)){t=n;continue}const s=Array.isArray(n);s&&(Cr(t)||!t||!Array.isArray(t))?t=[]:!s&&(Cr(t)||!t||Array.isArray(t))&&(t={});for(const i in n){if(i==="__proto__")continue;const r=n,o=r[i],a=t;a[i]=Cr(o)&&Array.isArray(o)?o.map(l=>rl(a[i],l)):rl(a[i],o)}}return t}function kh(t,e){return!!nv(e,n=>n.enable&&Se(t,n.mode))}function _h(t,e,n){ws(e,s=>{const i=s.mode;s.enable&&Se(t,i)&&V2(s,n)})}function V2(t,e){const n=t.selectors;ws(n,s=>{e(s,t)})}function ev(t,e){if(!(!e||!t))return nv(t,n=>B2(e,n.selectors))}function nd(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:qe.create(z(t.options.bounce.horizontal.value),z(t.options.bounce.vertical.value))}}function tv(t,e){const{x:n,y:s}=t.velocity.sub(e.velocity),[i,r]=[t.position,e.position],{dx:o,dy:a}=Ye(r,i);if(n*o+s*a<0)return;const c=-Math.atan2(a,o),d=t.mass,h=e.mass,f=t.velocity.rotate(c),g=e.velocity.rotate(c),v=Op(f,g,d,h),w=Op(g,f,d,h),x=v.rotate(-c),p=w.rotate(-c);t.velocity.x=x.x*t.factor.x,t.velocity.y=x.y*t.factor.y,e.velocity.x=p.x*e.factor.x,e.velocity.y=p.y*e.factor.y}function H2(t,e){const n=t.getPosition(),s=t.getRadius(),i=Po(n,s),r=t.options.bounce,o=zp({pSide:{min:i.left,max:i.right},pOtherSide:{min:i.top,max:i.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:z(r.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(t.velocity.x=o.velocity),o.position!==void 0&&(t.position.x=o.position));const a=zp({pSide:{min:i.top,max:i.bottom},pOtherSide:{min:i.left,max:i.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:z(r.vertical.value)});a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function ws(t,e){return Dn(t)?t.map((s,i)=>e(s,i)):e(t,0)}function zl(t,e,n){return Dn(t)?Il(t,e,n):t}function nv(t,e){return Dn(t)?t.find((s,i)=>e(s,i)):e(t,0)?t:void 0}function G2(t,e){const n=t.value,s=t.animation,i={delayTime:z(s.delay)*zn,enable:s.enable,value:z(t.value)*e,max:hn(n)*e,min:Ol(n)*e,loops:0,maxLoops:z(s.count),time:0},r=1;if(s.enable){switch(i.decay=r-z(s.decay),s.mode){case Pi.increase:i.status=ke.increasing;break;case Pi.decrease:i.status=ke.decreasing;break;case Pi.random:i.status=be()>=Xs?ke.increasing:ke.decreasing;break}const o=s.mode===Pi.auto;switch(s.startValue){case Br.min:i.value=i.min,o&&(i.status=ke.increasing);break;case Br.max:i.value=i.max,o&&(i.status=ke.decreasing);break;case Br.random:default:i.value=Ct(i),o&&(i.status=be()>=Xs?ke.increasing:ke.decreasing);break}}return i.initialValue=i.value,i}function K2(t,e,n,s,i){switch(e){case fo.max:n>=i&&t.destroy();break;case fo.min:n<=s&&t.destroy();break}}function Sh(t,e,n,s,i){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const d=(e.velocity??0)*i.factor,h=e.min,f=e.max,g=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=i.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case ke.increasing:e.value>=f?(n?e.status=ke.decreasing:e.value-=f,e.loops||(e.loops=0),e.loops++):e.value+=d;break;case ke.decreasing:e.value<=h?(n?e.status=ke.increasing:e.value+=f,e.loops||(e.loops=0),e.loops++):e.value-=d}e.velocity&&g!==1&&(e.velocity*=g),K2(t,s,e.value,h,f),t.destroyed||(e.value=Zt(e.value,h,f))}}var Dp;(function(t){t.darken="darken",t.enlighten="enlighten"})(Dp||(Dp={}));function J2(t,e){if(e){for(const n of t.colorManagers.values())if(e.startsWith(n.stringPrefix))return n.parseString(e)}}function Zs(t,e,n,s=!0){if(!e)return;const i=Yi(e)?{value:e}:e;if(Yi(i.value))return sv(t,i.value,n,s);if(Dn(i.value))return Zs(t,{value:Il(i.value,n,s)});for(const r of t.colorManagers.values()){const o=r.handleRangeColor(i);if(o)return o}}function sv(t,e,n,s=!0){if(!e)return;const i=Yi(e)?{value:e}:e;if(Yi(i.value))return i.value===il?rv():Q2(t,i.value);if(Dn(i.value))return sv(t,{value:Il(i.value,n,s)});for(const r of t.colorManagers.values()){const o=r.handleColor(i);if(o)return o}}function jh(t,e,n,s=!0){const i=Zs(t,e,n,s);return i?iv(i):void 0}function iv(t){const e=t.r/Ca,n=t.g/Ca,s=t.b/Ca,i=Math.max(e,n,s),r=Math.min(e,n,s),o={h:Lp,l:(i+r)*Xs,s:td};return i!==r&&(o.s=o.l<Xs?(i-r)/(i+r):(i-r)/(Pn-i-r),o.h=e===i?(n-s)/(i-r):o.h=n===i?Pn+(s-e)/(i-r):Pn*Pn+(e-n)/(i-r)),o.l*=ed,o.s*=Zu,o.h*=T2,o.h<Lp&&(o.h+=Us),o.h>=Us&&(o.h-=Us),o}function Q2(t,e){return J2(t,e)}function Xi(t){const e=(t.h%Us+Us)%Us,n=Math.max(td,Math.min(Zu,t.s)),s=Math.max(R2,Math.min(ed,t.l)),i=e/Us,r=n/Zu,o=s/ed;if(n===td){const v=Math.round(o*Cs);return{r:v,g:v,b:v}}const a=(v,w,x)=>{if(x<0&&x++,x>1&&x--,x*Mc<1)return v+(w-v)*Mc*x;if(x*Pn<1)return w;if(x*Lc<1*Pn){const y=Pn/Lc;return v+(w-v)*(y-x)*Mc}return v},l=o<Xs?o*(O2+r):o+r-o*r,c=Pn*o-l,d=I2/Lc,h=Math.min(Cs,Cs*a(c,l,i+d)),f=Math.min(Cs,Cs*a(c,l,i)),g=Math.min(Cs,Cs*a(c,l,i-d));return{r:Math.round(h),g:Math.round(f),b:Math.round(g)}}function Y2(t){const e=Xi(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function rv(t){const e=z2,n=Ca+M2;return{b:Math.floor(Ct(Nt(e,n))),g:Math.floor(Ct(Nt(e,n))),r:Math.floor(Ct(Nt(e,n)))}}function po(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??Yy})`}function sd(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??Yy})`}function Ch(t,e,n,s){let i=t,r=e;return i.r===void 0&&(i=Xi(t)),r.r===void 0&&(r=Xi(e)),{b:Rc(i.b,r.b,n,s),g:Rc(i.g,r.g,n,s),r:Rc(i.r,r.r,n,s)}}function id(t,e,n){if(n===il)return rv();if(n===ja){const s=t.getFillColor()??t.getStrokeColor(),i=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(s&&i&&e)return Ch(s,i,t.getRadius(),e.getRadius());{const r=s??i;if(r)return Xi(r)}}else return n}function ov(t,e,n,s){const i=Yi(e)?e:e.value;return i===il?s?Zs(t,{value:i}):n?il:ja:i===ja?ja:Zs(t,{value:i})}function av(t,e,n){const s={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Oc(s.h,e.h,n),Oc(s.s,e.s,n),Oc(s.l,e.l,n)),s}function Oc(t,e,n){t.enable=e.enable,t.enable?(t.velocity=z(e.speed)/Rl*n,t.decay=L2-z(e.decay),t.status=ke.increasing,t.loops=A2,t.maxLoops=z(e.count),t.time=D2,t.delayTime=z(e.delay)*zn,e.sync||(t.velocity*=be(),t.value*=be()),t.initialValue=t.value,t.offset=Nt(e.offset)):t.velocity=$2}function Ic(t,e,n,s){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=s.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const d=t.offset?Ct(t.offset):0,h=(t.velocity??0)*s.factor+d*3.6,f=t.decay??1,g=hn(e),v=Ol(e);!n||t.status===ke.increasing?(t.value+=h,t.value>g&&(t.loops||(t.loops=0),t.loops++,n?t.status=ke.decreasing:t.value-=g)):(t.value-=h,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=ke.increasing)),t.velocity&&f!==1&&(t.velocity*=f),t.value=Zt(t.value,v,g)}function lv(t,e){if(!t)return;const{h:n,s,l:i}=t,r={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&Ic(n,r.h,!1,e),s&&Ic(s,r.s,!0,e),i&&Ic(i,r.l,!0,e)}function qr(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}class $n{constructor(){this.value=""}static create(e,n){const s=new $n;return s.load(e),n!==void 0&&(Yi(n)||Dn(n)?s.load({value:n}):s.load(n)),s}load(e){te(e)||te(e.value)||(this.value=e.value)}}var mo;(function(t){t.circle="circle",t.rectangle="rectangle"})(mo||(mo={}));var Wr;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Wr||(Wr={}));class Eh{constructor(){this.value=0}load(e){te(e)||te(e.value)||(this.value=Nt(e.value))}}var Oe;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(Oe||(Oe={}));var ol;(function(t){t.external="external",t.particles="particles"})(ol||(ol={}));var us;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(us||(us={}));var Di;(function(t){t.circle="circle",t.rectangle="rectangle"})(Di||(Di={}));class cv{constructor(e,n,s){this.position={x:e,y:n},this.type=s}}class Xe extends cv{constructor(e,n,s){super(e,n,Di.circle),this.radius=s}contains(e){return Qt(e,this.position)<=this.radius}intersects(e){const n=this.position,s=e.position,i={x:Math.abs(s.x-n.x),y:Math.abs(s.y-n.y)},r=this.radius;if(e instanceof Xe||e.type===Di.circle){const o=e,a=r+o.radius,l=Math.sqrt(i.x**Is+i.y**Is);return a>l}else if(e instanceof xs||e.type===Di.rectangle){const o=e,{width:a,height:l}=o.size;return Math.pow(i.x-a,Is)+Math.pow(i.y-l,Is)<=r**Is||i.x<=r+a&&i.y<=r+l||i.x<=a||i.y<=l}return!1}}class xs extends cv{constructor(e,n,s,i){super(e,n,Di.rectangle),this.size={height:i,width:s}}contains(e){const n=this.size.width,s=this.size.height,i=this.position;return e.x>=i.x&&e.x<=i.x+n&&e.y>=i.y&&e.y<=i.y+s}intersects(e){if(e instanceof Xe)return e.intersects(this);const n=this.size.width,s=this.size.height,i=this.position,r=e.position,o=e instanceof xs?e.size:{width:0,height:0},a=o.width,l=o.height;return r.x<i.x+n&&r.x+a>i.x&&r.y<i.y+s&&r.y+l>i.y}}class yn{constructor(e){this.type=ol.external,this.container=e}}class Ph{constructor(e){this.type=ol.particles,this.container=e}}var Wt;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(Wt||(Wt={}));var qs;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(qs||(qs={}));const rd=.5,X2=2,es=0,Vt=1,Up=60,Fp=0,Z2=.01,ej=Math.PI*X2;function tj(t){const e=t.initialPosition,{dx:n,dy:s}=Ye(e,t.position),i=Math.abs(n),r=Math.abs(s),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!a&&!l)return;const c=(a&&i>=a)??!1,d=(l&&r>=l)??!1;if((c||d)&&!t.misplaced)t.misplaced=!!a&&i>a||!!l&&r>l,a&&(t.velocity.x=t.velocity.y*rd-t.velocity.x),l&&(t.velocity.y=t.velocity.x*rd-t.velocity.y);else if((!a||i<a)&&(!l||r<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const h=t.position,f=t.velocity;a&&(h.x<e.x&&f.x<es||h.x>e.x&&f.x>es)&&(f.x*=-be()),l&&(h.y<e.y&&f.y<es||h.y>e.y&&f.y>es)&&(f.y*=-be())}}function nj(t,e,n,s,i,r,o){ij(t,o);const a=t.gravity,l=a!=null&&a.enable&&a.inverse?-Vt:Vt;i&&n&&(t.velocity.x+=i*o.factor/(Up*n)),a!=null&&a.enable&&n&&(t.velocity.y+=l*(a.acceleration*o.factor)/(Up*n));const c=t.moveDecay;t.velocity.multTo(c);const d=t.velocity.mult(n);a!=null&&a.enable&&s>es&&(!a.inverse&&d.y>=es&&d.y>=s||a.inverse&&d.y<=es&&d.y<=-s)&&(d.y=l*s,n&&(t.velocity.y=d.y/n));const h=t.options.zIndex,f=(Vt-t.zIndexFactor)**h.velocityRate;d.multTo(f),d.multTo(r);const{position:g}=t;g.addTo(d),e.vibrate&&(g.x+=Math.sin(g.x*Math.cos(g.y))*r,g.y+=Math.cos(g.y*Math.sin(g.x))*r)}function sj(t,e,n){const s=t.container;if(!t.spin)return;const i=t.spin.direction===Wt.clockwise,r={x:i?Math.cos:Math.sin,y:i?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*r.x(t.spin.angle)*n,t.position.y=t.spin.center.y+t.spin.radius*r.y(t.spin.angle)*n,t.spin.radius+=t.spin.acceleration*n;const o=Math.max(s.canvas.size.width,s.canvas.size.height),a=o*rd;t.spin.radius>a?(t.spin.radius=a,t.spin.acceleration*=-Vt):t.spin.radius<Fp&&(t.spin.radius=Fp,t.spin.acceleration*=-Vt),t.spin.angle+=e*Z2*(Vt-t.spin.radius/o)}function ij(t,e){var o;const n=t.options,s=n.move.path;if(!s.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const r=(o=t.pathGenerator)==null?void 0:o.generate(t,e);r&&t.velocity.addTo(r),s.clamp&&(t.velocity.x=Zt(t.velocity.x,-Vt,Vt),t.velocity.y=Zt(t.velocity.y,-Vt,Vt)),t.lastPathTime-=t.pathDelay}function rj(t){return t.slow.inRange?t.slow.factor:Vt}function oj(t){const e=t.container,n=t.options,s=n.move.spin;if(!s.enable)return;const i=s.position??{x:50,y:50},r=.01,o={x:i.x*r*e.canvas.size.width,y:i.y*r*e.canvas.size.height},a=t.getPosition(),l=Qt(a,o),c=z(s.acceleration);t.retina.spinAcceleration=c*e.retina.pixelRatio,t.spin={center:o,direction:t.velocity.x>=es?Wt.clockwise:Wt.counterClockwise,angle:be()*ej,radius:l,acceleration:t.retina.spinAcceleration}}const aj=2,lj=1,cj=1;class uj{init(e){const n=e.options,s=n.move.gravity;e.gravity={enable:s.enable,acceleration:z(s.acceleration),inverse:s.inverse},oj(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var x,p;const s=e.options,i=s.move;if(!i.enable)return;const r=e.container,o=r.retina.pixelRatio;(x=e.retina).moveSpeed??(x.moveSpeed=z(i.speed)*o),(p=e.retina).moveDrift??(p.moveDrift=z(e.options.move.drift)*o);const a=rj(e),l=r.retina.reduceFactor,c=e.retina.moveSpeed,d=e.retina.moveDrift,h=hn(s.size.value)*o,f=i.size?e.getRadius()/h:lj,g=n.factor||cj,v=c*f*a*g/aj,w=e.retina.maxSpeed??r.retina.maxSpeed;i.spin.enable?sj(e,v,l):nj(e,i,v,w,d,l,n),tj(e)}}async function dj(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new uj),e)}const hj=2,fj=Math.PI*hj,pj=0,Bp={x:0,y:0};function mj(t){const{context:e,particle:n,radius:s}=t;n.circleRange||(n.circleRange={min:pj,max:fj});const i=n.circleRange;e.arc(Bp.x,Bp.y,s,i.min,i.max,!1)}const gj=12,yj=360,qp=0;class vj{constructor(){this.validTypes=["circle"]}draw(e){mj(e)}getSidesCount(){return gj}particleInit(e,n){const s=n.shapeData,i=(s==null?void 0:s.angle)??{max:yj,min:qp};n.circleRange=Cr(i)?{min:Fr(i.min),max:Fr(i.max)}:{min:qp,max:Fr(i)}}}async function wj(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new vj,e)}class xj{constructor(e,n){this._container=e,this._engine=n}init(e){const n=jh(this._engine,e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=av(n,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:n,s,l:i}=e.options.color.animation,{color:r}=e;return!e.destroyed&&!e.spawning&&((r==null?void 0:r.h.value)!==void 0&&n.enable||(r==null?void 0:r.s.value)!==void 0&&s.enable||(r==null?void 0:r.l.value)!==void 0&&i.enable)}update(e,n){lv(e.color,n)}}async function bj(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",n=>Promise.resolve(new xj(n,t)),e)}var zs;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(zs||(zs={}));const kj=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,_j=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,na=16,Sj=1,jj=255;class Cj{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const n=e.replace(kj,(i,r,o,a,l)=>r+r+o+o+a+a+(l!==void 0?l+l:"")),s=_j.exec(n);return s?{a:s[zs.a]!==void 0?parseInt(s[zs.a],na)/jj:Sj,b:parseInt(s[zs.b],na),g:parseInt(s[zs.g],na),r:parseInt(s[zs.r],na)}:void 0}}async function Ej(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new Cj,e)}var Ti;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(Ti||(Ti={}));class Pj{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,s=n.hsl??e.value;if(s.h!==void 0&&s.s!==void 0&&s.l!==void 0)return Xi(s)}handleRangeColor(e){const n=e.value,s=n.hsl??e.value;if(s.h!==void 0&&s.l!==void 0)return Xi({h:z(s.h),l:z(s.l),s:z(s.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,s=n.exec(e),i=4,r=1,o=10;return s?Y2({a:s.length>i?Xy(s[Ti.a]):r,h:parseInt(s[Ti.h],o),l:parseInt(s[Ti.l],o),s:parseInt(s[Ti.s],o)}):void 0}}async function Tj(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new Pj,e)}class Nj{constructor(e){this.container=e}init(e){const n=e.options.opacity,s=1;e.opacity=G2(n,s);const i=n.animation;i.enable&&(e.opacity.velocity=z(i.speed)/Rl*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=be()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||Sh(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function Lj(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",n=>Promise.resolve(new Nj(n)),e)}const al=0,Ui=0;function Mj(t){if(t.outMode!==Oe.bounce&&t.outMode!==Oe.split||t.direction!==B.left&&t.direction!==B.right)return;t.bounds.right<Ui&&t.direction===B.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===B.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===B.right&&t.bounds.right>=t.canvasSize.width&&e>al||t.direction===B.left&&t.bounds.left<=Ui&&e<al){const i=z(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-i,n=!0}if(!n)return;const s=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===B.right?t.particle.position.x=t.canvasSize.width-s:t.bounds.left<=Ui&&t.direction===B.left&&(t.particle.position.x=s),t.outMode===Oe.split&&t.particle.destroy()}function Rj(t){if(t.outMode!==Oe.bounce&&t.outMode!==Oe.split||t.direction!==B.bottom&&t.direction!==B.top)return;t.bounds.bottom<Ui&&t.direction===B.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===B.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===B.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>al||t.direction===B.top&&t.bounds.top<=Ui&&e<al){const i=z(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-i,n=!0}if(!n)return;const s=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===B.bottom?t.particle.position.y=t.canvasSize.height-s:t.bounds.top<=Ui&&t.direction===B.top&&(t.particle.position.y=s),t.outMode===Oe.split&&t.particle.destroy()}class Oj{constructor(e){this.container=e,this.modes=[Oe.bounce,Oe.split]}update(e,n,s,i){if(!this.modes.includes(i))return;const r=this.container;let o=!1;for(const f of r.plugins.values())if(f.particleBounce!==void 0&&(o=f.particleBounce(e,s,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),d=Po(a,c),h=r.canvas.size;Mj({particle:e,outMode:i,direction:n,bounds:d,canvasSize:h,offset:l,size:c}),Rj({particle:e,outMode:i,direction:n,bounds:d,canvasSize:h,offset:l,size:c})}}const sa=0;class Ij{constructor(e){this.container=e,this.modes=[Oe.destroy]}update(e,n,s,i){if(!this.modes.includes(i))return;const r=this.container;switch(e.outType){case us.normal:case us.outside:if(bh(e.position,r.canvas.size,qe.origin,e.getRadius(),n))return;break;case us.inside:{const{dx:o,dy:a}=Ye(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<sa&&o>e.moveCenter.radius||c<sa&&a>e.moveCenter.radius||l>=sa&&o<-e.moveCenter.radius||c>=sa&&a<-e.moveCenter.radius)return;break}}r.particles.remove(e,e.group,!0)}}const ia=0;class zj{constructor(e){this.container=e,this.modes=[Oe.none]}update(e,n,s,i){if(!this.modes.includes(i)||((e.options.move.distance.horizontal&&(n===B.left||n===B.right))??(e.options.move.distance.vertical&&(n===B.top||n===B.bottom))))return;const r=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(r.enable){const c=e.position;(!r.inverse&&c.y>a.height+l&&n===B.bottom||r.inverse&&c.y<-l&&n===B.top)&&o.particles.remove(e)}else{if(e.velocity.y>ia&&e.position.y<=a.height+l||e.velocity.y<ia&&e.position.y>=-l||e.velocity.x>ia&&e.position.x<=a.width+l||e.velocity.x<ia&&e.position.x>=-l)return;bh(e.position,o.canvas.size,qe.origin,l,n)||o.particles.remove(e)}}}const ra=0,oa=0;class $j{constructor(e){this.container=e,this.modes=[Oe.out]}update(e,n,s,i){if(!this.modes.includes(i))return;const r=this.container;switch(e.outType){case us.inside:{const{x:o,y:a}=e.velocity,l=qe.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(qe.create(e.moveCenter));const{dx:c,dy:d}=Ye(e.position,l);if(o<=ra&&c>=oa||a<=ra&&d>=oa||o>=ra&&c<=oa||a>=ra&&d<=oa)return;e.position.x=Math.floor(Ct({min:0,max:r.canvas.size.width})),e.position.y=Math.floor(Ct({min:0,max:r.canvas.size.height}));const{dx:h,dy:f}=Ye(e.position,e.moveCenter);e.direction=Math.atan2(-f,-h),e.velocity.angle=e.direction;break}default:{if(bh(e.position,r.canvas.size,qe.origin,e.getRadius(),n))return;switch(e.outType){case us.outside:{e.position.x=Math.floor(Ct({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Ct({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Ye(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case us.normal:{const o=e.options.move.warp,a=r.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),d=Po(e.position,c);n===B.right&&d.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=be()*a.height,e.initialPosition.y=e.position.y)):n===B.left&&d.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=be()*a.height,e.initialPosition.y=e.position.y)),n===B.bottom&&d.top>a.height+e.offset.y?(o||(e.position.x=be()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n===B.top&&d.bottom<-e.offset.y&&(o||(e.position.x=be()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const Aj=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class Dj{constructor(e){this._addUpdaterIfMissing=(n,s,i)=>{const r=n.options.move.outModes;!this.updaters.has(s)&&Aj(r,s)&&this.updaters.set(s,i(this.container))},this._updateOutMode=(n,s,i,r)=>{for(const o of this.updaters.values())o.update(n,r,s,i)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Oe.bounce,n=>new Oj(n)),this._addUpdaterIfMissing(e,Oe.out,n=>new $j(n)),this._addUpdaterIfMissing(e,Oe.destroy,n=>new Ij(n)),this._addUpdaterIfMissing(e,Oe.none,n=>new zj(n))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const s=e.options.move.outModes;this._updateOutMode(e,n,s.bottom??s.default,B.bottom),this._updateOutMode(e,n,s.left??s.default,B.left),this._updateOutMode(e,n,s.right??s.default,B.right),this._updateOutMode(e,n,s.top??s.default,B.top)}}async function Uj(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",n=>Promise.resolve(new Dj(n)),e)}var Ni;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(Ni||(Ni={}));class Fj{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,s=n.rgb??e.value;if(s.r!==void 0)return s}handleRangeColor(e){const n=e.value,s=n.rgb??e.value;if(s.r!==void 0)return{r:z(s.r),g:z(s.g),b:z(s.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,s=n.exec(e),i=10;return s?{a:s.length>4?Xy(s[Ni.a]):1,b:parseInt(s[Ni.b],i),g:parseInt(s[Ni.g],i),r:parseInt(s[Ni.r],i)}:void 0}}async function Bj(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new Fj,e)}const Es=0;class qj{init(e){const n=e.container,s=e.options.size,i=s.animation;i.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/Rl*n.retina.reduceFactor,i.sync||(e.size.velocity*=be()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Es)<=Es||(e.size.maxLoops??Es)>Es&&(e.size.loops??Es)<(e.size.maxLoops??Es))}reset(e){e.size.loops=Es}update(e,n){this.isEnabled(e)&&Sh(e,e.size,!0,e.options.size.animation.destroy,n)}}async function Wj(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new qj),e)}async function Vj(t,e=!0){t.checkVersion("3.9.1"),await Ej(t,!1),await Tj(t,!1),await Bj(t,!1),await dj(t,!1),await wj(t,!1),await bj(t,!1),await Lj(t,!1),await Uj(t,!1),await Wj(t,!1),await t.refresh(e)}async function Hj(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing(qs.easeInQuad,n=>n**2,!1),await t.addEasing(qs.easeOutQuad,n=>1-(1-n)**2,!1),await t.addEasing(qs.easeInOutQuad,n=>n<.5?2*n**2:1-(-2*n+2)**2/2,!1),await t.refresh(e)}function Gj(t,e){const{context:n,opacity:s}=t,i=.5,r=n.globalAlpha;if(!e)return;const o=e.width,a=o*i;n.globalAlpha=s,n.drawImage(e,-a,-a,o,o),n.globalAlpha=r}const zc='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',Wp=0;class Kj{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&(n==null||n.close()),this._emojiShapeDict.delete(e)}draw(e){const n=e.particle.emojiDataKey;if(!n)return;const s=this._emojiShapeDict.get(n);s&&Gj(e,s)}async init(e){const n=e.actualOptions,{validTypes:s}=this;if(!s.find(o=>Se(o,n.particles.shape.type)))return;const i=[Ap(zc)],r=s.map(o=>n.particles.shape.options[o]).find(o=>!!o);r&&ws(r,o=>{o.font&&i.push(Ap(o.font))}),await Promise.all(i)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,n){const i=n.shapeData;if(!(i!=null&&i.value))return;const r=zl(i.value,n.randomIndexData);if(!r)return;const o=typeof r=="string"?{font:i.font??zc,padding:i.padding??Wp,value:r}:{font:zc,padding:Wp,...i,...r},a=o.font,l=o.value,c=`${l}_${a}`;if(this._emojiShapeDict.has(c)){n.emojiDataKey=c;return}const d=o.padding*2,h=hn(n.size.value),f=h+d,g=f*2;let v;if(typeof OffscreenCanvas<"u"){const w=new OffscreenCanvas(g,g),x=w.getContext("2d");if(!x)return;x.font=`400 ${h*2}px ${a}`,x.textBaseline="middle",x.textAlign="center",x.fillText(l,f,f),v=w.transferToImageBitmap()}else{const w=document.createElement("canvas");w.width=g,w.height=g;const x=w.getContext("2d");if(!x)return;x.font=`400 ${h*2}px ${a}`,x.textBaseline="middle",x.textAlign="center",x.fillText(l,f,f),v=w}this._emojiShapeDict.set(c,v),n.emojiDataKey=c}}async function Jj(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new Kj,e)}const Qj=1,Yj=1,uv=0;function dv(t,e,n,s,i,r){const o=e.actualOptions.interactivity.modes.attract;if(!o)return;const a=e.particles.quadTree.query(i,r);for(const l of a){const{dx:c,dy:d,distance:h}=Ye(l.position,n),f=o.speed*o.factor,g=Zt(t.getEasing(o.easing)(Yj-h/s)*f,Qj,o.maxSpeed),v=qe.create(h?c/h*g:f,h?d/h*g:f);l.position.subFrom(v)}}function Xj(t,e,n){e.attract||(e.attract={particles:[]});const{attract:s}=e;if(s.finish||(s.count||(s.count=0),s.count++,s.count===e.particles.count&&(s.finish=!0)),s.clicking){const i=e.interactivity.mouse.clickPosition,r=e.retina.attractModeDistance;if(!r||r<uv||!i)return;dv(t,e,i,r,new Xe(i.x,i.y,r),o=>n(o))}else s.clicking===!1&&(s.particles=[])}function Zj(t,e,n){const s=e.interactivity.mouse.position,i=e.retina.attractModeDistance;!i||i<uv||!s||dv(t,e,s,i,new Xe(s.x,s.y,i),r=>n(r))}class eC{constructor(){this.distance=200,this.duration=.4,this.easing=qs.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){te(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const wr="attract";let tC=class extends yn{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=s=>{const i=this.container.actualOptions,r=i.interactivity.modes.attract;if(!(!r||s!==wr)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},r.duration*zn)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,s=e.interactivity.status===Co,i=n.interactivity.events,{enable:r,mode:o}=i.onHover,{enable:a,mode:l}=i.onClick;s&&r&&Se(wr,o)?Zj(this._engine,this.container,c=>this.isEnabled(c)):a&&Se(wr,l)&&Xj(this._engine,this.container,c=>this.isEnabled(c))}isEnabled(e){const n=this.container,s=n.actualOptions,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??s.interactivity).events;if((!i.position||!r.onHover.enable)&&(!i.clickPosition||!r.onClick.enable))return!1;const o=r.onHover.mode,a=r.onClick.mode;return Se(wr,o)||Se(wr,a)}loadModeOptions(e,...n){e.attract||(e.attract=new eC);for(const s of n)e.attract.load(s==null?void 0:s.attract)}reset(){}};async function nC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",n=>Promise.resolve(new tC(t,n)),e)}const sC=2,Ea=.5,iC=Math.PI*Ea,Vp=2,hv=10,rC=0;function fv(t,e,n,s,i){const r=t.particles.quadTree.query(s,i);for(const o of r)s instanceof Xe?tv(nd(o),{position:e,radius:n,mass:n**sC*iC,velocity:qe.origin,factor:qe.origin}):s instanceof xs&&H2(o,Po(e,n))}function oC(t,e,n,s){const i=document.querySelectorAll(e);i.length&&i.forEach(r=>{const o=r,a=t.retina.pixelRatio,l={x:(o.offsetLeft+o.offsetWidth*Ea)*a,y:(o.offsetTop+o.offsetHeight*Ea)*a},c=o.offsetWidth*Ea*a,d=hv*a,h=n.type===mo.circle?new Xe(l.x,l.y,c+d):new xs(o.offsetLeft*a-d,o.offsetTop*a-d,o.offsetWidth*a+d*Vp,o.offsetHeight*a+d*Vp);s(l,c,h)})}function aC(t,e,n,s){_h(n,e,(i,r)=>oC(t,i,r,(o,a,l)=>fv(t,o,a,l,s)))}function lC(t,e){const n=t.retina.pixelRatio,s=hv*n,i=t.interactivity.mouse.position,r=t.retina.bounceModeDistance;!r||r<rC||!i||fv(t,i,r,new Xe(i.x,i.y,r+s),e)}class cC{constructor(){this.distance=200}load(e){te(e)||e.distance!==void 0&&(this.distance=e.distance)}}const aa="bounce";class uC extends yn{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,s=n.interactivity.events,i=e.interactivity.status===Co,r=s.onHover.enable,o=s.onHover.mode,a=s.onDiv;i&&r&&Se(aa,o)?lC(this.container,l=>this.isEnabled(l)):aC(this.container,a,aa,l=>this.isEnabled(l))}isEnabled(e){const n=this.container,s=n.actualOptions,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??s.interactivity).events,o=r.onDiv;return!!i.position&&r.onHover.enable&&Se(aa,r.onHover.mode)||kh(aa,o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new cC);for(const s of n)e.bounce.load(s==null?void 0:s.bounce)}reset(){}}async function dC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",n=>Promise.resolve(new uC(n)),e)}class pv{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!te(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=Dn(this.color)?void 0:this.color;this.color=ws(e.color,s=>$n.create(n,s))}e.size!==void 0&&(this.size=e.size)}}}class hC extends pv{constructor(){super(),this.selectors=[]}load(e){super.load(e),!te(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class fC extends pv{load(e){super.load(e),!te(e)&&(this.divs=ws(e.divs,n=>{const s=new hC;return s.load(n),s}))}}var cn;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(cn||(cn={}));function Hp(t,e,n,s){if(e>=n){const i=t+(e-n)*s;return Zt(i,t,e)}else if(e<n){const i=t-(n-e)*s;return Zt(i,e,t)}}const Ps="bubble",$c=0,pC=0,mC=2,Gp=1,Kp=1,gC=0,yC=0,Ac=.5,Dc=1;class vC extends yn{constructor(e,n){super(e),this._clickBubble=()=>{var d;const s=this.container,i=s.actualOptions,r=s.interactivity.mouse.clickPosition,o=i.interactivity.modes.bubble;if(!o||!r)return;s.bubble||(s.bubble={});const a=s.retina.bubbleModeDistance;if(!a||a<$c)return;const l=s.particles.quadTree.queryCircle(r,a,h=>this.isEnabled(h)),{bubble:c}=s;for(const h of l){if(!c.clicking)continue;h.bubble.inRange=!c.durationEnd;const f=h.getPosition(),g=Qt(f,r),v=(new Date().getTime()-(s.interactivity.mouse.clickTime??pC))/zn;v>o.duration&&(c.durationEnd=!0),v>o.duration*mC&&(c.clicking=!1,c.durationEnd=!1);const w={bubbleObj:{optValue:s.retina.bubbleModeSize,value:h.bubble.radius},particlesObj:{optValue:hn(h.options.size.value)*s.retina.pixelRatio,value:h.size.value},type:cn.size};this._process(h,g,v,w);const x={bubbleObj:{optValue:o.opacity,value:h.bubble.opacity},particlesObj:{optValue:hn(h.options.opacity.value),value:((d=h.opacity)==null?void 0:d.value)??Gp},type:cn.opacity};this._process(h,g,v,x),!c.durationEnd&&g<=a?this._hoverBubbleColor(h,g):delete h.bubble.color}},this._hoverBubble=()=>{const s=this.container,i=s.interactivity.mouse.position,r=s.retina.bubbleModeDistance;if(!r||r<$c||!i)return;const o=s.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));for(const a of o){a.bubble.inRange=!0;const l=a.getPosition(),c=Qt(l,i),d=Kp-c/r;c<=r?d>=yC&&s.interactivity.status===Co&&(this._hoverBubbleSize(a,d),this._hoverBubbleOpacity(a,d),this._hoverBubbleColor(a,d)):this.reset(a),s.interactivity.status===E2&&this.reset(a)}},this._hoverBubbleColor=(s,i,r)=>{const o=this.container.actualOptions,a=r??o.interactivity.modes.bubble;if(a){if(!s.bubble.finalColor){const l=a.color;if(!l)return;const c=zl(l);s.bubble.finalColor=jh(this._engine,c)}if(s.bubble.finalColor)if(a.mix){s.bubble.color=void 0;const l=s.getFillColor();s.bubble.color=l?iv(Ch(l,s.bubble.finalColor,Kp-i,i)):s.bubble.finalColor}else s.bubble.color=s.bubble.finalColor}},this._hoverBubbleOpacity=(s,i,r)=>{var f,g;const o=this.container,a=o.actualOptions,l=(r==null?void 0:r.opacity)??((f=a.interactivity.modes.bubble)==null?void 0:f.opacity);if(!l)return;const c=s.options.opacity.value,d=((g=s.opacity)==null?void 0:g.value)??Gp,h=Hp(d,l,hn(c),i);h!==void 0&&(s.bubble.opacity=h)},this._hoverBubbleSize=(s,i,r)=>{const o=this.container,a=r!=null&&r.size?r.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(a===void 0)return;const l=hn(s.options.size.value)*o.retina.pixelRatio,c=s.size.value,d=Hp(c,a,l,i);d!==void 0&&(s.bubble.radius=d)},this._process=(s,i,r,o)=>{const a=this.container,l=o.bubbleObj.optValue,c=a.actualOptions,d=c.interactivity.modes.bubble;if(!d||l===void 0)return;const h=d.duration,f=a.retina.bubbleModeDistance,g=o.particlesObj.optValue,v=o.bubbleObj.value,w=o.particlesObj.value??gC,x=o.type;if(!(!f||f<$c||l===g))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)v&&(x===cn.size&&delete s.bubble.radius,x===cn.opacity&&delete s.bubble.opacity);else if(i<=f){if((v??w)!==l){const m=w-r*(w-l)/h;x===cn.size&&(s.bubble.radius=m),x===cn.opacity&&(s.bubble.opacity=m)}}else x===cn.size&&delete s.bubble.radius,x===cn.opacity&&delete s.bubble.opacity},this._singleSelectorHover=(s,i,r)=>{const o=this.container,a=document.querySelectorAll(i),l=o.actualOptions.interactivity.modes.bubble;!l||!a.length||a.forEach(c=>{const d=c,h=o.retina.pixelRatio,f={x:(d.offsetLeft+d.offsetWidth*Ac)*h,y:(d.offsetTop+d.offsetHeight*Ac)*h},g=d.offsetWidth*Ac*h,v=r.type===mo.circle?new Xe(f.x,f.y,g):new xs(d.offsetLeft*h,d.offsetTop*h,d.offsetWidth*h,d.offsetHeight*h),w=o.particles.quadTree.query(v,x=>this.isEnabled(x));for(const x of w){if(!v.contains(x.getPosition()))continue;x.bubble.inRange=!0;const p=l.divs,m=ev(p,d);(!x.bubble.div||x.bubble.div!==d)&&(this.clear(x,s,!0),x.bubble.div=d),this._hoverBubbleSize(x,Dc,m),this._hoverBubbleOpacity(x,Dc,m),this._hoverBubbleColor(x,Dc,m)}})},this._engine=n,e.bubble||(e.bubble={}),this.handleClickMode=s=>{s===Ps&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,s){e.bubble.inRange&&!s||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,s=n.interactivity.events,i=s.onHover,r=s.onClick,o=i.enable,a=i.mode,l=r.enable,c=r.mode,d=s.onDiv;o&&Se(Ps,a)?this._hoverBubble():l&&Se(Ps,c)?this._clickBubble():_h(Ps,d,(h,f)=>this._singleSelectorHover(e,h,f))}isEnabled(e){const n=this.container,s=n.actualOptions,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??s.interactivity).events,{onClick:o,onDiv:a,onHover:l}=r,c=kh(Ps,a);return c||l.enable&&i.position||o.enable&&i.clickPosition?Se(Ps,l.mode)||Se(Ps,o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new fC);for(const s of n)e.bubble.load(s==null?void 0:s.bubble)}reset(e){e.bubble.inRange=!1}}async function wC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",n=>Promise.resolve(new vC(n,t)),e)}class xC{constructor(){this.opacity=.5}load(e){te(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class bC{constructor(){this.distance=80,this.links=new xC,this.radius=60}load(e){te(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const Jp=0,Qp=1,kC=0;function _C(t,e,n,s){const i=Math.floor(n.getRadius()/e.getRadius()),r=e.getFillColor(),o=n.getFillColor();if(!r||!o)return;const a=e.getPosition(),l=n.getPosition(),c=Ch(r,o,e.getRadius(),n.getRadius()),d=t.createLinearGradient(a.x,a.y,l.x,l.y);return d.addColorStop(Jp,sd(r,s)),d.addColorStop(Zt(i,Jp,Qp),po(c,s)),d.addColorStop(Qp,sd(o,s)),d}function SC(t,e,n,s,i){qr(t,s,i),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function jC(t,e,n,s){const i=t.actualOptions,r=i.interactivity.modes.connect;if(r)return _C(e,n,s,r.links.opacity)}function CC(t,e,n){t.canvas.draw(s=>{const i=jC(t,s,e,n);if(!i)return;const r=e.getPosition(),o=n.getPosition();SC(s,e.retina.linksWidth??kC,i,r,o)})}const EC="connect",Yp=0;class PC extends yn{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const s=e.interactivity.mouse.position,{connectModeDistance:i,connectModeRadius:r}=e.retina;if(!i||i<Yp||!r||r<Yp||!s)return;const o=Math.abs(r),a=e.particles.quadTree.queryCircle(s,o,l=>this.isEnabled(l));a.forEach((l,c)=>{const d=l.getPosition(),h=1;for(const f of a.slice(c+h)){const g=f.getPosition(),v=Math.abs(i),w=Math.abs(d.x-g.x),x=Math.abs(d.y-g.y);w<v&&x<v&&CC(e,l,f)}})}}isEnabled(e){const n=this.container,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return i.onHover.enable&&s.position?Se(EC,i.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new bC);for(const s of n)e.connect.load(s==null?void 0:s.connect)}reset(){}}async function TC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",n=>Promise.resolve(new PC(n)),e)}class NC{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){te(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=$n.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class LC{constructor(){this.distance=100,this.links=new NC}load(e){te(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const MC=0;function RC(t,e,n,s,i,r){qr(t,n,s),t.strokeStyle=po(i,r),t.lineWidth=e,t.stroke()}function OC(t,e,n,s,i){t.canvas.draw(r=>{const o=e.getPosition();RC(r,e.retina.linksWidth??MC,o,i,n,s)})}const IC="grab",zC=0,$C=0;class AC extends yn{constructor(e,n){super(e),this._engine=n}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){var a;const e=this.container,n=e.actualOptions,s=n.interactivity;if(!s.modes.grab||!s.events.onHover.enable||e.interactivity.status!==Co)return;const i=e.interactivity.mouse.position;if(!i)return;const r=e.retina.grabModeDistance;if(!r||r<zC)return;const o=e.particles.quadTree.queryCircle(i,r,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),d=Qt(c,i);if(d>r)continue;const h=s.modes.grab.links,f=h.opacity,g=f-d*f/r;if(g<=$C)continue;const v=h.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&v){const x=s.modes.grab.links;e.particles.grabLineColor=ov(this._engine,v,x.blink,x.consent)}const w=id(l,void 0,e.particles.grabLineColor);w&&OC(e,l,w,g,i)}}isEnabled(e){const n=this.container,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return i.onHover.enable&&!!s.position&&Se(IC,i.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new LC);for(const s of n)e.grab.load(s==null?void 0:s.grab)}reset(){}}async function DC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",n=>Promise.resolve(new AC(n,t)),e)}const UC="pause";class FC extends yn{constructor(e){super(e),this.handleClickMode=n=>{if(n!==UC)return;const s=this.container;s.animationStatus?s.pause():s.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function BC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",n=>Promise.resolve(new FC(n)),e)}class qC{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(te(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(s=>s)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=Nt(n)),this.particles=ws(e.particles,s=>rl({},s))}}const WC="push",VC=0;class HC extends yn{constructor(e){super(e),this.handleClickMode=n=>{if(n!==WC)return;const s=this.container,i=s.actualOptions,r=i.interactivity.modes.push;if(!r)return;const o=z(r.quantity);if(o<=VC)return;const a=Il([void 0,...r.groups]),l=a!==void 0?s.actualOptions.particles.groups[a]:void 0,c=zl(r.particles),d=rl(l,c);s.particles.push(o,s.interactivity.mouse,d,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new qC);for(const s of n)e.push.load(s==null?void 0:s.push)}reset(){}}async function GC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",n=>Promise.resolve(new HC(n)),e)}class KC{constructor(){this.quantity=2}load(e){if(te(e))return;const n=e.quantity;n!==void 0&&(this.quantity=Nt(n))}}const JC="remove";class QC extends yn{constructor(e){super(e),this.handleClickMode=n=>{const s=this.container,i=s.actualOptions;if(!i.interactivity.modes.remove||n!==JC)return;const r=z(i.interactivity.modes.remove.quantity);s.particles.removeQuantity(r)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new KC);for(const s of n)e.remove.load(s==null?void 0:s.remove)}reset(){}}async function YC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",n=>Promise.resolve(new QC(n)),e)}class mv{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=qs.easeOutQuad}load(e){te(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class XC extends mv{constructor(){super(),this.selectors=[]}load(e){super.load(e),!te(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class ZC extends mv{load(e){super.load(e),!te(e)&&(this.divs=ws(e.divs,n=>{const s=new XC;return s.load(n),s}))}}const Ts="repulse",eE=0,tE=6,nE=3,sE=2,iE=0,rE=0,oE=1,Uc=.5;class aE extends yn{constructor(e,n){super(n),this._clickRepulse=()=>{const s=this.container,i=s.actualOptions.interactivity.modes.repulse;if(!i)return;const r=s.repulse??{particles:[]};if(r.finish||(r.count||(r.count=0),r.count++,r.count===s.particles.count&&(r.finish=!0)),r.clicking){const o=s.retina.repulseModeDistance;if(!o||o<eE)return;const a=Math.pow(o/tE,nE),l=s.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new Xe(l.x,l.y,a),d=s.particles.quadTree.query(c,h=>this.isEnabled(h));for(const h of d){const{dx:f,dy:g,distance:v}=Ye(l,h.position),w=v**sE,x=i.speed,p=-a*x/w;if(w<=a){r.particles.push(h);const m=qe.create(f,g);m.length=p,h.velocity.setTo(m)}}}else if(r.clicking===!1){for(const o of r.particles)o.velocity.setTo(o.initialVelocity);r.particles=[]}},this._hoverRepulse=()=>{const s=this.container,i=s.interactivity.mouse.position,r=s.retina.repulseModeDistance;!r||r<iE||!i||this._processRepulse(i,r,new Xe(i.x,i.y,r))},this._processRepulse=(s,i,r,o)=>{const a=this.container,l=a.particles.quadTree.query(r,x=>this.isEnabled(x)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;const{easing:d,speed:h,factor:f,maxSpeed:g}=c,v=this._engine.getEasing(d),w=((o==null?void 0:o.speed)??h)*f;for(const x of l){const{dx:p,dy:m,distance:y}=Ye(x.position,s),b=Zt(v(oE-y/i)*w,rE,g),S=qe.create(y?p/y*b:w,y?m/y*b:w);x.position.addTo(S)}},this._singleSelectorRepulse=(s,i)=>{const r=this.container,o=r.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(s);a.length&&a.forEach(l=>{const c=l,d=r.retina.pixelRatio,h={x:(c.offsetLeft+c.offsetWidth*Uc)*d,y:(c.offsetTop+c.offsetHeight*Uc)*d},f=c.offsetWidth*Uc*d,g=i.type===mo.circle?new Xe(h.x,h.y,f):new xs(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),v=o.divs,w=ev(v,c);this._processRepulse(h,f,g,w)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=s=>{const i=this.container.actualOptions,r=i.interactivity.modes.repulse;if(!r||s!==Ts)return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},r.duration*zn)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,s=e.interactivity.status===Co,i=n.interactivity.events,r=i.onHover,o=r.enable,a=r.mode,l=i.onClick,c=l.enable,d=l.mode,h=i.onDiv;s&&o&&Se(Ts,a)?this._hoverRepulse():c&&Se(Ts,d)?this._clickRepulse():_h(Ts,h,(f,g)=>this._singleSelectorRepulse(f,g))}isEnabled(e){const n=this.container,s=n.actualOptions,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??s.interactivity).events,o=r.onDiv,a=r.onHover,l=r.onClick,c=kh(Ts,o);if(!(c||a.enable&&i.position||l.enable&&i.clickPosition))return!1;const d=a.mode,h=l.mode;return Se(Ts,d)||Se(Ts,h)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new ZC);for(const s of n)e.repulse.load(s==null?void 0:s.repulse)}reset(){}}async function lE(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",n=>Promise.resolve(new aE(t,n)),e)}class cE{constructor(){this.factor=3,this.radius=200}load(e){te(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const uE="slow",dE=0;class hE extends yn{constructor(e){super(e)}clear(e,n,s){e.slow.inRange&&!s||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return i.onHover.enable&&!!s.position&&Se(uE,i.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new cE);for(const s of n)e.slow.load(s==null?void 0:s.slow)}reset(e){e.slow.inRange=!1;const n=this.container,s=n.actualOptions,i=n.interactivity.mouse.position,r=n.retina.slowModeRadius,o=s.interactivity.modes.slow;if(!o||!r||r<dE||!i)return;const a=e.getPosition(),l=Qt(i,a),c=l/r,d=o.factor,{slow:h}=e;l>r||(h.inRange=!0,h.factor=c/d)}}async function fE(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",n=>Promise.resolve(new hE(n)),e)}const pE=0,mE=1,gE=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function yE(t,e,n){const{svgData:s}=t;if(!s)return"";const i=sd(e,n);if(s.includes("fill"))return s.replace(gE,()=>i);const r=s.indexOf(">");return`${s.substring(pE,r)} fill="${i}"${s.substring(r)}`}async function $l(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,Zy().error(`${Qi} loading image: ${t.source}`),e()}),n.src=t.source})}async function vE(t){if(t.type!=="svg"){await $l(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(Zy().error(`${Qi} Image not found`),t.error=!0),t.loading=!1}function wE(t,e,n,s){var o;const i=yE(t,n,((o=s.opacity)==null?void 0:o.value)??mE),r={color:n,gif:e.gif,data:{...t,svgData:i},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const l=new Blob([i],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,d=c.createObjectURL(l),h=new Image;h.addEventListener("load",()=>{r.loaded=!0,r.element=h,a(r),c.revokeObjectURL(d)});const f=async()=>{c.revokeObjectURL(d);const g={...t,error:!1,loading:!0};await $l(g),r.loaded=!0,r.element=g.element,a(r)};h.addEventListener("error",()=>void f()),h.src=d})}const Fc=[0,4,2,1],Xp=[8,8,4,2];class xE{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((s,i)=>s+String.fromCharCode(i),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const s=0,i=0;do{n=this.data[this.pos++];for(let r=n;--r>=s;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==i);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const s=0,i=1;for(let o=0;e!==s;o+=e+i,e=this.data[this.pos+o])n+=e;const r=new Uint8Array(n);e=this.data[this.pos++];for(let o=0;e!==s;e=this.data[this.pos++])for(let a=e;--a>=s;r[o++]=this.data[this.pos++]);return r}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var Ut;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(Ut||(Ut={}));var Tn;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(Tn||(Tn={}));const rt={x:0,y:0},bE=0,Zp=.5,kE=0,em=0,od=0;function gv(t,e){const n=[];for(let s=0;s<e;s++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function _E(t,e,n,s){switch(t.nextByte()){case Tn.GraphicsControlExtension:{const i=e.frames[n(!1)];t.pos++;const r=t.nextByte();i.GCreserved=(r&224)>>>5,i.disposalMethod=(r&28)>>>2,i.userInputDelayFlag=(r&2)===2;const o=(r&1)===1;i.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&s(a),t.pos++;break}case Tn.ApplicationExtension:{t.pos++;const i={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(i);break}case Tn.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case Tn.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function SE(t,e,n,s,i,r){const o=e.frames[s(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const d=1<<(a&7)+1;l&&(o.localColorTable=gv(t,d));const h=p=>{const{r:m,g:y,b}=(l?o.localColorTable:e.globalColorTable)[p];return p!==i(null)?{r:m,g:y,b,a:255}:{r:m,g:y,b,a:n?~~((m+y+b)/3):0}},f=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(p){if(p instanceof DOMException&&p.name==="IndexSizeError")return null;throw p}})();if(f==null)throw new EvalError("GIF frame size is to large");const g=t.nextByte(),v=t.readSubBlocksBin(),w=1<<g,x=(p,m)=>{const y=p>>>3,b=p&7;return(v[y]+(v[y+1]<<8)+(v[y+2]<<16)&(1<<m)-1<<b)>>>b};if(c){for(let p=0,m=g+1,y=0,b=[[0]],S=0;S<4;S++)if(Fc[S]<o.height){let j=0,_=0,C=!1;for(;!C;){const P=p;if(p=x(y,m),y+=m+1,p===w){m=g+1,b.length=w+2;for(let T=0;T<b.length;T++)b[T]=T<w?[T]:[]}else{p>=b.length?b.push(b[P].concat(b[P][0])):P!==w&&b.push(b[P].concat(b[p][0]));for(const T of b[p]){const{r:F,g:re,b:ce,a:Ve}=h(T);f.data.set([F,re,ce,Ve],Fc[S]*o.width+Xp[S]*_+j%(o.width*4)),j+=4}b.length===1<<m&&m<12&&m++}j===o.width*4*(_+1)&&(_++,Fc[S]+Xp[S]*_>=o.height&&(C=!0))}}o.image=f,o.bitmap=await createImageBitmap(f)}else{let p=0,m=g+1,y=0,b=-4,S=!1;const j=[[0]];for(;!S;){const _=p;if(p=x(y,m),y+=m,p===w){m=g+1,j.length=w+2;for(let C=0;C<j.length;C++)j[C]=C<w?[C]:[]}else{if(p===w+1){S=!0;break}p>=j.length?j.push(j[_].concat(j[_][0])):_!==w&&j.push(j[_].concat(j[p][0]));for(const C of j[p]){const{r:P,g:T,b:F,a:re}=h(C);f.data.set([P,T,F,re],b+=4)}j.length>=1<<m&&m<12&&m++}}o.image=f,o.bitmap=await createImageBitmap(f)}}async function jE(t,e,n,s,i,r){switch(t.nextByte()){case Tn.EndOfFile:return!0;case Tn.Image:await SE(t,e,n,s,i);break;case Tn.Extension:_E(t,e,s,i);break;default:throw new EvalError("undefined block found")}return!1}function CE(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function EE(t,e,n){n||(n=!1);const s=await fetch(t);if(!s.ok&&s.status===404)throw new EvalError("file not found");const i=await s.arrayBuffer(),r={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new xE(new Uint8ClampedArray(i));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");r.width=o.nextTwoBytes(),r.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;r.colorRes=(a&112)>>>4,r.sortFlag=(a&8)===8;const c=1<<(a&7)+1,d=o.nextByte();r.pixelAspectRatio=o.nextByte(),r.pixelAspectRatio!==0&&(r.pixelAspectRatio=(r.pixelAspectRatio+15)/64),l&&(r.globalColorTable=gv(o,c));const h=(()=>{try{return new ImageData(r.width,r.height,{colorSpace:"srgb"})}catch(b){if(b instanceof DOMException&&b.name==="IndexSizeError")return null;throw b}})();if(h==null)throw new Error("GIF frame size is to large");const{r:f,g,b:v}=r.globalColorTable[d];h.data.set(l?[f,g,v,255]:[0,0,0,0]);for(let b=4;b<h.data.length;b*=2)h.data.copyWithin(b,0,b);r.backgroundImage=h;let w=-1,x=!0,p=-1;const m=b=>(b&&(x=!0),w),y=b=>(b!=null&&(p=b),p);try{do x&&(r.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Ut.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),w++,p=-1,x=!1);while(!await jE(o,r,n,m,y,e));r.frames.length--;for(const b of r.frames){if(b.userInputDelayFlag&&b.delayTime===0){r.totalTime=1/0;break}r.totalTime+=b.delayTime}return r}catch(b){throw b instanceof EvalError?new Error(`error while parsing frame ${w} "${b.message}"`):b}}function PE(t){const{context:e,radius:n,particle:s,delta:i}=t,r=s.image;if(!(r!=null&&r.gifData)||!r.gif)return;const o=new OffscreenCanvas(r.gifData.width,r.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(rt.x,rt.y,o.width,o.height),s.gifLoopCount===void 0&&(s.gifLoopCount=r.gifLoopCount??od);let l=s.gifFrame??bE;const c={x:-r.gifData.width*Zp,y:-r.gifData.height*Zp},d=r.gifData.frames[l];if(s.gifTime===void 0&&(s.gifTime=kE),!!d.bitmap){switch(e.scale(n/r.gifData.width,n/r.gifData.height),d.disposalMethod){case Ut.UndefinedA:case Ut.UndefinedB:case Ut.UndefinedC:case Ut.UndefinedD:case Ut.Replace:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(rt.x,rt.y,o.width,o.height);break;case Ut.Combine:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y);break;case Ut.RestoreBackground:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(rt.x,rt.y,o.width,o.height),r.gifData.globalColorTable.length?a.putImageData(r.gifData.backgroundImage,c.x,c.y):a.putImageData(r.gifData.frames[em].image,c.x+d.left,c.y+d.top);break;case Ut.RestorePrevious:{const h=a.getImageData(rt.x,rt.y,o.width,o.height);a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(rt.x,rt.y,o.width,o.height),a.putImageData(h,rt.x,rt.y)}break}if(s.gifTime+=i.value,s.gifTime>d.delayTime){if(s.gifTime-=d.delayTime,++l>=r.gifData.frames.length){if(--s.gifLoopCount<=od)return;l=em,a.clearRect(rt.x,rt.y,o.width,o.height)}s.gifFrame=l}e.scale(r.gifData.width/n,r.gifData.height/n)}}async function TE(t){if(t.type!=="gif"){await $l(t);return}t.loading=!0;try{t.gifData=await EE(t.source),t.gifLoopCount=CE(t.gifData)??od,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const NE=2,LE=1,ME=12,RE=1;class OE{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${Qi} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:s,particle:i,opacity:r}=e,o=i.image,a=o==null?void 0:o.element;if(o){if(n.globalAlpha=r,o.gif&&o.gifData)PE(e);else if(a){const l=o.ratio,c={x:-s,y:-s},d=s*NE;n.drawImage(a,c.x,c.y,d,d/l)}n.globalAlpha=LE}}getSidesCount(){return ME}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const s of n.preload)await this._engine.loadImage(s)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(i=>i.name===n.name||i.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const s=this._engine.images,i=n.shapeData;if(!i)return;const r=n.getFillColor(),o=s.find(l=>l.name===i.name||l.source===i.src);if(!o)return;const a=i.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&r?l=await wE(o,i,r,n):l={color:r,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:i.width&&i.height?i.width/i.height:o.ratio??RE,replaceColor:a,source:i.src},l.ratio||(l.ratio=1);const c=i.fill??n.shapeFill,d=i.close??n.shapeClose,h={image:l,fill:c,close:d};n.image=h.image,n.shapeFill=h.fill,n.shapeClose=h.close})()}}class IE{constructor(){this.src="",this.gif=!1}load(e){te(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class zE{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!(n!=null&&n.preload))return;e.preload||(e.preload=[]);const s=e.preload;for(const i of n.preload){const r=s.find(o=>o.name===i.name||o.src===i.src);if(r)r.load(i);else{const o=new IE;o.load(i),s.push(o)}}}needsPlugin(){return!0}}const $E=3;function AE(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Qi} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-$E),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let s;e.gif?s=TE:s=e.replaceColor?vE:$l,await s(n)}catch{throw new Error(`${Qi} ${e.name??e.src} not found`)}})}async function DE(t,e=!0){t.checkVersion("3.9.1"),AE(t);const n=new zE(t);await t.addPlugin(n,e),await t.addShape(new OE(t),e)}class UE extends Eh{constructor(){super(),this.sync=!1}load(e){te(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class FE extends Eh{constructor(){super(),this.sync=!1}load(e){te(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class BE{constructor(){this.count=0,this.delay=new UE,this.duration=new FE}load(e){te(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const di=0,qE=-1,tm=0,nm=0;function WE(t,e,n){if(!t.life)return;const s=t.life;let i=!1;if(t.spawning)if(s.delayTime+=e.value,s.delayTime>=t.life.delay)i=!0,t.spawning=!1,s.delayTime=di,s.time=di;else return;if(s.duration===qE||t.spawning||(i?s.time=di:s.time+=e.value,s.time<s.duration))return;if(s.time=di,t.life.count>tm&&t.life.count--,t.life.count===tm){t.destroy();return}const r=Nt(nm,n.width),o=Nt(nm,n.width);t.position.x=Ct(r),t.position.y=Ct(o),t.spawning=!0,s.delayTime=di,s.time=di,t.reset();const a=t.options.life;a&&(s.delay=z(a.delay.value)*zn,s.duration=z(a.duration.value)*zn)}const Ns=0,sm=1,im=-1;class VE{constructor(e){this.container=e}init(e){const n=this.container,s=e.options,i=s.life;i&&(e.life={delay:n.retina.reduceFactor?z(i.delay.value)*(i.delay.sync?sm:be())/n.retina.reduceFactor*zn:Ns,delayTime:Ns,duration:n.retina.reduceFactor?z(i.duration.value)*(i.duration.sync?sm:be())/n.retina.reduceFactor*zn:Ns,time:Ns,count:i.count},e.life.duration<=Ns&&(e.life.duration=im),e.life.count<=Ns&&(e.life.count=im),e.life&&(e.spawning=e.life.delay>Ns))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new BE);for(const s of n)e.life.load(s==null?void 0:s.life)}update(e,n){!this.isEnabled(e)||!e.life||WE(e,n,this.container.canvas.size)}}async function HE(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async n=>Promise.resolve(new VE(n)),e)}function GE(t){const{context:e,particle:n,radius:s}=t,i=n.shapeData,r=0;e.moveTo(-s,r),e.lineTo(s,r),e.lineCap=(i==null?void 0:i.cap)??"butt"}const KE=1;class JE{constructor(){this.validTypes=["line"]}draw(e){GE(e)}getSidesCount(){return KE}}async function QE(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new JE,e)}const rm=.5;class YE{init(){}isEnabled(e){return!$p()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,s=n.actualOptions,i=s.interactivity.events.onHover.parallax;if($p()||!i.enable)return;const r=i.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width*rm,y:a.height*rm},c=i.smooth,d=e.getRadius()/r,h={x:(o.x-l.x)*d,y:(o.y-l.y)*d},{offset:f}=e;f.x+=(h.x-f.x)/c,f.y+=(h.y-f.y)/c}}async function XE(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new YE),e)}const om=1e3,ZE=1;class e5 extends Ph{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=z(e.options.move.attract.distance)*n.retina.pixelRatio);const s=e.attractDistance,i=e.getPosition(),r=n.particles.quadTree.queryCircle(i,s);for(const o of r){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=Ye(i,a),d=e.options.move.attract.rotate,h=l/(d.x*om),f=c/(d.y*om),g=o.size.value/e.size.value,v=ZE/g;e.velocity.x-=h*g,e.velocity.y-=f*g,o.velocity.x+=h*v,o.velocity.y+=f*v}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function t5(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",n=>Promise.resolve(new e5(n)),e)}const n5=.5,s5=10,i5=0;function am(t,e,n,s,i,r){const o=Zt(t.options.collisions.absorb.speed*i.factor/s5,i5,s);t.size.value+=o*n5,n.size.value-=o,s<=r&&(n.size.value=0,n.destroy())}function r5(t,e,n,s){const i=t.getRadius(),r=e.getRadius();i===void 0&&r!==void 0?t.destroy():i!==void 0&&r===void 0?e.destroy():i!==void 0&&r!==void 0&&(i>=r?am(t,i,e,r,n,s):am(e,r,t,i,n,s))}const lm=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=z(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function yv(t,e){tv(nd(t),nd(e)),lm(t),lm(e)}function o5(t,e){!t.unbreakable&&!e.unbreakable&&yv(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function a5(t,e,n,s){switch(t.options.collisions.mode){case Wr.absorb:{r5(t,e,n,s);break}case Wr.bounce:{yv(t,e);break}case Wr.destroy:{o5(t,e);break}}}const l5=2;class c5 extends Ph{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const s=this.container,i=e.getPosition(),r=e.getRadius(),o=s.particles.quadTree.queryCircle(i,r*l5);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(i.z)-Math.round(l.z))>r+c)continue;const d=Qt(i,l),h=r+c;d>h||a5(e,a,n,s.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function u5(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",n=>Promise.resolve(new c5(n)),e)}const Bc=2;class d5 extends Xe{constructor(e,n,s,i){super(e,n,s),this.canvasSize=i,this.canvasSize={...i}}contains(e){const{width:n,height:s}=this.canvasSize,{x:i,y:r}=e;return super.contains(e)||super.contains({x:i-n,y:r})||super.contains({x:i-n,y:r-s})||super.contains({x:i,y:r-s})}intersects(e){if(super.intersects(e))return!0;const n=e,s=e,i={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(s.radius!==void 0){const r=new Xe(i.x,i.y,s.radius*Bc);return super.intersects(r)}else if(n.size!==void 0){const r=new xs(i.x,i.y,n.size.width*Bc,n.size.height*Bc);return super.intersects(r)}return!1}}class h5{constructor(){this.blur=5,this.color=new $n,this.color.value="#000",this.enable=!1}load(e){te(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=$n.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class f5{constructor(){this.enable=!1,this.frequency=1}load(e){te(e)||(e.color!==void 0&&(this.color=$n.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class p5{constructor(){this.blink=!1,this.color=new $n,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new h5,this.triangles=new f5,this.width=1,this.warp=!1}load(e){te(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=$n.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const cm=2,m5=1,la={x:0,y:0},g5=0;function y5(t,e,n,s,i){const{dx:r,dy:o,distance:a}=Ye(t,e);if(!i||a<=n)return a;const l={x:Math.abs(r),y:Math.abs(o)},c={x:Math.min(l.x,s.width-l.x),y:Math.min(l.y,s.height-l.y)};return Math.sqrt(c.x**cm+c.y**cm)}class v5 extends Ph{constructor(e,n){super(e),this._setColor=s=>{if(!s.options.links)return;const i=this._linkContainer,r=s.options.links;let o=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(o)return;const a=r.color;o=ov(this._engine,a,r.blink,r.consent),r.id===void 0?i.particles.linksColor=o:i.particles.linksColors.set(r.id,o)},this._linkContainer=e,this._engine=n}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),s=this.container,i=s.canvas.size;if(n.x<la.x||n.y<la.y||n.x>i.width||n.y>i.height)return;const r=e.options.links,o=r.opacity,a=e.retina.linksDistance??g5,l=r.warp;let c;l?c=new d5(n.x,n.y,a,i):c=new Xe(n.x,n.y,a);const d=s.particles.quadTree.query(c);for(const h of d){const f=h.options.links;if(e===h||!(f!=null&&f.enable)||r.id!==f.id||h.spawning||h.destroyed||!h.links||e.links.some(x=>x.destination===h)||h.links.some(x=>x.destination===e))continue;const g=h.getPosition();if(g.x<la.x||g.y<la.y||g.x>i.width||g.y>i.height)continue;const v=y5(n,g,a,i,l&&f.warp);if(v>a)continue;const w=(m5-v/a)*o;this._setColor(e),e.links.push({destination:h,opacity:w})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new p5);for(const s of n)e.links.load(s==null?void 0:s.links)}reset(){}}async function w5(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new v5(n,t)),e)}function x5(t,e,n,s){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(s.x,s.y),t.closePath()}function b5(t){let e=!1;const{begin:n,end:s,engine:i,maxDistance:r,context:o,canvasSize:a,width:l,backgroundMask:c,colorLine:d,opacity:h,links:f}=t;if(Qt(n,s)<=r)qr(o,n,s),e=!0;else if(f.warp){let v,w;const x={x:s.x-a.width,y:s.y},p=Ye(n,x);if(p.distance<=r){const m=n.y-p.dy/p.dx*n.x;v={x:0,y:m},w={x:a.width,y:m}}else{const m={x:s.x,y:s.y-a.height},y=Ye(n,m);if(y.distance<=r){const S=-(n.y-y.dy/y.dx*n.x)/(y.dy/y.dx);v={x:S,y:0},w={x:S,y:a.height}}else{const b={x:s.x-a.width,y:s.y-a.height},S=Ye(n,b);if(S.distance<=r){const j=n.y-S.dy/S.dx*n.x;v={x:-j/(S.dy/S.dx),y:j},w={x:v.x+a.width,y:v.y+a.height}}}}v&&w&&(qr(o,n,v),qr(o,s,w),e=!0)}if(!e)return;o.lineWidth=l,c.enable&&(o.globalCompositeOperation=c.composite),o.strokeStyle=po(d,h);const{shadow:g}=f;if(g.enable){const v=Zs(i,g.color);v&&(o.shadowBlur=g.blur,o.shadowColor=po(v))}o.stroke()}function k5(t){const{context:e,pos1:n,pos2:s,pos3:i,backgroundMask:r,colorTriangle:o,opacityTriangle:a}=t;x5(e,n,s,i),r.enable&&(e.globalCompositeOperation=r.composite),e.fillStyle=po(o,a),e.fill()}function _5(t){return t.sort((e,n)=>e-n),t.join("_")}function um(t,e){const n=_5(t.map(i=>i.id));let s=e.get(n);return s===void 0&&(s=be(),e.set(n,s)),s}const dm=0,qc=0,hm=0,S5=.5,j5=1;class C5{constructor(e,n){this._drawLinkLine=(s,i)=>{const r=s.options.links;if(!(r!=null&&r.enable))return;const o=this._container,a=o.actualOptions,l=i.destination,c=s.getPosition(),d=l.getPosition();let h=i.opacity;o.canvas.draw(f=>{var m;let g;const v=(m=s.options.twinkle)==null?void 0:m.lines;if(v!=null&&v.enable){const y=v.frequency,b=Zs(this._engine,v.color);be()<y&&b&&(g=b,h=z(v.opacity))}if(!g){const y=r.id!==void 0?o.particles.linksColors.get(r.id):o.particles.linksColor;g=id(s,l,y)}if(!g)return;const w=s.retina.linksWidth??qc,x=s.retina.linksDistance??hm,{backgroundMask:p}=a;b5({context:f,width:w,begin:c,end:d,engine:this._engine,maxDistance:x,canvasSize:o.canvas.size,links:r,backgroundMask:p,colorLine:g,opacity:h})})},this._drawLinkTriangle=(s,i,r)=>{const o=s.options.links;if(!(o!=null&&o.enable))return;const a=o.triangles;if(!a.enable)return;const l=this._container,c=l.actualOptions,d=i.destination,h=r.destination,f=a.opacity??(i.opacity+r.opacity)*S5;f<=dm||l.canvas.draw(g=>{const v=s.getPosition(),w=d.getPosition(),x=h.getPosition(),p=s.retina.linksDistance??hm;if(Qt(v,w)>p||Qt(x,w)>p||Qt(x,v)>p)return;let m=Zs(this._engine,a.color);if(!m){const y=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;m=id(s,d,y)}m&&k5({context:g,pos1:v,pos2:w,pos3:x,backgroundMask:c.backgroundMask,colorTriangle:m,opacityTriangle:f})})},this._drawTriangles=(s,i,r,o)=>{var c,d,h;const a=r.destination;if(!((c=s.links)!=null&&c.triangles.enable&&((d=a.options.links)!=null&&d.triangles.enable)))return;const l=(h=a.links)==null?void 0:h.filter(f=>{const g=this._getLinkFrequency(a,f.destination);return a.options.links&&g<=a.options.links.frequency&&o.findIndex(w=>w.destination===f.destination)>=0});if(l!=null&&l.length)for(const f of l){const g=f.destination;this._getTriangleFrequency(i,a,g)>s.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(s,i)=>um([s,i],this._freqs.links),this._getTriangleFrequency=(s,i,r)=>um([s,i,r],this._freqs.triangles),this._container=e,this._engine=n,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:s,options:i}=n;if(!(s!=null&&s.length))return;const r=s.filter(o=>i.links&&(i.links.frequency>=j5||this._getLinkFrequency(n,o.destination)<=i.links.frequency));for(const o of r)this._drawTriangles(i,n,o,r),o.opacity>dm&&(n.retina.linksWidth??qc)>qc&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this._container.retina.pixelRatio,{retina:s}=e,{distance:i,width:r}=e.options.links;s.linksDistance=i*n,s.linksWidth=r*n}particleDestroyed(e){e.links=[]}}class E5{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new C5(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function P5(t,e=!0){const n=new E5(t);await t.addPlugin(n,e)}async function T5(t,e=!0){t.checkVersion("3.9.1"),await w5(t,e),await P5(t,e)}const N5=180,ca={x:0,y:0},L5=2;function M5(t,e,n){const{context:s}=t,i=n.count.numerator*n.count.denominator,r=n.count.numerator/n.count.denominator,o=N5*(r-L5)/r,a=Math.PI-Fr(o);if(s){s.beginPath(),s.translate(e.x,e.y),s.moveTo(ca.x,ca.y);for(let l=0;l<i;l++)s.lineTo(n.length,ca.y),s.translate(n.length,ca.y),s.rotate(a)}}const R5=5;class vv{draw(e){const{particle:n,radius:s}=e,i=this.getCenter(n,s),r=this.getSidesData(n,s);M5(e,i,r)}getSidesCount(e){const n=e.shapeData;return Math.round(z((n==null?void 0:n.sides)??R5))}}const fm=3.5,pm=2.66,O5=3;class I5 extends vv{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/fm),y:-n/(pm/fm)}}getSidesData(e,n){const s=e.sides;return{count:{denominator:1,numerator:s},length:n*pm/(s/O5)}}}const z5=1.66,$5=3,A5=2;class D5 extends vv{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/z5}}getSidesCount(){return $5}getSidesData(e,n){const s=n*A5;return{count:{denominator:2,numerator:3},length:s}}}async function U5(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new I5,e)}async function F5(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new D5,e)}async function B5(t,e=!0){t.checkVersion("3.9.1"),await U5(t,e),await F5(t,e)}class q5{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){te(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Nt(e.speed)),e.decay!==void 0&&(this.decay=Nt(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class W5 extends Eh{constructor(){super(),this.animation=new q5,this.direction=Wt.clockwise,this.path=!1,this.value=0}load(e){te(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const wv=2,V5=Math.PI*wv,H5=1,G5=360;class K5{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:Fr(z(n.value)),min:0,max:V5},e.pathRotation=n.path;let s=n.direction;switch(s===Wt.random&&(s=Math.floor(be()*wv)>0?Wt.counterClockwise:Wt.clockwise),s){case Wt.counterClockwise:case"counterClockwise":e.rotate.status=ke.decreasing;break;case Wt.clockwise:e.rotate.status=ke.increasing;break}const i=n.animation;i.enable&&(e.rotate.decay=H5-z(i.decay),e.rotate.velocity=z(i.speed)/G5*this.container.retina.reduceFactor,i.sync||(e.rotate.velocity*=be())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new W5);for(const s of n)e.rotate.load(s==null?void 0:s.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(Sh(e,e.rotate,!1,fo.none,n),e.rotation=e.rotate.value))}}async function J5(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",n=>Promise.resolve(new K5(n)),e)}const Q5=2,Y5=Math.sqrt(Q5),X5=2;function Z5(t){const{context:e,radius:n}=t,s=n/Y5,i=s*X5;e.rect(-s,-s,i,i)}const eP=4;class tP{constructor(){this.validTypes=["edge","square"]}draw(e){Z5(e)}getSidesCount(){return eP}}async function nP(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new tP,e)}const sP=2,hi={x:0,y:0};function iP(t){const{context:e,particle:n,radius:s}=t,i=n.sides,r=n.starInset??sP;e.moveTo(hi.x,hi.y-s);for(let o=0;o<i;o++)e.rotate(Math.PI/i),e.lineTo(hi.x,hi.y-s*r),e.rotate(Math.PI/i),e.lineTo(hi.x,hi.y-s)}const rP=2,oP=5;class aP{constructor(){this.validTypes=["star"]}draw(e){iP(e)}getSidesCount(e){const n=e.shapeData;return Math.round(z((n==null?void 0:n.sides)??oP))}particleInit(e,n){const s=n.shapeData;n.starInset=z((s==null?void 0:s.inset)??rP)}}async function lP(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new aP,e)}const cP=1;class uP{constructor(e,n){this._container=e,this._engine=n}init(e){var o;const n=this._container,s=e.options,i=zl(s.stroke,e.id,s.reduceDuplicates);e.strokeWidth=z(i.width)*n.retina.pixelRatio,e.strokeOpacity=z(i.opacity??cP),e.strokeAnimation=(o=i.color)==null?void 0:o.animation;const r=jh(this._engine,i.color)??e.getFillColor();r&&(e.strokeColor=av(r,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:s}=e;return!e.destroyed&&!e.spawning&&!!n&&((s==null?void 0:s.h.value)!==void 0&&s.h.enable||(s==null?void 0:s.s.value)!==void 0&&s.s.enable||(s==null?void 0:s.l.value)!==void 0&&s.l.enable)}update(e,n){this.isEnabled(e)&&lv(e.strokeColor,n)}}async function dP(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new uP(n,t)),e)}async function hP(t,e=!0){t.checkVersion("3.9.1"),await XE(t,!1),await nC(t,!1),await dC(t,!1),await wC(t,!1),await TC(t,!1),await DC(t,!1),await BC(t,!1),await GC(t,!1),await YC(t,!1),await lE(t,!1),await fE(t,!1),await t5(t,!1),await u5(t,!1),await T5(t,!1),await Hj(t,!1),await Jj(t,!1),await DE(t,!1),await QE(t,!1),await B5(t,!1),await nP(t,!1),await lP(t,!1),await HE(t,!1),await J5(t,!1),await dP(t,!1),await Vj(t,e)}const fP={ice:["#00d4ff","#0099cc","#66e0ff","#3399ff"],stone:["#8b6f47","#a0826d","#6b5c4d","#8b7355"],chocolate:["#d2691e","#ff8c42","#ff6f3c","#ffa500"]},pP=({trigger:t,theme:e,onComplete:n})=>{const[s,i]=k.useState(!1),[r,o]=k.useState(0),a=k.useCallback(async l=>{await hP(l)},[]);return k.useEffect(()=>{if(t){i(!0),o(c=>c+1);const l=setTimeout(()=>{i(!1),n==null||n()},2e3);return()=>clearTimeout(l)}},[t,n]),s?u.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:u.jsx(Ml,{id:`shatter-${e}-${r}`,init:a,options:{particles:{number:{value:30},color:{value:fP[e]},shape:{type:["circle","square"]},opacity:{value:{min:.3,max:1},animation:{enable:!0,speed:1,minimumValue:0,sync:!1,destroy:"min"}},size:{value:{min:3,max:8}},move:{enable:!0,speed:{min:3,max:8},direction:"none",random:!0,straight:!1,outModes:{default:"destroy"},gravity:{enable:!0,acceleration:9.81}},rotate:{value:{min:0,max:360},animation:{enable:!0,speed:30,sync:!1}},life:{duration:{value:2}}},emitters:{position:{x:50,y:50},rate:{quantity:30,delay:0},life:{duration:.1,count:1}},detectRetina:!0}},r)}):null},mm=10,mP=400,go=()=>{u_();const e=Date.now()+3e3,n=(o,a)=>Math.random()*(a-o)+o,s=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"],i=[],r=setInterval(()=>{if(e-Date.now()<=0){clearInterval(r),i.forEach(l=>l.remove());return}const a=50;for(let l=0;l<a;l++){const c=document.createElement("div");c.style.position="fixed",c.style.width="10px",c.style.height="10px",c.style.backgroundColor=s[Math.floor(Math.random()*s.length)],c.style.left=Math.random()*window.innerWidth+"px",c.style.top="-20px",c.style.opacity="1",c.style.borderRadius="50%",c.style.pointerEvents="none",c.style.zIndex="9999",document.body.appendChild(c),i.push(c);const d=n(0,360),h=n(10,30),f=n(-2,2);let g=parseFloat(c.style.left),v=-20,w=Math.cos(d*Math.PI/180)*h,x=Math.sin(d*Math.PI/180)*h;const p=()=>{g+=w+f,v+=x,x+=.5,c.style.left=g+"px",c.style.top=v+"px",c.style.opacity=String(Math.max(0,1-v/window.innerHeight)),v<window.innerHeight&&Date.now()<e?requestAnimationFrame(p):c.remove()};p()}},250)};function gm(){const t=new Date,e=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),s=String(t.getUTCDate()).padStart(2,"0");return`${e}-${n}-${s}`}function gP(){if(typeof window>"u")return gm();const e=new URLSearchParams(window.location.search).get("seed");return e&&/^\d{4}-\d{2}-\d{2}$/.test(e)?e:gm()}function yP(t){let e=1779033703^t.length;for(let n=0;n<t.length;n++)e=Math.imul(e^t.charCodeAt(n),3432918353),e=e<<13|e>>>19;return function(){return e=Math.imul(e^e>>>16,2246822507),e=Math.imul(e^e>>>13,3266489909),(e^=e>>>16)>>>0}}function vP(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function xv(t){const e=yP(t);return vP(e())}function ym(t,e){const n=xv(e),s=[...t];for(let i=s.length-1;i>0;i--){const r=Math.floor(n()*(i+1));[s[i],s[r]]=[s[r],s[i]]}return s}const bv={1:{world:1,level:1,pairs:6,timeLimit:60,theme:"nature",unlockReward:10},2:{world:1,level:2,pairs:7,timeLimit:55,theme:"nature",unlockReward:12},3:{world:1,level:3,pairs:8,timeLimit:52,theme:"nature",unlockReward:15},4:{world:1,level:4,pairs:9,timeLimit:48,theme:"nature",unlockReward:18},5:{world:1,level:5,pairs:10,timeLimit:45,theme:"nature",unlockReward:100},6:{world:2,level:1,pairs:8,timeLimit:55,theme:"sports",unlockReward:15},7:{world:2,level:2,pairs:9,timeLimit:52,theme:"sports",unlockReward:18},8:{world:2,level:3,pairs:10,timeLimit:48,theme:"sports",unlockReward:20},9:{world:2,level:4,pairs:11,timeLimit:44,theme:"sports",unlockReward:25},10:{world:2,level:5,pairs:12,timeLimit:40,theme:"sports",unlockReward:120},11:{world:3,level:1,pairs:10,timeLimit:50,theme:"arcade",unlockReward:20},12:{world:3,level:2,pairs:11,timeLimit:47,theme:"arcade",unlockReward:22},13:{world:3,level:3,pairs:12,timeLimit:44,theme:"arcade",unlockReward:25},14:{world:3,level:4,pairs:13,timeLimit:40,theme:"arcade",unlockReward:30},15:{world:3,level:5,pairs:14,timeLimit:35,theme:"arcade",unlockReward:150},16:{world:4,level:1,pairs:10,timeLimit:45,theme:"animals",unlockReward:30,obstacles:{ice:3}},17:{world:4,level:2,pairs:10,timeLimit:42,theme:"animals",unlockReward:35,obstacles:{ice:4}},18:{world:4,level:3,pairs:10,timeLimit:38,theme:"animals",unlockReward:40,obstacles:{ice:4,stone:2}},19:{world:4,level:4,pairs:10,timeLimit:34,theme:"animals",unlockReward:45,obstacles:{ice:5,stone:2}},20:{world:4,level:5,pairs:10,timeLimit:30,theme:"animals",unlockReward:200,obstacles:{ice:5,stone:3}},21:{world:5,level:1,pairs:10,timeLimit:40,theme:"space",unlockReward:50,obstacles:{ice:4,stone:2}},22:{world:5,level:2,pairs:10,timeLimit:36,theme:"space",unlockReward:60,obstacles:{ice:5,stone:2}},23:{world:5,level:3,pairs:10,timeLimit:32,theme:"space",unlockReward:70,obstacles:{ice:6,stone:3}},24:{world:5,level:4,pairs:10,timeLimit:28,theme:"space",unlockReward:80,obstacles:{ice:6,stone:4}},25:{world:5,level:5,pairs:10,timeLimit:25,theme:"space",unlockReward:500,obstacles:{ice:7,stone:4}},26:{world:6,level:1,pairs:10,timeLimit:38,theme:"ocean",unlockReward:70,obstacles:{ice:5,stone:3}},27:{world:6,level:2,pairs:10,timeLimit:34,theme:"ocean",unlockReward:80,obstacles:{ice:6,stone:3}},28:{world:6,level:3,pairs:10,timeLimit:30,theme:"ocean",unlockReward:90,obstacles:{ice:7,stone:4}},29:{world:6,level:4,pairs:10,timeLimit:26,theme:"ocean",unlockReward:100,obstacles:{ice:7,stone:5}},30:{world:6,level:5,pairs:10,timeLimit:22,theme:"ocean",unlockReward:600,obstacles:{ice:8,stone:5}},31:{world:7,level:1,pairs:10,timeLimit:36,theme:"food",unlockReward:90,obstacles:{ice:6,stone:4}},32:{world:7,level:2,pairs:10,timeLimit:32,theme:"food",unlockReward:100,obstacles:{ice:7,stone:4}},33:{world:7,level:3,pairs:10,timeLimit:28,theme:"food",unlockReward:110,obstacles:{ice:7,stone:5}},34:{world:7,level:4,pairs:10,timeLimit:24,theme:"food",unlockReward:120,obstacles:{ice:8,stone:5}},35:{world:7,level:5,pairs:10,timeLimit:20,theme:"food",unlockReward:700,obstacles:{ice:8,stone:6}},36:{world:8,level:1,pairs:10,timeLimit:34,theme:"music",unlockReward:110,obstacles:{ice:7,stone:5}},37:{world:8,level:2,pairs:10,timeLimit:30,theme:"music",unlockReward:120,obstacles:{ice:8,stone:5}},38:{world:8,level:3,pairs:10,timeLimit:26,theme:"music",unlockReward:130,obstacles:{ice:8,stone:6}},39:{world:8,level:4,pairs:10,timeLimit:22,theme:"music",unlockReward:140,obstacles:{ice:9,stone:6}},40:{world:8,level:5,pairs:10,timeLimit:18,theme:"music",unlockReward:800,obstacles:{ice:9,stone:7}},41:{world:9,level:1,pairs:10,timeLimit:32,theme:"beauty",unlockReward:130,obstacles:{ice:8,stone:6}},42:{world:9,level:2,pairs:10,timeLimit:28,theme:"beauty",unlockReward:140,obstacles:{ice:8,stone:7}},43:{world:9,level:3,pairs:10,timeLimit:24,theme:"beauty",unlockReward:150,obstacles:{ice:9,stone:7}},44:{world:9,level:4,pairs:10,timeLimit:20,theme:"beauty",unlockReward:160,obstacles:{ice:9,stone:8}},45:{world:9,level:5,pairs:10,timeLimit:16,theme:"beauty",unlockReward:900,obstacles:{ice:10,stone:8}},46:{world:10,level:1,pairs:10,timeLimit:30,theme:"tech",unlockReward:150,obstacles:{ice:8,stone:7}},47:{world:10,level:2,pairs:10,timeLimit:26,theme:"tech",unlockReward:160,obstacles:{ice:9,stone:7}},48:{world:10,level:3,pairs:10,timeLimit:22,theme:"tech",unlockReward:170,obstacles:{ice:9,stone:8}},49:{world:10,level:4,pairs:10,timeLimit:18,theme:"tech",unlockReward:180,obstacles:{ice:10,stone:8}},50:{world:10,level:5,pairs:10,timeLimit:15,theme:"tech",unlockReward:1e3,obstacles:{ice:10,stone:8}}};function Ht(t){return bv[t]}function wP(t){return Object.values(bv).filter(e=>e.world===t).sort((e,n)=>e.level-n.level)}function Yn(t,e){return(t-1)*5+e}const ad={nature:{name:"Naturaleza",images:["","","","","","","","","","","","","","","","","",""]},sports:{name:"Deportes",images:["","","","","","","","","","","","","","",""]},arcade:{name:"Juegos",images:["","","","","","","","","","","","","","","","","",""]},animals:{name:"Animalitos",images:["","","","","","","","","","","","","","","","","",""]},space:{name:"Espacio",images:["","","","","","","","","","","","","","","","","",""]},ocean:{name:"Ocano",images:["","","","","","","","","","","","","","","","","",""]},food:{name:"Comida",images:["","","","","","","","","","","","","","","","","",""]},music:{name:"Msica",images:["","","","","","","","","","","","","","","","","",""]},beauty:{name:"Belleza",images:["","","","","","","","","","","","","","","","","",""]},tech:{name:"Tecnologa",images:["","","","","","","","","","","","","","","","","",""]}};function vm(t){var e;return((e=ad[t])==null?void 0:e.images)||ad.nature.images}function xP(t){var e;return((e=ad[t])==null?void 0:e.name)||"Desconocido"}function bP(t){const[e,n]=k.useState(!1),s=k.useRef(!1),i=k.useRef(t.enabled);k.useEffect(()=>{i.current=t.enabled},[t.enabled]);const r=k.useCallback(()=>{n(!0),s.current=!0},[]),o=k.useCallback(()=>{n(!1),s.current=!1},[]);return k.useEffect(()=>{if(!t.enabled)return;const a=c=>{if(i.current){if(s.current){t.onConfirmExit();return}c.preventDefault(),window.history.pushState(null,"",window.location.href),r()}},l=c=>{if(i.current){if(c.preventDefault(),s.current){t.onConfirmExit();return}r()}};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",a),"backbutton"in document&&document.addEventListener("backbutton",l,!1),()=>{window.removeEventListener("popstate",a),"backbutton"in document&&document.removeEventListener("backbutton",l,!1)}},[t.enabled,t.onConfirmExit,r]),{open:e,openModal:r,closeModal:o}}const kv=({level:t,onComplete:e,onBackToMenu:n,isDailyChallenge:s=!1})=>{const i=Ht(t),[r,o]=k.useState([]),[a,l]=k.useState([]),[c,d]=k.useState(0),[h,f]=k.useState(!0),[g,v]=k.useState((i==null?void 0:i.timeLimit)||60),[w,x]=k.useState(!1),[p,m]=k.useState(0),[y,b]=k.useState(0),[S,j]=k.useState(!1),[_,C]=k.useState(null),[P]=k.useState(()=>s?gP():`random-${Date.now()}`),[T,F]=k.useState(!1),[re,ce]=k.useState(!1),[Ve,en]=k.useState(()=>Ly()),[Ot,Un]=k.useState(0),[N,M]=k.useState(0),[O,X]=k.useState([]),[he,wt]=k.useState(0),[xt,A]=k.useState(!1),[$,q]=k.useState(!1),[tt,nt]=k.useState(!1),[bs,si]=k.useState({text:"",url:""}),[st,Me]=k.useState(new Set),[He,ht]=k.useState(new Set),[Al,Th]=k.useState(!1),[_v,To]=k.useState(!1),[Sv,Nh]=k.useState("ice"),Lh=k.useCallback(()=>{Ue.stopLevelMusic(),n()},[n]),{open:jv,openModal:Cv,closeModal:Ev}=bP({enabled:!S&&!w,onConfirmExit:Lh,isLevelCompleted:S}),rr=k.useRef(!1),It=k.useRef(null),ks=k.useRef(null),vn=k.useRef(null),or=k.useRef(0),ar=k.useRef(null),No=k.useCallback(()=>{console.log("[GameCore] initializeLevel",{level:t,seed:P});const R=Ht(t),Z=(R==null?void 0:R.pairs)||6,oe=(R==null?void 0:R.timeLimit)||60,we=(R==null?void 0:R.theme)||"nature",Fn=vm(we).slice(0,Z).flatMap((bt,tn)=>[{id:tn*2,imageIndex:tn,isFlipped:!1,isMatched:!1,obstacle:null,obstacleHealth:0},{id:tn*2+1,imageIndex:tn,isFlipped:!1,isMatched:!1,obstacle:null,obstacleHealth:0}]),Q=s?ym(Fn,P):Fn.sort(()=>Math.random()-.5),K=R==null?void 0:R.obstacles;if(K){const tn=Q.length/2,it=4;(K.ice||0)+(K.stone||0);const J=Math.max(2,Math.ceil(tn*.35)),Ge=new Map;Q.forEach((ee,ye)=>{Ge.has(ee.imageIndex)||Ge.set(ee.imageIndex,[]),Ge.get(ee.imageIndex).push(ye)});const sn=Array.from(Ge.keys()).slice(0,J),Bn=new Set;sn.forEach(ee=>{(Ge.get(ee)||[]).forEach(Te=>Bn.add(Te))});const Ro=ee=>{const ye=[],Te=Math.floor(ee/it),_s=ee%it;return _s>0&&ye.push(ee-1),_s<it-1&&ye.push(ee+1),Te>0&&ye.push(ee-it),Te<it-1&&ye.push(ee+it),ye},zv=(ee,ye)=>Ro(ee).some(_s=>!ye.has(_s)),Mh=(ee,ye,Te)=>{const _s=Q.find(cr=>cr.id!==Q[ee].id&&cr.imageIndex===Q[ee].imageIndex);if(!_s)return!1;const $v=Q.findIndex(cr=>cr.id===_s.id),Oh=new Set(ye);return Oh.add(ee),!(!zv($v,Oh)||Te&&Ro(ee).some(Av=>Q[Av].obstacle==="stone"))},Rh=Q.map((ee,ye)=>ye).filter(ee=>!Bn.has(ee)),Oo=s?ym([...Rh],P+"-obstacles"):Rh.sort(()=>Math.random()-.5),lr=new Set;if(K.ice){let ee=0;for(let ye=0;ye<Oo.length&&ee<K.ice;ye++){const Te=Oo[ye];Mh(Te,lr,!1)&&(Q[Te].obstacle="ice",Q[Te].obstacleHealth=1,lr.add(Te),ee++)}}if(K.stone){let ee=0;for(let ye=0;ye<Oo.length&&ee<K.stone;ye++){const Te=Oo[ye];!lr.has(Te)&&Mh(Te,lr,!0)&&(Q[Te].obstacle="stone",Q[Te].obstacleHealth=2,lr.add(Te),ee++)}}}if(o(Q),l([]),d(0),f(!0),x(!1),v(oe),m(0),b(0),j(!1),X([]),wt(0),A(!1),Me(new Set),ht(new Set),or.current=0,R!=null&&R.obstacles&&(R.obstacles.ice||R.obstacles.stone)&&(localStorage.getItem("obstacle_tutorial_seen")||setTimeout(()=>Th(!0),1e3)),ks.current&&clearTimeout(ks.current),ks.current=window.setTimeout(()=>{f(!1)},mm*1e3),s){const bt=localStorage.getItem(`best:${P}`);if(bt)try{C(JSON.parse(bt))}catch{C(null)}else C(null)}},[t,P,s]);k.useEffect(()=>(console.log("[GameCore] mount for level",t),No(),()=>{console.log("[GameCore] unmount for level",t),It.current&&clearInterval(It.current),ks.current&&clearTimeout(ks.current),ar.current&&clearTimeout(ar.current)}),[t,No]),k.useEffect(()=>{if(h||w){It.current&&clearInterval(It.current),vn.current&&clearInterval(vn.current);return}return or.current===0&&(or.current=Date.now()),It.current=window.setInterval(()=>{v(R=>R<=1?(It.current&&clearInterval(It.current),vn.current&&clearInterval(vn.current),Ue.playLose(),x(!0),0):R-1)},1e3),vn.current=window.setInterval(()=>{b(Math.floor((Date.now()-or.current)/1e3))},100),()=>{It.current&&clearInterval(It.current),vn.current&&clearInterval(vn.current)}},[h,w]),k.useEffect(()=>{const R=(i==null?void 0:i.pairs)||6;if(c===R&&c>0)if(console.log("[GameCore] LEVEL COMPLETED",{level:t,matchedPairs:c,moves:p,timeElapsed:y}),It.current&&clearInterval(It.current),ks.current&&clearTimeout(ks.current),vn.current&&clearInterval(vn.current),go(),Ue.playWin(),s){const Z=Math.floor((Date.now()-or.current)/1e3);b(Z),Un(Z),M(p);const oe=localStorage.getItem(`best:${P}`);let we=!0;if(oe)try{const W=JSON.parse(oe);(Z>W.time||Z===W.time&&p>=W.moves)&&(we=!1)}catch{}if(we){const W={time:Z,moves:p,date:new Date().toISOString()};localStorage.setItem(`best:${P}`,JSON.stringify(W)),C(W)}L_({seed:P,timeMs:Z*1e3,moves:p,crewId:Ve,levelId:t}).then(W=>{W.isPioneer&&ce(!0)}).catch(W=>{console.error("[GameCore] Failed to submit score:",W)}),En(10),j(!0)}else En(10),e()},[c,t,e,s,p,P,y]);const Pv=k.useCallback(R=>{if(h||rr.current||a.length>=2)return;const Z=r.find(we=>we.id===R);if(!Z||Z.isMatched||a.includes(R)||Z.obstacle&&(Z.obstacleHealth??0)>0)return;const oe=[...a,R];if(l(oe),o(we=>we.map(W=>W.id===R?{...W,isFlipped:!0}:W)),oe.length===2){rr.current=!0,m(Q=>Q+1);const[we,W]=oe,Mo=r.find(Q=>Q.id===we),Fn=r.find(Q=>Q.id===W);if(Mo&&Fn&&Mo.imageIndex===Fn.imageIndex){Ue.playMatch();const Q=it=>{const J=r.findIndex(Ro=>Ro.id===it),Ge=Math.ceil(Math.sqrt(r.length)),nn=Math.floor(J/Ge),sn=J%Ge,Bn=[];return sn>0&&Bn.push(J-1),sn<Ge-1&&Bn.push(J+1),nn>0&&Bn.push(J-Ge),nn<Ge-1&&Bn.push(J+Ge),Bn},K=[...Q(we),...Q(W)],bt=new Set(st),tn=new Set(He);K.forEach(it=>{const J=r[it];J!=null&&J.obstacle&&(J.obstacleHealth??0)>0&&((J.obstacleHealth??0)-1<=0?(tn.add(J.id),setTimeout(()=>{ht(nn=>{const sn=new Set(nn);return sn.delete(J.id),sn})},600)):(bt.add(J.id),setTimeout(()=>{Me(nn=>{const sn=new Set(nn);return sn.delete(J.id),sn})},500)))}),Me(bt),ht(tn),o(it=>it.map((J,Ge)=>{if(J.id===we||J.id===W)return{...J,isMatched:!0};if(K.includes(Ge)&&J.obstacle&&(J.obstacleHealth??0)>0){const nn=(J.obstacleHealth??0)-1;return nn<=0?(J.obstacle==="ice"?(En(10),console.log("[GameCore] Ice destroyed! +10 coins"),Nh("ice"),To(!0),setTimeout(()=>To(!1),100)):J.obstacle==="stone"&&(En(20),console.log("[GameCore] Stone destroyed! +20 coins"),Nh("stone"),To(!0),setTimeout(()=>To(!1),100)),{...J,obstacle:null,obstacleHealth:0}):{...J,obstacleHealth:nn}}return J})),d(it=>it+1),l([]),wt(0),X([]),rr.current=!1}else wt(Q=>Q+1),setTimeout(()=>{o(Q=>Q.map(K=>K.id===we||K.id===W?{...K,isFlipped:!1}:K)),l([]),rr.current=!1},mP)}},[r,a,h,st,He]);k.useEffect(()=>{if(he>=4&&!h&&!w&&O.length===0){const R=r.filter(Z=>!Z.isMatched&&!Z.isFlipped);if(R.length>=2){const Z=new Map;R.forEach(oe=>{Z.has(oe.imageIndex)||Z.set(oe.imageIndex,[]),Z.get(oe.imageIndex).push(oe.id)});for(const[,oe]of Z)if(oe.length>=2){const[we,W]=oe.slice(0,2);X([we,W]),ar.current&&clearTimeout(ar.current),ar.current=window.setTimeout(()=>{X([])},3e3);break}}}},[he,h,w,r,O.length]);const Tv=k.useCallback(R=>{const Z=r.filter(K=>!K.isMatched),oe=Z.length/2,we=Math.max(1,Math.floor(oe*(R/100))),W=new Map;Z.forEach(K=>{W.has(K.imageIndex)||W.set(K.imageIndex,[]),W.get(K.imageIndex).push(K.id)});const Fn=Array.from(W.entries()).filter(([,K])=>K.length===2).slice(0,we),Q=[];Fn.forEach(([,K])=>{Q.push(...K)}),o(K=>K.map(bt=>Q.includes(bt.id)?{...bt,isFlipped:!0,isMatched:!0}:bt)),d(K=>K+Fn.length),A(!0),go()},[r]),Lo=k.useCallback(()=>{No()},[No]),Nv=k.useCallback(()=>{let R,Z;if(s){const oe=new URL(window.location.href);oe.searchParams.set("seed",P),oe.searchParams.set("time",Ot.toString()),oe.searchParams.set("moves",N.toString());let we=Ve;if(we)oe.searchParams.set("crew",we);else{const W=crypto.randomUUID().slice(0,8);oe.searchParams.set("crew",W),P_(W),en(W),we=W}Z=oe.toString(),R=`Complet el reto diario en ${Ot}s con ${N} movimientos! Puedes superarme?`}else Z=window.location.origin,R=`Complet el Nivel ${t} en ${Ot}s con ${N} movimientos!  Juega TwinClash y pon a prueba tu memoria.`;si({text:R,url:Z}),nt(!0)},[P,Ot,N,Ve,s,t]),wn=Ht(t),Lv=(wn==null?void 0:wn.theme)||"nature",Mv=vm(Lv),Rv=(wn==null?void 0:wn.pairs)||6,Ov=Mv.slice(0,Rv),Iv=(wn==null?void 0:wn.timeLimit)||60;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex flex-col p-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 mb-4",children:[s&&u.jsxs("div",{className:"mb-3 text-sm text-gray-600 flex flex-col gap-1",children:[u.jsxs("span",{children:["Reto: ",P]}),_&&u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Cn,{size:14,className:"text-yellow-500"}),"Mejor: ",_.time,"s, ",_.moves," mov"]})]}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:s?"Reto Diario":`Nivel ${t}`}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx($_,{}),u.jsx("div",{className:`text-2xl font-bold ${g<=10?"text-red-600 animate-pulse":"text-blue-600"}`,children:h?`Preview: ${Math.max(0,Math.ceil(g-(Iv-mm)))}s`:`${g}s`})]})]}),s&&u.jsxs("div",{className:"flex gap-4 mb-3 text-sm font-semibold text-gray-700",children:[u.jsxs("span",{children:["Tiempo: ",y,"s"]}),u.jsxs("span",{children:["Movimientos: ",p]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:Cv,className:"bg-gray-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-gray-600 transition-colors",children:[u.jsx(lo,{size:18}),"Volver"]}),u.jsxs("button",{onClick:Lo,className:"flex-1 bg-orange-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors",children:[u.jsx(B0,{size:18}),"Reiniciar"]}),s&&u.jsxs("button",{onClick:()=>F(!0),className:"flex-1 bg-yellow-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-yellow-600 transition-colors",children:[u.jsx(vb,{size:18}),"Top"]})]}),!s&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[u.jsx("div",{className:"text-xs text-gray-600 font-semibold mb-2 text-center",children:" Ayuda Extra (Revela Parejas)"}),u.jsx(I_,{onPowerUpUsed:Tv,disabled:h||w||xt}),xt&&u.jsx("div",{className:"text-xs text-center text-green-600 font-semibold mt-2",children:" Ayuda usada en este nivel"}),u.jsx("button",{onClick:()=>q(!0),className:"w-full mt-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-2 px-4 rounded-lg font-bold text-sm shadow-lg hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-2",children:" Comprar Monedas"})]})]}),u.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden px-4",children:u.jsx("div",{className:"w-full max-w-lg",children:u.jsx("div",{className:"grid grid-cols-4 gap-3",children:r.map(R=>u.jsx("div",{className:`${st.has(R.id)?"obstacle-crack":""} ${He.has(R.id)?"obstacle-break":""}`,children:u.jsx(Ny,{card:{...R,isFlipped:h||R.isFlipped},image:Ov[R.imageIndex],onClick:Pv,disabled:h||rr.current,showHint:O.includes(R.id),isBreaking:He.has(R.id)})},R.id))})})}),w&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-red-600 mb-2",children:"Game Over"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Se acab el tiempo"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:n,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),u.jsx("button",{onClick:Lo,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reintentar"})]})]})}),S&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-green-600 mb-4",children:"Completado!"}),re&&u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-4",children:[u.jsx("div",{className:"text-3xl mb-2",children:""}),u.jsx("div",{className:"text-white font-bold text-lg",children:"Medalla Pionero!"}),u.jsx("div",{className:"text-yellow-100 text-sm",children:"+20 monedas por ser el primero"})]}),u.jsx("div",{className:"bg-gray-100 rounded-xl p-4 mb-6",children:u.jsxs("div",{className:"flex justify-around text-center",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Ot,"s"]}),u.jsx("div",{className:"text-xs text-gray-600",children:"Tiempo"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:N}),u.jsx("div",{className:"text-xs text-gray-600",children:"Movimientos"})]})]})}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:Nv,className:"flex-1 bg-blue-500 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-600 transition-colors",children:[u.jsx(q0,{size:18}),"Compartir"]}),u.jsx("button",{onClick:Lo,className:"flex-1 bg-green-500 text-white py-3 rounded-xl font-semibold hover:bg-green-600 transition-colors",children:"Reintentar"})]}),u.jsxs("button",{onClick:()=>{j(!1),n()},className:"w-full bg-gray-500 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-gray-600 transition-colors",children:[u.jsx(lo,{size:18}),"Salir"]})]})]})}),T&&u.jsx(O_,{seed:P,onClose:()=>F(!1),onPlayNow:()=>{F(!1),Lo()}}),$&&u.jsx(Sy,{onClose:()=>q(!1)}),u.jsx(z_,{open:jv,onStay:Ev,onExit:Lh}),u.jsx(A_,{open:tt,onClose:()=>nt(!1),shareText:bs.text,shareUrl:bs.url}),Al&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Nuevos Obstculos!"}),u.jsx("p",{className:"text-gray-600",children:"Aprende a superarlos"})]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-4 rounded-xl border-2 border-blue-200",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Hielo"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Bloquea cartas. Haz un match cercano (arriba, abajo, izquierda o derecha) para romperlo."})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-slate-100 p-4 rounded-xl border-2 border-gray-300",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Piedra"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Ms resistente. Necesita 2 matches cercanos para romperse. Vers un contador rojo."})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 p-4 rounded-xl border-2 border-yellow-200",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Estrategia"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Primero libera las cartas bloqueadas haciendo matches alrededor. Vers el hielo agrietarse!"})]})]})})]}),u.jsx("button",{onClick:()=>{Th(!1),localStorage.setItem("obstacle_tutorial_seen","true")},className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 px-6 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:"Entendido!"})]})}),u.jsx(pP,{trigger:_v,theme:Sv})]})};function kP({completedWorld:t,unlockedWorld:e,coinsEarned:n,onContinue:s,isGameComplete:i=!1}){k.useEffect(()=>{go();const a=[];for(let l=0;l<3;l++){const c=window.setTimeout(()=>{go()},(l+1)*600);a.push(c)}return()=>a.forEach(clearTimeout)},[]);const r=["","Naturaleza","Deportes","Juegos","Animales","Espacio"],o=["","","","","",""];return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:[u.jsxs("div",{className:"relative bg-gradient-to-br from-white via-yellow-50 to-orange-50 rounded-3xl p-8 max-w-md w-full text-center shadow-2xl animate-bounce-in",children:[u.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:u.jsx(Cn,{size:48,className:"text-white"})}),u.jsx("div",{className:"mt-8 mb-6",children:i?u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-5xl font-black mb-3 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"JUEGO COMPLETADO!"}),u.jsx("div",{className:"text-7xl mb-4 animate-bounce",children:""}),u.jsx("p",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Eres un Maestro de la Memoria!"}),u.jsx("p",{className:"text-gray-600",children:"Has superado todos los mundos"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("h2",{className:"text-4xl font-black mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["Mundo ",t," Completado!"]}),u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-lg border-2 border-yellow-200",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[u.jsx(Xt,{className:"text-yellow-500",size:32}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Nuevo Mundo Desbloqueado"}),u.jsx(Xt,{className:"text-yellow-500",size:32})]}),u.jsxs("div",{className:"flex items-center justify-center gap-4 py-4",children:[u.jsx("div",{className:"text-6xl",children:o[e]}),u.jsxs("div",{className:"text-left",children:[u.jsxs("div",{className:"text-3xl font-black text-transparent bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text",children:["Mundo ",e]}),u.jsx("div",{className:"text-xl font-semibold text-gray-700",children:r[e]})]})]})]})]})}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-4 mb-6 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[u.jsx(Pt,{size:28}),u.jsxs("span",{className:"text-3xl font-black",children:["+",n]}),u.jsx("span",{className:"text-lg font-semibold",children:"monedas"})]})}),u.jsx("button",{onClick:s,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-2xl font-bold text-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all active:scale-95",children:i?"Vamos!":`Explorar Mundo ${e}`}),u.jsx("div",{className:"mt-4 flex justify-center gap-2",children:[...Array(5)].map((a,l)=>u.jsx("div",{className:`w-3 h-3 rounded-full ${l<t?"bg-yellow-400":"bg-gray-300"}`},l))})]}),u.jsx("style",{children:`
        @keyframes bounce-in {
          0% {
            transform: scale(0.3);
            opacity: 0;
          }
          50% {
            transform: scale(1.05);
          }
          70% {
            transform: scale(0.9);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-bounce-in {
          animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
      `})]})}const _P=[{name:"Naturaleza",icon:ih,emoji:"",description:"Explora la belleza del mundo natural",color:{from:"from-emerald-500",to:"to-green-700",bg:"bg-gradient-to-br from-emerald-400 via-green-500 to-teal-600"},features:["6-10 parejas","60-45 segundos","55 monedas totales"]},{name:"Deportes",icon:nh,emoji:"",description:"Pon a prueba tu memoria deportiva",color:{from:"from-yellow-500",to:"to-orange-700",bg:"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600"},features:["8-12 parejas","55-40 segundos","98 monedas totales"]},{name:"Juegos",icon:sh,emoji:"",description:"El paraso de los gamers te espera",color:{from:"from-purple-500",to:"to-pink-700",bg:"bg-gradient-to-br from-purple-400 via-pink-500 to-rose-600"},features:["10-14 parejas","50-35 segundos","137 monedas totales"]},{name:"Animales",icon:rh,emoji:"",description:"Descubre el reino animal",color:{from:"from-orange-500",to:"to-red-700",bg:"bg-gradient-to-br from-orange-400 via-red-500 to-pink-600"},features:["12-16 parejas","45-30 segundos","190 monedas totales"]},{name:"Espacio",icon:oh,emoji:"",description:"Viaja ms all de las estrellas",color:{from:"from-indigo-500",to:"to-blue-700",bg:"bg-gradient-to-br from-indigo-400 via-blue-500 to-cyan-600"},features:["14-18 parejas","40-25 segundos","260 monedas totales"]}];function SP({world:t,onStart:e}){const[n,s]=k.useState(!1),i=_P[t-1],r=i.icon;return k.useEffect(()=>{setTimeout(()=>s(!0),100)},[]),u.jsxs("div",{className:`fixed inset-0 ${i.color.bg} flex items-center justify-center p-6 z-50`,children:[u.jsxs("div",{className:`max-w-lg w-full transition-all duration-700 ${n?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"inline-block relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"relative text-9xl animate-bounce-slow",children:i.emoji})]}),u.jsxs("div",{className:"mb-4 flex justify-center gap-2",children:[u.jsx(Xt,{className:"text-yellow-300 animate-pulse",size:24}),u.jsxs("h1",{className:"text-5xl font-black text-white drop-shadow-2xl",children:["Mundo ",t]}),u.jsx(Xt,{className:"text-yellow-300 animate-pulse",size:24})]}),u.jsx("h2",{className:"text-3xl font-bold text-white/90 mb-3 drop-shadow-lg",children:i.name}),u.jsx("p",{className:"text-xl text-white/80 font-medium",children:i.description})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-6 shadow-2xl mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(r,{className:`bg-gradient-to-br ${i.color.from} ${i.color.to} text-white p-2 rounded-xl`,size:40}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Caractersticas"})]}),u.jsx("div",{className:"space-y-3",children:i.features.map((o,a)=>u.jsxs("div",{className:"flex items-center gap-3 text-gray-700 text-lg",style:{animationDelay:`${a*100}ms`},children:[u.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-br ${i.color.from} ${i.color.to}`}),u.jsx("span",{className:"font-semibold",children:o})]},a))})]}),u.jsx("button",{onClick:e,className:"w-full bg-white text-gray-800 py-5 rounded-2xl font-black text-2xl shadow-2xl hover:scale-105 active:scale-95 transition-all hover:shadow-3xl",children:"COMENZAR! "}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("p",{className:"text-white/70 text-sm font-medium",children:"5 niveles de diversin te esperan"})})]}),u.jsx("style",{children:`
        @keyframes bounce-slow {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-20px);
          }
        }

        .animate-bounce-slow {
          animation: bounce-slow 2s ease-in-out infinite;
        }
      `})]})}const jP=({initialLevel:t,onBackToMenu:e})=>{var j;const[n,s]=k.useState(t),[i,r]=k.useState(null),[o,a]=k.useState(!1),[l,c]=k.useState(null),[d,h]=k.useState(null),[f,g]=k.useState(!1),[v,w]=k.useState(1),x=k.useRef(!1),p=k.useRef(((j=Ht(t))==null?void 0:j.world)||1),m=k.useCallback(async()=>{if(x.current){console.log("[GameShell] onLevelCompleted: already completed, skipping");return}x.current=!0;const _=Ht(n);if(!_)return;const C=Zk(n),P=e_(n);if(await Yk(C,P,3),En(_.unlockReward),_.level===5){const T=_.world+1;T<=10?h({completedWorld:_.world,unlockedWorld:T,coinsEarned:_.unlockReward,isGameComplete:!1}):h({completedWorld:_.world,unlockedWorld:_.world,coinsEarned:_.unlockReward,isGameComplete:!0})}else{const T=n+1;r(T),c("level"),a(!0)}},[n]);k.useEffect(()=>{console.log("[GameShell] LEVEL_CHANGED",n),x.current=!1;const _=Ht(n);_&&_.world!==p.current&&_.level===1&&(w(_.world),g(!0),p.current=_.world),Ue.stopStartMusic(),_&&Ue.playLevelMusic(_.world)},[n]);const y=k.useCallback(()=>{console.log("[GameShell] handleNextLevel",{level:n,nextLevel:i}),i!=null&&(s(i),r(null),a(!1),c(null))},[i,n]),b=k.useCallback(()=>{h(null);const _=n+1,C=Ht(_);C&&(w(C.world),g(!0),p.current=C.world),s(_)},[n]),S=k.useCallback(()=>{g(!1)},[]);return console.log("[GameShell] Render",{level:n,nextLevel:i,showBanner:o,bannerType:l}),u.jsxs(u.Fragment,{children:[f?u.jsx(SP,{world:v,onStart:S}):u.jsx("section",{children:u.jsx(kv,{level:n,onComplete:m,onBackToMenu:e})},`level-${n}`),d&&u.jsx(kP,{completedWorld:d.completedWorld,unlockedWorld:d.unlockedWorld,coinsEarned:d.coinsEarned,isGameComplete:d.isGameComplete,onContinue:b}),o&&i!=null&&!d&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsx("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl pointer-events-auto",children:l==="level"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-green-600 mb-2",children:["Nivel ",n," Completado!"]}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Pulsa para continuar."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),u.jsxs("button",{onClick:y,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",i]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent mb-2",children:"Has completado todas las fases!"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Quieres volver a empezar?"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Men"}),u.jsxs("button",{onClick:y,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",i]})]})]})})})]})},CP=({onClose:t,onCreateRoom:e,onJoinRoom:n})=>{const[s,i]=k.useState("menu"),[r,o]=k.useState(1),[a,l]=k.useState(""),c=()=>{e(r),t()},d=()=>{a.trim().length===6&&(n(a.toUpperCase()),t())};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",style:{fontFamily:"system-ui"},children:u.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-6 w-full max-w-lg",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("h2",{className:"text-2xl font-bold m-0",children:[s==="menu"&&" Duelo",s==="create"&&" Crear Sala",s==="join"&&" Unirse a Sala"]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Cerrar",children:u.jsx(Js,{size:20})})]}),s==="menu"&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:()=>i("create"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:" Crear Sala"}),u.jsx("button",{onClick:()=>i("join"),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:" Unirse con Cdigo"})]}),s==="create"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Selecciona el Mundo:"}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(h=>u.jsx("button",{onClick:()=>o(h),className:`py-3 rounded-lg font-bold transition-all ${r===h?"bg-gradient-to-r from-green-500 to-emerald-600 text-white scale-110":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:h},h))})]}),u.jsx("div",{className:"bg-gray-800 rounded-lg p-3 text-sm",children:u.jsxs("p",{className:"opacity-80",children:[" Recompensa: ",u.jsxs("span",{className:"font-bold text-yellow-400",children:[20+(r-1)*13," monedas"]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>i("menu"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-xl font-bold transition-all",children:"Atrs"}),u.jsx("button",{onClick:c,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Crear Sala"})]})]}),s==="join"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Cdigo de la Sala:"}),u.jsx("input",{type:"text",value:a,onChange:h=>l(h.target.value.toUpperCase().slice(0,6)),placeholder:"ABC123",maxLength:6,className:"w-full bg-gray-800 text-white px-4 py-3 rounded-xl text-center text-2xl font-bold tracking-widest focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsx("div",{className:"bg-gray-800 rounded-lg p-3 text-sm opacity-80",children:" Ingresa el cdigo de 6 caracteres que te comparti tu rival"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>i("menu"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-xl font-bold transition-all",children:"Atrs"}),u.jsx("button",{onClick:d,disabled:a.length!==6,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Unirse"})]})]})]})})},EP=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],wm=t=>{const e=(t-1)*6;return EP.slice(e,e+6)};function PP(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}async function TP(t,e){const n=PP(),s=`duel-${Date.now()}-${Math.random().toString(36).substring(7)}`,{data:i,error:r}=await de.from("duel_rooms").insert({room_code:n,world_id:e,seed:s,host_client_id:t,status:"waiting"}).select().maybeSingle();return r?(console.error("[createDuelRoom] Error:",r),null):i}async function NP(t,e){const{data:n,error:s}=await de.from("duel_rooms").select("*").eq("room_code",e).eq("status","waiting").maybeSingle();if(s||!n)return console.error("[joinDuelRoom] Room not found or error:",s),null;if(n.host_client_id===t)return n;const{data:i,error:r}=await de.from("duel_rooms").update({guest_client_id:t,status:"playing"}).eq("id",n.id).select().maybeSingle();return r?(console.error("[joinDuelRoom] Error updating room:",r),null):i}async function xm(t,e){const{data:n}=await de.from("duel_rooms").select("*").eq("id",t).maybeSingle();if(!n)return;const s=n.host_client_id===e,r={[s?"host_finished_at":"guest_finished_at"]:new Date().toISOString()},a=n[s?"guest_finished_at":"host_finished_at"];if(a){const l=new Date().toISOString(),c=a;r.winner_client_id=l<c?e:s?n.guest_client_id:n.host_client_id,r.status="finished"}else r.winner_client_id=e,r.status="finished";await de.from("duel_rooms").update(r).eq("id",t)}async function LP(t){await de.from("duel_rooms").update({status:"cancelled"}).eq("id",t)}const MP=({onBackToMenu:t})=>{const[e,n]=k.useState(!1),[s,i]=k.useState(null),[r,o]=k.useState("lobby"),[a,l]=k.useState([]),[c,d]=k.useState([]),[h,f]=k.useState(new Set),[g,v]=k.useState(0),[w,x]=k.useState(0),[p,m]=k.useState(null),[y,b]=k.useState(!1),[S,j]=k.useState(!1),_=Tt(),C=k.useRef(!1),P=k.useRef(null),T=k.useRef(null);s==null||s.host_client_id;const F=(s==null?void 0:s.guest_client_id)!=null,re=k.useCallback((A,$)=>{const q=Yn($,1),tt=Ht(q),nt=(tt==null?void 0:tt.pairs)||10,si=wm(q).slice(0,nt).flatMap((He,ht)=>[{id:ht*2,imageIndex:ht,isFlipped:!1,isMatched:!1},{id:ht*2+1,imageIndex:ht,isFlipped:!1,isMatched:!1}]),st=xv(A),Me=[...si];for(let He=Me.length-1;He>0;He--){const ht=Math.floor(st()*(He+1));[Me[He],Me[ht]]=[Me[ht],Me[He]]}return Me},[]);k.useEffect(()=>{const $=new URLSearchParams(window.location.search).get("room");$&&Un($)},[]),k.useEffect(()=>{if(!s)return;const A=de.channel(`duel_room:${s.room_code}`);return T.current=A,A.on("postgres_changes",{event:"*",schema:"public",table:"duel_rooms",filter:`room_code=eq.${s.room_code}`},$=>{console.log("[DuelScene] Room updated:",$);const q=$.new;i(q),q.status==="playing"&&r==="lobby"&&ce(q),q.status==="finished"&&r==="playing"&&en(q)}).subscribe(),()=>{de.removeChannel(A)}},[s==null?void 0:s.room_code]);const ce=A=>{const $=Yn(A.world_id,1),q=Ht($),tt=re(A.seed,A.world_id);l(tt),v((q==null?void 0:q.timeLimit)||60),x(0),f(new Set),d([]),o("playing"),P.current=window.setInterval(()=>{v(nt=>nt<=1?(P.current&&clearInterval(P.current),Ve(),0):nt-1)},1e3)},Ve=async()=>{s&&await xm(s.id,_)},en=A=>{P.current&&(clearInterval(P.current),P.current=null),o("finished");const $=A.winner_client_id===_;if(m($?"me":"opponent"),$){const q=20+(A.world_id-1)*13;En(q),Ue.playWin(),go()}else Ue.playLose();b(!0)},Ot=async A=>{const $=await TP(_,A);if($){i($);const q=new URL(window.location.href);q.searchParams.set("room",$.room_code),window.history.replaceState({},"",q.toString())}},Un=async A=>{const $=await NP(_,A);if($){i($);const q=new URL(window.location.href);q.searchParams.set("room",$.room_code),window.history.replaceState({},"",q.toString()),$.status==="playing"&&ce($)}else alert("Sala no encontrada o ya est llena")},N=k.useCallback(async A=>{if(r!=="playing"||C.current||c.length>=2||!s)return;const $=a.find(tt=>tt.id===A);if(!$||h.has($.imageIndex)||c.includes(A))return;const q=[...c,A];if(d(q),l(tt=>tt.map(nt=>nt.id===A?{...nt,isFlipped:!0}:nt)),q.length===2){C.current=!0;const[tt,nt]=q,bs=a.find(st=>st.id===tt),si=a.find(st=>st.id===nt);if(bs&&si&&bs.imageIndex===si.imageIndex){Ue.playMatch(),f(Al=>new Set(Al).add(bs.imageIndex));const st=w+1;x(st),d([]),C.current=!1;const Me=Yn(s.world_id,1),He=Ht(Me),ht=(He==null?void 0:He.pairs)||10;st>=ht&&await xm(s.id,_)}else setTimeout(()=>{l(st=>st.map(Me=>Me.id===tt||Me.id===nt?{...Me,isFlipped:!1}:Me)),d([]),C.current=!1},600)}},[a,c,r,h,w,s,_]),M=async()=>{if(r==="playing"){if(!confirm("Seguro que quieres salir? Perders la partida."))return;s&&await LP(s.id)}t()},O=async()=>{if(s)try{await navigator.clipboard.writeText(s.room_code),j(!0),setTimeout(()=>j(!1),2e3)}catch{alert(`Cdigo: ${s.room_code}`)}},X=async()=>{if(!s)return;const A=`${window.location.origin}${window.location.pathname}?room=${s.room_code}`,$=` nete a mi duelo en Twin Clash!
 Cdigo: ${s.room_code}
 Mundo ${s.world_id}

${A}`;if(navigator.share)try{await navigator.share({title:"Twin Clash Duelo",text:$,url:A})}catch(q){console.log("Share cancelled",q)}else try{await navigator.clipboard.writeText($),alert("Enlace copiado al portapapeles")}catch{alert($)}},he=s?wm(Yn(s.world_id,1)):[],wt=s?Ht(Yn(s.world_id,1)):null,xt=(wt==null?void 0:wt.theme)||"nature";return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-400 via-pink-500 to-purple-600 flex flex-col p-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Duelo 1v1"}),s&&u.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:["Mundo ",s.world_id," - ",xt]})]}),u.jsxs("button",{onClick:M,className:"flex items-center gap-2 bg-red-500 text-white px-3 py-2 rounded-lg text-sm font-semibold hover:bg-red-600 transition-colors",children:[u.jsx(lo,{size:16}),"Salir"]})]}),r==="lobby"&&!s&&u.jsx("div",{className:"text-center py-8",children:u.jsx("button",{onClick:()=>n(!0),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:" Crear o Unirse a Duelo"})}),r==="lobby"&&s&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(zu,{size:16,className:F?"text-green-500":"text-gray-400"}),u.jsx("span",{className:F?"text-green-600 font-semibold":"text-gray-600",children:F?"Oponente conectado!":"Esperando oponente..."})]}),u.jsxs("div",{className:"bg-gray-100 rounded-xl p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Cdigo de la sala:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-800 tracking-widest",children:s.room_code}),u.jsx("button",{onClick:O,className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:u.jsx(A0,{size:16})}),u.jsx("button",{onClick:X,className:"p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:u.jsx(q0,{size:16})})]}),S&&u.jsx("div",{className:"text-xs text-green-600 mt-1",children:" Copiado"})]}),!F&&u.jsx("div",{className:"text-sm text-gray-600 text-center bg-blue-50 p-3 rounded-lg",children:" Comparte el cdigo con tu rival para que se una"})]}),r==="playing"&&u.jsxs("div",{className:"flex items-center justify-around text-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:w}),u.jsx("div",{className:"text-xs text-gray-600",children:"Parejas"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($0,{size:20,className:"text-red-500"}),u.jsxs("div",{className:`text-2xl font-bold ${g<=10?"text-red-600 animate-pulse":"text-gray-800"}`,children:[g,"s"]})]})]})]}),r==="lobby"&&s&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-white",children:[u.jsx(zu,{size:64,className:"mx-auto mb-4 opacity-50"}),u.jsxs("p",{className:"text-lg font-semibold mb-2",children:["Sala: ",s.room_code]}),u.jsx("p",{className:"text-sm opacity-80",children:F?"Esperando que el anfitrin inicie...":"Esperando oponente..."})]})}),r==="playing"&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"w-full max-w-lg",children:u.jsx("div",{className:"grid grid-cols-4 gap-3",children:a.map(A=>{const $={...A,isMatched:h.has(A.imageIndex)};return u.jsx(Ny,{card:$,image:he[A.imageIndex],onClick:N,disabled:C.current},A.id)})})})}),y&&r==="finished"&&s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:p==="me"?"":""}),u.jsx("h3",{className:`text-3xl font-bold mb-2 ${p==="me"?"text-green-600":"text-gray-600"}`,children:p==="me"?"Ganaste!":"Perdiste"}),p==="me"&&u.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["+",20+(s.world_id-1)*13," monedas"]}),u.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all",children:"Volver al Men"})]})}),e&&u.jsx(CP,{onClose:()=>n(!1),onCreateRoom:Ot,onJoinRoom:Un})]})},RP=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];function bm(t){return[...RP].sort(()=>Math.random()-.5).slice(0,t)}const OP=({onBackToMenu:t})=>{const[e,n]=k.useState(()=>bm(5)),[s,i]=k.useState(0),[r,o]=k.useState(new Set),[a,l]=k.useState(!1),[c,d]=k.useState({}),[h,f]=k.useState(!0);k.useEffect(()=>{g()},[e]);const g=async()=>{try{const m=Tt(),{data:y,error:b}=await de.from("scores").select("level_id, score").eq("client_id",m).in("level_id",e);if(!b&&y){const S=new Set,j={};y.forEach(_=>{_.level_id&&(S.add(_.level_id),j[_.level_id]=_.score||0)}),o(S),d(j)}}catch(m){console.error("Error loading challenge progress:",m)}finally{f(!1)}},v=m=>{i(m),l(!0)},w=async()=>{await g(),l(!1)},x=async()=>{await g(),l(!1)},p=()=>{const m=bm(5);n(m),o(new Set),d({}),f(!0)};return h?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 flex items-center justify-center",children:u.jsx("div",{className:"text-white text-2xl font-bold",children:"Cargando desafos..."})}):a?u.jsx(kv,{level:e[s],isDailyChallenge:!0,onComplete:w,onBackToMenu:x},`challenge-${e[s]}-${Date.now()}`):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 p-4",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Desafos Diarios"}),u.jsx("p",{className:"text-sm text-gray-600",children:"5 desafos aleatorios"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors",children:[u.jsx(B0,{size:18}),"Nuevos"]}),u.jsxs("button",{onClick:t,className:"flex items-center gap-2 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:[u.jsx(lo,{size:18}),"Volver"]})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-4 mb-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Cn,{className:"text-yellow-600",size:32}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[r.size," / ",e.length]}),u.jsx("div",{className:"text-xs text-gray-600",children:"Desafos completados"})]})]})})]}),u.jsx("div",{className:"space-y-4",children:e.map((m,y)=>{const b=r.has(m),S=c[m]||0,j=y>0&&!r.has(e[y-1]);return u.jsx("div",{className:`bg-white rounded-2xl shadow-lg p-6 transition-all ${j?"opacity-50 cursor-not-allowed":"hover:shadow-xl cursor-pointer"}`,onClick:()=>!j&&v(y),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold ${b?"bg-gradient-to-br from-green-400 to-green-600 text-white":j?"bg-gray-300 text-gray-500":"bg-gradient-to-br from-yellow-400 to-orange-500 text-white"}`,children:j?"":b?"":y+1}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["Desafo ",y+1," - Nivel ",m]}),u.jsx("p",{className:"text-sm text-gray-600",children:j?"Completa el desafo anterior":b?`Puntuacin: ${S}`:"Sin completar"})]})]}),b&&u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[u.jsx(ka,{className:"text-yellow-500 fill-yellow-500",size:16}),u.jsx(ka,{className:"text-yellow-500 fill-yellow-500",size:16}),u.jsx(ka,{className:"text-yellow-500 fill-yellow-500",size:16})]}),u.jsx("button",{onClick:_=>{_.stopPropagation(),v(y)},className:"text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded-lg hover:bg-gray-300 transition-colors",children:"Volver a jugar"})]}),!j&&!b&&u.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 text-white px-6 py-2 rounded-lg font-bold hover:shadow-lg transition-all",children:"Jugar"})]})},`${m}-${y}`)})})]})})},IP=[ih,nh,sh,rh,oh,V0,F0,U0,Xt,D0],km=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],zP=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}];function $P({currentWorld:t,currentLevel:e,worldsCompleted:n,onSelectWorld:s,onBackToMenu:i}){const[r,o]=k.useState({1:!0}),[a,l]=k.useState({}),[c,d]=k.useState(0),[h,f]=k.useState(null),[g,v]=k.useState(!1),[w,x]=k.useState(!1),[p,m]=k.useState(""),[y,b]=k.useState(null);k.useEffect(()=>{(async()=>{for(let C=1;C<=10;C++)jy(`world-${C}`,5),C>1&&Jk(`world-${C}`).then(P=>{o(T=>({...T,[C]:P}))}),Cy(`world-${C}`).then(P=>{l(T=>({...T,[C]:P}))});d(Fe())})()},[]);const S=async _=>{if(_===1||r[_]){s(_);return}f(_)},j=async()=>{if(!h)return;v(!0);const _=`world-${h}`,C=el[_],P=await Ey(_,C);P.ok?(o({...r,[h]:!0}),d(Fe()),f(null),s(h)):alert(P.reason),v(!1)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 via-blue-500 to-indigo-700 p-6",children:[u.jsx("button",{onClick:i,className:"mb-6 text-white flex items-center gap-2 font-semibold text-lg hover:scale-105 transition-transform",children:" Volver"}),u.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-3",children:"Elige tu Mundo"}),u.jsx("p",{className:"text-white/80 text-center mb-10 text-lg",children:"10 Mundos  50 Niveles  Aventura pica"}),u.jsx("div",{className:"grid grid-cols-1 gap-6 max-w-md mx-auto",children:[1,2,3,4,5,6,7,8,9,10].map(_=>{const C=r[_]??!1,P=IP[_-1],T=zP[_-1],F=t===_,re=a[_]??!1;return u.jsxs("button",{onClick:()=>S(_),className:`relative p-6 rounded-3xl shadow-2xl transition-all transform overflow-hidden ${C?`bg-gradient-to-br ${T.from} ${T.to} hover:scale-105 active:scale-95`:"bg-gradient-to-br from-gray-600 to-gray-800"}`,children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsxs("div",{className:`relative ${C?"animate-bounce-slow":"opacity-40"}`,children:[u.jsx("div",{className:`absolute inset-0 ${C?"bg-white/30":"bg-white/10"} rounded-full blur-xl`}),u.jsx(P,{size:56,className:"relative text-white drop-shadow-lg",strokeWidth:1.5})]})}),u.jsxs("div",{className:"flex items-start justify-between text-white relative z-10",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("h3",{className:"text-2xl font-bold drop-shadow-lg",children:["Mundo ",_]}),u.jsx("p",{className:`text-lg font-semibold ${C?"opacity-90":"opacity-60"}`,children:km[_-1]}),F&&!re&&u.jsxs("div",{className:"mt-1 text-sm bg-white/30 rounded-lg px-3 py-1.5 inline-block backdrop-blur-sm",children:[" Nivel ",e," / 5"]})]}),u.jsx("div",{className:"flex flex-col items-center gap-1 ml-4",children:re?u.jsxs(u.Fragment,{children:[u.jsx(Cn,{className:"text-yellow-300 drop-shadow-lg",size:32}),u.jsx("span",{className:"text-xs bg-yellow-300/30 px-2 py-1 rounded-full font-semibold",children:"Completado"})]}):C?null:u.jsxs("div",{className:"flex flex-col items-center gap-1",children:[u.jsx(Sl,{size:32,className:"text-white/60"}),u.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Bloqueado"})]})})]})]},_)})}),w&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Acceso Admin"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Ingresa la contrasea de administrador"}),u.jsx("input",{type:"password",value:p,onChange:_=>m(_.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none mb-4",onKeyDown:_=>{_.key==="Enter"&&(p==="admin2025"?(y&&(o({...r,[y]:!0}),localStorage.setItem(`world_${y}_unlocked`,"true"),s(y)),x(!1),m(""),b(null)):(alert("Contrasea incorrecta"),m("")))}}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>{x(!1),m(""),b(null)},className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:()=>{p==="admin2025"?(y&&(o({...r,[y]:!0}),localStorage.setItem(`world_${y}_unlocked`,"true"),s(y)),x(!1),m(""),b(null)):(alert("Contrasea incorrecta"),m(""))},className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Desbloquear"})]})]})}),h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Mundo ",h]}),u.jsx("p",{className:"text-gray-600 mb-4",children:km[h-1]}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Al desbloquear este mundo, podrs jugar el nivel 1. Los dems niveles se desbloquean jugando."}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Pt,{size:24,className:"text-white"}),u.jsx("span",{className:"text-2xl font-bold text-white",children:el[`world-${h}`]})]}),u.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",c," monedas"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>f(null),disabled:g,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:j,disabled:g,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:g?"Desbloqueando...":"Desbloquear"})]}),u.jsx("button",{type:"button",onClick:()=>{b(h),f(null),x(!0)},className:"mt-3 text-xs text-gray-400 hover:text-gray-600 transition-colors",children:"Admin"})]})}),u.jsx("style",{children:`
        @keyframes bounce-slow {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-15px);
          }
        }

        .animate-bounce-slow {
          animation: bounce-slow 2.5s ease-in-out infinite;
        }
      `})]})}function AP({world:t,currentLevel:e,onSelectLevel:n,onBack:s}){var x;const i=wP(t),r=xP((x=i[0])==null?void 0:x.theme),[o,a]=k.useState({}),[l,c]=k.useState(null),[d,h]=k.useState(0),[f,g]=k.useState(!1);k.useEffect(()=>{(async()=>{const m=`world-${t}`;await jy(m,5);const y=await Xk(m),b={};y.levels.forEach((S,j)=>{b[j+1]=S.unlocked}),b[1]=!0,a(b),h(Fe())})()},[t]);const v=async p=>{const m=Yn(t,p);if(p===1||o[p]){n(m);return}if(p===5&&!o[4]){alert("Para jugar el nivel 5, primero debes completar el nivel 4 o comprarlo");return}c(p)},w=async()=>{if(!l)return;g(!0);const p=`world-${t}`,m=await Qk(p,l,dp);if(m.ok){a({...o,[l]:!0}),h(Fe());const y=Yn(t,l);c(null),n(y)}else alert(m.reason);g(!1)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-6",children:[u.jsx("button",{onClick:s,className:"text-white mb-6 font-semibold text-lg flex items-center gap-2 hover:scale-105 transition-transform",children:" Mundos"}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Mundo ",t]}),u.jsx("p",{className:"text-white/90 text-xl",children:r})]}),u.jsx("div",{className:"grid grid-cols-5 gap-4 max-w-lg mx-auto mb-8",children:i.map(p=>{const m=o[p.level]??!1,b=Yn(t,p.level)===e;return u.jsx("button",{onClick:()=>v(p.level),className:`relative w-16 h-16 rounded-2xl font-bold text-xl transition-all shadow-lg ${m?b?"bg-yellow-400 scale-110 shadow-xl text-yellow-900":"bg-white hover:scale-105 text-purple-700":"bg-gray-700 opacity-50 text-gray-400"}`,children:m?u.jsxs(u.Fragment,{children:[u.jsx("span",{children:p.level}),b&&u.jsx(ka,{className:"absolute -top-2 -right-2 text-yellow-600 fill-yellow-400",size:20}),p.level===5&&u.jsx(Cn,{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 text-orange-500",size:16})]}):u.jsx(Sl,{className:"absolute inset-0 m-auto text-gray-500",size:20})},p.level)})}),u.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-3xl p-6 max-w-lg mx-auto text-white",children:[u.jsx("h3",{className:"font-bold text-xl mb-3",children:" Informacin del Mundo"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("p",{children:[" Tiempo: ",i[0].timeLimit,"s - ",i[4].timeLimit,"s"]}),u.jsxs("p",{children:[" Parejas: ",i[0].pairs," - ",i[4].pairs]}),u.jsxs("p",{children:[" Recompensa total: ",i.reduce((p,m)=>p+m.unlockReward,0)," monedas"]}),u.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completa niveles para desbloquear el siguiente"}),u.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completar nivel 5 desbloquea el siguiente mundo"})]})]}),l&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Nivel ",l]}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Saltars el requisito de completar el nivel anterior. Solo este nivel ser desbloqueado."}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Pt,{size:24,className:"text-white"}),u.jsx("span",{className:"text-2xl font-bold text-white",children:dp})]}),u.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",d," monedas"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>c(null),disabled:f,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:w,disabled:f,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:f?"Desbloqueando...":"Desbloquear"})]})]})})]})}function DP(){const[t,e]=k.useState(()=>new URLSearchParams(window.location.search).get("mode")==="duel"?"duel":"menu"),[n,s]=k.useState(1),[i,r]=k.useState(1),[o,a]=k.useState(!0);k.useEffect(()=>{(async()=>{await _y(),a(!1)})()},[]);const l=()=>{e("challenge")},c=()=>{e("duel")},d=()=>{e("menu")};return o?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mx-auto mb-4"}),u.jsx("p",{className:"text-white text-xl font-bold",children:"Sincronizando progreso..."})]})}):u.jsxs(u.Fragment,{children:[t==="menu"&&u.jsx(__,{onStartGame:()=>e("worldmap"),onStartDailyChallenge:l,onStartDuel:c}),t==="worldmap"&&u.jsx($P,{currentWorld:1,currentLevel:1,worldsCompleted:0,onSelectWorld:h=>{r(h),e("levelselect")},onBackToMenu:()=>{e("menu")}}),t==="levelselect"&&u.jsx(AP,{world:i,currentLevel:1,onSelectLevel:h=>{s(h),e("game")},onBack:()=>e("worldmap")}),t==="game"&&u.jsx(jP,{initialLevel:n,onBackToMenu:d},n),t==="challenge"&&u.jsx(OP,{onBackToMenu:d}),t==="duel"&&u.jsx(MP,{onBackToMenu:d})]})}I0(document.getElementById("root")).render(u.jsx(k.StrictMode,{children:u.jsx(DP,{})}));export{Py as W};
