var qw=Object.defineProperty;var Ww=(t,e,n)=>e in t?qw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vt=(t,e,n)=>Ww(t,typeof e!="symbol"?e+"":e,n);function Hw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Gw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Wm={exports:{}},bl={},Hm={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=Symbol.for("react.element"),Jw=Symbol.for("react.portal"),Qw=Symbol.for("react.fragment"),Yw=Symbol.for("react.strict_mode"),Xw=Symbol.for("react.profiler"),Zw=Symbol.for("react.provider"),ex=Symbol.for("react.context"),tx=Symbol.for("react.forward_ref"),nx=Symbol.for("react.suspense"),rx=Symbol.for("react.memo"),sx=Symbol.for("react.lazy"),Qh=Symbol.iterator;function ix(t){return t===null||typeof t!="object"?null:(t=Qh&&t[Qh]||t["@@iterator"],typeof t=="function"?t:null)}var Gm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Km=Object.assign,Jm={};function ii(t,e,n){this.props=t,this.context=e,this.refs=Jm,this.updater=n||Gm}ii.prototype.isReactComponent={};ii.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ii.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qm(){}Qm.prototype=ii.prototype;function wd(t,e,n){this.props=t,this.context=e,this.refs=Jm,this.updater=n||Gm}var xd=wd.prototype=new Qm;xd.constructor=wd;Km(xd,ii.prototype);xd.isPureReactComponent=!0;var Yh=Array.isArray,Ym=Object.prototype.hasOwnProperty,bd={current:null},Xm={key:!0,ref:!0,__self:!0,__source:!0};function Zm(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ym.call(e,r)&&!Xm.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:So,type:t,key:i,ref:o,props:s,_owner:bd.current}}function ox(t,e){return{$$typeof:So,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _d(t){return typeof t=="object"&&t!==null&&t.$$typeof===So}function ax(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xh=/\/+/g;function Ql(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ax(""+t.key):e.toString(36)}function xa(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case So:case Jw:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ql(o,0):r,Yh(s)?(n="",t!=null&&(n=t.replace(Xh,"$&/")+"/"),xa(s,e,n,"",function(c){return c})):s!=null&&(_d(s)&&(s=ox(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xh,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Yh(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ql(i,a);o+=xa(i,e,n,l,s)}else if(l=ix(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ql(i,a++),o+=xa(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uo(t,e,n){if(t==null)return t;var r=[],s=0;return xa(t,r,"","",function(i){return e.call(n,i,s++)}),r}function lx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},ba={transition:null},cx={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:ba,ReactCurrentOwner:bd};function eg(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Uo,forEach:function(t,e,n){Uo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uo(t,function(){e++}),e},toArray:function(t){return Uo(t,function(e){return e})||[]},only:function(t){if(!_d(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=ii;B.Fragment=Qw;B.Profiler=Xw;B.PureComponent=wd;B.StrictMode=Yw;B.Suspense=nx;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cx;B.act=eg;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Km({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=bd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ym.call(e,l)&&!Xm.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:So,type:t.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(t){return t={$$typeof:ex,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zw,_context:t},t.Consumer=t};B.createElement=Zm;B.createFactory=function(t){var e=Zm.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:tx,render:t}};B.isValidElement=_d;B.lazy=function(t){return{$$typeof:sx,_payload:{_status:-1,_result:t},_init:lx}};B.memo=function(t,e){return{$$typeof:rx,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=ba.transition;ba.transition={};try{t()}finally{ba.transition=e}};B.unstable_act=eg;B.useCallback=function(t,e){return ot.current.useCallback(t,e)};B.useContext=function(t){return ot.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};B.useEffect=function(t,e){return ot.current.useEffect(t,e)};B.useId=function(){return ot.current.useId()};B.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return ot.current.useMemo(t,e)};B.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};B.useRef=function(t){return ot.current.useRef(t)};B.useState=function(t){return ot.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return ot.current.useTransition()};B.version="18.3.1";Hm.exports=B;var _=Hm.exports;const Zh=Gw(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=_,dx=Symbol.for("react.element"),hx=Symbol.for("react.fragment"),fx=Object.prototype.hasOwnProperty,px=ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mx={key:!0,ref:!0,__self:!0,__source:!0};function tg(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fx.call(e,r)&&!mx.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:dx,type:t,key:i,ref:o,props:s,_owner:px.current}}bl.Fragment=hx;bl.jsx=tg;bl.jsxs=tg;Wm.exports=bl;var u=Wm.exports,ng={exports:{}},jt={},rg={exports:{}},sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var z=P.length;P.push(A);e:for(;0<z;){var X=z-1>>>1,he=P[X];if(0<s(he,A))P[X]=A,P[z]=he,z=X;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var A=P[0],z=P.pop();if(z!==A){P[0]=z;e:for(var X=0,he=P.length,Pt=he>>>1;X<Pt;){var Tt=2*(X+1)-1,F=P[Tt],U=Tt+1,q=P[U];if(0>s(F,z))U<he&&0>s(q,F)?(P[X]=q,P[U]=z,X=U):(P[X]=F,P[Tt]=z,X=Tt);else if(U<he&&0>s(q,z))P[X]=q,P[U]=z,X=U;else break e}}return A}function s(P,A){var z=P.sortIndex-A.sortIndex;return z!==0?z:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=P)r(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(c)}}function b(P){if(w=!1,v(P),!y)if(n(l)!==null)y=!0,Vt(k);else{var A=n(c);A!==null&&Wn(b,A.startTime-P)}}function k(P,A){y=!1,w&&(w=!1,g(E),E=-1),p=!0;var z=f;try{for(v(A),h=n(l);h!==null&&(!(h.expirationTime>A)||P&&!te());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var he=X(h.expirationTime<=A);A=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),v(A)}else r(l);h=n(l)}if(h!==null)var Pt=!0;else{var Tt=n(c);Tt!==null&&Wn(b,Tt.startTime-A),Pt=!1}return Pt}finally{h=null,f=z,p=!1}}var j=!1,S=null,E=-1,T=5,R=-1;function te(){return!(t.unstable_now()-R<T)}function We(){if(S!==null){var P=t.unstable_now();R=P;var A=!0;try{A=S(!0,P)}finally{A?Ct():(j=!1,S=null)}}else j=!1}var Ct;if(typeof m=="function")Ct=function(){m(We)};else if(typeof MessageChannel<"u"){var dn=new MessageChannel,di=dn.port2;dn.port1.onmessage=We,Ct=function(){di.postMessage(null)}}else Ct=function(){x(We,0)};function Vt(P){S=P,j||(j=!0,Ct())}function Wn(P,A){E=x(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Vt(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var z=f;f=A;try{return P()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=f;f=P;try{return A()}finally{f=z}},t.unstable_scheduleCallback=function(P,A,z){var X=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?X+z:X):z=X,P){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=z+he,P={id:d++,callback:A,priorityLevel:P,startTime:z,expirationTime:he,sortIndex:-1},z>X?(P.sortIndex=z,e(c,P),n(l)===null&&P===n(c)&&(w?(g(E),E=-1):w=!0,Wn(b,z-X))):(P.sortIndex=he,e(l,P),y||p||(y=!0,Vt(k))),P},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(P){var A=f;return function(){var z=f;f=A;try{return P.apply(this,arguments)}finally{f=z}}}})(sg);rg.exports=sg;var gx=rg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=_,St=gx;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ig=new Set,Qi={};function os(t,e){Ks(t,e),Ks(t+"Capture",e)}function Ks(t,e){for(Qi[t]=e,t=0;t<e.length;t++)ig.add(e[t])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tu=Object.prototype.hasOwnProperty,vx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ef={},tf={};function wx(t){return tu.call(tf,t)?!0:tu.call(ef,t)?!1:vx.test(t)?tf[t]=!0:(ef[t]=!0,!1)}function xx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bx(t,e,n,r){if(e===null||typeof e>"u"||xx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var kd=/[\-:]([a-z])/g;function Sd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kd,Sd);qe[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kd,Sd);qe[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kd,Sd);qe[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function jd(t,e,n,r){var s=qe.hasOwnProperty(e)?qe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bx(e,n,s,r)&&(n=null),r||s===null?wx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vn=yx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fo=Symbol.for("react.element"),bs=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),Ed=Symbol.for("react.strict_mode"),nu=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),ag=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),ru=Symbol.for("react.suspense"),su=Symbol.for("react.suspense_list"),Pd=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),lg=Symbol.for("react.offscreen"),nf=Symbol.iterator;function yi(t){return t===null||typeof t!="object"?null:(t=nf&&t[nf]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Object.assign,Yl;function Ei(t){if(Yl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yl=e&&e[1]||""}return`
`+Yl+t}var Xl=!1;function Zl(t,e){if(!t||Xl)return"";Xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ei(t):""}function _x(t){switch(t.tag){case 5:return Ei(t.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 2:case 15:return t=Zl(t.type,!1),t;case 11:return t=Zl(t.type.render,!1),t;case 1:return t=Zl(t.type,!0),t;default:return""}}function iu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _s:return"Fragment";case bs:return"Portal";case nu:return"Profiler";case Ed:return"StrictMode";case ru:return"Suspense";case su:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ag:return(t.displayName||"Context")+".Consumer";case og:return(t._context.displayName||"Context")+".Provider";case Cd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pd:return e=t.displayName||null,e!==null?e:iu(t.type)||"Memo";case Jn:e=t._payload,t=t._init;try{return iu(t(e))}catch{}}return null}function kx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iu(e);case 8:return e===Ed?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sx(t){var e=cg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bo(t){t._valueTracker||(t._valueTracker=Sx(t))}function ug(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ou(t,e){var n=e.checked;return ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dg(t,e){e=e.checked,e!=null&&jd(t,"checked",e,!1)}function au(t,e){dg(t,e);var n=pr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lu(t,e.type,n):e.hasOwnProperty("defaultValue")&&lu(t,e.type,pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lu(t,e,n){(e!=="number"||$a(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ci=Array.isArray;function zs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function cu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function of(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Ci(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pr(n)}}function hg(t,e){var n=pr(e.value),r=pr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function af(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vo,pg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jx=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(t){jx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ii[e]=Ii[t]})});function mg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ii.hasOwnProperty(t)&&Ii[t]?(""+e).trim():e+"px"}function gg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Ex=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function du(t,e){if(e){if(Ex[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function hu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=null;function Td(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pu=null,$s=null,Ds=null;function lf(t){if(t=Co(t)){if(typeof pu!="function")throw Error(C(280));var e=t.stateNode;e&&(e=El(e),pu(t.stateNode,t.type,e))}}function yg(t){$s?Ds?Ds.push(t):Ds=[t]:$s=t}function vg(){if($s){var t=$s,e=Ds;if(Ds=$s=null,lf(t),e)for(t=0;t<e.length;t++)lf(e[t])}}function wg(t,e){return t(e)}function xg(){}var ec=!1;function bg(t,e,n){if(ec)return t(e,n);ec=!0;try{return wg(t,e,n)}finally{ec=!1,($s!==null||Ds!==null)&&(xg(),vg())}}function Xi(t,e){var n=t.stateNode;if(n===null)return null;var r=El(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var mu=!1;if(An)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){mu=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{mu=!1}function Cx(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Mi=!1,Da=null,Ua=!1,gu=null,Px={onError:function(t){Mi=!0,Da=t}};function Tx(t,e,n,r,s,i,o,a,l){Mi=!1,Da=null,Cx.apply(Px,arguments)}function Nx(t,e,n,r,s,i,o,a,l){if(Tx.apply(this,arguments),Mi){if(Mi){var c=Da;Mi=!1,Da=null}else throw Error(C(198));Ua||(Ua=!0,gu=c)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _g(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cf(t){if(as(t)!==t)throw Error(C(188))}function Rx(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return cf(s),t;if(i===r)return cf(s),e;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function kg(t){return t=Rx(t),t!==null?Sg(t):null}function Sg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sg(t);if(e!==null)return e;t=t.sibling}return null}var jg=St.unstable_scheduleCallback,uf=St.unstable_cancelCallback,Ox=St.unstable_shouldYield,Ix=St.unstable_requestPaint,ke=St.unstable_now,Mx=St.unstable_getCurrentPriorityLevel,Nd=St.unstable_ImmediatePriority,Eg=St.unstable_UserBlockingPriority,Fa=St.unstable_NormalPriority,Lx=St.unstable_LowPriority,Cg=St.unstable_IdlePriority,_l=null,wn=null;function Ax(t){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(_l,t,void 0,(t.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Dx,zx=Math.log,$x=Math.LN2;function Dx(t){return t>>>=0,t===0?32:31-(zx(t)/$x|0)|0}var qo=64,Wo=4194304;function Pi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ba(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Pi(a):(i&=o,i!==0&&(r=Pi(i)))}else o=n&~s,o!==0?r=Pi(o):i!==0&&(r=Pi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rn(e),s=1<<n,r|=t[n],e&=~s;return r}function Ux(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-rn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Ux(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function yu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pg(){var t=qo;return qo<<=1,!(qo&4194240)&&(qo=64),t}function tc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rn(e),t[e]=n}function Bx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-rn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Rd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Y=0;function Tg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ng,Od,Rg,Og,Ig,vu=!1,Ho=[],sr=null,ir=null,or=null,Zi=new Map,eo=new Map,Yn=[],Vx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function df(t,e){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Zi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(e.pointerId)}}function wi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Co(e),e!==null&&Od(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function qx(t,e,n,r,s){switch(e){case"focusin":return sr=wi(sr,t,e,n,r,s),!0;case"dragenter":return ir=wi(ir,t,e,n,r,s),!0;case"mouseover":return or=wi(or,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zi.set(i,wi(Zi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,eo.set(i,wi(eo.get(i)||null,t,e,n,r,s)),!0}return!1}function Mg(t){var e=Br(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=_g(n),e!==null){t.blockedOn=e,Ig(t.priority,function(){Rg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _a(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fu=r,n.target.dispatchEvent(r),fu=null}else return e=Co(n),e!==null&&Od(e),t.blockedOn=n,!1;e.shift()}return!0}function hf(t,e,n){_a(t)&&n.delete(e)}function Wx(){vu=!1,sr!==null&&_a(sr)&&(sr=null),ir!==null&&_a(ir)&&(ir=null),or!==null&&_a(or)&&(or=null),Zi.forEach(hf),eo.forEach(hf)}function xi(t,e){t.blockedOn===e&&(t.blockedOn=null,vu||(vu=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,Wx)))}function to(t){function e(s){return xi(s,t)}if(0<Ho.length){xi(Ho[0],t);for(var n=1;n<Ho.length;n++){var r=Ho[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sr!==null&&xi(sr,t),ir!==null&&xi(ir,t),or!==null&&xi(or,t),Zi.forEach(e),eo.forEach(e),n=0;n<Yn.length;n++)r=Yn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)Mg(n),n.blockedOn===null&&Yn.shift()}var Us=Vn.ReactCurrentBatchConfig,Va=!0;function Hx(t,e,n,r){var s=Y,i=Us.transition;Us.transition=null;try{Y=1,Id(t,e,n,r)}finally{Y=s,Us.transition=i}}function Gx(t,e,n,r){var s=Y,i=Us.transition;Us.transition=null;try{Y=4,Id(t,e,n,r)}finally{Y=s,Us.transition=i}}function Id(t,e,n,r){if(Va){var s=wu(t,e,n,r);if(s===null)dc(t,e,r,qa,n),df(t,r);else if(qx(s,t,e,n,r))r.stopPropagation();else if(df(t,r),e&4&&-1<Vx.indexOf(t)){for(;s!==null;){var i=Co(s);if(i!==null&&Ng(i),i=wu(t,e,n,r),i===null&&dc(t,e,r,qa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else dc(t,e,r,null,n)}}var qa=null;function wu(t,e,n,r){if(qa=null,t=Td(r),t=Br(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_g(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qa=t,null}function Lg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mx()){case Nd:return 1;case Eg:return 4;case Fa:case Lx:return 16;case Cg:return 536870912;default:return 16}default:return 16}}var tr=null,Md=null,ka=null;function Ag(){if(ka)return ka;var t,e=Md,n=e.length,r,s="value"in tr?tr.value:tr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ka=s.slice(t,1<r?1-r:void 0)}function Sa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Go(){return!0}function ff(){return!1}function Et(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Go:ff,this.isPropagationStopped=ff,this}return ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),e}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ld=Et(oi),Eo=ve({},oi,{view:0,detail:0}),Kx=Et(Eo),nc,rc,bi,kl=ve({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(nc=t.screenX-bi.screenX,rc=t.screenY-bi.screenY):rc=nc=0,bi=t),nc)},movementY:function(t){return"movementY"in t?t.movementY:rc}}),pf=Et(kl),Jx=ve({},kl,{dataTransfer:0}),Qx=Et(Jx),Yx=ve({},Eo,{relatedTarget:0}),sc=Et(Yx),Xx=ve({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zx=Et(Xx),eb=ve({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tb=Et(eb),nb=ve({},oi,{data:0}),mf=Et(nb),rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ib={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ob(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ib[t])?!!e[t]:!1}function Ad(){return ob}var ab=ve({},Eo,{key:function(t){if(t.key){var e=rb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(t){return t.type==="keypress"?Sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lb=Et(ab),cb=ve({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gf=Et(cb),ub=ve({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),db=Et(ub),hb=ve({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),fb=Et(hb),pb=ve({},kl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mb=Et(pb),gb=[9,13,27,32],zd=An&&"CompositionEvent"in window,Li=null;An&&"documentMode"in document&&(Li=document.documentMode);var yb=An&&"TextEvent"in window&&!Li,zg=An&&(!zd||Li&&8<Li&&11>=Li),yf=" ",vf=!1;function $g(t,e){switch(t){case"keyup":return gb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ks=!1;function vb(t,e){switch(t){case"compositionend":return Dg(e);case"keypress":return e.which!==32?null:(vf=!0,yf);case"textInput":return t=e.data,t===yf&&vf?null:t;default:return null}}function wb(t,e){if(ks)return t==="compositionend"||!zd&&$g(t,e)?(t=Ag(),ka=Md=tr=null,ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zg&&e.locale!=="ko"?null:e.data;default:return null}}var xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xb[t.type]:e==="textarea"}function Ug(t,e,n,r){yg(r),e=Wa(e,"onChange"),0<e.length&&(n=new Ld("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ai=null,no=null;function bb(t){Yg(t,0)}function Sl(t){var e=Es(t);if(ug(e))return t}function _b(t,e){if(t==="change")return e}var Fg=!1;if(An){var ic;if(An){var oc="oninput"in document;if(!oc){var xf=document.createElement("div");xf.setAttribute("oninput","return;"),oc=typeof xf.oninput=="function"}ic=oc}else ic=!1;Fg=ic&&(!document.documentMode||9<document.documentMode)}function bf(){Ai&&(Ai.detachEvent("onpropertychange",Bg),no=Ai=null)}function Bg(t){if(t.propertyName==="value"&&Sl(no)){var e=[];Ug(e,no,t,Td(t)),bg(bb,e)}}function kb(t,e,n){t==="focusin"?(bf(),Ai=e,no=n,Ai.attachEvent("onpropertychange",Bg)):t==="focusout"&&bf()}function Sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sl(no)}function jb(t,e){if(t==="click")return Sl(e)}function Eb(t,e){if(t==="input"||t==="change")return Sl(e)}function Cb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:Cb;function ro(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!tu.call(e,s)||!ln(t[s],e[s]))return!1}return!0}function _f(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kf(t,e){var n=_f(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_f(n)}}function Vg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qg(){for(var t=window,e=$a();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$a(t.document)}return e}function $d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pb(t){var e=qg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vg(n.ownerDocument.documentElement,n)){if(r!==null&&$d(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=kf(n,i);var o=kf(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tb=An&&"documentMode"in document&&11>=document.documentMode,Ss=null,xu=null,zi=null,bu=!1;function Sf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bu||Ss==null||Ss!==$a(r)||(r=Ss,"selectionStart"in r&&$d(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zi&&ro(zi,r)||(zi=r,r=Wa(xu,"onSelect"),0<r.length&&(e=new Ld("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function Ko(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var js={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionend:Ko("Transition","TransitionEnd")},ac={},Wg={};An&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function jl(t){if(ac[t])return ac[t];if(!js[t])return t;var e=js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wg)return ac[t]=e[n];return t}var Hg=jl("animationend"),Gg=jl("animationiteration"),Kg=jl("animationstart"),Jg=jl("transitionend"),Qg=new Map,jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(t,e){Qg.set(t,e),os(e,[t])}for(var lc=0;lc<jf.length;lc++){var cc=jf[lc],Nb=cc.toLowerCase(),Rb=cc[0].toUpperCase()+cc.slice(1);yr(Nb,"on"+Rb)}yr(Hg,"onAnimationEnd");yr(Gg,"onAnimationIteration");yr(Kg,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(Jg,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function Ef(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Nx(r,e,void 0,t),t.currentTarget=null}function Yg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ef(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ef(s,a,c),i=l}}}if(Ua)throw t=gu,Ua=!1,gu=null,t}function ae(t,e){var n=e[Eu];n===void 0&&(n=e[Eu]=new Set);var r=t+"__bubble";n.has(r)||(Xg(e,t,2,!1),n.add(r))}function uc(t,e,n){var r=0;e&&(r|=4),Xg(n,t,r,e)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function so(t){if(!t[Jo]){t[Jo]=!0,ig.forEach(function(n){n!=="selectionchange"&&(Ob.has(n)||uc(n,!1,t),uc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jo]||(e[Jo]=!0,uc("selectionchange",!1,e))}}function Xg(t,e,n,r){switch(Lg(e)){case 1:var s=Hx;break;case 4:s=Gx;break;default:s=Id}n=s.bind(null,e,n,t),s=void 0,!mu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function dc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Br(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}bg(function(){var c=i,d=Td(n),h=[];e:{var f=Qg.get(t);if(f!==void 0){var p=Ld,y=t;switch(t){case"keypress":if(Sa(n)===0)break e;case"keydown":case"keyup":p=lb;break;case"focusin":y="focus",p=sc;break;case"focusout":y="blur",p=sc;break;case"beforeblur":case"afterblur":p=sc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=db;break;case Hg:case Gg:case Kg:p=Zx;break;case Jg:p=fb;break;case"scroll":p=Kx;break;case"wheel":p=mb;break;case"copy":case"cut":case"paste":p=tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gf}var w=(e&4)!==0,x=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=c,v;m!==null;){v=m;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=Xi(m,g),b!=null&&w.push(io(m,b,v)))),x)break;m=m.return}0<w.length&&(f=new p(f,y,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==fu&&(y=n.relatedTarget||n.fromElement)&&(Br(y)||y[zn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Br(y):null,y!==null&&(x=as(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(w=pf,b="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=gf,b="onPointerLeave",g="onPointerEnter",m="pointer"),x=p==null?f:Es(p),v=y==null?f:Es(y),f=new w(b,m+"leave",p,n,d),f.target=x,f.relatedTarget=v,b=null,Br(d)===c&&(w=new w(g,m+"enter",y,n,d),w.target=v,w.relatedTarget=x,b=w),x=b,p&&y)t:{for(w=p,g=y,m=0,v=w;v;v=us(v))m++;for(v=0,b=g;b;b=us(b))v++;for(;0<m-v;)w=us(w),m--;for(;0<v-m;)g=us(g),v--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=us(w),g=us(g)}w=null}else w=null;p!==null&&Cf(h,f,p,w,!1),y!==null&&x!==null&&Cf(h,x,y,w,!0)}}e:{if(f=c?Es(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=_b;else if(wf(f))if(Fg)k=Eb;else{k=Sb;var j=kb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=jb);if(k&&(k=k(t,c))){Ug(h,k,n,d);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&lu(f,"number",f.value)}switch(j=c?Es(c):window,t){case"focusin":(wf(j)||j.contentEditable==="true")&&(Ss=j,xu=c,zi=null);break;case"focusout":zi=xu=Ss=null;break;case"mousedown":bu=!0;break;case"contextmenu":case"mouseup":case"dragend":bu=!1,Sf(h,n,d);break;case"selectionchange":if(Tb)break;case"keydown":case"keyup":Sf(h,n,d)}var S;if(zd)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ks?$g(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(zg&&n.locale!=="ko"&&(ks||E!=="onCompositionStart"?E==="onCompositionEnd"&&ks&&(S=Ag()):(tr=d,Md="value"in tr?tr.value:tr.textContent,ks=!0)),j=Wa(c,E),0<j.length&&(E=new mf(E,t,null,n,d),h.push({event:E,listeners:j}),S?E.data=S:(S=Dg(n),S!==null&&(E.data=S)))),(S=yb?vb(t,n):wb(t,n))&&(c=Wa(c,"onBeforeInput"),0<c.length&&(d=new mf("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}Yg(h,e)})}function io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wa(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xi(t,n),i!=null&&r.unshift(io(t,i,s)),i=Xi(t,e),i!=null&&r.push(io(t,i,s))),t=t.return}return r}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cf(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Xi(n,i),l!=null&&o.unshift(io(n,l,a))):s||(l=Xi(n,i),l!=null&&o.push(io(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ib=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function Pf(t){return(typeof t=="string"?t:""+t).replace(Ib,`
`).replace(Mb,"")}function Qo(t,e,n){if(e=Pf(e),Pf(t)!==e&&n)throw Error(C(425))}function Ha(){}var _u=null,ku=null;function Su(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ju=typeof setTimeout=="function"?setTimeout:void 0,Lb=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(t){return Tf.resolve(null).then(t).catch(zb)}:ju;function zb(t){setTimeout(function(){throw t})}function hc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),to(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);to(e)}function ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ai=Math.random().toString(36).slice(2),yn="__reactFiber$"+ai,oo="__reactProps$"+ai,zn="__reactContainer$"+ai,Eu="__reactEvents$"+ai,$b="__reactListeners$"+ai,Db="__reactHandles$"+ai;function Br(t){var e=t[yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zn]||n[yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nf(t);t!==null;){if(n=t[yn])return n;t=Nf(t)}return e}t=n,n=t.parentNode}return null}function Co(t){return t=t[yn]||t[zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function El(t){return t[oo]||null}var Cu=[],Cs=-1;function vr(t){return{current:t}}function le(t){0>Cs||(t.current=Cu[Cs],Cu[Cs]=null,Cs--)}function ie(t,e){Cs++,Cu[Cs]=t.current,t.current=e}var mr={},Xe=vr(mr),pt=vr(!1),Qr=mr;function Js(t,e){var n=t.type.contextTypes;if(!n)return mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mt(t){return t=t.childContextTypes,t!=null}function Ga(){le(pt),le(Xe)}function Rf(t,e,n){if(Xe.current!==mr)throw Error(C(168));ie(Xe,e),ie(pt,n)}function Zg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,kx(t)||"Unknown",s));return ve({},n,r)}function Ka(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,Qr=Xe.current,ie(Xe,t),ie(pt,pt.current),!0}function Of(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=Zg(t,e,Qr),r.__reactInternalMemoizedMergedChildContext=t,le(pt),le(Xe),ie(Xe,t)):le(pt),ie(pt,n)}var Pn=null,Cl=!1,fc=!1;function ey(t){Pn===null?Pn=[t]:Pn.push(t)}function Ub(t){Cl=!0,ey(t)}function wr(){if(!fc&&Pn!==null){fc=!0;var t=0,e=Y;try{var n=Pn;for(Y=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pn=null,Cl=!1}catch(s){throw Pn!==null&&(Pn=Pn.slice(t+1)),jg(Nd,wr),s}finally{Y=e,fc=!1}}return null}var Ps=[],Ts=0,Ja=null,Qa=0,It=[],Mt=0,Yr=null,Tn=1,Nn="";function Mr(t,e){Ps[Ts++]=Qa,Ps[Ts++]=Ja,Ja=t,Qa=e}function ty(t,e,n){It[Mt++]=Tn,It[Mt++]=Nn,It[Mt++]=Yr,Yr=t;var r=Tn;t=Nn;var s=32-rn(r)-1;r&=~(1<<s),n+=1;var i=32-rn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Tn=1<<32-rn(e)+s|n<<s|r,Nn=i+t}else Tn=1<<i|n<<s|r,Nn=t}function Dd(t){t.return!==null&&(Mr(t,1),ty(t,1,0))}function Ud(t){for(;t===Ja;)Ja=Ps[--Ts],Ps[Ts]=null,Qa=Ps[--Ts],Ps[Ts]=null;for(;t===Yr;)Yr=It[--Mt],It[Mt]=null,Nn=It[--Mt],It[Mt]=null,Tn=It[--Mt],It[Mt]=null}var kt=null,_t=null,ue=!1,Zt=null;function ny(t,e){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function If(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,_t=ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yr!==null?{id:Tn,overflow:Nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kt=t,_t=null,!0):!1;default:return!1}}function Pu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tu(t){if(ue){var e=_t;if(e){var n=e;if(!If(t,e)){if(Pu(t))throw Error(C(418));e=ar(n.nextSibling);var r=kt;e&&If(t,e)?ny(r,n):(t.flags=t.flags&-4097|2,ue=!1,kt=t)}}else{if(Pu(t))throw Error(C(418));t.flags=t.flags&-4097|2,ue=!1,kt=t}}}function Mf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function Yo(t){if(t!==kt)return!1;if(!ue)return Mf(t),ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Su(t.type,t.memoizedProps)),e&&(e=_t)){if(Pu(t))throw ry(),Error(C(418));for(;e;)ny(t,e),e=ar(e.nextSibling)}if(Mf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_t=ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_t=null}}else _t=kt?ar(t.stateNode.nextSibling):null;return!0}function ry(){for(var t=_t;t;)t=ar(t.nextSibling)}function Qs(){_t=kt=null,ue=!1}function Fd(t){Zt===null?Zt=[t]:Zt.push(t)}var Fb=Vn.ReactCurrentBatchConfig;function _i(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function Xo(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lf(t){var e=t._init;return e(t._payload)}function sy(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=dr(g,m),g.index=0,g.sibling=null,g}function i(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,b){return m===null||m.tag!==6?(m=xc(v,g.mode,b),m.return=g,m):(m=s(m,v),m.return=g,m)}function l(g,m,v,b){var k=v.type;return k===_s?d(g,m,v.props.children,b,v.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jn&&Lf(k)===m.type)?(b=s(m,v.props),b.ref=_i(g,m,v),b.return=g,b):(b=Ra(v.type,v.key,v.props,null,g.mode,b),b.ref=_i(g,m,v),b.return=g,b)}function c(g,m,v,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=bc(v,g.mode,b),m.return=g,m):(m=s(m,v.children||[]),m.return=g,m)}function d(g,m,v,b,k){return m===null||m.tag!==7?(m=Kr(v,g.mode,b,k),m.return=g,m):(m=s(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=xc(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Fo:return v=Ra(m.type,m.key,m.props,null,g.mode,v),v.ref=_i(g,null,m),v.return=g,v;case bs:return m=bc(m,g.mode,v),m.return=g,m;case Jn:var b=m._init;return h(g,b(m._payload),v)}if(Ci(m)||yi(m))return m=Kr(m,g.mode,v,null),m.return=g,m;Xo(g,m)}return null}function f(g,m,v,b){var k=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(g,m,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:return v.key===k?l(g,m,v,b):null;case bs:return v.key===k?c(g,m,v,b):null;case Jn:return k=v._init,f(g,m,k(v._payload),b)}if(Ci(v)||yi(v))return k!==null?null:d(g,m,v,b,null);Xo(g,v)}return null}function p(g,m,v,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,a(m,g,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fo:return g=g.get(b.key===null?v:b.key)||null,l(m,g,b,k);case bs:return g=g.get(b.key===null?v:b.key)||null,c(m,g,b,k);case Jn:var j=b._init;return p(g,m,v,j(b._payload),k)}if(Ci(b)||yi(b))return g=g.get(v)||null,d(m,g,b,k,null);Xo(m,b)}return null}function y(g,m,v,b){for(var k=null,j=null,S=m,E=m=0,T=null;S!==null&&E<v.length;E++){S.index>E?(T=S,S=null):T=S.sibling;var R=f(g,S,v[E],b);if(R===null){S===null&&(S=T);break}t&&S&&R.alternate===null&&e(g,S),m=i(R,m,E),j===null?k=R:j.sibling=R,j=R,S=T}if(E===v.length)return n(g,S),ue&&Mr(g,E),k;if(S===null){for(;E<v.length;E++)S=h(g,v[E],b),S!==null&&(m=i(S,m,E),j===null?k=S:j.sibling=S,j=S);return ue&&Mr(g,E),k}for(S=r(g,S);E<v.length;E++)T=p(S,g,E,v[E],b),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),m=i(T,m,E),j===null?k=T:j.sibling=T,j=T);return t&&S.forEach(function(te){return e(g,te)}),ue&&Mr(g,E),k}function w(g,m,v,b){var k=yi(v);if(typeof k!="function")throw Error(C(150));if(v=k.call(v),v==null)throw Error(C(151));for(var j=k=null,S=m,E=m=0,T=null,R=v.next();S!==null&&!R.done;E++,R=v.next()){S.index>E?(T=S,S=null):T=S.sibling;var te=f(g,S,R.value,b);if(te===null){S===null&&(S=T);break}t&&S&&te.alternate===null&&e(g,S),m=i(te,m,E),j===null?k=te:j.sibling=te,j=te,S=T}if(R.done)return n(g,S),ue&&Mr(g,E),k;if(S===null){for(;!R.done;E++,R=v.next())R=h(g,R.value,b),R!==null&&(m=i(R,m,E),j===null?k=R:j.sibling=R,j=R);return ue&&Mr(g,E),k}for(S=r(g,S);!R.done;E++,R=v.next())R=p(S,g,E,R.value,b),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?E:R.key),m=i(R,m,E),j===null?k=R:j.sibling=R,j=R);return t&&S.forEach(function(We){return e(g,We)}),ue&&Mr(g,E),k}function x(g,m,v,b){if(typeof v=="object"&&v!==null&&v.type===_s&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:e:{for(var k=v.key,j=m;j!==null;){if(j.key===k){if(k=v.type,k===_s){if(j.tag===7){n(g,j.sibling),m=s(j,v.props.children),m.return=g,g=m;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jn&&Lf(k)===j.type){n(g,j.sibling),m=s(j,v.props),m.ref=_i(g,j,v),m.return=g,g=m;break e}n(g,j);break}else e(g,j);j=j.sibling}v.type===_s?(m=Kr(v.props.children,g.mode,b,v.key),m.return=g,g=m):(b=Ra(v.type,v.key,v.props,null,g.mode,b),b.ref=_i(g,m,v),b.return=g,g=b)}return o(g);case bs:e:{for(j=v.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=s(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=bc(v,g.mode,b),m.return=g,g=m}return o(g);case Jn:return j=v._init,x(g,m,j(v._payload),b)}if(Ci(v))return y(g,m,v,b);if(yi(v))return w(g,m,v,b);Xo(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,v),m.return=g,g=m):(n(g,m),m=xc(v,g.mode,b),m.return=g,g=m),o(g)):n(g,m)}return x}var Ys=sy(!0),iy=sy(!1),Ya=vr(null),Xa=null,Ns=null,Bd=null;function Vd(){Bd=Ns=Xa=null}function qd(t){var e=Ya.current;le(Ya),t._currentValue=e}function Nu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){Xa=t,Bd=Ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(Bd!==t)if(t={context:t,memoizedValue:e,next:null},Ns===null){if(Xa===null)throw Error(C(308));Ns=t,Xa.dependencies={lanes:0,firstContext:t}}else Ns=Ns.next=t;return e}var Vr=null;function Wd(t){Vr===null?Vr=[t]:Vr.push(t)}function oy(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wd(e)):(n.next=s.next,s.next=n),e.interleaved=n,$n(t,r)}function $n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qn=!1;function Hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ay(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,$n(t,n)}return s=r.interleaved,s===null?(e.next=e,Wd(r)):(e.next=s.next,s.next=e),r.interleaved=e,$n(t,n)}function ja(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rd(t,n)}}function Af(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Za(t,e,n,r){var s=t.updateQueue;Qn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=ve({},h,f);break e;case 2:Qn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zr|=o,t.lanes=o,t.memoizedState=h}}function zf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var Po={},xn=vr(Po),ao=vr(Po),lo=vr(Po);function qr(t){if(t===Po)throw Error(C(174));return t}function Gd(t,e){switch(ie(lo,e),ie(ao,t),ie(xn,Po),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uu(e,t)}le(xn),ie(xn,e)}function Xs(){le(xn),le(ao),le(lo)}function ly(t){qr(lo.current);var e=qr(xn.current),n=uu(e,t.type);e!==n&&(ie(ao,t),ie(xn,n))}function Kd(t){ao.current===t&&(le(xn),le(ao))}var me=vr(0);function el(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pc=[];function Jd(){for(var t=0;t<pc.length;t++)pc[t]._workInProgressVersionPrimary=null;pc.length=0}var Ea=Vn.ReactCurrentDispatcher,mc=Vn.ReactCurrentBatchConfig,Xr=0,ye=null,Re=null,Le=null,tl=!1,$i=!1,co=0,Bb=0;function Ge(){throw Error(C(321))}function Qd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ln(t[n],e[n]))return!1;return!0}function Yd(t,e,n,r,s,i){if(Xr=i,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ea.current=t===null||t.memoizedState===null?Hb:Gb,t=n(r,s),$i){i=0;do{if($i=!1,co=0,25<=i)throw Error(C(301));i+=1,Le=Re=null,e.updateQueue=null,Ea.current=Kb,t=n(r,s)}while($i)}if(Ea.current=nl,e=Re!==null&&Re.next!==null,Xr=0,Le=Re=ye=null,tl=!1,e)throw Error(C(300));return t}function Xd(){var t=co!==0;return co=0,t}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ye.memoizedState=Le=t:Le=Le.next=t,Le}function Bt(){if(Re===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=Le===null?ye.memoizedState:Le.next;if(e!==null)Le=e,Re=t;else{if(t===null)throw Error(C(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Le===null?ye.memoizedState=Le=t:Le=Le.next=t}return Le}function uo(t,e){return typeof e=="function"?e(t):e}function gc(t){var e=Bt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=Re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Xr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ye.lanes|=d,Zr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ln(r,e.memoizedState)||(ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ye.lanes|=i,Zr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yc(t){var e=Bt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ln(i,e.memoizedState)||(ft=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function cy(){}function uy(t,e){var n=ye,r=Bt(),s=e(),i=!ln(r.memoizedState,s);if(i&&(r.memoizedState=s,ft=!0),r=r.queue,Zd(fy.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,ho(9,hy.bind(null,n,r,s,e),void 0,null),Ae===null)throw Error(C(349));Xr&30||dy(n,e,s)}return s}function dy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hy(t,e,n,r){e.value=n,e.getSnapshot=r,py(e)&&my(t)}function fy(t,e,n){return n(function(){py(e)&&my(t)})}function py(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ln(t,n)}catch{return!0}}function my(t){var e=$n(t,1);e!==null&&sn(e,t,1,-1)}function $f(t){var e=pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t},e.queue=t,t=t.dispatch=Wb.bind(null,ye,t),[e.memoizedState,t]}function ho(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gy(){return Bt().memoizedState}function Ca(t,e,n,r){var s=pn();ye.flags|=t,s.memoizedState=ho(1|e,n,void 0,r===void 0?null:r)}function Pl(t,e,n,r){var s=Bt();r=r===void 0?null:r;var i=void 0;if(Re!==null){var o=Re.memoizedState;if(i=o.destroy,r!==null&&Qd(r,o.deps)){s.memoizedState=ho(e,n,i,r);return}}ye.flags|=t,s.memoizedState=ho(1|e,n,i,r)}function Df(t,e){return Ca(8390656,8,t,e)}function Zd(t,e){return Pl(2048,8,t,e)}function yy(t,e){return Pl(4,2,t,e)}function vy(t,e){return Pl(4,4,t,e)}function wy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xy(t,e,n){return n=n!=null?n.concat([t]):null,Pl(4,4,wy.bind(null,e,t),n)}function eh(){}function by(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _y(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ky(t,e,n){return Xr&21?(ln(n,e)||(n=Pg(),ye.lanes|=n,Zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function Vb(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var r=mc.transition;mc.transition={};try{t(!1),e()}finally{Y=n,mc.transition=r}}function Sy(){return Bt().memoizedState}function qb(t,e,n){var r=ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jy(t))Ey(e,n);else if(n=oy(t,e,n,r),n!==null){var s=rt();sn(n,t,r,s),Cy(n,e,r)}}function Wb(t,e,n){var r=ur(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jy(t))Ey(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ln(a,o)){var l=e.interleaved;l===null?(s.next=s,Wd(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=oy(t,e,s,r),n!==null&&(s=rt(),sn(n,t,r,s),Cy(n,e,r))}}function jy(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function Ey(t,e){$i=tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Cy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rd(t,n)}}var nl={readContext:Ft,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Hb={readContext:Ft,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:Df,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ca(4194308,4,wy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ca(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ca(4,2,t,e)},useMemo:function(t,e){var n=pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qb.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=pn();return t={current:t},e.memoizedState=t},useState:$f,useDebugValue:eh,useDeferredValue:function(t){return pn().memoizedState=t},useTransition:function(){var t=$f(!1),e=t[0];return t=Vb.bind(null,t[1]),pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ye,s=pn();if(ue){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),Ae===null)throw Error(C(349));Xr&30||dy(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Df(fy.bind(null,r,i,t),[t]),r.flags|=2048,ho(9,hy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pn(),e=Ae.identifierPrefix;if(ue){var n=Nn,r=Tn;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=co++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gb={readContext:Ft,useCallback:by,useContext:Ft,useEffect:Zd,useImperativeHandle:xy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:_y,useReducer:gc,useRef:gy,useState:function(){return gc(uo)},useDebugValue:eh,useDeferredValue:function(t){var e=Bt();return ky(e,Re.memoizedState,t)},useTransition:function(){var t=gc(uo)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:cy,useSyncExternalStore:uy,useId:Sy,unstable_isNewReconciler:!1},Kb={readContext:Ft,useCallback:by,useContext:Ft,useEffect:Zd,useImperativeHandle:xy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:_y,useReducer:yc,useRef:gy,useState:function(){return yc(uo)},useDebugValue:eh,useDeferredValue:function(t){var e=Bt();return Re===null?e.memoizedState=t:ky(e,Re.memoizedState,t)},useTransition:function(){var t=yc(uo)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:cy,useSyncExternalStore:uy,useId:Sy,unstable_isNewReconciler:!1};function Jt(t,e){if(t&&t.defaultProps){e=ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ru(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tl={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rt(),s=ur(t),i=Ln(r,s);i.payload=e,n!=null&&(i.callback=n),e=lr(t,i,s),e!==null&&(sn(e,t,s,r),ja(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rt(),s=ur(t),i=Ln(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=lr(t,i,s),e!==null&&(sn(e,t,s,r),ja(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),r=ur(t),s=Ln(n,r);s.tag=2,e!=null&&(s.callback=e),e=lr(t,s,r),e!==null&&(sn(e,t,r,n),ja(e,t,r))}};function Uf(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ro(n,r)||!ro(s,i):!0}function Py(t,e,n){var r=!1,s=mr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ft(i):(s=mt(e)?Qr:Xe.current,r=e.contextTypes,i=(r=r!=null)?Js(t,s):mr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ff(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tl.enqueueReplaceState(e,e.state,null)}function Ou(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Hd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ft(i):(i=mt(e)?Qr:Xe.current,s.context=Js(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ru(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Tl.enqueueReplaceState(s,s.state,null),Za(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zs(t,e){try{var n="",r=e;do n+=_x(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function vc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Iu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jb=typeof WeakMap=="function"?WeakMap:Map;function Ty(t,e,n){n=Ln(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sl||(sl=!0,Vu=r),Iu(t,e)},n}function Ny(t,e,n){n=Ln(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Iu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Iu(t,e),typeof r!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=c_.bind(null,t,e,n),e.then(t,t))}function Vf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ln(-1,1),e.tag=2,lr(n,e,1))),n.lanes|=1),t)}var Qb=Vn.ReactCurrentOwner,ft=!1;function tt(t,e,n,r){e.child=t===null?iy(e,null,n,r):Ys(e,t.child,n,r)}function Wf(t,e,n,r,s){n=n.render;var i=e.ref;return Fs(e,s),r=Yd(t,e,n,r,i,s),n=Xd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dn(t,e,s)):(ue&&n&&Dd(e),e.flags|=1,tt(t,e,r,s),e.child)}function Hf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!lh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ry(t,e,i,r,s)):(t=Ra(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ro,n(o,r)&&t.ref===e.ref)return Dn(t,e,s)}return e.flags|=1,t=dr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ry(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ro(i,r)&&t.ref===e.ref)if(ft=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,Dn(t,e,s)}return Mu(t,e,n,r,s)}function Oy(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Os,wt),wt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(Os,wt),wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ie(Os,wt),wt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ie(Os,wt),wt|=r;return tt(t,e,s,n),e.child}function Iy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mu(t,e,n,r,s){var i=mt(n)?Qr:Xe.current;return i=Js(e,i),Fs(e,s),n=Yd(t,e,n,r,i,s),r=Xd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dn(t,e,s)):(ue&&r&&Dd(e),e.flags|=1,tt(t,e,n,s),e.child)}function Gf(t,e,n,r,s){if(mt(n)){var i=!0;Ka(e)}else i=!1;if(Fs(e,s),e.stateNode===null)Pa(t,e),Py(e,n,r),Ou(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ft(c):(c=mt(n)?Qr:Xe.current,c=Js(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ff(e,o,r,c),Qn=!1;var f=e.memoizedState;o.state=f,Za(e,r,o,s),l=e.memoizedState,a!==r||f!==l||pt.current||Qn?(typeof d=="function"&&(Ru(e,n,d,r),l=e.memoizedState),(a=Qn||Uf(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ay(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Jt(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=mt(n)?Qr:Xe.current,l=Js(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ff(e,o,r,l),Qn=!1,f=e.memoizedState,o.state=f,Za(e,r,o,s);var y=e.memoizedState;a!==h||f!==y||pt.current||Qn?(typeof p=="function"&&(Ru(e,n,p,r),y=e.memoizedState),(c=Qn||Uf(e,n,c,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Lu(t,e,n,r,i,s)}function Lu(t,e,n,r,s,i){Iy(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Of(e,n,!1),Dn(t,e,i);r=e.stateNode,Qb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ys(e,t.child,null,i),e.child=Ys(e,null,a,i)):tt(t,e,a,i),e.memoizedState=r.state,s&&Of(e,n,!0),e.child}function My(t){var e=t.stateNode;e.pendingContext?Rf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rf(t,e.context,!1),Gd(t,e.containerInfo)}function Kf(t,e,n,r,s){return Qs(),Fd(s),e.flags|=256,tt(t,e,n,r),e.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function zu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ly(t,e,n){var r=e.pendingProps,s=me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ie(me,s&1),t===null)return Tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ol(o,r,0,null),t=Kr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zu(n),e.memoizedState=Au,t):th(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Yb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=dr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=dr(a,i):(i=Kr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?zu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Au,r}return i=t.child,t=i.sibling,r=dr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function th(t,e){return e=Ol({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zo(t,e,n,r){return r!==null&&Fd(r),Ys(e,t.child,null,n),t=th(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=vc(Error(C(422))),Zo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ol({mode:"visible",children:r.children},s,0,null),i=Kr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ys(e,t.child,null,o),e.child.memoizedState=zu(o),e.memoizedState=Au,i);if(!(e.mode&1))return Zo(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(C(419)),r=vc(i,r,void 0),Zo(t,e,o,r)}if(a=(o&t.childLanes)!==0,ft||a){if(r=Ae,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$n(t,s),sn(r,t,s,-1))}return ah(),r=vc(Error(C(421))),Zo(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=u_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_t=ar(s.nextSibling),kt=e,ue=!0,Zt=null,t!==null&&(It[Mt++]=Tn,It[Mt++]=Nn,It[Mt++]=Yr,Tn=t.id,Nn=t.overflow,Yr=e),e=th(e,r.children),e.flags|=4096,e)}function Jf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nu(t.return,e,n)}function wc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ay(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(tt(t,e,r.children,n),r=me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jf(t,n,e);else if(t.tag===19)Jf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ie(me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&el(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&el(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wc(e,!0,n,null,i);break;case"together":wc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=dr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=dr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xb(t,e,n){switch(e.tag){case 3:My(e),Qs();break;case 5:ly(e);break;case 1:mt(e.type)&&Ka(e);break;case 4:Gd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ie(Ya,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ie(me,me.current&1),e.flags|=128,null):n&e.child.childLanes?Ly(t,e,n):(ie(me,me.current&1),t=Dn(t,e,n),t!==null?t.sibling:null);ie(me,me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ay(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ie(me,me.current),r)break;return null;case 22:case 23:return e.lanes=0,Oy(t,e,n)}return Dn(t,e,n)}var zy,$u,$y,Dy;zy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$u=function(){};$y=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,qr(xn.current);var i=null;switch(n){case"input":s=ou(t,s),r=ou(t,r),i=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),i=[];break;case"textarea":s=cu(t,s),r=cu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ha)}du(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ae("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Dy=function(t,e,n,r){n!==r&&(e.flags|=4)};function ki(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zb(t,e,n){var r=e.pendingProps;switch(Ud(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return mt(e.type)&&Ga(),Ke(e),null;case 3:return r=e.stateNode,Xs(),le(pt),le(Xe),Jd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(Hu(Zt),Zt=null))),$u(t,e),Ke(e),null;case 5:Kd(e);var s=qr(lo.current);if(n=e.type,t!==null&&e.stateNode!=null)$y(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return Ke(e),null}if(t=qr(xn.current),Yo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[yn]=e,r[oo]=i,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(s=0;s<Ti.length;s++)ae(Ti[s],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":rf(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":of(r,i),ae("invalid",r)}du(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qo(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qo(r.textContent,a,t),s=["children",""+a]):Qi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":Bo(r),sf(r,i,!0);break;case"textarea":Bo(r),af(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ha)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yn]=e,t[oo]=r,zy(t,e,!1,!1),e.stateNode=t;e:{switch(o=hu(n,r),n){case"dialog":ae("cancel",t),ae("close",t),s=r;break;case"iframe":case"object":case"embed":ae("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ti.length;s++)ae(Ti[s],t);s=r;break;case"source":ae("error",t),s=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),s=r;break;case"details":ae("toggle",t),s=r;break;case"input":rf(t,r),s=ou(t,r),ae("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),ae("invalid",t);break;case"textarea":of(t,r),s=cu(t,r),ae("invalid",t);break;default:s=r}du(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pg(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yi(t,l):typeof l=="number"&&Yi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ae("scroll",t):l!=null&&jd(t,i,l,o))}switch(n){case"input":Bo(t),sf(t,r,!1);break;case"textarea":Bo(t),af(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?zs(t,!!r.multiple,i,!1):r.defaultValue!=null&&zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ha)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)Dy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=qr(lo.current),qr(xn.current),Yo(e)){if(r=e.stateNode,n=e.memoizedProps,r[yn]=e,(i=r.nodeValue!==n)&&(t=kt,t!==null))switch(t.tag){case 3:Qo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qo(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=e,e.stateNode=r}return Ke(e),null;case 13:if(le(me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ue&&_t!==null&&e.mode&1&&!(e.flags&128))ry(),Qs(),e.flags|=98560,i=!1;else if(i=Yo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[yn]=e}else Qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),i=!1}else Zt!==null&&(Hu(Zt),Zt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?Oe===0&&(Oe=3):ah())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return Xs(),$u(t,e),t===null&&so(e.stateNode.containerInfo),Ke(e),null;case 10:return qd(e.type._context),Ke(e),null;case 17:return mt(e.type)&&Ga(),Ke(e),null;case 19:if(le(me),i=e.memoizedState,i===null)return Ke(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ki(i,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=el(t),o!==null){for(e.flags|=128,ki(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(me,me.current&1|2),e.child}t=t.sibling}i.tail!==null&&ke()>ei&&(e.flags|=128,r=!0,ki(i,!1),e.lanes=4194304)}else{if(!r)if(t=el(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ue)return Ke(e),null}else 2*ke()-i.renderingStartTime>ei&&n!==1073741824&&(e.flags|=128,r=!0,ki(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ke(),e.sibling=null,n=me.current,ie(me,r?n&1|2:n&1),e):(Ke(e),null);case 22:case 23:return oh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wt&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function e_(t,e){switch(Ud(e),e.tag){case 1:return mt(e.type)&&Ga(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xs(),le(pt),le(Xe),Jd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kd(e),null;case 13:if(le(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(me),null;case 4:return Xs(),null;case 10:return qd(e.type._context),null;case 22:case 23:return oh(),null;case 24:return null;default:return null}}var ea=!1,Je=!1,t_=typeof WeakSet=="function"?WeakSet:Set,N=null;function Rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function Du(t,e,n){try{n()}catch(r){be(t,e,r)}}var Qf=!1;function n_(t,e){if(_u=Va,t=qg(),$d(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ku={focusedElem:t,selectionRange:n},Va=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Jt(e.type,w),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(b){be(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return y=Qf,Qf=!1,y}function Di(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Du(e,n,i)}s=s.next}while(s!==r)}}function Nl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Uu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Uy(t){var e=t.alternate;e!==null&&(t.alternate=null,Uy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yn],delete e[oo],delete e[Eu],delete e[$b],delete e[Db])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fy(t){return t.tag===5||t.tag===3||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ha));else if(r!==4&&(t=t.child,t!==null))for(Fu(t,e,n),t=t.sibling;t!==null;)Fu(t,e,n),t=t.sibling}function Bu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bu(t,e,n),t=t.sibling;t!==null;)Bu(t,e,n),t=t.sibling}var Fe=null,Xt=!1;function Gn(t,e,n){for(n=n.child;n!==null;)By(t,e,n),n=n.sibling}function By(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 5:Je||Rs(n,e);case 6:var r=Fe,s=Xt;Fe=null,Gn(t,e,n),Fe=r,Xt=s,Fe!==null&&(Xt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Xt?(t=Fe,n=n.stateNode,t.nodeType===8?hc(t.parentNode,n):t.nodeType===1&&hc(t,n),to(t)):hc(Fe,n.stateNode));break;case 4:r=Fe,s=Xt,Fe=n.stateNode.containerInfo,Xt=!0,Gn(t,e,n),Fe=r,Xt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Du(n,e,o),s=s.next}while(s!==r)}Gn(t,e,n);break;case 1:if(!Je&&(Rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,e,a)}Gn(t,e,n);break;case 21:Gn(t,e,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,Gn(t,e,n),Je=r):Gn(t,e,n);break;default:Gn(t,e,n)}}function Xf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t_),e.forEach(function(r){var s=d_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Xt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Xt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Xt=!0;break e}a=a.return}if(Fe===null)throw Error(C(160));By(i,o,s),Fe=null,Xt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){be(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vy(e,t),e=e.sibling}function Vy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(e,t),hn(t),r&4){try{Di(3,t,t.return),Nl(3,t)}catch(w){be(t,t.return,w)}try{Di(5,t,t.return)}catch(w){be(t,t.return,w)}}break;case 1:Wt(e,t),hn(t),r&512&&n!==null&&Rs(n,n.return);break;case 5:if(Wt(e,t),hn(t),r&512&&n!==null&&Rs(n,n.return),t.flags&32){var s=t.stateNode;try{Yi(s,"")}catch(w){be(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dg(s,i),hu(a,o);var c=hu(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?gg(s,h):d==="dangerouslySetInnerHTML"?pg(s,h):d==="children"?Yi(s,h):jd(s,d,h,c)}switch(a){case"input":au(s,i);break;case"textarea":hg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?zs(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?zs(s,!!i.multiple,i.defaultValue,!0):zs(s,!!i.multiple,i.multiple?[]:"",!1))}s[oo]=i}catch(w){be(t,t.return,w)}}break;case 6:if(Wt(e,t),hn(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){be(t,t.return,w)}}break;case 3:if(Wt(e,t),hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{to(e.containerInfo)}catch(w){be(t,t.return,w)}break;case 4:Wt(e,t),hn(t);break;case 13:Wt(e,t),hn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sh=ke())),r&4&&Xf(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Je=(c=Je)||d,Wt(e,t),Je=c):Wt(e,t),hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(N=t,d=t.child;d!==null;){for(h=N=d;N!==null;){switch(f=N,p=f.child,f.tag){case 0:case 11:case 14:case 15:Di(4,f,f.return);break;case 1:Rs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){be(r,n,w)}}break;case 5:Rs(f,f.return);break;case 22:if(f.memoizedState!==null){ep(h);continue}}p!==null?(p.return=f,N=p):ep(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mg("display",o))}catch(w){be(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){be(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wt(e,t),hn(t),r&4&&Xf(t);break;case 21:break;default:Wt(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fy(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yi(s,""),r.flags&=-33);var i=Yf(t);Bu(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yf(t);Fu(t,a,o);break;default:throw Error(C(161))}}catch(l){be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r_(t,e,n){N=t,qy(t)}function qy(t,e,n){for(var r=(t.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ea;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Je;a=ea;var c=Je;if(ea=o,(Je=l)&&!c)for(N=s;N!==null;)o=N,l=o.child,o.tag===22&&o.memoizedState!==null?tp(s):l!==null?(l.return=o,N=l):tp(s);for(;i!==null;)N=i,qy(i),i=i.sibling;N=s,ea=a,Je=c}Zf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):Zf(t)}}function Zf(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||Nl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zf(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zf(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&to(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Je||e.flags&512&&Uu(e)}catch(f){be(e,e.return,f)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function ep(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function tp(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nl(4,e)}catch(l){be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){be(e,s,l)}}var i=e.return;try{Uu(e)}catch(l){be(e,i,l)}break;case 5:var o=e.return;try{Uu(e)}catch(l){be(e,o,l)}}}catch(l){be(e,e.return,l)}if(e===t){N=null;break}var a=e.sibling;if(a!==null){a.return=e.return,N=a;break}N=e.return}}var s_=Math.ceil,rl=Vn.ReactCurrentDispatcher,nh=Vn.ReactCurrentOwner,zt=Vn.ReactCurrentBatchConfig,H=0,Ae=null,Ce=null,Ve=0,wt=0,Os=vr(0),Oe=0,fo=null,Zr=0,Rl=0,rh=0,Ui=null,ht=null,sh=0,ei=1/0,En=null,sl=!1,Vu=null,cr=null,ta=!1,nr=null,il=0,Fi=0,qu=null,Ta=-1,Na=0;function rt(){return H&6?ke():Ta!==-1?Ta:Ta=ke()}function ur(t){return t.mode&1?H&2&&Ve!==0?Ve&-Ve:Fb.transition!==null?(Na===0&&(Na=Pg()),Na):(t=Y,t!==0||(t=window.event,t=t===void 0?16:Lg(t.type)),t):1}function sn(t,e,n,r){if(50<Fi)throw Fi=0,qu=null,Error(C(185));jo(t,n,r),(!(H&2)||t!==Ae)&&(t===Ae&&(!(H&2)&&(Rl|=n),Oe===4&&Xn(t,Ve)),gt(t,r),n===1&&H===0&&!(e.mode&1)&&(ei=ke()+500,Cl&&wr()))}function gt(t,e){var n=t.callbackNode;Fx(t,e);var r=Ba(t,t===Ae?Ve:0);if(r===0)n!==null&&uf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uf(n),e===1)t.tag===0?Ub(np.bind(null,t)):ey(np.bind(null,t)),Ab(function(){!(H&6)&&wr()}),n=null;else{switch(Tg(r)){case 1:n=Nd;break;case 4:n=Eg;break;case 16:n=Fa;break;case 536870912:n=Cg;break;default:n=Fa}n=Xy(n,Wy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wy(t,e){if(Ta=-1,Na=0,H&6)throw Error(C(327));var n=t.callbackNode;if(Bs()&&t.callbackNode!==n)return null;var r=Ba(t,t===Ae?Ve:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ol(t,r);else{e=r;var s=H;H|=2;var i=Gy();(Ae!==t||Ve!==e)&&(En=null,ei=ke()+500,Gr(t,e));do try{a_();break}catch(a){Hy(t,a)}while(!0);Vd(),rl.current=i,H=s,Ce!==null?e=0:(Ae=null,Ve=0,e=Oe)}if(e!==0){if(e===2&&(s=yu(t),s!==0&&(r=s,e=Wu(t,s))),e===1)throw n=fo,Gr(t,0),Xn(t,r),gt(t,ke()),n;if(e===6)Xn(t,r);else{if(s=t.current.alternate,!(r&30)&&!i_(s)&&(e=ol(t,r),e===2&&(i=yu(t),i!==0&&(r=i,e=Wu(t,i))),e===1))throw n=fo,Gr(t,0),Xn(t,r),gt(t,ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:Lr(t,ht,En);break;case 3:if(Xn(t,r),(r&130023424)===r&&(e=sh+500-ke(),10<e)){if(Ba(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ju(Lr.bind(null,t,ht,En),e);break}Lr(t,ht,En);break;case 4:if(Xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-rn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s_(r/1960))-r,10<r){t.timeoutHandle=ju(Lr.bind(null,t,ht,En),r);break}Lr(t,ht,En);break;case 5:Lr(t,ht,En);break;default:throw Error(C(329))}}}return gt(t,ke()),t.callbackNode===n?Wy.bind(null,t):null}function Wu(t,e){var n=Ui;return t.current.memoizedState.isDehydrated&&(Gr(t,e).flags|=256),t=ol(t,e),t!==2&&(e=ht,ht=n,e!==null&&Hu(e)),t}function Hu(t){ht===null?ht=t:ht.push.apply(ht,t)}function i_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ln(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xn(t,e){for(e&=~rh,e&=~Rl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rn(e),r=1<<n;t[n]=-1,e&=~r}}function np(t){if(H&6)throw Error(C(327));Bs();var e=Ba(t,0);if(!(e&1))return gt(t,ke()),null;var n=ol(t,e);if(t.tag!==0&&n===2){var r=yu(t);r!==0&&(e=r,n=Wu(t,r))}if(n===1)throw n=fo,Gr(t,0),Xn(t,e),gt(t,ke()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lr(t,ht,En),gt(t,ke()),null}function ih(t,e){var n=H;H|=1;try{return t(e)}finally{H=n,H===0&&(ei=ke()+500,Cl&&wr())}}function es(t){nr!==null&&nr.tag===0&&!(H&6)&&Bs();var e=H;H|=1;var n=zt.transition,r=Y;try{if(zt.transition=null,Y=1,t)return t()}finally{Y=r,zt.transition=n,H=e,!(H&6)&&wr()}}function oh(){wt=Os.current,le(Os)}function Gr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Lb(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(Ud(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ga();break;case 3:Xs(),le(pt),le(Xe),Jd();break;case 5:Kd(r);break;case 4:Xs();break;case 13:le(me);break;case 19:le(me);break;case 10:qd(r.type._context);break;case 22:case 23:oh()}n=n.return}if(Ae=t,Ce=t=dr(t.current,null),Ve=wt=e,Oe=0,fo=null,rh=Rl=Zr=0,ht=Ui=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vr=null}return t}function Hy(t,e){do{var n=Ce;try{if(Vd(),Ea.current=nl,tl){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tl=!1}if(Xr=0,Le=Re=ye=null,$i=!1,co=0,nh.current=null,n===null||n.return===null){Oe=1,fo=e,Ce=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ve,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Vf(o);if(p!==null){p.flags&=-257,qf(p,o,a,i,e),p.mode&1&&Bf(i,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Bf(i,c,e),ah();break e}l=Error(C(426))}}else if(ue&&a.mode&1){var x=Vf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),qf(x,o,a,i,e),Fd(Zs(l,a));break e}}i=l=Zs(l,a),Oe!==4&&(Oe=2),Ui===null?Ui=[i]:Ui.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Ty(i,l,e);Af(i,g);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(cr===null||!cr.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Ny(i,a,e);Af(i,b);break e}}i=i.return}while(i!==null)}Jy(n)}catch(k){e=k,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function Gy(){var t=rl.current;return rl.current=nl,t===null?nl:t}function ah(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ae===null||!(Zr&268435455)&&!(Rl&268435455)||Xn(Ae,Ve)}function ol(t,e){var n=H;H|=2;var r=Gy();(Ae!==t||Ve!==e)&&(En=null,Gr(t,e));do try{o_();break}catch(s){Hy(t,s)}while(!0);if(Vd(),H=n,rl.current=r,Ce!==null)throw Error(C(261));return Ae=null,Ve=0,Oe}function o_(){for(;Ce!==null;)Ky(Ce)}function a_(){for(;Ce!==null&&!Ox();)Ky(Ce)}function Ky(t){var e=Yy(t.alternate,t,wt);t.memoizedProps=t.pendingProps,e===null?Jy(t):Ce=e,nh.current=null}function Jy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=e_(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Ce=null;return}}else if(n=Zb(n,e,wt),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);Oe===0&&(Oe=5)}function Lr(t,e,n){var r=Y,s=zt.transition;try{zt.transition=null,Y=1,l_(t,e,n,r)}finally{zt.transition=s,Y=r}return null}function l_(t,e,n,r){do Bs();while(nr!==null);if(H&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bx(t,i),t===Ae&&(Ce=Ae=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ta||(ta=!0,Xy(Fa,function(){return Bs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zt.transition,zt.transition=null;var o=Y;Y=1;var a=H;H|=4,nh.current=null,n_(t,n),Vy(n,t),Pb(ku),Va=!!_u,ku=_u=null,t.current=n,r_(n),Ix(),H=a,Y=o,zt.transition=i}else t.current=n;if(ta&&(ta=!1,nr=t,il=s),i=t.pendingLanes,i===0&&(cr=null),Ax(n.stateNode),gt(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sl)throw sl=!1,t=Vu,Vu=null,t;return il&1&&t.tag!==0&&Bs(),i=t.pendingLanes,i&1?t===qu?Fi++:(Fi=0,qu=t):Fi=0,wr(),null}function Bs(){if(nr!==null){var t=Tg(il),e=zt.transition,n=Y;try{if(zt.transition=null,Y=16>t?16:t,nr===null)var r=!1;else{if(t=nr,nr=null,il=0,H&6)throw Error(C(331));var s=H;for(H|=4,N=t.current;N!==null;){var i=N,o=i.child;if(N.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(N=c;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:Di(8,d,i)}var h=d.child;if(h!==null)h.return=d,N=h;else for(;N!==null;){d=N;var f=d.sibling,p=d.return;if(Uy(d),d===c){N=null;break}if(f!==null){f.return=p,N=f;break}N=p}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}N=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,N=o;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Di(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,N=g;break e}N=i.return}}var m=t.current;for(N=m;N!==null;){o=N;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,N=v;else e:for(o=m;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nl(9,a)}}catch(k){be(a,a.return,k)}if(a===o){N=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,N=b;break e}N=a.return}}if(H=s,wr(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(_l,t)}catch{}r=!0}return r}finally{Y=n,zt.transition=e}}return!1}function rp(t,e,n){e=Zs(n,e),e=Ty(t,e,1),t=lr(t,e,1),e=rt(),t!==null&&(jo(t,1,e),gt(t,e))}function be(t,e,n){if(t.tag===3)rp(t,t,n);else for(;e!==null;){if(e.tag===3){rp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cr===null||!cr.has(r))){t=Zs(n,t),t=Ny(e,t,1),e=lr(e,t,1),t=rt(),e!==null&&(jo(e,1,t),gt(e,t));break}}e=e.return}}function c_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,Ae===t&&(Ve&n)===n&&(Oe===4||Oe===3&&(Ve&130023424)===Ve&&500>ke()-sh?Gr(t,0):rh|=n),gt(t,e)}function Qy(t,e){e===0&&(t.mode&1?(e=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):e=1);var n=rt();t=$n(t,e),t!==null&&(jo(t,e,n),gt(t,n))}function u_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qy(t,n)}function d_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),Qy(t,n)}var Yy;Yy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ft=!1,Xb(t,e,n);ft=!!(t.flags&131072)}else ft=!1,ue&&e.flags&1048576&&ty(e,Qa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pa(t,e),t=e.pendingProps;var s=Js(e,Xe.current);Fs(e,n),s=Yd(null,e,r,t,s,n);var i=Xd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(r)?(i=!0,Ka(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hd(e),s.updater=Tl,e.stateNode=s,s._reactInternals=e,Ou(e,r,t,n),e=Lu(null,e,r,!0,i,n)):(e.tag=0,ue&&i&&Dd(e),tt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pa(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=f_(r),t=Jt(r,t),s){case 0:e=Mu(null,e,r,t,n);break e;case 1:e=Gf(null,e,r,t,n);break e;case 11:e=Wf(null,e,r,t,n);break e;case 14:e=Hf(null,e,r,Jt(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),Mu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),Gf(t,e,r,s,n);case 3:e:{if(My(e),t===null)throw Error(C(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ay(t,e),Za(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Zs(Error(C(423)),e),e=Kf(t,e,r,n,s);break e}else if(r!==s){s=Zs(Error(C(424)),e),e=Kf(t,e,r,n,s);break e}else for(_t=ar(e.stateNode.containerInfo.firstChild),kt=e,ue=!0,Zt=null,n=iy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),r===s){e=Dn(t,e,n);break e}tt(t,e,r,n)}e=e.child}return e;case 5:return ly(e),t===null&&Tu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Su(r,s)?o=null:i!==null&&Su(r,i)&&(e.flags|=32),Iy(t,e),tt(t,e,o,n),e.child;case 6:return t===null&&Tu(e),null;case 13:return Ly(t,e,n);case 4:return Gd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ys(e,null,r,n):tt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),Wf(t,e,r,s,n);case 7:return tt(t,e,e.pendingProps,n),e.child;case 8:return tt(t,e,e.pendingProps.children,n),e.child;case 12:return tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ie(Ya,r._currentValue),r._currentValue=o,i!==null)if(ln(i.value,o)){if(i.children===s.children&&!pt.current){e=Dn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ln(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Nu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fs(e,n),s=Ft(s),r=r(s),e.flags|=1,tt(t,e,r,n),e.child;case 14:return r=e.type,s=Jt(r,e.pendingProps),s=Jt(r.type,s),Hf(t,e,r,s,n);case 15:return Ry(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),Pa(t,e),e.tag=1,mt(r)?(t=!0,Ka(e)):t=!1,Fs(e,n),Py(e,r,s),Ou(e,r,s,n),Lu(null,e,r,!0,t,n);case 19:return Ay(t,e,n);case 22:return Oy(t,e,n)}throw Error(C(156,e.tag))};function Xy(t,e){return jg(t,e)}function h_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,e,n,r){return new h_(t,e,n,r)}function lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f_(t){if(typeof t=="function")return lh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cd)return 11;if(t===Pd)return 14}return 2}function dr(t,e){var n=t.alternate;return n===null?(n=Lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ra(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")lh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _s:return Kr(n.children,s,i,e);case Ed:o=8,s|=8;break;case nu:return t=Lt(12,n,e,s|2),t.elementType=nu,t.lanes=i,t;case ru:return t=Lt(13,n,e,s),t.elementType=ru,t.lanes=i,t;case su:return t=Lt(19,n,e,s),t.elementType=su,t.lanes=i,t;case lg:return Ol(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case og:o=10;break e;case ag:o=9;break e;case Cd:o=11;break e;case Pd:o=14;break e;case Jn:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Lt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Kr(t,e,n,r){return t=Lt(7,t,r,e),t.lanes=n,t}function Ol(t,e,n,r){return t=Lt(22,t,r,e),t.elementType=lg,t.lanes=n,t.stateNode={isHidden:!1},t}function xc(t,e,n){return t=Lt(6,t,null,e),t.lanes=n,t}function bc(t,e,n){return e=Lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tc(0),this.expirationTimes=tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ch(t,e,n,r,s,i,o,a,l){return t=new p_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Lt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(i),t}function m_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Zy(t){if(!t)return mr;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(mt(n))return Zg(t,n,e)}return e}function e0(t,e,n,r,s,i,o,a,l){return t=ch(n,r,!0,t,s,i,o,a,l),t.context=Zy(null),n=t.current,r=rt(),s=ur(n),i=Ln(r,s),i.callback=e??null,lr(n,i,s),t.current.lanes=s,jo(t,s,r),gt(t,r),t}function Il(t,e,n,r){var s=e.current,i=rt(),o=ur(s);return n=Zy(n),e.context===null?e.context=n:e.pendingContext=n,e=Ln(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lr(s,e,o),t!==null&&(sn(t,s,o,i),ja(t,s,o)),o}function al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uh(t,e){sp(t,e),(t=t.alternate)&&sp(t,e)}function g_(){return null}var t0=typeof reportError=="function"?reportError:function(t){console.error(t)};function dh(t){this._internalRoot=t}Ml.prototype.render=dh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Il(t,e,null,null)};Ml.prototype.unmount=dh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;es(function(){Il(null,t,null,null)}),e[zn]=null}};function Ml(t){this._internalRoot=t}Ml.prototype.unstable_scheduleHydration=function(t){if(t){var e=Og();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yn.length&&e!==0&&e<Yn[n].priority;n++);Yn.splice(n,0,t),n===0&&Mg(t)}};function hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ip(){}function y_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=al(o);i.call(c)}}var o=e0(e,r,t,0,null,!1,!1,"",ip);return t._reactRootContainer=o,t[zn]=o.current,so(t.nodeType===8?t.parentNode:t),es(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=al(l);a.call(c)}}var l=ch(t,0,!1,null,null,!1,!1,"",ip);return t._reactRootContainer=l,t[zn]=l.current,so(t.nodeType===8?t.parentNode:t),es(function(){Il(e,l,n,r)}),l}function Al(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=al(o);a.call(l)}}Il(e,o,t,s)}else o=y_(n,e,t,s,r);return al(o)}Ng=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pi(e.pendingLanes);n!==0&&(Rd(e,n|1),gt(e,ke()),!(H&6)&&(ei=ke()+500,wr()))}break;case 13:es(function(){var r=$n(t,1);if(r!==null){var s=rt();sn(r,t,1,s)}}),uh(t,1)}};Od=function(t){if(t.tag===13){var e=$n(t,134217728);if(e!==null){var n=rt();sn(e,t,134217728,n)}uh(t,134217728)}};Rg=function(t){if(t.tag===13){var e=ur(t),n=$n(t,e);if(n!==null){var r=rt();sn(n,t,e,r)}uh(t,e)}};Og=function(){return Y};Ig=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};pu=function(t,e,n){switch(e){case"input":if(au(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=El(r);if(!s)throw Error(C(90));ug(r),au(r,s)}}}break;case"textarea":hg(t,n);break;case"select":e=n.value,e!=null&&zs(t,!!n.multiple,e,!1)}};wg=ih;xg=es;var v_={usingClientEntryPoint:!1,Events:[Co,Es,El,yg,vg,ih]},Si={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w_={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kg(t),t===null?null:t.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance||g_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{_l=na.inject(w_),wn=na}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v_;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hh(e))throw Error(C(200));return m_(t,e,null,n)};jt.createRoot=function(t,e){if(!hh(t))throw Error(C(299));var n=!1,r="",s=t0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ch(t,1,!1,null,null,n,!1,r,s),t[zn]=e.current,so(t.nodeType===8?t.parentNode:t),new dh(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=kg(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return es(t)};jt.hydrate=function(t,e,n){if(!Ll(e))throw Error(C(200));return Al(null,t,e,!0,n)};jt.hydrateRoot=function(t,e,n){if(!hh(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=t0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=e0(e,null,t,1,n??null,s,!1,i,o),t[zn]=e.current,so(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ml(e)};jt.render=function(t,e,n){if(!Ll(e))throw Error(C(200));return Al(null,t,e,!1,n)};jt.unmountComponentAtNode=function(t){if(!Ll(t))throw Error(C(40));return t._reactRootContainer?(es(function(){Al(null,null,t,!1,function(){t._reactRootContainer=null,t[zn]=null})}),!0):!1};jt.unstable_batchedUpdates=ih;jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ll(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Al(t,e,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function n0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n0)}catch(t){console.error(t)}}n0(),ng.exports=jt;var x_=ng.exports,r0,op=x_;r0=op.createRoot,op.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>_.createElement("svg",{ref:d,...b_,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${__(t)}`,a].join(" "),...c},[...e.map(([h,f])=>_.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=J("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=J("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=J("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=J("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=J("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=J("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=J("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=J("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=J("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=J("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=J("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=J("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=J("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=J("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=J("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=J("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=J("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=J("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=J("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=J("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=J("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=J("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var Ku=function(t,e){return Ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ku(t,e)};function p0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ku(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ll=function(){return ll=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ll.apply(this,arguments)};function li(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function m0(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function g0(t,e){return function(n,r){e(n,r,t)}}function y0(t,e,n,r,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var y={};for(var w in r)y[w]=w==="access"?{}:r[w];for(var w in r.access)y.access[w]=r.access[w];y.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var x=(0,n[p])(a==="accessor"?{get:d.get,set:d.set}:d[l],y);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(d.get=h),(h=o(x.set))&&(d.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(a==="field"?s.unshift(h):d[l]=h)}c&&Object.defineProperty(c,r.name,d),f=!0}function v0(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function w0(t){return typeof t=="symbol"?t:"".concat(t)}function x0(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function b0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function O(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function _0(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var $l=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function k0(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&$l(e,t,n)}function cl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vh(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function S0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(vh(arguments[e]));return t}function j0(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function E0(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function ti(t){return this instanceof ti?(this.v=t,this):new ti(t)}function C0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(y){return Promise.resolve(y).then(p,h)}}function a(p,y){r[p]&&(s[p]=function(w){return new Promise(function(x,g){i.push([p,w,x,g])>1||l(p,w)})},y&&(s[p]=y(s[p])))}function l(p,y){try{c(r[p](y))}catch(w){f(i[0][3],w)}}function c(p){p.value instanceof ti?Promise.resolve(p.value.v).then(d,h):f(i[0][2],p)}function d(p){l("next",p)}function h(p){l("throw",p)}function f(p,y){p(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function P0(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:ti(t[s](o)),done:!1}:i?i(o):o}:i}}function T0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cl=="function"?cl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function N0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var O_=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Ju=function(t){return Ju=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Ju(t)};function R0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Ju(t),r=0;r<n.length;r++)n[r]!=="default"&&$l(e,t,n[r]);return O_(e,t),e}function O0(t){return t&&t.__esModule?t:{default:t}}function I0(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function M0(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function L0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function A0(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var I_=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function z0(t){function e(i){t.error=t.hasError?new I_(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function $0(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const M_={__extends:p0,__assign:ll,__rest:li,__decorate:m0,__param:g0,__esDecorate:y0,__runInitializers:v0,__propKey:w0,__setFunctionName:x0,__metadata:b0,__awaiter:O,__generator:_0,__createBinding:$l,__exportStar:k0,__values:cl,__read:vh,__spread:S0,__spreadArrays:j0,__spreadArray:E0,__await:ti,__asyncGenerator:C0,__asyncDelegator:P0,__asyncValues:T0,__makeTemplateObject:N0,__importStar:R0,__importDefault:O0,__classPrivateFieldGet:I0,__classPrivateFieldSet:M0,__classPrivateFieldIn:L0,__addDisposableResource:A0,__disposeResources:z0,__rewriteRelativeImportExtension:$0},L_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:A0,get __assign(){return ll},__asyncDelegator:P0,__asyncGenerator:C0,__asyncValues:T0,__await:ti,__awaiter:O,__classPrivateFieldGet:I0,__classPrivateFieldIn:L0,__classPrivateFieldSet:M0,__createBinding:$l,__decorate:m0,__disposeResources:z0,__esDecorate:y0,__exportStar:k0,__extends:p0,__generator:_0,__importDefault:O0,__importStar:R0,__makeTemplateObject:N0,__metadata:b0,__param:g0,__propKey:w0,__read:vh,__rest:li,__rewriteRelativeImportExtension:$0,__runInitializers:v0,__setFunctionName:x0,__spread:S0,__spreadArray:E0,__spreadArrays:j0,__values:cl,default:M_},Symbol.toStringTag,{value:"Module"})),A_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class wh extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class z_ extends wh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ap extends wh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class lp extends wh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qu||(Qu={}));class $_{constructor(e,{headers:n={},customFetch:r,region:s=Qu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=A_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const y=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(f["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(f["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:w,signal:x}).catch(k=>{throw new z_(k)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new ap(g);if(!g.ok)throw new lp(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield g.json():v==="application/octet-stream"||v==="application/pdf"?b=yield g.blob():v==="text/event-stream"?b=g:v==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof lp||a instanceof ap?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var nt={};const ci=Kw(L_);var ra={},sa={},ia={},oa={},aa={},la={},cp;function D0(){if(cp)return la;cp=1,Object.defineProperty(la,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return la.default=t,la}var up;function U0(){if(up)return aa;up=1,Object.defineProperty(aa,"__esModule",{value:!0});const e=ci.__importDefault(D0());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,h,f;let p=null,y=null,w=null,x=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const k=await l.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=k:y=JSON.parse(k))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&b&&b.length>1&&(w=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,x=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const v=await l.text();try{p=JSON.parse(v),Array.isArray(p)&&l.status===404&&(y=[],p=null,x=200,g="OK")}catch{l.status===404&&v===""?(x=204,g="No Content"):p={message:v}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,x=200,g="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:y,count:w,status:x,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,d,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return aa.default=n,aa}var dp;function F0(){if(dp)return oa;dp=1,Object.defineProperty(oa,"__esModule",{value:!0});const e=ci.__importDefault(U0());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return oa.default=n,oa}var hp;function xh(){if(hp)return ia;hp=1,Object.defineProperty(ia,"__esModule",{value:!0});const e=ci.__importDefault(F0()),n=new RegExp("[,()]");class r extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return ia.default=r,ia}var fp;function B0(){if(fp)return sa;fp=1,Object.defineProperty(sa,"__esModule",{value:!0});const e=ci.__importDefault(xh());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return sa.default=n,sa}var pp;function D_(){if(pp)return ra;pp=1,Object.defineProperty(ra,"__esModule",{value:!0});const t=ci,e=t.__importDefault(B0()),n=t.__importDefault(xh());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,x])=>x!==void 0).map(([w,x])=>[w,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([w,x])=>{f.searchParams.append(w,x)})):(h="POST",p=o);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new n.default({method:h,url:f,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return ra.default=r,ra}Object.defineProperty(nt,"__esModule",{value:!0});var V0=nt.PostgrestError=Z0=nt.PostgrestBuilder=Y0=nt.PostgrestTransformBuilder=J0=nt.PostgrestFilterBuilder=G0=nt.PostgrestQueryBuilder=W0=nt.PostgrestClient=void 0;const ui=ci,q0=ui.__importDefault(D_());var W0=nt.PostgrestClient=q0.default;const H0=ui.__importDefault(B0());var G0=nt.PostgrestQueryBuilder=H0.default;const K0=ui.__importDefault(xh());var J0=nt.PostgrestFilterBuilder=K0.default;const Q0=ui.__importDefault(F0());var Y0=nt.PostgrestTransformBuilder=Q0.default;const X0=ui.__importDefault(U0());var Z0=nt.PostgrestBuilder=X0.default;const ev=ui.__importDefault(D0());V0=nt.PostgrestError=ev.default;var tv=nt.default={PostgrestClient:q0.default,PostgrestQueryBuilder:H0.default,PostgrestFilterBuilder:K0.default,PostgrestTransformBuilder:Q0.default,PostgrestBuilder:X0.default,PostgrestError:ev.default};const U_=Hw({__proto__:null,get PostgrestBuilder(){return Z0},get PostgrestClient(){return W0},get PostgrestError(){return V0},get PostgrestFilterBuilder(){return J0},get PostgrestQueryBuilder(){return G0},get PostgrestTransformBuilder(){return Y0},default:tv},[nt]),{PostgrestClient:F_,PostgrestQueryBuilder:qN,PostgrestFilterBuilder:WN,PostgrestTransformBuilder:HN,PostgrestBuilder:GN,PostgrestError:KN}=tv||U_;class B_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const V_="2.81.1",q_=`realtime-js/${V_}`,nv="1.0.0",W_="2.0.0",mp=nv,Yu=1e4,H_=1e3,G_=100;var zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zr||(zr={}));var Ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ne||(Ne={}));var Ot;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ot||(Ot={}));var Xu;(function(t){t.websocket="websocket"})(Xu||(Xu={}));var $r;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($r||($r={}));class K_{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:n,ref:r,event:s,topic:i,payload:o}=e,a=this.META_LENGTH+n.length+r.length+i.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let c=new DataView(l),d=0;c.setUint8(d++,this.KINDS.push),c.setUint8(d++,n.length),c.setUint8(d++,r.length),c.setUint8(d++,i.length),c.setUint8(d++,s.length),Array.from(n,f=>c.setUint8(d++,f.charCodeAt(0))),Array.from(r,f=>c.setUint8(d++,f.charCodeAt(0))),Array.from(i,f=>c.setUint8(d++,f.charCodeAt(0))),Array.from(s,f=>c.setUint8(d++,f.charCodeAt(0)));var h=new Uint8Array(l.byteLength+o.byteLength);return h.set(new Uint8Array(l),0),h.set(new Uint8Array(o),l.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(d),f=0;h.setUint8(f++,this.KINDS.userBroadcastPush),h.setUint8(f++,s.length),h.setUint8(f++,i.length),h.setUint8(f++,o.length),h.setUint8(f++,a.length),h.setUint8(f++,this.BINARY_ENCODING),Array.from(s,y=>h.setUint8(f++,y.charCodeAt(0))),Array.from(i,y=>h.setUint8(f++,y.charCodeAt(0))),Array.from(o,y=>h.setUint8(f++,y.charCodeAt(0))),Array.from(a,y=>h.setUint8(f++,y.charCodeAt(0)));var p=new Uint8Array(d.byteLength+l.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(l),d.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var n,r;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),y=0;p.setUint8(y++,this.KINDS.userBroadcastPush),p.setUint8(y++,s.length),p.setUint8(y++,i.length),p.setUint8(y++,o.length),p.setUint8(y++,a.length),p.setUint8(y++,this.JSON_ENCODING),Array.from(s,x=>p.setUint8(y++,x.charCodeAt(0))),Array.from(i,x=>p.setUint8(y++,x.charCodeAt(0))),Array.from(o,x=>p.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>p.setUint8(y++,x.charCodeAt(0)));var w=new Uint8Array(f.byteLength+d.byteLength);return w.set(new Uint8Array(f),0),w.set(new Uint8Array(d),f.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,s);case this.KINDS.reply:return this._decodeReply(e,n,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodePush(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(a,a+s));a=a+s;const c=r.decode(e.slice(a,a+i));a=a+i;const d=r.decode(e.slice(a,a+o));a=a+o;const h=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:d,payload:h}}_decodeReply(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const p=JSON.parse(r.decode(e.slice(l,e.byteLength))),y={status:f,response:p};return{join_ref:c,ref:d,topic:h,event:Ot.reply,payload:y}}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:c}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,y={type:this.BROADCAST,event:d,payload:p};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class rv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(re||(re={}));const gp=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=J_(o,t,e,s),i),{}):{}},J_=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?sv(i,o):Zu(o)},sv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Z_(e,n)}switch(t){case re.bool:return Q_(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return Y_(e);case re.json:case re.jsonb:return X_(e);case re.timestamp:return e1(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Zu(e);default:return Zu(e)}},Zu=t=>t,Q_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Y_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},X_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Z_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>sv(e,a))}return t},e1=t=>typeof t=="string"?t.replace(" ","T"):t,iv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};let _c=class{constructor(e,n,r={},s=Yu){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var yp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(yp||(yp={}));class Bi{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Bi.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bi.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),y=d.filter(x=>p.indexOf(x.presence_ref)<0),w=h.filter(x=>f.indexOf(x.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vp||(vp={}));var Vi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vi||(Vi={}));var Cn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Cn||(Cn={}));class bh{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _c(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new rv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Bi(this),this.broadcastEndpointURL=iv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ne.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Vi.PRESENCE]&&this.bindings[Vi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Cn.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Cn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){e==null||e(Cn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let m=0;m<x;m++){const v=w[m],{filter:{event:b,schema:k,table:j,filter:S}}=v,E=p&&p[m];if(E&&E.event===b&&E.schema===k&&E.table===j&&E.filter===S)g.push(Object.assign(Object.assign({},v),{id:E.id}));else{this.unsubscribe(),this.state=Ne.errored,e==null||e(Cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Cn.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ne.errored,e==null||e(Cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ne.joined&&e===Vi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new _c(this,Ot.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ne.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _c(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>G_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ot;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,w,x;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,w,x,g,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,k=(y=p.filter)===null||y===void 0?void 0:y.event;return b&&((w=n.ids)===null||w===void 0?void 0:w.includes(b))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:x,commit_timestamp:g,type:m,errors:v}=y;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(y))}p.callback(f,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&bh.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ot.close,{},e)}_onError(e){this._on(Ot.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=gp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=gp(e.columns,e.old_record)),n}}const kc=()=>{},ca={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},t1=[1e3,2e3,5e3,1e4],n1=1e4,r1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class s1{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yu,this.transport=null,this.heartbeatIntervalMs=ca.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kc,this.ref=0,this.reconnectTimer=null,this.vsn=mp,this.logger=kc,this.conn=null,this.sendBuffer=[],this.serializer=new K_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Xu.websocket}`,this.httpEndpoint=iv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=B_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return $r.Connecting;case zr.open:return $r.Open;case zr.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new bh(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(H_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ca.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zr.open||this.conn.readyState===zr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ot.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([r1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:q_};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ot.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new rv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ca.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c,d,h,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Yu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ca.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:kc,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:mp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:y=>t1[y-1]||n1,this.vsn){case nv:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(y,w)=>w(JSON.stringify(y)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(y,w)=>w(JSON.parse(y));break;case W_:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class _h extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class i1 extends _h{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ed extends _h{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const kh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o1=()=>Response,td=t=>{if(Array.isArray(t))return t.map(n=>td(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=td(r)}),e},a1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},l1=(t,e,n)=>O(void 0,void 0,void 0,function*(){const r=yield o1();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new i1(Sc(s),i,o))}).catch(s=>{e(new ed(Sc(s),s))}):e(new ed(Sc(t),t))}),c1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(a1(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function To(t,e,n,r,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,c1(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>l1(l,a,r))})})}function mo(t,e,n,r){return O(this,void 0,void 0,function*(){return To(t,"GET",e,n,r)})}function Qt(t,e,n,r,s){return O(this,void 0,void 0,function*(){return To(t,"POST",e,r,s,n)})}function nd(t,e,n,r,s){return O(this,void 0,void 0,function*(){return To(t,"PUT",e,r,s,n)})}function u1(t,e,n,r){return O(this,void 0,void 0,function*(){return To(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Sh(t,e,n,r,s){return O(this,void 0,void 0,function*(){return To(t,"DELETE",e,r,s,n)})}class d1{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return O(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}}var ov;class h1{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[ov]="BlobDownloadBuilder",this.promise=null}asStream(){return new d1(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return O(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}}ov=Symbol.toStringTag;const f1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class p1{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=kh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return O(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wp),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?nd:Qt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}upload(e,n,r){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return O(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:wp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield nd(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return O(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Qt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new _h("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}update(e,n,r){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return O(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}copy(e,n,r){return O(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return O(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Qt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return O(this,void 0,void 0,function*(){try{const s=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>mo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new h1(l,this.shouldThrowOnError)}info(e){return O(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield mo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:td(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}exists(e){return O(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield u1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r)&&r instanceof ed){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return O(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}list(e,n,r){return O(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},f1),n),{prefix:e||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}listV2(e,n){return O(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const av="2.81.1",lv={"X-Client-Info":`storage-js/${av}`};class m1{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lv),n),this.fetch=kh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return O(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield mo(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield mo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}createBucket(e){return O(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return O(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class g1{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lv),n),this.fetch=kh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}listBuckets(e){return O(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield mo(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}}const jh={"X-Client-Info":`storage-js/${av}`,"Content-Type":"application/json"};class cv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function xt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class jc extends cv{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class y1 extends cv{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var xp;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(xp||(xp={}));const Eh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),v1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},bp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),w1=(t,e,n)=>O(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new jc(bp(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new jc(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new jc(a,s,o))}}else e(new y1(bp(t),t))}),x1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(v1(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function b1(t,e,n,r,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,x1(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>w1(l,a,r))})})}function bt(t,e,n,r,s){return O(this,void 0,void 0,function*(){return b1(t,"POST",e,r,s,n)})}class _1{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jh),n),this.fetch=Eh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return O(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return O(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}listIndexes(e){return O(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return O(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}}class k1{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jh),n),this.fetch=Eh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return O(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield bt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}listVectors(e){return O(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield bt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}queryVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return O(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield bt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}}class S1{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jh),n),this.fetch=Eh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}listBuckets(){return O(this,arguments,void 0,function*(e={}){try{return{data:yield bt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}}class j1 extends S1{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new E1(this.url,this.headers,e,this.fetch)}}class E1 extends _1{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return O(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return O(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return O(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return O(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new C1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class C1 extends k1{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return O(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return O(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return O(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return O(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return O(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class P1 extends m1{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new p1(this.url,this.headers,e,this.fetch)}get vectors(){return new j1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new g1(this.url+"/iceberg",this.headers,this.fetch)}}const T1="2.81.1";let Ni="";typeof Deno<"u"?Ni="deno":typeof document<"u"?Ni="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ni="react-native":Ni="node";const N1={"X-Client-Info":`supabase-js-${Ni}/${T1}`},R1={headers:N1},O1={schema:"public"},I1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},M1={},L1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A1=()=>Headers,z1=(t,e,n)=>{const r=L1(n),s=A1();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))}};function $1(t){return t.endsWith("/")?t:t+"/"}function D1(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function U1(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const uv="2.81.1",ws=30*1e3,rd=3,Ec=rd*ws,F1="http://localhost:9999",B1="supabase.auth.token",V1={"X-Client-Info":`gotrue-js/${uv}`},sd="X-Supabase-Api-Version",dv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W1=10*60*1e3;class go extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class H1 extends go{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function G1(t){return I(t)&&t.name==="AuthApiError"}class Dr extends go{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class xr extends go{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ht extends xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function K1(t){return I(t)&&t.name==="AuthSessionMissingError"}class ds extends xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ua extends xr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class da extends xr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function J1(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class _p extends xr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class id extends xr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Cc(t){return I(t)&&t.name==="AuthRetryableFetchError"}class kp extends xr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class od extends xr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sp=` 	
\r=`.split(""),Q1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Sp.length;e+=1)t[Sp[e].charCodeAt(0)]=-2;for(let e=0;e<ul.length;e+=1)t[ul[e].charCodeAt(0)]=e;return t})();function jp(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ul[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ul[r]),e.queuedBits-=6}}function hv(t,e,n){const r=Q1[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ep(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Z1(o,r,n)};for(let o=0;o<t.length;o+=1)hv(t.charCodeAt(o),s,i);return e.join("")}function Y1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function X1(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Y1(r,e)}}function Z1(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Vs(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)hv(t.charCodeAt(s),n,r);return new Uint8Array(e)}function ek(t){const e=[];return X1(t,n=>e.push(n)),new Uint8Array(e)}function Wr(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>jp(s,n,r)),jp(null,n,r),e.join("")}function tk(t){return Math.round(Date.now()/1e3)+t}function nk(){return Symbol("auth-callback")}const Ue=()=>typeof window<"u"&&typeof document<"u",Cr={tested:!1,writable:!1},fv=()=>{if(!Ue())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cr.tested)return Cr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Cr.tested=!0,Cr.writable=!0}catch{Cr.tested=!0,Cr.writable=!1}return Cr.writable};function rk(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const pv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xs=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Pr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kn=async(t,e)=>{await t.removeItem(e)};class Dl{constructor(){this.promise=new Dl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Dl.promiseConstructor=Promise;function Pc(t){const e=t.split(".");if(e.length!==3)throw new od("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!q1.test(e[r]))throw new od("JWT not in base64url format");return{header:JSON.parse(Ep(e[0])),payload:JSON.parse(Ep(e[1])),signature:Vs(e[2]),raw:{header:e[0],payload:e[1]}}}async function ik(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ok(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function ak(t){return("0"+t.toString(16)).substr(-2)}function lk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,ak).join("")}async function ck(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function uk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ck(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hs(t,e,n=!1){const r=lk();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await xs(t,`${e}-code-verifier`,s);const i=await uk(r);return[i,r===i?"plain":"s256"]}const dk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hk(t){const e=t.headers.get(sd);if(!e||!e.match(dk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fs(t){if(!mk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gk(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Cp(t){return JSON.parse(JSON.stringify(t))}const Ar=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yk=[502,503,504];async function Pp(t){var e;if(!sk(t))throw new id(Ar(t),0);if(yk.includes(t.status))throw new id(Ar(t),t.status);let n;try{n=await t.json()}catch(i){throw new Dr(Ar(i),i)}let r;const s=hk(t);if(s&&s.getTime()>=dv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new kp(Ar(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ht}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new kp(Ar(n),t.status,n.weak_password.reasons);throw new H1(Ar(n),t.status||500,r)}const vk=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function M(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[sd]||(i[sd]=dv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await wk(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function wk(t,e,n,r,s,i){const o=vk(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new id(Ar(l),0)}if(a.ok||await Pp(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Pp(l)}}function Gt(t){var e;let n=null;_k(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=tk(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Tp(t){const e=Gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xk(t){return{data:t,error:null}}function bk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=li(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Np(t){return t}function _k(t){return t.access_token&&t.refresh_token&&t.expires_in}const Nc=["global","local","others"];class kk{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=pv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Nc[0]){if(Nc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nc.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=li(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Np});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){fs(e);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){fs(e);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Zn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){fs(e);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fs(e.userId);try{const{data:n,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){fs(e.userId),fs(e.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Np});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(I(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await M(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await M(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await M(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}}function Rp(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ps={debug:!!(globalThis&&fv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Sk extends mv{}async function jk(t,e,n){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Sk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ps.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Ek(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ck(t){return parseInt(t,16)}function Pk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Tk(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=gv(t.address),y=d?`${d}://${r}`:r,w=t.statement?`${t.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${p}

${w}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);m+=`
- ${v}`}g+=m}return`${x}
${g}`}class je extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class dl extends je{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Nk({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new je({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(yv(o)){if(i.rp.id!==o)return new je({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Rk({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new je({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(yv(r)){if(n.rpId!==r)return new je({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Ok{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ik=new Ok;function Mk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=li(t,["challenge","user","excludeCredentials"]),i=Vs(e).buffer,o=Object.assign(Object.assign({},n),{id:Vs(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Vs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Lk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=li(t,["challenge","allowCredentials"]),s=Vs(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Vs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Ak(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Wr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Wr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Wr(new Uint8Array(s.authenticatorData)),clientDataJSON:Wr(new Uint8Array(s.clientDataJSON)),signature:Wr(new Uint8Array(s.signature)),userHandle:s.userHandle?Wr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Op(){var t,e;return!!(Ue()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $k(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",e)}:{data:null,error:new dl("Empty credential response",e)}}catch(e){return{data:null,error:Nk({error:e,options:t})}}}async function Dk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",e)}:{data:null,error:new dl("Empty credential response",e)}}catch(e){return{data:null,error:Rk({error:e,options:t})}}}const Uk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Fk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hl(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=hl(a,o):r[i]=hl(o)}else r[i]=o}return r}function Bk(t,e){return hl(Uk,t,e||{})}function Vk(t,e){return hl(Fk,t,e||{})}class qk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??Ik.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Bk(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await $k({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=Vk(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Dk(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Dr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new go("rpId is required for WebAuthn authentication")};try{if(!Op())return{data:null,error:new Dr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Dr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new go("rpId is required for WebAuthn registration")};try{if(!Op())return{data:null,error:new Dr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Dr("Unexpected error in register",o)}}}}Ek();const Wk={url:F1,storageKey:B1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ip(t,e,n){return await n()}const ms={};class yo{get jwks(){var e,n;return(n=(e=ms[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ms[this.storageKey]=Object.assign(Object.assign({},ms[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ms[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ms[this.storageKey]=Object.assign(Object.assign({},ms[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Wk),e);if(this.storageKey=i.storageKey,this.instanceID=(n=yo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,yo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ue()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new kk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=pv(i.fetch),this.lock=i.lock||Ip,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ue()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jk:this.lock=Ip,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:fv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Rp(this.memoryStorage)),Ue()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Ue()&&(n=rk(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ue()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),J1(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?this._returnResult({error:n}):this._returnResult({error:new Dr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await hs(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:Gt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Gt})}else throw new ua("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tp})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tp})}else throw new ua("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new ds;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,c,d,h,f;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:w,wallet:x,statement:g,options:m}=e;let v;if(Ue())if(typeof x=="object")v=x;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")v=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),k=await v.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=gv(k[0]);let S=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!S){const T=await v.request({method:"eth_chainId"});S=Ck(T)}const E={domain:b.host,address:j,statement:g,uri:b.href,version:"1",chainId:S,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Tk(E),y=await v.request({method:"personal_sign",params:[Pk(p),j]})}try{const{data:w,error:x}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Gt});if(x)throw x;if(!w||!w.session||!w.user){const g=new ds;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(I(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,o,a,l,c,d,h,f,p;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:x,wallet:g,statement:m,options:v}=e;let b;if(Ue())if(typeof g=="object")b=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const k=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:x,error:g}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Wr(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Gt});if(g)throw g;if(!x||!x.session||!x.user){const m=new ds;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(I(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Gt});if(await Kn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new ds;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Gt}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new ds;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await hs(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new ua("You must provide either an email or phone number.")}catch(a){if(I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await hs(this.storage,this.storageKey));const c=await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:xk});return!((i=c.data)===null||i===void 0)&&i.url&&Ue()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(I(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ht;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(I(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await M(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await M(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new ua("You must provide either an email or phone number and a type")}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ec:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Pr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Tc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=gk(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Zn})})}catch(n){if(I(n))return K1(n)&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ht;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await hs(this.storage,this.storageKey));const{data:c,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Zn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ht;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Pc(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ht;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ue())throw new da("No browser detected.");if(e.error||e.error_description||e.error_code)throw new da(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _p("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new da("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _p("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new da("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(G1(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=nk(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await hs(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ue()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(I(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=e,h=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new ds}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ok(async s=>(s>0&&await ik(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Cc(i)&&Date.now()+o-r<ws})}catch(r){if(this._debug(n,"error",r),I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ue()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Pr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await xs(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Tc()}else if(s&&!s.user&&!s.user){const o=await Pr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Kn(this.storage,this.storageKey+"-user"),await xs(this.storage,this.storageKey,s)):s.user=Tc()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ec;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ec}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Cc(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dl;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={data:null,error:i};return Cc(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await xs(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Cp(s);await xs(this.storage,this.storageKey,i)}else{const s=Cp(n);await xs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Kn(this.storage,this.storageKey),await Kn(this.storage,this.storageKey+"-code-verifier"),await Kn(this.storage,this.storageKey+"-user"),this.userStorage&&await Kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ue()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ws}ms, refresh threshold is ${rd} ticks`),s<=rd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ue()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await hs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await M(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ak(e.webauthn.credential_response):zk(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Mk(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Lk(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Pc(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await M(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ht});const o=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ue()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ht});const o=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ue()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+W1>s)return r;const{data:i,error:o}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Pc(r);n!=null&&n.allowExpired||fk(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=pk(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,ek(`${a}.${l}`)))throw new od("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}}yo.nextInstanceID={};const Hk=yo;class Gk extends Hk{constructor(e){super(e)}}class Kk{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=U1(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:O1,realtime:M1,auth:Object.assign(Object.assign({},I1),{storageKey:l}),global:R1},d=D1(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=z1(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new F_(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new P1(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new $_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gk({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:c,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new s1(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jk=(t,e,n)=>new Kk(t,e,n);function Qk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yk="https://fdlqyqeobwumyjuqgrpl.supabase.co",Xk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI",de=Jk(Yk,Xk);function Dt(){const t=localStorage.getItem("client_id");if(t)return t;const e=crypto.randomUUID();return localStorage.setItem("client_id",e),e}const vv="user_coins",wv="last_daily_at",xv="owned_skins",bv="equipped_skin";function Pe(){const t=localStorage.getItem(vv);return t?parseInt(t,10):0}function Ch(t){localStorage.setItem(vv,t.toString())}function On(t){const n=Pe()+t;return Ch(n),jv(),n}function Ph(t){const e=Pe();return e<t?!1:(Ch(e-t),jv(),!0)}function _v(){return localStorage.getItem(wv)}function kv(t){localStorage.setItem(wv,t)}function Sv(){const t=_v();if(!t)return!0;const e=new Date(t),n=new Date,r=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));return new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())).getTime()>r.getTime()}function Zk(){if(!Sv())return 0;const t=new Date,e=`${t.getUTCFullYear()}-${String(t.getUTCMonth()+1).padStart(2,"0")}-${String(t.getUTCDate()).padStart(2,"0")}`;return kv(e),On(50)}function eS(){const t=localStorage.getItem(xv);return t?JSON.parse(t):[]}function tS(t){localStorage.setItem(xv,JSON.stringify(t))}function nS(){return localStorage.getItem(bv)}async function jv(){try{const t=Dt(),e=Pe(),n=eS(),r=nS(),s=_v();await de.from("profiles").upsert({client_id:t,coins:e,owned_skins:n,equipped_skin:r,last_daily_at:s,current_world:1,current_level:1,worlds_completed:0,updated_at:new Date().toISOString()})}catch(t){console.error("[syncToSupabase] Error:",t)}}async function Ev(){try{const t=Dt(),{data:e,error:n}=await de.from("profiles").select("*").eq("client_id",t).maybeSingle();if(n){console.error("[loadFromSupabase] Error:",n);return}e&&(Ch(e.coins),tS(e.owned_skins||[]),e.equipped_skin&&localStorage.setItem(bv,e.equipped_skin),e.last_daily_at&&kv(e.last_daily_at))}catch(t){console.error("[loadFromSupabase] Exception:",t)}}const rS=[{id:"small",coins:500,price:1,priceLabel:"1"},{id:"medium",coins:2e3,price:2.5,priceLabel:"2,50",popular:!0,bonus:500},{id:"large",coins:1e4,price:6,priceLabel:"6",bonus:2e3}];function Cv({onClose:t}){const[e,n]=_.useState(null),[r,s]=_.useState(!1),[i,o]=_.useState(Pe());_.useEffect(()=>{const c=new URLSearchParams(window.location.search),d=c.get("payment"),h=c.get("coins");if(d==="success"&&h){On(parseInt(h,10)),o(Pe());const f=new URL(window.location.href);f.searchParams.delete("payment"),f.searchParams.delete("coins"),window.history.replaceState({},"",f.toString()),alert(`Pago exitoso! Se han aadido ${h} monedas a tu cuenta.`)}else if(d==="cancelled"){const f=new URL(window.location.href);f.searchParams.delete("payment"),window.history.replaceState({},"",f.toString())}},[]);const a=c=>{n(c)},l=async()=>{if(e){s(!0);try{console.log("=== INICIO DE COMPRA ==="),console.log("Paquete seleccionado:",e),console.log("URL:","https://fdlqyqeobwumyjuqgrpl.supabase.co"),console.log("Anon Key:","Presente"),console.log("========================");const c=await fetch("https://fdlqyqeobwumyjuqgrpl.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI","Content-Type":"application/json"},body:JSON.stringify({packageId:e.id,coins:e.coins+(e.bonus||0),price:Math.round(e.price*100)})}),d=await c.json();if(console.log("=== DIAGNSTICO DE PAGO ==="),console.log("Status:",c.status),console.log("Response:",d),console.log("==========================="),!c.ok){console.error("Error response:",d),alert(`Error: ${d.error||"Error al procesar el pago"}

Revisa la consola para ms detalles.`);return}d.url?window.location.href=d.url:alert("Error al procesar el pago. Por favor, intenta de nuevo.")}catch(c){console.error("Error al crear checkout:",c),alert("Error al conectar con el servidor de pagos.")}finally{s(!1)}}};return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 overflow-y-auto",children:[u.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-3xl p-6 max-w-2xl w-full shadow-2xl animate-scale-in relative my-auto max-h-[90vh] overflow-y-auto",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors",children:u.jsx(ts,{size:28})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"inline-block relative mb-4",children:[u.jsx("div",{className:"text-6xl",children:""}),u.jsx(cn,{className:"absolute -top-2 -right-2 text-yellow-500 animate-pulse",size:24})]}),u.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-2",children:"Tienda de Monedas"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Mejora tu experiencia con monedas adicionales"}),u.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-md",children:[u.jsx($t,{className:"text-yellow-500",size:20}),u.jsxs("span",{className:"font-bold text-gray-800",children:["Saldo actual: ",i]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:rS.map(c=>u.jsxs("button",{onClick:()=>a(c),className:`relative p-6 rounded-2xl transition-all transform ${(e==null?void 0:e.id)===c.id?"bg-gradient-to-br from-yellow-400 to-orange-500 scale-105 shadow-2xl":"bg-white hover:scale-105 shadow-lg"}`,children:[c.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"MS POPULAR"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:`text-5xl font-black ${(e==null?void 0:e.id)===c.id?"text-white":"text-yellow-500"}`,children:c.coins.toLocaleString()}),c.bonus&&u.jsxs("div",{className:`text-sm font-semibold ${(e==null?void 0:e.id)===c.id?"text-yellow-100":"text-green-600"}`,children:["+",c.bonus," BONUS"]})]}),u.jsxs("div",{className:`flex items-center justify-center gap-1 mb-2 ${(e==null?void 0:e.id)===c.id?"text-white":"text-gray-600"}`,children:[u.jsx($t,{size:20}),u.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]}),u.jsx("div",{className:`text-3xl font-black ${(e==null?void 0:e.id)===c.id?"text-white":"text-gray-800"}`,children:c.priceLabel}),(e==null?void 0:e.id)===c.id&&u.jsx("div",{className:"mt-3 text-white text-sm font-semibold",children:" Seleccionado"})]},c.id))}),u.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-4",children:[u.jsxs("h3",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[u.jsx(cn,{className:"text-yellow-500",size:20}),"Por qu comprar monedas?"]}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("li",{children:" Desbloquea skins exclusivos para tus cartas"}),u.jsx("li",{children:" Usa power-ups para ayuda adicional en niveles difciles"}),u.jsx("li",{children:" Personaliza tu experiencia de juego"}),u.jsx("li",{children:" Progresa ms rpido en tu aventura"})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:t,className:"px-6 py-4 rounded-2xl font-bold text-lg shadow-lg transition-all bg-gray-200 text-gray-700 hover:bg-gray-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(po,{size:20}),"Volver"]}),u.jsx("button",{onClick:l,disabled:!e||r,className:`flex-1 py-4 rounded-2xl font-black text-xl shadow-lg transition-all ${e&&!r?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:r?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Procesando..."]}):u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx(S_,{size:24}),e?`Pagar ${e.priceLabel}`:"Selecciona un paquete"]})})]}),u.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:"Pago seguro procesado por Stripe"})]}),u.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const Mp=["world-1","world-2","world-3","world-4","world-5","world-6","world-7","world-8","world-9","world-10"];async function sS(t){try{const e=Dt(),{data:n,error:r}=await de.from("world_progress").select("purchased, levels").eq("client_id",e).eq("world_id",t).maybeSingle();if(r)throw r;return n?{purchased:!!n.purchased,levels:n.levels||[]}:null}catch(e){return console.error("Error reading world from Supabase:",e),oS(t)}}async function iS(t,e){try{const n=Dt(),{error:r}=await de.from("world_progress").upsert({client_id:n,world_id:t,purchased:e.purchased,levels:e.levels,updated_at:new Date().toISOString()},{onConflict:"client_id,world_id"});if(r)throw r;Lp(t,e)}catch(n){console.error("Error writing world to Supabase:",n),Lp(t,e)}}function oS(t){const e=localStorage.getItem(`progress.${t}`);return e?JSON.parse(e):null}function Lp(t,e){localStorage.setItem(`progress.${t}`,JSON.stringify(e))}async function br(t){return await sS(t)}async function No(t,e){await iS(t,e)}async function Pv(t,e){var o;const n=await br(t);if(n&&((o=n.levels)==null?void 0:o.length)>=e)return;const r=(n==null?void 0:n.purchased)??t==="world-1",s=Array.from({length:e},(a,l)=>({unlocked:r&&l===0,completed:!1,stars:0}));await No(t,{purchased:r,levels:s})}async function Th(t){const e=await br(t);return!!(e!=null&&e.purchased)}async function Tv(t){const e=await br(t);return e?e.levels.length>0&&e.levels.every(n=>n.completed===!0):!1}async function aS(t){if(t==="world-1"||await Th(t))return!0;const e=Mp.indexOf(t);if(e<=0)return!0;const n=Mp[e-1];return await Tv(n)}async function Nv(t,e){const n=await br(t)??{purchased:!1,levels:[]};return n.purchased?{ok:!0}:Ph(e)?(n.purchased=!0,n.levels.length?n.levels[0].unlocked=!0:n.levels=[{unlocked:!0,completed:!1,stars:0}],await No(t,n),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function lS(t,e,n){if(e<1)return{ok:!1,reason:"Nivel invlido"};if(e===1)return{ok:!0};const r=await br(t);if(!r)return{ok:!1,reason:"Mundo no encontrado"};const s=e-1;if(s>=r.levels.length)return{ok:!1,reason:"Nivel inexistente"};const i=r.levels[s];return i.unlocked?{ok:!0}:Ph(n)?(i.unlocked=!0,await No(t,r),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function cS(t,e,n=0){const r=await br(t);if(!r)throw new Error("World not found");const s=e-1,i=r.levels[s];if(!i)throw new Error("Level not found");i.completed=!0,i.stars=Math.max(i.stars,Math.max(0,Math.min(3,n)));const o=r.levels[s+1];o&&!o.unlocked&&(o.unlocked=!0),await No(t,r)}async function uS(t){return await br(t)??{purchased:!1,levels:[]}}function dS(t){return`world-${Math.ceil(t/5)}`}function hS(t){return(t-1)%5+1}const fl={"world-1":0,"world-2":300,"world-3":500,"world-4":700,"world-5":1e3,"world-6":1500,"world-7":2e3,"world-8":2500,"world-9":3e3,"world-10":4e3},Ap=100;async function Rc(t){const e=`world-${t}`,n=await br(e),r={purchased:!0,levels:(n==null?void 0:n.levels)||[{unlocked:!0,completed:!1,stars:0}]};r.levels.length===0?r.levels=[{unlocked:!0,completed:!1,stars:0}]:r.levels[0].unlocked=!0,await No(e,r)}async function fS(){const t=[];for(let e=1;e<=10;e++){const n=`world-${e}`;await Th(n)&&t.push(e)}return t}const pS=[mh,fh,ph,gh,yh,f0,c0,l0,cn,a0],mS=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],gS=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}],yS=({onClose:t,onSkinChanged:e})=>{const[n,r]=_.useState(Pe()),[s,i]=_.useState({1:!0}),[o,a]=_.useState(!0),[l,c]=_.useState(null),[d,h]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const w={1:!0};for(let x=2;x<=10;x++){const g=await Th(`world-${x}`);w[x]=g}i(w)}catch(w){console.error("Error loading worlds:",w)}finally{a(!1)}})()},[]);const f=async y=>{if(l)return;const w=`world-${y}`,x=fl[w];if(n<x){alert("No tienes suficientes monedas");return}c(y);try{const g=await Nv(w,x);g.ok?(r(Pe()),i({...s,[y]:!0})):alert(g.reason)}catch(g){console.error("Error en compra:",g)}finally{c(null)}},p=Object.values(s).filter(Boolean).length;return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Tienda de Mundos"}),u.jsx("button",{type:"button",onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(ts,{size:24})})]}),u.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-3 mb-4",children:[u.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Desbloquea mundos para acceder a nuevos niveles y desafos."}),u.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Al comprar un mundo, solo se desbloquea el nivel 1. Los dems niveles se desbloquean jugando."})]}),u.jsxs("div",{className:"flex gap-3 mb-4",children:[u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx($t,{size:20,className:"text-white"}),u.jsx("span",{className:"text-xl font-bold text-white",children:n})]}),u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx(cn,{size:20,className:"text-white"}),u.jsxs("span",{className:"text-xl font-bold text-white",children:[p,"/10"]})]})]}),u.jsxs("button",{onClick:()=>h(!0),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold shadow-lg hover:scale-105 active:scale-95 transition-all mb-4 flex items-center justify-center gap-2",children:[u.jsx(h0,{size:20}),"Comprar Monedas"]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6,7,8,9,10].map(y=>{const w=s[y]??!1,x=pS[y-1],g=gS[y-1],m=`world-${y}`,v=fl[m];return u.jsx("div",{className:`border-2 rounded-xl p-4 transition-all ${w?"border-green-500 bg-green-50":"border-gray-200"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${g.from} ${g.to}`,children:u.jsx(x,{size:32,className:"text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsxs("h3",{className:"font-bold text-lg",children:["Mundo ",y]}),w&&u.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-0.5 rounded-full font-bold",children:"Desbloqueado"})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:mS[y-1]}),y===1&&u.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Gratis  5 niveles desbloqueados"}),y>1&&!w&&u.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Al comprar se desbloquea el nivel 1"}),!w&&y>1&&u.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[u.jsx($t,{size:16,className:"text-yellow-500"}),u.jsx("span",{className:"font-semibold",children:v})]}),u.jsx("div",{className:"mt-2",children:w?u.jsxs("div",{className:"text-sm text-green-600 font-semibold flex items-center gap-1",children:[u.jsx(s0,{size:16}),"Desbloqueado"]}):u.jsxs("button",{type:"button",onClick:()=>f(y),disabled:n<v||l===y,className:"bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[u.jsx(zl,{size:16}),l===y?"Comprando...":"Desbloquear"]})})]})]})},y)})})}),u.jsx("button",{type:"button",onClick:t,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]}),d&&u.jsx(Cv,{onClose:()=>{h(!1),r(Pe())}})]})},vS=({onClose:t})=>{const[e,n]=_.useState(!1),[r,s]=_.useState(!0),[i,o]=_.useState([]),[a,l]=_.useState(!0),[c,d]=_.useState(""),[h,f]=_.useState(""),p="admin2024";_.useEffect(()=>{y()},[]);const y=async()=>{try{const k=Dt(),{data:j,error:S}=await de.from("profiles").select("is_admin").eq("client_id",k).maybeSingle();!S&&(j!=null&&j.is_admin)&&n(!0)}catch(k){console.error("Error checking admin status:",k)}finally{s(!1)}},w=async()=>{const k=await fS();o(k)},x=()=>{c===p?(l(!1),w(),f("")):(f("Contrasea incorrecta"),d(""))},g=async k=>{i.includes(k)?await m(k):await Rc(k),await w()},m=async k=>{const j=Dt();await de.from("world_progress").delete().eq("client_id",j).eq("world_id",`world-${k}`)},v=async()=>{for(let k=1;k<=10;k++)await Rc(k);await w()},b=async()=>{const k=Dt();await de.from("world_progress").delete().eq("client_id",k),await Rc(1),await w()};return r?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:u.jsx("div",{className:"text-center",children:"Verificando permisos..."})})}):e?a?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Contrasea Admin"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(ts,{size:20})})]}),u.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-4",children:u.jsx("p",{className:"text-sm text-yellow-800",children:" Ingresa la contrasea de administrador para acceder al panel"})}),u.jsx("input",{type:"password",value:c,onChange:k=>d(k.target.value),onKeyPress:k=>k.key==="Enter"&&x(),placeholder:"Contrasea",className:"w-full px-4 py-3 border border-gray-300 rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),h&&u.jsx("p",{className:"text-sm text-red-600 mb-4",children:h}),u.jsx("button",{onClick:x,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Acceder"})]})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Panel Admin"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(ts,{size:20})})]}),u.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-4 mb-4",children:[u.jsx("div",{className:"text-sm font-semibold text-purple-800 mb-2",children:"Gestionar Mundos"}),u.jsx("p",{className:"text-xs text-purple-600",children:"Toca un mundo para bloquearlo/desbloquearlo"})]}),u.jsx("div",{className:"space-y-2 mb-4",children:[1,2,3,4,5,6,7,8,9,10].map(k=>{const j=i.includes(k);return u.jsxs("button",{onClick:()=>g(k),className:`w-full flex items-center justify-between p-3 rounded-xl font-semibold transition-all ${j?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[u.jsxs("span",{children:["Mundo ",k]}),j?u.jsx(N_,{size:18,className:"text-green-600"}):u.jsx(zl,{size:18,className:"text-red-600"})]},k)})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:v,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Desbloquear Todos"}),u.jsx("button",{onClick:b,className:"bg-gradient-to-r from-red-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Bloquear Todos"})]})]})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Acceso Denegado"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"No tienes permisos de administrador"}),u.jsx("button",{onClick:t,className:"w-full bg-gray-200 text-gray-800 py-3 rounded-xl font-bold hover:bg-gray-300 transition-colors",children:"Cerrar"})]})})})},zp={zap:{name:"Electric Zap",url:"/sounds/zap.wav",volume:.6},flipPop:{name:"Card Flip",url:"/sounds/flip_pop.wav",volume:.4},countdownClick:{name:"Countdown Tick",url:"/sounds/countdown_click.wav",volume:.5},confetti:{name:"Victory Confetti",url:"/sounds/confetti.wav",volume:.7},loop:{name:"Background Loop",url:"/sounds/loop_150bpm.wav",volume:.3}};let wS=class{constructor(){vt(this,"sounds",new Map);vt(this,"enabled",!0);vt(this,"bgmLoop",null);this.preloadSounds()}preloadSounds(){Object.entries(zp).forEach(([e,n])=>{try{const r=new Audio(n.url);r.volume=n.volume||.5,r.preload="auto",this.sounds.set(e,r)}catch(r){console.warn(`Failed to preload sound: ${n.name}`,r)}})}play(e){if(!this.enabled)return;const n=this.sounds.get(e);if(n)try{n.currentTime=0,n.play().catch(r=>{console.warn(`Failed to play sound: ${e}`,r)})}catch(r){console.warn(`Error playing sound: ${e}`,r)}}playZap(){this.play("zap")}playFlipPop(){this.play("flipPop")}playCountdownClick(){this.play("countdownClick")}playConfetti(){this.play("confetti")}startBackgroundLoop(){if(!this.enabled)return;const e=this.sounds.get("loop");if(e&&!this.bgmLoop)try{e.loop=!0,e.volume=.2,e.play().catch(n=>{console.warn("Failed to play background loop",n)}),this.bgmLoop=e}catch(n){console.warn("Error starting background loop",n)}}stopBackgroundLoop(){if(this.bgmLoop)try{this.bgmLoop.pause(),this.bgmLoop.currentTime=0,this.bgmLoop=null}catch(e){console.warn("Error stopping background loop",e)}}setEnabled(e){this.enabled=e,e||this.stopBackgroundLoop()}isEnabled(){return this.enabled}setVolume(e,n){const r=this.sounds.get(e);r&&(r.volume=Math.max(0,Math.min(1,n)))}setMasterVolume(e){const n=Math.max(0,Math.min(1,e));this.sounds.forEach(r=>{const s=Object.entries(zp).find(([,i])=>i.url===r.src.split("/").pop());s&&(r.volume=(s[1].volume||.5)*n)})}};const Nh=new wS,xS=()=>Nh.playZap(),bS=()=>Nh.playFlipPop(),_S=()=>Nh.playConfetti();class kS{constructor(){vt(this,"startMusicTrack",null);vt(this,"currentLevelTrack",null);vt(this,"levelTracks",new Map);vt(this,"matchSfx",null);vt(this,"winSfx",null);vt(this,"loseSfx",null);vt(this,"muted",!1);vt(this,"masterVolume",1);vt(this,"userInteracted",!1);this.loadSettings(),this.preloadAudio(),this.setupUserInteractionListener()}loadSettings(){try{const e=localStorage.getItem("sound.muted"),n=localStorage.getItem("sound.volume");if(e!==null&&(this.muted=e==="true"),n!==null){const r=parseFloat(n);isNaN(r)||(this.masterVolume=Math.max(0,Math.min(1,r)))}}catch(e){console.warn("Error loading sound settings:",e)}}saveSettings(){try{localStorage.setItem("sound.muted",String(this.muted)),localStorage.setItem("sound.volume",String(this.masterVolume))}catch(e){console.warn("Error saving sound settings:",e)}}setupUserInteractionListener(){const e=()=>{this.userInteracted=!0,document.removeEventListener("click",e),document.removeEventListener("keypress",e),document.removeEventListener("touchstart",e)};document.addEventListener("click",e,{once:!0}),document.addEventListener("keypress",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}preloadAudio(){try{this.startMusicTrack=new Audio("/audio/start_theme.mp3"),this.startMusicTrack.loop=!0,this.startMusicTrack.preload="auto";for(let e=1;e<=10;e++){const n=new Audio(`/audio/level_${e}.mp3`);n.loop=!0,n.preload="auto",this.levelTracks.set(e,n)}this.matchSfx=new Audio("/audio/match.wav"),this.matchSfx.preload="auto",this.winSfx=new Audio("/audio/win.wav"),this.winSfx.preload="auto",this.loseSfx=new Audio("/audio/lose.wav"),this.loseSfx.preload="auto",this.applyVolume()}catch(e){console.warn("Error preloading audio:",e)}}applyVolume(){const e=this.muted?0:this.masterVolume;this.startMusicTrack&&(this.startMusicTrack.volume=e),this.levelTracks.forEach(n=>{n.volume=e}),this.matchSfx&&(this.matchSfx.volume=e),this.winSfx&&(this.winSfx.volume=e),this.loseSfx&&(this.loseSfx.volume=e)}async crossFade(e,n){const o=this.muted?0:this.masterVolume;for(let a=20;a>=0;a--)e.volume=a/20*o,await new Promise(l=>setTimeout(l,15));e.pause(),e.currentTime=0,n.volume=0;try{await n.play();for(let a=0;a<=20;a++)n.volume=a/20*o,await new Promise(l=>setTimeout(l,15))}catch(a){console.warn("Error during crossfade:",a)}}async playSafely(e){if(!this.userInteracted){console.warn("Cannot play audio before user interaction");return}try{e.currentTime=0,await e.play()}catch(n){console.warn("Error playing audio:",n)}}playStartMusic(){if(!(!this.startMusicTrack||!this.userInteracted))try{this.playSafely(this.startMusicTrack)}catch(e){console.warn("Error playing start music:",e)}}stopStartMusic(){if(this.startMusicTrack)try{this.startMusicTrack.pause(),this.startMusicTrack.currentTime=0}catch(e){console.warn("Error stopping start music:",e)}}playLevelMusic(e){if(!this.userInteracted)return;const n=this.levelTracks.get(e);if(!n){console.warn(`Level ${e} music not found`);return}try{this.currentLevelTrack&&!this.currentLevelTrack.paused?this.crossFade(this.currentLevelTrack,n):(n.volume=this.muted?0:this.masterVolume,this.playSafely(n)),this.currentLevelTrack=n}catch(r){console.warn(`Error playing level ${e} music:`,r)}}stopLevelMusic(){try{this.currentLevelTrack&&(this.currentLevelTrack.pause(),this.currentLevelTrack.currentTime=0,this.currentLevelTrack=null),this.levelTracks.forEach(e=>{e.paused||(e.pause(),e.currentTime=0)})}catch(e){console.warn("Error stopping level music:",e)}}playMatch(){!this.matchSfx||!this.userInteracted||this.playSafely(this.matchSfx)}playWin(){!this.winSfx||!this.userInteracted||this.playSafely(this.winSfx)}playLose(){!this.loseSfx||!this.userInteracted||this.playSafely(this.loseSfx)}mute(){this.muted=!0,this.applyVolume(),this.saveSettings()}unmute(){this.muted=!1,this.applyVolume(),this.saveSettings()}toggleMute(){this.muted?this.unmute():this.mute()}isMuted(){return this.muted}setMasterVolume(e){this.masterVolume=Math.max(0,Math.min(1,e)),this.applyVolume(),this.saveSettings()}getMasterVolume(){return this.masterVolume}}const ge=new kS,SS=({onStartGame:t,onStartDailyChallenge:e,onStartDuel:n})=>{const[r,s]=_.useState(!1),[i,o]=_.useState(!1),[a,l]=_.useState(0),[c,d]=_.useState(!1),h=_.useRef(!1),f=_.useRef(0),p=_.useRef(null);_.useEffect(()=>{Ev().then(()=>{l(Pe()),Sv()&&d(!0)}),h.current||(setTimeout(()=>{xS(),ge.playStartMusic()},300),h.current=!0)},[]);const y=()=>{const g=Zk();l(g),d(!1)},w=()=>{s(!1),l(Pe())},x=()=>{f.current+=1,p.current&&clearTimeout(p.current),f.current>=7?(o(!0),f.current=0):p.current=window.setTimeout(()=>{f.current=0},1500)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:[u.jsx("div",{className:"fixed top-0 left-0 w-32 h-32 z-40",onClick:x}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("img",{src:"/twinlogo.png",alt:"Twin Clash",style:{width:"75%",maxWidth:"420px",margin:"0 auto"}})}),u.jsx("p",{className:"text-center text-gray-600 mb-6 text-sm font-medium",children:"Encuentra todas las parejas antes de que se acabe el tiempo"}),u.jsxs("div",{className:"flex gap-3 mb-6",children:[u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx($t,{size:20,className:"text-white"}),u.jsx("span",{className:"text-lg font-bold text-white",children:a})]}),u.jsxs("button",{type:"button",onClick:()=>s(!0),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-3 flex items-center justify-center gap-2 hover:shadow-lg transition-all cursor-pointer",children:[u.jsx(h0,{size:20,className:"text-white"}),u.jsx("span",{className:"text-sm font-bold text-white",children:"Tienda"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105",children:" Jugar"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"button",onClick:e,className:"flex-1 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-xl p-3 font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[u.jsx(k_,{size:20}),u.jsx("span",{className:"text-sm",children:"Reto Diario"})]}),u.jsxs("button",{type:"button",onClick:n,className:"flex-1 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-xl p-3 font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[u.jsx(T_,{size:20}),u.jsx("span",{className:"text-sm",children:"Duelo 1v1"})]})]})]})]}),r&&u.jsx(yS,{onClose:w,onSkinChanged:()=>{}}),i&&u.jsx(vS,{onClose:()=>o(!1)}),c&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:u.jsx(j_,{size:64,className:"mx-auto text-yellow-500"})}),u.jsx("h3",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"Recompensa Diaria!"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Reclama tus monedas gratis"}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx($t,{size:32,className:"text-white"}),u.jsx("span",{className:"text-4xl font-bold text-white",children:"+50"})]})}),u.jsx("button",{type:"button",onClick:y,className:"w-full bg-gradient-to-r from-yellow-500 to-amber-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reclamar"})]})})]})},Rv=[{id:"default",name:"Clsico",price:0,cardBackColor:"bg-gradient-to-br from-blue-400 to-blue-600",cardBorderColor:"border-blue-300",description:"El diseo original"},{id:"gold",name:"Dorado",price:100,cardBackColor:"bg-gradient-to-br from-yellow-400 to-amber-600",cardBorderColor:"border-yellow-300",description:"Lujo y elegancia"},{id:"emerald",name:"Esmeralda",price:150,cardBackColor:"bg-gradient-to-br from-green-400 to-emerald-600",cardBorderColor:"border-green-300",description:"Naturaleza y frescura"},{id:"ruby",name:"Rub",price:180,cardBackColor:"bg-gradient-to-br from-red-400 to-rose-600",cardBorderColor:"border-red-300",description:"Pasin y energa"},{id:"midnight",name:"Medianoche",price:220,cardBackColor:"bg-gradient-to-br from-indigo-600 to-purple-800",cardBorderColor:"border-indigo-400",description:"Misterio nocturno"}];function jS(t){return Rv.find(e=>e.id===t)}function $p(){return Rv[0]}async function ES(){const t=Dt(),{data:e,error:n}=await de.from("user_themes").select("owned_themes, equipped_theme").eq("client_id",t).maybeSingle();if(n)return console.error("Error fetching themes:",n),{owned_themes:["default"],equipped_theme:"default"};if(!e){const{data:r,error:s}=await de.from("user_themes").upsert({client_id:t,owned_themes:["default"],equipped_theme:"default"},{onConflict:"client_id"}).select("owned_themes, equipped_theme").maybeSingle();return s&&console.error("Error upserting themes:",s),r||{owned_themes:["default"],equipped_theme:"default"}}return e}async function CS(){return(await ES()).equipped_theme||"default"}const PS=({card:t,isBreaking:e=!1})=>{const[n,r]=_.useState(!1),[s,i]=_.useState(!1),[o,a]=_.useState(t.obstacleHealth);_.useEffect(()=>{o!==void 0&&o>0&&(t.obstacleHealth??0)<=0&&(t.obstacle==="ice"?(r(!0),setTimeout(()=>r(!1),500)):t.obstacle==="stone"&&(i(!0),setTimeout(()=>i(!1),600))),a(t.obstacleHealth)},[t.obstacle,t.obstacleHealth,o]);const l=t.obstacle&&(t.obstacleHealth??0)>0;if(!l&&!n&&!s)return null;if(t.obstacle==="ice"||n)return u.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[l&&t.obstacle==="ice"&&u.jsxs("div",{className:`absolute inset-0 rounded-xl ice-overlay ${n?"ice-breaking":""}`,children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-200/80 via-sky-300/80 to-sky-400/80 backdrop-blur-sm border-2 border-cyan-100/80 rounded-xl"}),u.jsxs("div",{className:"absolute inset-0 rounded-xl overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/40 to-transparent"}),u.jsx("div",{className:"absolute top-1/4 left-0 w-1/3 h-1/3 bg-white/20 blur-xl rounded-full"})]}),u.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full animate-ping opacity-60"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-5xl animate-pulse",children:""})})]}),n&&u.jsx("div",{className:"absolute inset-0",children:[0,1,2,3,4].map(c=>u.jsx("div",{className:"ice-particle",style:{left:"50%",top:"50%","--angle":`${c*72}deg`}},c))})]});if(t.obstacle==="stone"||s){const c=t.obstacleHealth??0;return u.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[l&&t.obstacle==="stone"&&u.jsxs("div",{className:`absolute inset-0 rounded-xl ${s?"rock-breaking":""}`,children:[c===2&&u.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 50%, #4b5563 100%)",boxShadow:"inset 0 3px 10px rgba(255,255,255,0.4), inset 0 -6px 16px rgba(0,0,0,0.6), 0 8px 24px rgba(0,0,0,0.5)",border:"4px solid #52525b"},children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-slate-600/80 to-transparent"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-gradient-to-t from-slate-800/80 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-slate-600/80 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-slate-600/80 to-transparent"})]}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("path",{d:"M 8 8 L 15 12 L 12 18",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 8 8 L 12 15 L 18 12",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 8 L 85 12 L 88 18",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 8 L 88 15 L 82 12",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 8 92 L 15 88 L 12 82",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 8 92 L 12 85 L 18 88",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 92 L 85 88 L 88 82",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 92 L 88 85 L 82 88",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 35 5 L 38 10",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M 65 5 L 62 10",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M 5 35 L 10 38",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M 5 65 L 10 62",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),u.jsx("div",{className:"absolute inset-8 bg-gradient-to-br from-slate-300/30 to-transparent rounded-lg"}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-40",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("ellipse",{cx:"70",cy:"65",rx:"8",ry:"6",fill:"rgba(0,0,0,0.3)"}),u.jsx("ellipse",{cx:"30",cy:"55",rx:"6",ry:"5",fill:"rgba(0,0,0,0.25)"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-5xl filter drop-shadow-lg",children:""})}),u.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 bg-gradient-to-br from-slate-500 to-slate-700 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-xl border-2 border-slate-300",children:"2"})]}),c===1&&u.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #cbd5e1 0%, #94a3b8 50%, #64748b 100%)",boxShadow:"inset 0 2px 8px rgba(255,255,255,0.5), inset 0 -4px 12px rgba(0,0,0,0.5), 0 6px 20px rgba(0,0,0,0.4)",border:"4px solid #71717a"},children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-slate-400/70 to-transparent"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-gradient-to-t from-slate-700/70 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-slate-400/70 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-slate-400/70 to-transparent"})]}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("path",{d:"M 5 5 L 18 15 L 12 25",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 5 5 L 15 18 L 25 12",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 5 L 82 15 L 88 25",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 5 L 85 18 L 75 12",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 5 95 L 18 85 L 12 75",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 5 95 L 15 82 L 25 88",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 95 L 82 85 L 88 75",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 95 L 85 82 L 75 88",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 30 20 L 40 35 L 35 50",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 70 30 L 60 45 L 65 60",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 45 55 L 50 70 L 55 85",stroke:"rgba(255,255,255,0.6)",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),u.jsx("div",{className:"absolute inset-10 bg-gradient-to-br from-slate-200/40 to-transparent rounded-lg"}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-30",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("ellipse",{cx:"65",cy:"60",rx:"7",ry:"5",fill:"rgba(0,0,0,0.25)"}),u.jsx("ellipse",{cx:"35",cy:"50",rx:"5",ry:"4",fill:"rgba(0,0,0,0.2)"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-5xl opacity-80 filter drop-shadow-md",children:""})}),u.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 bg-gradient-to-br from-slate-400 to-slate-600 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg border-2 border-slate-200",children:"1"})]})]}),s&&u.jsx("div",{className:"absolute inset-0",children:[0,1,2,3,4].map(d=>u.jsx("div",{className:"rock-particle",style:{left:"50%",top:"50%","--angle":`${d*72}deg`}},d))})]})}return null},Ov=({card:t,image:e,onClick:n,disabled:r,showHint:s=!1,isBreaking:i=!1})=>{const[o,a]=_.useState($p());_.useEffect(()=>{const c=async()=>{const h=await CS(),f=jS(h)||$p();a(f)};c();const d=()=>{c()};return window.addEventListener("themeChanged",d),()=>window.removeEventListener("themeChanged",d)},[]);const l=()=>{!r&&!t.isFlipped&&!t.isMatched&&(bS(),n(t.id))};return t.obstacle&&(t.obstacleHealth??0)>0,u.jsx("div",{className:"relative aspect-square cursor-pointer perspective-1000",onClick:l,children:u.jsxs("div",{className:`relative w-full h-full transition-transform duration-500 transform-style-3d ${t.isFlipped||t.isMatched?"rotate-y-180":""}`,children:[u.jsxs("div",{className:"absolute w-full h-full backface-hidden",children:[u.jsx("div",{className:`w-full h-full ${o.cardBackColor} rounded-xl shadow-lg flex items-center justify-center border-4 ${o.cardBorderColor} relative overflow-hidden ${s?"hint-pulse":""}`,children:u.jsx("div",{className:"text-4xl text-white font-bold",children:"?"})}),u.jsx(PS,{card:t,isBreaking:i})]}),u.jsx("div",{className:"absolute w-full h-full backface-hidden rotate-y-180",children:u.jsx("div",{className:`w-full h-full bg-white rounded-xl shadow-lg flex items-center justify-center border-4 ${o.cardBorderColor} overflow-hidden`,children:u.jsx("div",{className:"text-6xl",children:e})})})]})})};function Iv(){return typeof window>"u"?null:new URLSearchParams(window.location.search).get("crew")}function TS(t){if(typeof window>"u")return;const e=new URL(window.location.href);e.searchParams.set("crew",t),window.history.replaceState({},"",e.toString())}async function NS(t){try{const{data:e,error:n}=await de.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);return n?(console.error("[checkIfPioneer] Error:",n),!1):((e==null?void 0:e.length)??0)===0}catch(e){return console.error("[checkIfPioneer] Exception:",e),!1}}async function RS(t){try{const{data:e,error:n}=await de.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);if(n){console.error("[seedBotsIfEmpty] Error checking:",n);return}if(((e==null?void 0:e.length)??0)>0)return;const s=[23e3,27e3,31e3,35e3,4e4].map((o,a)=>({seed:t,time_ms:o,moves:10+a,client_id:`bot-${t}-${a}`,display_name:`CPU Kiwi #${a+1}`,is_bot:!0})),{error:i}=await de.from("scores").insert(s);i&&console.error("[seedBotsIfEmpty] Error inserting bots:",i)}catch(e){console.error("[seedBotsIfEmpty] Exception:",e)}}async function OS({seed:t,timeMs:e,moves:n,crewId:r=null,displayName:s=null,levelId:i=null}){try{const o=await NS(t),a=Dt(),l=Math.floor(1e4/(e/1e3+n)),{error:c}=await de.from("scores").insert({seed:t,time_ms:e,moves:n,client_id:a,crew_id:r,display_name:s,is_bot:!1,level_id:i,score:l});return c?(console.error("[submitScoreAndReward] Error:",c),{success:!1,isPioneer:!1}):(o&&On(20),{success:!0,isPioneer:o})}catch(o){return console.error("[submitScoreAndReward] Exception:",o),{success:!1,isPioneer:!1}}}async function IS({seed:t,limit:e=20}){try{await RS(t);const{data:n,error:r}=await de.from("scores").select("*").eq("seed",t).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(e);return r?(console.error("[getTop] Error:",r),[]):n||[]}catch(n){return console.error("[getTop] Exception:",n),[]}}async function MS({seed:t,crewId:e,limit:n=20}){try{if(!e)return[];const{data:r,error:s}=await de.from("scores").select("*").eq("seed",t).eq("crew_id",e).eq("is_bot",!1).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(n);return s?(console.error("[getCrewTop] Error:",s),[]):r||[]}catch(r){return console.error("[getCrewTop] Exception:",r),[]}}const LS=({seed:t,onClose:e,onPlayNow:n})=>{const[r,s]=_.useState([]),[i,o]=_.useState([]),[a,l]=_.useState(!0),[c,d]=_.useState(!1),h=Dt(),f=Iv();_.useEffect(()=>{(async()=>{l(!0);const x=await IS({seed:t,limit:20});if(s(x),f){const g=await MS({seed:t,crewId:f,limit:20});o(g)}l(!1)})()},[t,f]);const p=c&&f?i:r,y=r.some(w=>!w.is_bot);return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Rn,{className:"text-yellow-500",size:28}),c?"Top Amigos":"Top Diario"]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(ts,{size:24})})]}),u.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Reto: ",t]}),f&&u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsxs("button",{onClick:()=>d(!1),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${c?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-yellow-500 text-white"}`,children:[u.jsx(Rn,{size:16,className:"inline mr-1"}),"Global"]}),u.jsxs("button",{onClick:()=>d(!0),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${c?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Gu,{size:16,className:"inline mr-1"}),"Amigos"]})]}),a?u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"text-gray-500",children:"Cargando..."})}):p.length===0?u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center p-6",children:[u.jsx(Rn,{size:64,className:"mx-auto mb-4 text-gray-300"}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:c?"Sin marcas de amigos":"Sin marcas para hoy"}),u.jsx("p",{className:"text-gray-600 mb-4",children:c?"Comparte el enlace con tu crew para competir juntos":"S el primero y desbloquea la medalla Pionero! (+20 monedas)"}),n&&!c&&u.jsx("button",{onClick:()=>{e(),n()},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Jugar ahora"})]})}):u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!y&&!c&&u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[u.jsx(cn,{size:16}),u.jsx("span",{className:"font-semibold",children:"Marcas de prueba"})]}),u.jsx("p",{className:"text-blue-600 text-xs",children:"S el primero en jugar hoy y gana +20 monedas con la medalla Pionero!"})]}),u.jsx("div",{className:"space-y-2",children:p.map((w,x)=>{const g=w.client_id===h,m=w.is_bot,v=x+1,b=v===1?"text-yellow-500":v===2?"text-gray-400":v===3?"text-amber-600":"text-gray-400";return u.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${g?"bg-blue-50 border-2 border-blue-300":m?"bg-gray-50 opacity-75":"bg-gray-50"}`,children:[u.jsx("div",{className:`text-2xl font-bold ${b} w-8 text-center`,children:v<=3?u.jsx(Rn,{size:24,className:"inline"}):v}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[m&&u.jsx("span",{className:"text-xs",children:""}),w.display_name&&u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:w.display_name}),m&&u.jsx("span",{className:"text-xs text-gray-500",children:"(Prueba)"})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(i0,{size:14,className:"text-blue-500"}),u.jsxs("span",{className:"font-semibold",children:[(w.time_ms/1e3).toFixed(1),"s"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(C_,{size:14,className:"text-purple-500"}),u.jsx("span",{className:"font-semibold",children:w.moves})]})]}),g&&u.jsx("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:"T!"})]}),!m&&u.jsx("div",{className:"text-xs text-gray-400",children:new Date(w.created_at).toLocaleTimeString("es",{hour:"2-digit",minute:"2-digit"})})]},w.id)})})]}),u.jsx("button",{onClick:e,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]})})};function AS({onPowerUpUsed:t,disabled:e}){const[n,r]=_.useState(Pe()),[s,i]=_.useState(null),o=(c,d)=>{i(c)},a=(c,d)=>{Ph(d)?(r(Pe()),t(c),i(null)):alert("No tienes suficientes monedas!")},l=()=>{i(null)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-2 justify-center",children:[u.jsxs("button",{onClick:()=>o(20),disabled:e||n<100,className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm shadow-lg transition-all ${e||n<100?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95"}`,children:[u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(R_,{size:16}),u.jsx("span",{children:"20%"})]}),u.jsxs("div",{className:"text-xs flex items-center justify-center gap-1 mt-1",children:[u.jsx($t,{size:12}),u.jsx("span",{children:"100"})]})]}),u.jsxs("button",{onClick:()=>o(40),disabled:e||n<200,className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm shadow-lg transition-all ${e||n<200?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-600 text-white hover:scale-105 active:scale-95"}`,children:[u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(cn,{size:16}),u.jsx("span",{children:"40%"})]}),u.jsxs("div",{className:"text-xs flex items-center justify-center gap-1 mt-1",children:[u.jsx($t,{size:12}),u.jsx("span",{children:"200"})]})]})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full text-center shadow-2xl animate-scale-in",children:[u.jsx("div",{className:"text-6xl mb-4",children:s===20?"":""}),u.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Revelar ",s,"% de Parejas"]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Esta ayuda revelar automticamente algunas parejas de cartas"}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-3 mb-6",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[u.jsx($t,{size:24}),u.jsx("span",{className:"text-2xl font-black",children:s===20?"100":"200"}),u.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:l,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-bold hover:bg-gray-600 transition-colors",children:"Cancelar"}),u.jsx("button",{onClick:()=>a(s,s===20?100:200),className:`flex-1 py-3 rounded-xl font-bold text-white transition-all ${s===20?"bg-gradient-to-r from-green-500 to-emerald-600 hover:scale-105":"bg-gradient-to-r from-yellow-500 to-orange-600 hover:scale-105"}`,children:"Confirmar"})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Tu saldo actual: ",n," monedas"]})]})}),u.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const zS=({open:t,onStay:e,onExit:n})=>{const r=_.useRef(null);return _.useEffect(()=>{var s;t&&((s=r.current)==null||s.focus())},[t]),_.useEffect(()=>{if(!t)return;const s=i=>{i.key==="Escape"&&(i.preventDefault(),e())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e]),t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Quieres salir del nivel?"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{ref:r,type:"button",onClick:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Seguir Jugando"}),u.jsx("button",{type:"button",onClick:n,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"})]})]})}):null},$S=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(!1),[s,i]=_.useState(1),o=_.useRef(null);_.useEffect(()=>{const c=localStorage.getItem("sound.muted"),d=localStorage.getItem("sound.volume"),h=c==="true",f=d?Math.max(0,Math.min(1,parseFloat(d))):1;r(h),i(f);try{h?ge.mute():ge.unmute(),ge.setMasterVolume(f)}catch(p){console.error("Error initializing sound:",p)}},[]),_.useEffect(()=>{if(!t)return;const c=d=>{o.current&&!o.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[t]);const a=()=>{const c=!n;r(c),localStorage.setItem("sound.muted",c?"true":"false");try{c?ge.mute():ge.unmute()}catch(d){console.error("Error toggling sound:",d)}},l=c=>{const d=Number(c.target.value)/100;i(d),localStorage.setItem("sound.volume",String(d));try{ge.setMasterVolume(d)}catch(h){console.error("Error setting volume:",h)}};return u.jsxs("div",{className:"relative select-none",ref:o,children:[u.jsx("button",{type:"button","aria-label":"Ajustes de sonido",onClick:()=>e(c=>!c),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(P_,{size:20,className:"text-gray-700"})}),t&&u.jsxs("div",{className:"absolute right-0 mt-2 rounded-xl shadow-2xl bg-white p-4 z-50 min-w-[200px]",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Sonido"}),u.jsx("button",{type:"button",onClick:a,className:`px-3 py-1 rounded-lg text-sm font-semibold transition-colors ${n?"bg-gray-200 text-gray-600":"bg-green-500 text-white"}`,children:n?"OFF":"ON"})]}),u.jsxs("div",{className:"mt-2",children:[u.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Volumen: ",Math.round(s*100),"%"]}),u.jsx("input",{type:"range",min:0,max:100,value:Math.round(s*100),onChange:l,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500",disabled:n})]})]})]})},DS=({open:t,onClose:e,shareText:n,shareUrl:r})=>{const[s,i]=_.useState(!1);if(!t)return null;const o=async()=>{try{await navigator.clipboard.writeText(`${n}
${r}`),i(!0),setTimeout(()=>i(!1),2e3)}catch(h){console.error("Error copying to clipboard:",h)}},a=()=>{const h=`https://wa.me/?text=${encodeURIComponent(`${n}
${r}`)}`;window.open(h,"_blank")},l=()=>{window.open("https://www.tiktok.com/","_blank")},c=()=>{window.open("https://www.instagram.com/","_blank")},d=async()=>{if(navigator.share)try{await navigator.share({title:"TwinClash",text:n,url:r}),e()}catch(h){console.error("Error sharing:",h)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Compartir"}),u.jsx("button",{type:"button",onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(ts,{size:24})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("button",{type:"button",onClick:a,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-green-500 flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"WhatsApp"})]}),u.jsxs("button",{type:"button",onClick:c,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Instagram"})]}),u.jsxs("button",{type:"button",onClick:l,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-black flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"TikTok"})]})]}),u.jsx("button",{type:"button",onClick:o,className:"w-full bg-blue-500 text-white py-4 rounded-xl font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 mb-3",children:s?u.jsxs(u.Fragment,{children:[u.jsx(s0,{size:20}),"Copiado!"]}):u.jsxs(u.Fragment,{children:[u.jsx(o0,{size:20}),"Copiar enlace"]})}),navigator.share&&u.jsx("button",{type:"button",onClick:d,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Ms opciones..."})]})})},qi="generated",US="pointerdown",FS="pointerup",Dp="pointerleave",BS="pointerout",Up="pointermove",VS="touchstart",Fp="touchend",qS="touchmove",WS="touchcancel",HS="resize",GS="visibilitychange",ns="tsParticles - Error";let ad=class fn{constructor(e,n,r){if(this._updateFromAngle=(s,i)=>{this.x=Math.cos(s)*i,this.y=Math.sin(s)*i},!on(e)&&e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=r??0;else throw new Error(`${ns} Vector3d not initialized correctly`)}static get origin(){return fn.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return fn.create(e.x,e.y,e.z)}static create(e,n,r){return new fn(e,n,r)}add(e){return fn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return fn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return fn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return fn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return fn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return fn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}},Mv=class Ia extends ad{constructor(e,n){super(e,n,0)}static get origin(){return Ia.create(0,0)}static clone(e){return Ia.create(e.x,e.y)}static create(e,n){return new Ia(e,n)}},KS=Math.random;function Un(){return Lv(KS(),0,1-1e-16)}function Lv(t,e,n){return Math.min(Math.max(t,e),n)}function qs(t){const e=Oh(t);let n=Rh(t);return e===n&&(n=0),Un()*(e-n)+n}function se(t){return on(t)?t:qs(t)}function Rh(t){return on(t)?t:t.min}function Oh(t){return on(t)?t:t.max}function K(t,e){if(t===e||e===void 0&&on(t))return t;const n=Rh(t),r=Oh(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(r,e)}:K(n,r)}function JS(t){const e=t.random,{enable:n,minimumValue:r}=hr(e)?{enable:e,minimumValue:0}:e;return se(n?K(t.value,r):t.value)}function QS(t,e){const n=t.x-e.x,r=t.y-e.y;return{dx:n,dy:r,distance:Math.sqrt(n**2+r**2)}}function Ih(t,e){return QS(t,e).distance}function YS(t,e,n){if(on(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return Un()*Math.PI*2}}function XS(t){const e=Mv.origin;return e.length=1,e.angle=t,e}function ZS(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Un()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Un()*t.size.height}}function Av(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const e2={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function vo(){return e2}function Ul(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function t2(){return!Ul()&&typeof matchMedia<"u"}function zv(t){if(t2())return matchMedia(t)}function n2(t){if(!(Ul()||typeof MutationObserver>"u"))return new MutationObserver(t)}function r2(t,e){return t===e||_n(e)&&e.indexOf(t)>-1}function s2(t){return Math.floor(Un()*t.length)}function Mh(t,e,n=!0){return t[e!==void 0&&n?e%t.length:s2(t)]}function Qe(t,...e){for(const n of e){if(n==null)continue;if(!Ri(n)){t=n;continue}const r=Array.isArray(n);r&&(Ri(t)||!t||!Array.isArray(t))?t=[]:!r&&(Ri(t)||!t||Array.isArray(t))&&(t={});for(const s in n){if(s==="__proto__")continue;const i=n,o=i[s],a=t;a[s]=Ri(o)&&Array.isArray(o)?o.map(l=>Qe(a[s],l)):Qe(a[s],o)}}return t}function rs(t,e){return _n(t)?t.map((n,r)=>e(n,r)):e(t,0)}function Wi(t,e,n){return _n(t)?Mh(t,e,n):t}function i2(t,e){const n=t.value,r=t.animation,s={delayTime:se(r.delay)*1e3,enable:r.enable,value:se(t.value)*e,max:Oh(n)*e,min:Rh(n)*e,loops:0,maxLoops:se(r.count),time:0};if(r.enable){switch(s.decay=1-se(r.decay),r.mode){case"increase":s.status="increasing";break;case"decrease":s.status="decreasing";break;case"random":s.status=Un()>=.5?"increasing":"decreasing";break}const i=r.mode==="auto";switch(r.startValue){case"min":s.value=s.min,i&&(s.status="increasing");break;case"max":s.value=s.max,i&&(s.status="decreasing");break;case"random":default:s.value=qs(s),i&&(s.status=Un()>=.5?"increasing":"decreasing");break}}return s.initialValue=s.value,s}function o2(t,e){if(!(t.mode==="percent")){const{mode:s,...i}=t;return i}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function $v(t,e){return o2(t,e)}function hr(t){return typeof t=="boolean"}function bn(t){return typeof t=="string"}function on(t){return typeof t=="number"}function Dv(t){return typeof t=="function"}function Ri(t){return typeof t=="object"&&t!==null}function _n(t){return Array.isArray(t)}const a2="random",Fl=new Map;function Bp(t){Fl.set(t.key,t)}function Oc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function l2(t){for(const[,i]of Fl)if(t.startsWith(i.stringPrefix))return i.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(i,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,s=r.exec(n);return s?{a:s[4]!==void 0?parseInt(s[4],16)/255:1,b:parseInt(s[3],16),g:parseInt(s[2],16),r:parseInt(s[1],16)}:void 0}function Ws(t,e,n=!0){if(!t)return;const r=bn(t)?{value:t}:t;if(bn(r.value))return Uv(r.value,e,n);if(_n(r.value))return Ws({value:Mh(r.value,e,n)});for(const[,s]of Fl){const i=s.handleRangeColor(r);if(i)return i}}function Uv(t,e,n=!0){if(!t)return;const r=bn(t)?{value:t}:t;if(bn(r.value))return r.value===a2?h2():u2(r.value);if(_n(r.value))return Uv({value:Mh(r.value,e,n)});for(const[,s]of Fl){const i=s.handleColor(r);if(i)return i}}function Vp(t,e,n=!0){const r=Ws(t,e,n);return r?c2(r):void 0}function c2(t){const e=t.r/255,n=t.g/255,r=t.b/255,s=Math.max(e,n,r),i=Math.min(e,n,r),o={h:0,l:(s+i)/2,s:0};return s!==i&&(o.s=o.l<.5?(s-i)/(s+i):(s-i)/(2-s-i),o.h=e===s?(n-r)/(s-i):o.h=n===s?2+(r-e)/(s-i):4+(e-n)/(s-i)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function u2(t){return l2(t)}function ld(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const r=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,s=2*n.l-r;e.r=Oc(s,r,n.h+1/3),e.g=Oc(s,r,n.h),e.b=Oc(s,r,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function d2(t){const e=ld(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function h2(t){return{b:Math.floor(qs(K(0,256))),g:Math.floor(qs(K(0,256))),r:Math.floor(qs(K(0,256)))}}function Ma(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function qp(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function Wp(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function f2(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function p2(t,e,n,r){n&&(t.globalAlpha=r,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function Ic(t,e){t.clearRect(0,0,e.width,e.height)}function m2(t){const{container:e,context:n,particle:r,delta:s,colorStyles:i,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:d,transform:h}=t,f=r.getPosition(),p=r.rotation+(r.pathRotation?r.velocity.angle:0),y={sin:Math.sin(p),cos:Math.cos(p)},w={a:y.cos*(h.a??1),b:y.sin*(h.b??1),c:-y.sin*(h.c??1),d:y.cos*(h.d??1)};n.setTransform(w.a,w.b,w.c,w.d,f.x,f.y),n.beginPath(),o&&(n.globalCompositeOperation=a);const x=r.shadowColor;d.enable&&x&&(n.shadowBlur=d.blur,n.shadowColor=Ma(x),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),i.fill&&(n.fillStyle=i.fill);const g=r.strokeWidth??0;n.lineWidth=g,i.stroke&&(n.strokeStyle=i.stroke),g2(e,n,r,l,c,s),g>0&&n.stroke(),r.close&&n.closePath(),r.fill&&n.fill(),y2(e,n,r,l,c,s),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function g2(t,e,n,r,s,i){if(!n.shape)return;const o=t.drawers.get(n.shape);o&&o.draw(e,n,r,s,i,t.retina.pixelRatio)}function y2(t,e,n,r,s,i){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||!o.afterEffect||o.afterEffect(e,n,r,s,i,t.retina.pixelRatio)}function v2(t,e,n){e.draw&&e.draw(t,n)}function w2(t,e,n,r){e.drawParticle&&e.drawParticle(t,n,r)}function x2(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function b2(t,e,n){const r=e[n];r!==void 0&&(t[n]=(t[n]??1)*r)}class _2{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const r of this._postDrawUpdaters)r.afterDraw&&r.afterDraw(n)},this._applyPreDrawUpdaters=(n,r,s,i,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:d}=l.getColorStyles(r,n,s,i);c&&(o.fill=c),d&&(o.stroke=d)}if(l.getTransformValues){const c=l.getTransformValues(r);for(const d in c)b2(a,c,d)}l.beforeDraw&&l.beforeDraw(r)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let r,s;for(const i of this._colorPlugins)if(!r&&i.particleFillColor&&(r=Vp(i.particleFillColor(n))),!s&&i.particleStrokeColor&&(s=Vp(i.particleStrokeColor(n))),r&&s)break;return[r,s]},this._initCover=()=>{const n=this.container.actualOptions,r=n.backgroundMask.cover,s=r.color,i=Ws(s);if(i){const o={...i,a:r.opacity};this._coverColorStyle=Ma(o,o.a)}},this._initStyle=()=>{const n=this.element,r=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Qe({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const s in r.style){if(!s||!r.style)continue;const i=r.style[s];i&&n.style.setProperty(s,i,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,r=n.particles.move.trail,s=r.fill;if(r.enable)if(s.color){const i=Ws(s.color);if(!i)return;const o=n.particles.move.trail;this._trailFill={color:{...i},opacity:1/o.length}}else await new Promise((i,o)=>{if(!s.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/r.length},i()}),a.addEventListener("error",l=>{o(l.error)}),a.src=s.image})},this._paintBase=n=>{this.draw(r=>f2(r,this.size,n))},this._paintImage=(n,r)=>{this.draw(s=>p2(s,this.size,n,r))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(r=>r.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(r=>r.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,r=this._originalStyle;if(!(n&&r))return;const s=n.style;s.position=r.position,s.zIndex=r.zIndex,s.top=r.top,s.left=r.left,s.width=r.width,s.height=r.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const r="important",s=n.style;s.setProperty("position","fixed",r),s.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),r),s.setProperty("top","0",r),s.setProperty("left","0",r),s.setProperty("width","100%",r),s.setProperty("height","100%",r)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,r=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&r?r.color?this._paintBase(Ma(r.color,r.opacity)):r.image&&this._paintImage(r.image,r.opacity):this.draw(s=>{Ic(s,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const r=e.getRadius();if(r<=0)return;const s=e.getFillColor(),i=e.getStrokeColor()??s;let[o,a]=this._getPluginParticleColors(e);o||(o=s),a||(a=i),!(!o&&!a)&&this.draw(l=>{var v;const c=this.container,d=c.actualOptions,h=e.options.zIndex,f=(1-e.zIndexFactor)**h.opacityRate,p=e.bubble.opacity??((v=e.opacity)==null?void 0:v.value)??1,y=e.strokeOpacity??p,w=p*f,x=y*f,g={},m={fill:o?qp(o,w):void 0};m.stroke=a?qp(a,x):m.fill,this._applyPreDrawUpdaters(l,e,r,w,m,g),m2({container:c,context:l,particle:e,delta:n,colorStyles:m,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:r*(1-e.zIndexFactor)**h.sizeRate,opacity:w,shadow:e.options.shadow,transform:g}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,r){this.draw(s=>w2(s,e,n,r))}drawPlugin(e,n){this.draw(r=>v2(r,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=n2(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){vo().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,r=this.element;if(!r)return;const s=r.style;if(s){if(n.color){const i=Ws(n.color);s.backgroundColor=i?Ma(i,n.opacity):""}else s.backgroundColor="";s.backgroundImage=n.image||"",s.backgroundPosition=n.position||"",s.backgroundRepeat=n.repeat||"",s.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&qi in e.dataset?e.dataset[qi]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Qe({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Ic(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,r=e.canvas.size,s={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(s.height===r.height&&s.width===r.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const i={...r};return this.element.width=r.width=this.element.offsetWidth*n,this.element.height=r.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:r.width/i.width,height:r.height/i.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Ic(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function Rt(t,e,n,r,s){if(r){let i={passive:!0};hr(s)?i.capture=s:s!==void 0&&(i=s),t.addEventListener(e,n,i)}else{const i=s;t.removeEventListener(e,n,i)}}class k2{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const r=this.container,s=r.actualOptions;if(this._canPush){const i=r.interactivity.mouse,o=i.position;if(!o)return;i.clickPosition={...o},i.clickTime=new Date().getTime();const a=s.interactivity.events.onClick;rs(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const r=n,s=this.container,i=s.options,o=i.defaultThemes,a=r.matches?o.dark:o.light,l=i.themes.find(c=>c.name===a);l&&l.default.auto&&s.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,r=n.actualOptions;this._mouseTouchFinish(),r.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,r)=>{const s=this._handlers,i=this.container,o=i.actualOptions,a=i.interactivity.element;if(!a)return;const l=a,c=i.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(Rt(a,Up,s.mouseMove,r),Rt(a,VS,s.touchStart,r),Rt(a,qS,s.touchMove,r),o.interactivity.events.onClick.enable?(Rt(a,Fp,s.touchEndClick,r),Rt(a,FS,s.mouseUp,r),Rt(a,US,s.mouseDown,r)):Rt(a,Fp,s.touchEnd,r),Rt(a,n,s.mouseLeave,r),Rt(a,WS,s.touchCancel,r))},this._manageListeners=n=>{const r=this._handlers,s=this.container,i=s.actualOptions,o=i.interactivity.detectsOn,a=s.canvas.element;let l=Dp;o==="window"?(s.interactivity.element=window,l=BS):o==="parent"&&a?s.interactivity.element=a.parentElement??a.parentNode:s.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&Rt(document,GS,r.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const r=this._handlers,s=zv("(prefers-color-scheme: dark)");if(s){if(s.addEventListener!==void 0){Rt(s,"change",r.themeChange,n);return}s.addListener!==void 0&&(n?s.addListener(r.oldThemeChange):s.removeListener(r.oldThemeChange))}},this._manageResize=n=>{const r=this._handlers,s=this.container;if(!s.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Rt(window,HS,r.resize,n);return}const o=s.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:r}=n;r.clicking=!0,r.downPosition=r.position},this._mouseTouchClick=n=>{const r=this.container,s=r.actualOptions,{mouse:i}=r.interactivity;i.inside=!0;let o=!1;const a=i.position;if(!(!a||!s.interactivity.events.onClick.enable)){for(const[,l]of r.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),i.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const r=n.mouse;delete r.position,delete r.clickPosition,delete r.downPosition,n.status=Dp,r.inside=!1,r.clicking=!1},this._mouseTouchMove=n=>{const r=this.container,s=r.actualOptions,i=r.interactivity,o=r.canvas.element;if(!i||!i.element)return;i.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(i.element===window){if(o){const d=o.getBoundingClientRect();a={x:c.clientX-d.left,y:c.clientY-d.top}}}else if(s.interactivity.detectsOn==="parent"){const d=c.target,h=c.currentTarget;if(d&&h&&o){const f=d.getBoundingClientRect(),p=h.getBoundingClientRect(),y=o.getBoundingClientRect();a={x:c.offsetX+2*f.left-(p.left+y.left),y:c.offsetY+2*f.top-(p.top+y.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,d=c.touches[c.touches.length-1],h=o.getBoundingClientRect();a={x:d.clientX-(h.left??0),y:d.clientY-(h.top??0)}}const l=r.retina.pixelRatio;a&&(a.x*=l,a.y*=l),i.mouse.position=a,i.status=Up},this._touchEnd=n=>{const r=n,s=Array.from(r.changedTouches);for(const i of s)this._touches.delete(i.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const r=n,s=Array.from(r.changedTouches);for(const i of s)this._touches.delete(i.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const r=n,s=Array.from(r.changedTouches);for(const i of s)this._touches.set(i.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}let gr=class Fv{constructor(){this.value=""}static create(e,n){const r=new Fv;return r.load(e),n!==void 0&&(bn(n)||_n(n)?r.load({value:n}):r.load(n)),r}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}};class S2{constructor(){this.color=new gr,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=gr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class j2{constructor(){this.color=new gr,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=gr.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class E2{constructor(){this.composite="destination-out",this.cover=new j2,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,r=bn(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:r})}e.enable!==void 0&&(this.enable=e.enable)}}}class C2{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class P2{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class Hp{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return rs(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=rs(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class T2{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class N2{constructor(){this.enable=!1,this.mode=[],this.parallax=new T2}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class R2{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class O2{constructor(){this.onClick=new P2,this.onDiv=new Hp,this.onHover=new N2,this.resize=new R2}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=rs(n,r=>{const s=new Hp;return s.load(r),s})),this.onHover.load(e.onHover??e.onhover),hr(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class I2{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const r of n)r.loadModeOptions&&r.loadModeOptions(this,e)}}class Bv{constructor(e,n){this.detectsOn="window",this.events=new O2,this.modes=new I2(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class M2{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Qe({},e.options)))}}class L2{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Qe({},e.options)))}}class A2{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class z2{constructor(){this.name="",this.default=new A2}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Qe({},e.options)))}}class Mc{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=K(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=K(e.offset)),e.speed!==void 0&&(this.speed=K(e.speed)),e.decay!==void 0&&(this.decay=K(e.decay)),e.delay!==void 0&&(this.delay=K(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class $2{constructor(){this.h=new Mc,this.s=new Mc,this.l=new Mc}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class wo extends gr{constructor(){super(),this.animation=new $2}static create(e,n){const r=new wo;return r.load(e),n!==void 0&&(bn(n)||_n(n)?r.load({value:n}):r.load(n)),r}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class D2{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class U2{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class F2{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=K(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=K(e.speed)),e.decay!==void 0&&(this.decay=K(e.decay)),e.delay!==void 0&&(this.delay=K(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Vv extends F2{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class B2{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}let Ro=class{constructor(){this.random=new B2,this.value=0}load(e){e&&(hr(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=K(e.value,this.random.enable?this.random.minimumValue:void 0)))}};class Gp extends Ro{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class qv{constructor(){this.horizontal=new Gp,this.vertical=new Gp}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class V2{constructor(){this.absorb=new D2,this.bounce=new qv,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new U2}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=K(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class q2{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=K(e.offset)),e.value!==void 0&&(this.value=K(e.value)))}}class W2{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var s,i;if(!e)return;e.distance!==void 0&&(this.distance=K(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((s=e.rotate)==null?void 0:s.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const r=((i=e.rotate)==null?void 0:i.y)??e.rotateY;r!==void 0&&(this.rotate.y=r)}}class H2{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class G2{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=K(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=K(e.maxSpeed)))}}class K2{constructor(){this.clamp=!0,this.delay=new Ro,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Qe(this.options,e.options)))}}class J2{load(e){e&&(e.color!==void 0&&(this.color=gr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class Q2{constructor(){this.enable=!1,this.length=10,this.fill=new J2}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class Y2{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class X2{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=K(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Qe({},e.position)))}}class Z2{constructor(){this.angle=new q2,this.attract=new W2,this.center=new H2,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new G2,this.path=new K2,this.outModes=new Y2,this.random=!1,this.size=!1,this.speed=2,this.spin=new X2,this.straight=!1,this.trail=new Q2,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(on(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=K(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=on(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=K(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(Ri(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=K(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class ej extends Vv{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class tj extends Ro{constructor(){super(),this.animation=new ej,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=K(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class nj{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const r=e.height??e.factor;r!==void 0&&(this.height=r)}}class rj{constructor(){this.density=new nj,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class sj{constructor(){this.blur=0,this.color=new gr,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=gr.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Lc="character",Ac="char",zc="image",$c="images",Dc="polygon",Uc="star";class ij{constructor(){this.loadShape=(e,n,r,s)=>{if(!e)return;const i=_n(e),o=i?[]:{},a=i!==_n(this.options[n]),l=i!==_n(this.options[r]);a&&(this.options[n]=o),l&&s&&(this.options[r]=o),this.options[n]=Qe(this.options[n]??o,e),(!this.options[r]||s)&&(this.options[r]=Qe(this.options[r]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Lc]??this.options[Ac]}set character(e){this.options[Ac]=this.options[Lc]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[zc]??this.options[$c]}set image(e){this.options[$c]=this.options[zc]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Dc]??this.options[Uc]}set polygon(e){this.options[Uc]=this.options[Dc]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const r in n){const s=n[r];s&&(this.options[r]=Qe(this.options[r]??{},s))}this.loadShape(e.character,Lc,Ac,!0),this.loadShape(e.polygon,Dc,Uc,!1),this.loadShape(e.image??e.images,zc,$c,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class oj extends Vv{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class aj extends Ro{constructor(){super(),this.animation=new oj,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=K(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Kp{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=wo.create(this.color,e.color)),e.width!==void 0&&(this.width=K(e.width)),e.opacity!==void 0&&(this.opacity=K(e.opacity)))}}class lj extends Ro{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class cj{constructor(e,n){this._engine=e,this._container=n,this.bounce=new qv,this.collisions=new V2,this.color=new wo,this.color.value="#fff",this.groups={},this.move=new Z2,this.number=new rj,this.opacity=new tj,this.reduceDuplicates=!1,this.shadow=new sj,this.shape=new ij,this.size=new aj,this.stroke=new Kp,this.zIndex=new lj}load(e){var s,i,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(wo.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=Qe(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((s=e.move)==null?void 0:s.collisions)??((i=e.move)==null?void 0:i.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Qe({},e.interactivity));const r=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(r&&(this.stroke=rs(r,a=>{const l=new Kp;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function Wv(t,...e){for(const n of e)t.load(n)}function Hv(t,e,...n){const r=new cj(t,e);return Wv(r,...n),r}class uj{constructor(e,n){this._findDefaultTheme=r=>this.themes.find(s=>s.default.value&&s.default.mode===r)??this.themes.find(s=>s.default.value&&s.default.mode==="any"),this._importPreset=r=>{this.load(this._engine.plugins.getPreset(r))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new S2,this.backgroundMask=new E2,this.defaultThemes={},this.delay=0,this.fullScreen=new C2,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Bv(e,n),this.manualParticles=[],this.particles=Hv(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&rs(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=K(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=K(e.duration));const r=e.fpsLimit??e.fps_limit;r!==void 0&&(this.fpsLimit=r),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const s=e.fullScreen??e.backgroundMode;hr(s)?this.fullScreen.enable=s:this.fullScreen.load(s),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new M2;return c.load(l),c})),this.particles.load(e.particles),this.style=Qe(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const i=this._engine.plugins.interactors.get(this._container);if(i)for(const l of i)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new L2;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(d=>d.name===l.name);if(c)c.load(l);else{const d=new z2;d.load(l),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,n,r){this.load(r);const s=this.responsive.find(i=>i.mode==="screen"&&screen?i.maxWidth>screen.availWidth:i.maxWidth*n>e);return this.load(s==null?void 0:s.options),s==null?void 0:s.maxWidth}setTheme(e){if(e){const n=this.themes.find(r=>r.name===e);n&&this.load(n.options)}else{const n=zv("(prefers-color-scheme: dark)"),r=n&&n.matches,s=this._findDefaultTheme(r?"dark":"light");s&&this.load(s.options)}}}class dj{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const r of this._externalInteractors)r.clear(e,n);for(const r of this._particleInteractors)r.isEnabled(e)&&await r.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const Jp=t=>{if(!r2(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class hj{constructor(e,n,r,s,i,o){this.container=r,this._calcPosition=(a,l,c,d=0)=>{for(const[,m]of a.plugins){const v=m.particlePosition!==void 0?m.particlePosition(l,this):void 0;if(v)return ad.create(v.x,v.y,c)}const h=a.canvas.size,f=ZS({size:h,position:l}),p=ad.create(f.x,f.y,c),y=this.getRadius(),w=this.options.move.outModes,x=m=>{Jp({outMode:m,checkModes:["bounce","bounce-horizontal"],coord:p.x,maxCoord:a.canvas.size.width,setCb:v=>p.x+=v,radius:y})},g=m=>{Jp({outMode:m,checkModes:["bounce","bounce-vertical"],coord:p.y,maxCoord:a.canvas.size.height,setCb:v=>p.y+=v,radius:y})};return x(w.left??w.default),x(w.right??w.default),g(w.top??w.default),g(w.bottom??w.default),this._checkOverlap(p,d)?this._calcPosition(a,void 0,c,d+1):p},this._calculateVelocity=()=>{const a=XS(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const d=Math.PI/180*se(c.angle.value),h=Math.PI/180*se(c.angle.offset),f={left:h-d/2,right:h+d/2};return c.straight||(l.angle+=qs(K(f.left,f.right))),c.random&&typeof c.speed=="number"&&(l.length*=Un()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,d=this.getRadius();if(!c.enable)return!1;const h=c.overlap;if(h.enable)return!1;const f=h.retries;if(f>=0&&l>f)throw new Error(`${ns} particle is overlapping and can't be placed`);return!!this.container.particles.find(p=>Ih(a,p.position)<d+p.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?x2(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=se(this.options.zIndex.value);this.position=this._calcPosition(l,a,Lv(c,0,l.zLayers)),this.initialPosition=this.position.copy();const d=l.canvas.size;switch(this.moveCenter={...$v(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=YS(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Mv.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return Qe({close:a.close,fill:a.fill},Wi(c,this.id,l))},this._engine=e,this.init(n,s,i,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,r=this.pathGenerator;for(const[,s]of n.plugins)s.particleDestroyed&&s.particleDestroyed(this,e);for(const s of n.particles.updaters)s.particleDestroyed&&s.particleDestroyed(this,e);r&&r.reset(this)}draw(e){const n=this.container;for(const[,r]of n.plugins)n.canvas.drawParticlePlugin(r,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??Wp(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??Wp(this.strokeColor))}init(e,n,r,s){const i=this.container,o=this._engine;this.id=e,this.group=s,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=i.retina.pixelRatio,l=i.actualOptions,c=Hv(this._engine,i,l.particles),d=c.shape.type,{reduceDuplicates:h}=c;this.shape=Wi(d,this.id,h);const f=c.shape;if(r&&r.shape&&r.shape.type){const v=r.shape.type,b=Wi(v,this.id,h);b&&(this.shape=b,f.load(r.shape))}this.shapeData=this._loadShapeData(f,h),c.load(r);const p=this.shapeData;p&&c.load(p.particles);const y=new Bv(o,i);y.load(i.actualOptions.interactivity),y.load(c.interactivity),this.interactivity=y,this.fill=(p==null?void 0:p.fill)??c.shape.fill,this.close=(p==null?void 0:p.close)??c.shape.close,this.options=c;const w=this.options.move.path;this.pathDelay=JS(w.delay)*1e3,w.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(w.generator),this.pathGenerator&&i.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(i)),i.retina.initParticle(this),this.size=i2(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-se(this.options.move.decay);const x=i.particles;x.needsSort=x.needsSort||x.lastZIndex<this.position.z,x.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/i.zLayers,this.sides=24;let g=i.drawers.get(this.shape);g||(g=this._engine.plugins.getShapeDrawer(this.shape),g&&i.drawers.set(this.shape,g)),g&&g.loadShape&&g.loadShape(this);const m=g==null?void 0:g.getSidesCount;m&&(this.sides=m(this)),this.spawning=!1,this.shadowColor=Ws(this.options.shadow.color);for(const v of i.particles.updaters)v.init(this);for(const v of i.particles.movers)v.init&&v.init(this);g&&g.particleInit&&g.particleInit(i,this);for(const[,v]of i.plugins)v.particleCreated&&v.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,r=this.position;return r.x>=-e&&r.y>=-e&&r.y<=n.height+e&&r.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class fj{constructor(e,n){this.position=e,this.particle=n}}class Gv{constructor(e,n){this.position={x:e,y:n}}}let pl=class Kv extends Gv{constructor(e,n,r,s){super(e,n),this.size={height:s,width:r}}contains(e){const n=this.size.width,r=this.size.height,s=this.position;return e.x>=s.x&&e.x<=s.x+n&&e.y>=s.y&&e.y<=s.y+r}intersects(e){e instanceof Jv&&e.intersects(this);const n=this.size.width,r=this.size.height,s=this.position,i=e.position,o=e instanceof Kv?e.size:{width:0,height:0},a=o.width,l=o.height;return i.x<s.x+n&&i.x+a>s.x&&i.y<s.y+r&&i.y+l>s.y}},Jv=class Qv extends Gv{constructor(e,n,r){super(e,n),this.radius=r}contains(e){return Ih(e,this.position)<=this.radius}intersects(e){const n=this.position,r=e.position,s={x:Math.abs(r.x-n.x),y:Math.abs(r.y-n.y)},i=this.radius;if(e instanceof Qv){const o=i+e.radius,a=Math.sqrt(s.x**2+s.y**2);return o>a}else if(e instanceof pl){const{width:o,height:a}=e.size;return Math.pow(s.x-o,2)+Math.pow(s.y-a,2)<=i**2||s.x<=i+o&&s.y<=i+a||s.x<=o||s.y<=a}return!1}};class ml{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:r,y:s}=this.rectangle.position,{width:i,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new ml(new pl(r+i/2*(l%2),s+o/2*(Math.round(l/2)-l%2),i/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,r){const s=r||[];if(!e.intersects(this.rectangle))return[];for(const i of this._points)!e.contains(i.position)&&Ih(e.position,i.position)>i.particle.getRadius()&&(!n||n(i.particle))||s.push(i.particle);if(this._divided)for(const i of this._subs)i.query(e,n,s);return s}queryCircle(e,n,r){return this.query(new Jv(e.x,e.y,n),r)}queryRectangle(e,n,r){return this.query(new pl(e.x,e.y,n.width,n.height),r)}}const Qp=4,Yp=t=>new pl(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let pj=class{constructor(e,n){this._applyDensity=(s,i,o)=>{var p;if(!((p=s.number.density)!=null&&p.enable))return;const a=s.number,l=this._initDensityFactor(a.density),c=a.value,d=a.limit>0?a.limit:c,h=Math.min(c,d)*l+i,f=Math.min(this.count,this.filter(y=>y.group===o).length);this.limit=a.limit*l,f<h?this.push(Math.abs(h-f),void 0,s,o):f>h&&this.removeQuantity(f-h,o)},this._initDensityFactor=s=>{const i=this._container;if(!i.canvas.element||!s.enable)return 1;const o=i.canvas.element,a=i.retina.pixelRatio;return o.width*o.height/(s.factor*a**2*s.area)},this._pushParticle=(s,i,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,s,i,o):l=new hj(this._engine,this._nextId,this._container,s,i,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){vo().warning(`${ns} adding particle: ${l}`);return}},this._removeParticle=(s,i,o)=>{const a=this._array[s];if(!a||a.group!==i)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(s,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new dj(e,n);const r=n.canvas.size;this.quadTree=new ml(Yp(r),Qp),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const r of n.manualParticles)this.addParticle(r.position?$v(r.position,e.canvas.size):void 0,r.options)}addParticle(e,n,r,s){const i=this._container,o=i.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,n,r,s)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,r]of n.plugins)n.canvas.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var s;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let r=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,i]of e.plugins)if(i.particlesInitialization!==void 0&&(r=i.particlesInitialization()),r)break;this._interactionManager.init();for(const[,i]of e.pathGenerators)i.init(e);if(this.addManualParticles(),!r){for(const i in n.particles.groups){const o=n.particles.groups[i];for(let a=this.count,l=0;l<((s=o.number)==null?void 0:s.value)&&a<n.particles.number.value;a++,l++)this.addParticle(void 0,o,i)}for(let i=this.count;i<n.particles.number.value;i++)this.addParticle()}}push(e,n,r,s){this.pushing=!0;for(let i=0;i<e;i++)this.addParticle(n==null?void 0:n.position,r,s);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,r){this.removeAt(this._array.indexOf(e),void 0,n,r)}removeAt(e,n=1,r,s){if(e<0||e>this.count)return;let i=0;for(let o=e;i<n&&o<this.count;o++)this._removeParticle(o--,r,s)&&i++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const r in n)this._applyDensity(n[r],0,r);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,r=new Set;this.quadTree=new ml(Yp(n.canvas.size),Qp);for(const[,s]of n.pathGenerators)s.update();for(const[,s]of n.plugins)s.update&&s.update(e);for(const s of this._array){const i=n.canvas.resizeFactor;i&&!s.ignoresResizeRatio&&(s.position.x*=i.width,s.position.y*=i.height,s.initialPosition.x*=i.width,s.initialPosition.y*=i.height),s.ignoresResizeRatio=!1,await this._interactionManager.reset(s);for(const[,o]of this._container.plugins){if(s.destroyed)break;o.particleUpdate&&o.particleUpdate(s,e)}for(const o of this.movers)o.isEnabled(s)&&o.move(s,e);if(s.destroyed){r.add(s);continue}this.quadTree.insert(new fj(s.getPosition(),s))}if(r.size){const s=i=>!r.has(i);this._array=this.filter(s),this._zArray=this._zArray.filter(s),this.pool.push(...r)}await this._interactionManager.externalInteract(e);for(const s of this._array){for(const i of this.updaters)i.update(s,e);!s.destroyed&&!s.spawning&&await this._interactionManager.particlesInteract(s,e)}if(delete n.canvas.resizeFactor,this.needsSort){const s=this._zArray;s.sort((i,o)=>o.position.z-i.position.z||i.id-o.id),this.lastZIndex=s[s.length-1].position.z,this.needsSort=!1}}};class mj{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Ul()?1:window.devicePixelRatio,this.reduceFactor=1;const r=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*r,e.canvas.size.height=o.offsetHeight*r}const s=n.particles,i=s.move;this.attractDistance=se(i.attract.distance)*r,this.maxSpeed=se(i.gravity.maxSpeed)*r,this.sizeAnimationSpeed=se(s.size.animation.speed)*r}initParticle(e){const n=e.options,r=this.pixelRatio,s=n.move,i=s.distance,o=e.retina;o.attractDistance=se(s.attract.distance)*r,o.moveDrift=se(s.drift)*r,o.moveSpeed=se(s.speed)*r,o.sizeAnimationSpeed=se(n.size.animation.speed)*r;const a=o.maxDistance;a.horizontal=i.horizontal!==void 0?i.horizontal*r:void 0,a.vertical=i.vertical!==void 0?i.vertical*r:void 0,o.maxSpeed=se(s.gravity.maxSpeed)*r}}function fe(t){return t&&!t.destroyed}function gj(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function gs(t,e,...n){const r=new uj(t,e);return Wv(r,...n),r}const yj="default",Xp={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class vj{constructor(e,n,r){this.id=n,this._intersectionManager=s=>{if(!(!fe(this)||!this.actualOptions.pauseOnOutsideViewport))for(const i of s)i.target===this.interactivity.element&&(i.isIntersecting?this.play:this.pause)()},this._nextFrame=async s=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&s<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=s);const i=gj(s-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(i.value),this.lastFrameTime=s,i.value>1e3){this.draw(!1);return}if(await this.particles.draw(i),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(i){vo().error(`${ns} in animation loop`,i)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=r,this._initialSourceOptions=r,this.retina=new mj(this),this.canvas=new _2(this),this.particles=new pj(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=gs(this._engine,this),this.actualOptions=gs(this._engine,this),this._eventListeners=new k2(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(s=>this._intersectionManager(s))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!fe(this))return;const n=this.interactivity.element;if(!n)return;const r=(h,f,p)=>{if(!fe(this))return;const y=this.retina.pixelRatio,w={x:f.x*y,y:f.y*y},x=this.particles.quadTree.queryCircle(w,p*y);e(h,x)},s=h=>{if(!fe(this))return;const f=h,p={x:f.offsetX||f.clientX,y:f.offsetY||f.clientY};r(h,p,1)},i=()=>{fe(this)&&(c=!0,d=!1)},o=()=>{fe(this)&&(d=!0)},a=h=>{if(fe(this)){if(c&&!d){const f=h;let p=f.touches[f.touches.length-1];if(!p&&(p=f.changedTouches[f.changedTouches.length-1],!p))return;const y=this.canvas.element,w=y?y.getBoundingClientRect():void 0,x={x:p.clientX-(w?w.left:0),y:p.clientY-(w?w.top:0)};r(h,x,Math.max(p.radiusX,p.radiusY))}c=!1,d=!1}},l=()=>{fe(this)&&(c=!1,d=!1)};let c=!1,d=!1;n.addEventListener("click",s),n.addEventListener("touchstart",i),n.addEventListener("touchmove",o),n.addEventListener("touchend",a),n.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,r=!1){return!fe(this)||!r&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??Xp),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!fe(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,r]of this.drawers)r.destroy&&r.destroy(this);for(const r of this.drawers.keys())this.drawers.delete(r);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(r=>r===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!fe(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async r=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(r)})}async export(e,n={}){for(const[,r]of this.plugins){if(!r.export)continue;const s=await r.export(e,n);if(s.supported)return s.blob}vo().error(`${ns} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&fe(this)}handleClickMode(e){if(fe(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!fe(this))return;const e=this._engine.plugins.getSupportedShapes();for(const r of e){const s=this._engine.plugins.getShapeDrawer(r);s&&this.drawers.set(r,s)}this._options=gs(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=gs(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[r,s]of n)this.plugins.set(r,s);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=se(this.actualOptions.duration)*1e3,this._delay=se(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,r]of this.drawers)r.init&&await r.init(this);for(const[,r]of this.plugins)r.init&&await r.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,r]of this.plugins)r.particlesSetup&&r.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){fe(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(fe(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!fe(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,r]of this.plugins)r.play&&r.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(fe(this))return this.stop(),this.start()}async reset(){if(fe(this))return this._initialSourceOptions=void 0,this._options=gs(this._engine,this),this.actualOptions=gs(this._engine,this,this._options),this.refresh()}setNoise(e,n,r){fe(this)&&this.setPath(e,n,r)}setPath(e,n,r){if(!e||!fe(this))return;const s={...Xp};if(Dv(e))s.generate=e,n&&(s.init=n),r&&(s.update=r);else{const i=s;s.generate=e.generate||i.generate,s.init=e.init||i.init,s.update=e.update||i.update}this.addPath(yj,s,!0)}async start(){!fe(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!fe(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class wj{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let r=this._listeners.get(e);r||(r=[],this._listeners.set(e,r)),r.push(n)}dispatchEvent(e,n){const r=this._listeners.get(e);r&&r.forEach(s=>s(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const r=this._listeners.get(e);if(!r)return;const s=r.length,i=r.indexOf(n);i<0||(s===1?this._listeners.delete(e):r.splice(i,1))}}function Fc(t,e,n,r=!1){let s=e.get(t);return(!s||r)&&(s=[...n.values()].map(i=>i(t)),e.set(t,s)),s}class xj{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,r=!1){(r||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){rs(e,r=>{!this.getShapeDrawer(r)&&this.drawers.set(r,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const r of this.plugins)r.needsPlugin(e.actualOptions)&&n.set(r.id,r.getPlugin(e));return n}getInteractors(e,n=!1){return Fc(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return Fc(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return Fc(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const r of this.plugins)r.loadOptions(e,n)}loadParticlesOptions(e,n,...r){const s=this.updaters.get(e);if(s)for(const i of s)i.loadOptions&&i.loadOptions(n,...r)}}async function bj(t){const e=Wi(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(vo().error(`${ns} ${n.status} while retrieving config file`),t.fallback)}function _j(t){return!t.id&&!t.element&&!t.url&&!t.options}function kj(t){return!_j(t)}class Sj{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new wj,this._initialized=!1,this.plugins=new xj(this)}get configs(){const e={};for(const[n,r]of this._configs)e[n]=r;return e}get version(){return"2.12.0"}addConfig(e,n){bn(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,r=!0){this.plugins.addInteractor(e,n),await this.refresh(r)}async addMover(e,n,r=!0){this.plugins.addParticleMover(e,n),await this.refresh(r)}async addParticleUpdater(e,n,r=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(r)}async addPathGenerator(e,n,r=!0){this.plugins.addPathGenerator(e,n),await this.refresh(r)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,r=!1,s=!0){this.plugins.addPreset(e,n,r),await this.refresh(s)}async addShape(e,n,r,s,i,o=!0){let a,l=o,c,d,h;hr(r)?(l=r,c=void 0):c=r,hr(s)?(l=s,d=void 0):d=s,hr(i)?(l=i,h=void 0):h=i,Dv(n)?a={afterEffect:d,destroy:h,draw:n,init:c}:a=n,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),r=n[e];if(!r||r.destroyed){n.splice(e,1);return}return r}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,r){let s;return kj(e)?s=e:(s={},bn(e)?s.id=e:s.options=e,on(n)?s.index=n:s.options=n??s.options,s.index=r??s.index),this._loadParams(s)}async loadJSON(e,n,r){let s,i;return on(n)||n===void 0?s=e:(i=e,s=n),this._loadParams({id:i,url:s,index:r})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,r,s){const i={index:s};return bn(e)?i.id=e:i.element=e,n instanceof HTMLElement?i.element=n:i.options=n,on(r)?i.index=r:i.options=r??i.options,this._loadParams(i)}async setJSON(e,n,r,s){const i={};return e instanceof HTMLElement?(i.element=e,i.url=n,i.index=r):(i.id=e,i.element=n,i.url=r,i.index=s),this._loadParams(i)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${ns} can only set click handlers after calling tsParticles.load()`);for(const r of n)r.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(Un()*1e4)}`,{index:r,url:s}=e,i=s?await bj({fallback:e.options,url:s,index:r}):e.options;let o=e.element??document.getElementById(n);o||(o=document.createElement("div"),o.id=n,document.body.append(o));const a=Wi(i,r),l=this.dom(),c=l.findIndex(f=>f.id===n);if(c>=0){const f=this.domItem(c);f&&!f.destroyed&&(f.destroy(),l.splice(c,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[qi]="false";else{const f=o.getElementsByTagName("canvas");f.length?(d=f[0],d.dataset[qi]="false"):(d=document.createElement("canvas"),d.dataset[qi]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const h=new vj(this,n,a);return c>=0?l.splice(c,0,h):l.push(h),h.canvas.loadCanvas(d),await h.start(),h}}let jj=class{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.s!==void 0&&r.l!==void 0)return ld(r)}handleRangeColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.l!==void 0)return ld({h:se(r.h),l:se(r.l),s:se(r.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,r=n.exec(e);return r?d2({a:r.length>4?Av(r[5]):1,h:parseInt(r[1],10),l:parseInt(r[3],10),s:parseInt(r[2],10)}):void 0}},Ej=class{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return r}handleRangeColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return{r:se(r.r),g:se(r.g),b:se(r.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,r=n.exec(e);return r?{a:r.length>4?Av(r[5]):1,b:parseInt(r[3],10),g:parseInt(r[2],10),r:parseInt(r[1],10)}:void 0}};function Cj(){const t=new Ej,e=new jj;Bp(t),Bp(e);const n=new Sj;return n.init(),n}const cd=Cj();Ul()||(window.tsParticles=cd);const Is=t=>typeof t=="object"&&t!==null;function gl(t,e,n=()=>!1){if(!Is(t)||!Is(e))return t===e;const r=Object.keys(t).filter(i=>!n(i)),s=Object.keys(e).filter(i=>!n(i));if(r.length!==s.length)return!1;for(const i of r){const o=t[i],a=e[i];if(Is(o)&&Is(a)){if(o===e&&a===t)continue;if(!gl(o,a,n))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!Yv(o,a,n))return!1}else if(o!==a)return!1}return!0}function Yv(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],i=e[r];if(Array.isArray(s)&&Array.isArray(i)){if(!Yv(s,i,n))return!1}else if(Is(s)&&Is(i)){if(!gl(s,i,n))return!1}else if(s!==i)return!1}return!0}const Xv="tsparticles";class Bl extends _.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const n=e.options??e.params,r=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!gl(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!gl(n,r,s=>s.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(cd),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:r,canvasClassName:s,id:i}=this.props;return Zh.createElement("div",{className:r,id:i},Zh.createElement("canvas",{className:s,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??Bl.defaultProps.id??Xv,n=await cd.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}}Bl.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:Xv};const Pj="pointerleave",Oo="pointermove",ni="tsParticles - Error",Vl=100,ss=.5,Fn=1e3,gn={x:0,y:0,z:0},yl="random",La="mid",In=2,Ur=2,Tj=1,Aa=255,Hr=360,ud=100,dd=100,Zp=0,hd=0,Nj=60,em=0,Zv=1,Rj=0,Oj=1,Ij=1,Mj=0,Tr=255,Bc=3,Vc=6,Lj=1,Aj=1,zj=0,$j=0,Dj=0,Uj=0;var tm;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(tm||(tm={}));function ri(t){return typeof t=="string"}function Io(t){return typeof t=="number"}function Oi(t){return typeof t=="object"&&t!==null}function qn(t){return Array.isArray(t)}function ee(t){return t==null}class Kt{constructor(e,n,r){if(this._updateFromAngle=(s,i)=>{this.x=Math.cos(s)*i,this.y=Math.sin(s)*i},!Io(e)&&e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:gn.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=r??gn.z;else throw new Error(`${ni} Vector3d not initialized correctly`)}static get origin(){return Kt.create(gn.x,gn.y,gn.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Kt.create(e.x,e.y,e.z)}static create(e,n,r){return new Kt(e,n,r)}add(e){return Kt.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Kt.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Kt.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Ur+this.y**Ur}mult(e){return Kt.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=Rj&&this.multTo(Tj/e)}rotate(e){return Kt.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),gn.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:gn.z}sub(e){return Kt.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Ye extends Kt{constructor(e,n){super(e,n,gn.z)}static get origin(){return Ye.create(gn.x,gn.y)}static clone(e){return Ye.create(e.x,e.y)}static create(e,n){return new Ye(e,n)}}let Fj=Math.random;function Se(){return un(Fj(),0,1-Number.EPSILON)}function un(t,e,n){return Math.min(Math.max(t,e),n)}function qc(t,e,n,r){return Math.floor((t*n+e*r)/(n+r))}function At(t){const e=vn(t),n=0;let r=ql(t);return e===r&&(r=n),Se()*(e-r)+r}function D(t){return Io(t)?t:At(t)}function ql(t){return Io(t)?t:t.min}function vn(t){return Io(t)?t:t.max}function Ut(t,e){if(t===e||e===void 0&&Io(t))return t;const n=ql(t),r=vn(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(r,e)}:Ut(n,r)}function st(t,e){const n=t.x-e.x,r=t.y-e.y,s=2;return{dx:n,dy:r,distance:Math.sqrt(n**s+r**s)}}function an(t,e){return st(t,e).distance}function Hi(t){return t*Math.PI/180}function nm(t,e,n,r){return Ye.create(t.x*(n-r)/(n+r)+e.x*In*r/(n+r),t.y)}function ew(t){return t?t.endsWith("%")?parseFloat(t)/Vl:parseFloat(t):1}var Ms;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(Ms||(Ms={}));var Ee;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(Ee||(Ee={}));var xo;(function(t){t.none="none",t.max="max",t.min="min"})(xo||(xo={}));var V;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(V||(V={}));var rm;(function(t){t.precise="precise",t.percent="percent"})(rm||(rm={}));var Gi;(function(t){t.max="max",t.min="min",t.random="random"})(Gi||(Gi={}));const Bj={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function tw(){return Bj}function sm(t){const e={bounced:!1},{pSide:n,pOtherSide:r,rectSide:s,rectOtherSide:i,velocity:o,factor:a}=t;return r.min<i.min||r.min>i.max||r.max<i.min||r.max>i.max||(n.max>=s.min&&n.max<=(s.max+s.min)*ss&&o>em||n.min<=s.max&&n.min>(s.max+s.min)*ss&&o<em)&&(e.velocity=o*-a,e.bounced=!0),e}function Vj(t,e){const n=_r(e,r=>t.matches(r));return qn(n)?n.some(r=>r):n}function im(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function Te(t,e){return t===e||qn(e)&&e.indexOf(t)>-1}async function om(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function qj(t){return Math.floor(Se()*t.length)}function Wl(t,e,n=!0){return t[e!==void 0&&n?e%t.length:qj(t)]}function Lh(t,e,n,r,s){return Wj(Mo(t,r??0),e,n,s)}function Wj(t,e,n,r){let s=!0;return(!r||r===V.bottom)&&(s=t.top<e.height+n.x),s&&(!r||r===V.left)&&(s=t.right>n.x),s&&(!r||r===V.right)&&(s=t.left<e.width+n.y),s&&(!r||r===V.top)&&(s=t.bottom>n.y),s}function Mo(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function vl(t,...e){for(const n of e){if(n==null)continue;if(!Oi(n)){t=n;continue}const r=Array.isArray(n);r&&(Oi(t)||!t||!Array.isArray(t))?t=[]:!r&&(Oi(t)||!t||Array.isArray(t))&&(t={});for(const s in n){if(s==="__proto__")continue;const i=n,o=i[s],a=t;a[s]=Oi(o)&&Array.isArray(o)?o.map(l=>vl(a[s],l)):vl(a[s],o)}}return t}function Ah(t,e){return!!sw(e,n=>n.enable&&Te(t,n.mode))}function zh(t,e,n){_r(e,r=>{const s=r.mode;r.enable&&Te(t,s)&&Hj(r,n)})}function Hj(t,e){const n=t.selectors;_r(n,r=>{e(r,t)})}function nw(t,e){if(!(!e||!t))return sw(t,n=>Vj(e,n.selectors))}function fd(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:Ye.create(D(t.options.bounce.horizontal.value),D(t.options.bounce.vertical.value))}}function rw(t,e){const{x:n,y:r}=t.velocity.sub(e.velocity),[s,i]=[t.position,e.position],{dx:o,dy:a}=st(i,s);if(n*o+r*a<0)return;const c=-Math.atan2(a,o),d=t.mass,h=e.mass,f=t.velocity.rotate(c),p=e.velocity.rotate(c),y=nm(f,p,d,h),w=nm(p,f,d,h),x=y.rotate(-c),g=w.rotate(-c);t.velocity.x=x.x*t.factor.x,t.velocity.y=x.y*t.factor.y,e.velocity.x=g.x*e.factor.x,e.velocity.y=g.y*e.factor.y}function Gj(t,e){const n=t.getPosition(),r=t.getRadius(),s=Mo(n,r),i=t.options.bounce,o=sm({pSide:{min:s.left,max:s.right},pOtherSide:{min:s.top,max:s.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:D(i.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(t.velocity.x=o.velocity),o.position!==void 0&&(t.position.x=o.position));const a=sm({pSide:{min:s.top,max:s.bottom},pOtherSide:{min:s.left,max:s.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:D(i.vertical.value)});a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function _r(t,e){return qn(t)?t.map((r,s)=>e(r,s)):e(t,0)}function Hl(t,e,n){return qn(t)?Wl(t,e,n):t}function sw(t,e){return qn(t)?t.find((r,s)=>e(r,s)):e(t,0)?t:void 0}function Kj(t,e){const n=t.value,r=t.animation,s={delayTime:D(r.delay)*Fn,enable:r.enable,value:D(t.value)*e,max:vn(n)*e,min:ql(n)*e,loops:0,maxLoops:D(r.count),time:0},i=1;if(r.enable){switch(s.decay=i-D(r.decay),r.mode){case Ms.increase:s.status=Ee.increasing;break;case Ms.decrease:s.status=Ee.decreasing;break;case Ms.random:s.status=Se()>=ss?Ee.increasing:Ee.decreasing;break}const o=r.mode===Ms.auto;switch(r.startValue){case Gi.min:s.value=s.min,o&&(s.status=Ee.increasing);break;case Gi.max:s.value=s.max,o&&(s.status=Ee.decreasing);break;case Gi.random:default:s.value=At(s),o&&(s.status=Se()>=ss?Ee.increasing:Ee.decreasing);break}}return s.initialValue=s.value,s}function Jj(t,e,n,r,s){switch(e){case xo.max:n>=s&&t.destroy();break;case xo.min:n<=r&&t.destroy();break}}function $h(t,e,n,r,s){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const d=(e.velocity??0)*s.factor,h=e.min,f=e.max,p=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=s.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case Ee.increasing:e.value>=f?(n?e.status=Ee.decreasing:e.value-=f,e.loops||(e.loops=0),e.loops++):e.value+=d;break;case Ee.decreasing:e.value<=h?(n?e.status=Ee.increasing:e.value+=f,e.loops||(e.loops=0),e.loops++):e.value-=d}e.velocity&&p!==1&&(e.velocity*=p),Jj(t,r,e.value,h,f),t.destroyed||(e.value=un(e.value,h,f))}}var am;(function(t){t.darken="darken",t.enlighten="enlighten"})(am||(am={}));function Qj(t,e){if(e){for(const n of t.colorManagers.values())if(e.startsWith(n.stringPrefix))return n.parseString(e)}}function is(t,e,n,r=!0){if(!e)return;const s=ri(e)?{value:e}:e;if(ri(s.value))return iw(t,s.value,n,r);if(qn(s.value))return is(t,{value:Wl(s.value,n,r)});for(const i of t.colorManagers.values()){const o=i.handleRangeColor(s);if(o)return o}}function iw(t,e,n,r=!0){if(!e)return;const s=ri(e)?{value:e}:e;if(ri(s.value))return s.value===yl?aw():Yj(t,s.value);if(qn(s.value))return iw(t,{value:Wl(s.value,n,r)});for(const i of t.colorManagers.values()){const o=i.handleColor(s);if(o)return o}}function Dh(t,e,n,r=!0){const s=is(t,e,n,r);return s?ow(s):void 0}function ow(t){const e=t.r/Aa,n=t.g/Aa,r=t.b/Aa,s=Math.max(e,n,r),i=Math.min(e,n,r),o={h:Zp,l:(s+i)*ss,s:hd};return s!==i&&(o.s=o.l<ss?(s-i)/(s+i):(s-i)/(In-s-i),o.h=e===s?(n-r)/(s-i):o.h=n===s?In+(r-e)/(s-i):In*In+(e-n)/(s-i)),o.l*=dd,o.s*=ud,o.h*=Nj,o.h<Zp&&(o.h+=Hr),o.h>=Hr&&(o.h-=Hr),o}function Yj(t,e){return Qj(t,e)}function si(t){const e=(t.h%Hr+Hr)%Hr,n=Math.max(hd,Math.min(ud,t.s)),r=Math.max(Mj,Math.min(dd,t.l)),s=e/Hr,i=n/ud,o=r/dd;if(n===hd){const y=Math.round(o*Tr);return{r:y,g:y,b:y}}const a=(y,w,x)=>{if(x<0&&x++,x>1&&x--,x*Vc<1)return y+(w-y)*Vc*x;if(x*In<1)return w;if(x*Bc<1*In){const v=In/Bc;return y+(w-y)*(v-x)*Vc}return y},l=o<ss?o*(Lj+i):o+i-o*i,c=In*o-l,d=Aj/Bc,h=Math.min(Tr,Tr*a(c,l,s+d)),f=Math.min(Tr,Tr*a(c,l,s)),p=Math.min(Tr,Tr*a(c,l,s-d));return{r:Math.round(h),g:Math.round(f),b:Math.round(p)}}function Xj(t){const e=si(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function aw(t){const e=zj,n=Aa+Ij;return{b:Math.floor(At(Ut(e,n))),g:Math.floor(At(Ut(e,n))),r:Math.floor(At(Ut(e,n)))}}function bo(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??Zv})`}function pd(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??Zv})`}function Uh(t,e,n,r){let s=t,i=e;return s.r===void 0&&(s=si(t)),i.r===void 0&&(i=si(e)),{b:qc(s.b,i.b,n,r),g:qc(s.g,i.g,n,r),r:qc(s.r,i.r,n,r)}}function md(t,e,n){if(n===yl)return aw();if(n===La){const r=t.getFillColor()??t.getStrokeColor(),s=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(r&&s&&e)return Uh(r,s,t.getRadius(),e.getRadius());{const i=r??s;if(i)return si(i)}}else return n}function lw(t,e,n,r){const s=ri(e)?e:e.value;return s===yl?r?is(t,{value:s}):n?yl:La:s===La?La:is(t,{value:s})}function cw(t,e,n){const r={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Wc(r.h,e.h,n),Wc(r.s,e.s,n),Wc(r.l,e.l,n)),r}function Wc(t,e,n){t.enable=e.enable,t.enable?(t.velocity=D(e.speed)/Vl*n,t.decay=Oj-D(e.decay),t.status=Ee.increasing,t.loops=Dj,t.maxLoops=D(e.count),t.time=Uj,t.delayTime=D(e.delay)*Fn,e.sync||(t.velocity*=Se(),t.value*=Se()),t.initialValue=t.value,t.offset=Ut(e.offset)):t.velocity=$j}function Hc(t,e,n,r){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=r.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const d=t.offset?At(t.offset):0,h=(t.velocity??0)*r.factor+d*3.6,f=t.decay??1,p=vn(e),y=ql(e);!n||t.status===Ee.increasing?(t.value+=h,t.value>p&&(t.loops||(t.loops=0),t.loops++,n?t.status=Ee.decreasing:t.value-=p)):(t.value-=h,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=Ee.increasing)),t.velocity&&f!==1&&(t.velocity*=f),t.value=un(t.value,y,p)}function uw(t,e){if(!t)return;const{h:n,s:r,l:s}=t,i={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&Hc(n,i.h,!1,e),r&&Hc(r,i.s,!0,e),s&&Hc(s,i.l,!0,e)}function Ki(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}class Bn{constructor(){this.value=""}static create(e,n){const r=new Bn;return r.load(e),n!==void 0&&(ri(n)||qn(n)?r.load({value:n}):r.load(n)),r}load(e){ee(e)||ee(e.value)||(this.value=e.value)}}var _o;(function(t){t.circle="circle",t.rectangle="rectangle"})(_o||(_o={}));var Ji;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Ji||(Ji={}));class Fh{constructor(){this.value=0}load(e){ee(e)||ee(e.value)||(this.value=Ut(e.value))}}var Be;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(Be||(Be={}));var wl;(function(t){t.external="external",t.particles="particles"})(wl||(wl={}));var fr;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(fr||(fr={}));var Hs;(function(t){t.circle="circle",t.rectangle="rectangle"})(Hs||(Hs={}));class dw{constructor(e,n,r){this.position={x:e,y:n},this.type=r}}class it extends dw{constructor(e,n,r){super(e,n,Hs.circle),this.radius=r}contains(e){return an(e,this.position)<=this.radius}intersects(e){const n=this.position,r=e.position,s={x:Math.abs(r.x-n.x),y:Math.abs(r.y-n.y)},i=this.radius;if(e instanceof it||e.type===Hs.circle){const o=e,a=i+o.radius,l=Math.sqrt(s.x**Ur+s.y**Ur);return a>l}else if(e instanceof kr||e.type===Hs.rectangle){const o=e,{width:a,height:l}=o.size;return Math.pow(s.x-a,Ur)+Math.pow(s.y-l,Ur)<=i**Ur||s.x<=i+a&&s.y<=i+l||s.x<=a||s.y<=l}return!1}}class kr extends dw{constructor(e,n,r,s){super(e,n,Hs.rectangle),this.size={height:s,width:r}}contains(e){const n=this.size.width,r=this.size.height,s=this.position;return e.x>=s.x&&e.x<=s.x+n&&e.y>=s.y&&e.y<=s.y+r}intersects(e){if(e instanceof it)return e.intersects(this);const n=this.size.width,r=this.size.height,s=this.position,i=e.position,o=e instanceof kr?e.size:{width:0,height:0},a=o.width,l=o.height;return i.x<s.x+n&&i.x+a>s.x&&i.y<s.y+r&&i.y+l>s.y}}class kn{constructor(e){this.type=wl.external,this.container=e}}class Bh{constructor(e){this.type=wl.particles,this.container=e}}var en;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(en||(en={}));var Jr;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(Jr||(Jr={}));const gd=.5,Zj=2,rr=0,tn=1,lm=60,cm=0,eE=.01,tE=Math.PI*Zj;function nE(t){const e=t.initialPosition,{dx:n,dy:r}=st(e,t.position),s=Math.abs(n),i=Math.abs(r),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!a&&!l)return;const c=(a&&s>=a)??!1,d=(l&&i>=l)??!1;if((c||d)&&!t.misplaced)t.misplaced=!!a&&s>a||!!l&&i>l,a&&(t.velocity.x=t.velocity.y*gd-t.velocity.x),l&&(t.velocity.y=t.velocity.x*gd-t.velocity.y);else if((!a||s<a)&&(!l||i<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const h=t.position,f=t.velocity;a&&(h.x<e.x&&f.x<rr||h.x>e.x&&f.x>rr)&&(f.x*=-Se()),l&&(h.y<e.y&&f.y<rr||h.y>e.y&&f.y>rr)&&(f.y*=-Se())}}function rE(t,e,n,r,s,i,o){iE(t,o);const a=t.gravity,l=a!=null&&a.enable&&a.inverse?-tn:tn;s&&n&&(t.velocity.x+=s*o.factor/(lm*n)),a!=null&&a.enable&&n&&(t.velocity.y+=l*(a.acceleration*o.factor)/(lm*n));const c=t.moveDecay;t.velocity.multTo(c);const d=t.velocity.mult(n);a!=null&&a.enable&&r>rr&&(!a.inverse&&d.y>=rr&&d.y>=r||a.inverse&&d.y<=rr&&d.y<=-r)&&(d.y=l*r,n&&(t.velocity.y=d.y/n));const h=t.options.zIndex,f=(tn-t.zIndexFactor)**h.velocityRate;d.multTo(f),d.multTo(i);const{position:p}=t;p.addTo(d),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y))*i,p.y+=Math.cos(p.y*Math.sin(p.x))*i)}function sE(t,e,n){const r=t.container;if(!t.spin)return;const s=t.spin.direction===en.clockwise,i={x:s?Math.cos:Math.sin,y:s?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle)*n,t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle)*n,t.spin.radius+=t.spin.acceleration*n;const o=Math.max(r.canvas.size.width,r.canvas.size.height),a=o*gd;t.spin.radius>a?(t.spin.radius=a,t.spin.acceleration*=-tn):t.spin.radius<cm&&(t.spin.radius=cm,t.spin.acceleration*=-tn),t.spin.angle+=e*eE*(tn-t.spin.radius/o)}function iE(t,e){var o;const n=t.options,r=n.move.path;if(!r.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const i=(o=t.pathGenerator)==null?void 0:o.generate(t,e);i&&t.velocity.addTo(i),r.clamp&&(t.velocity.x=un(t.velocity.x,-tn,tn),t.velocity.y=un(t.velocity.y,-tn,tn)),t.lastPathTime-=t.pathDelay}function oE(t){return t.slow.inRange?t.slow.factor:tn}function aE(t){const e=t.container,n=t.options,r=n.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},i=.01,o={x:s.x*i*e.canvas.size.width,y:s.y*i*e.canvas.size.height},a=t.getPosition(),l=an(a,o),c=D(r.acceleration);t.retina.spinAcceleration=c*e.retina.pixelRatio,t.spin={center:o,direction:t.velocity.x>=rr?en.clockwise:en.counterClockwise,angle:Se()*tE,radius:l,acceleration:t.retina.spinAcceleration}}const lE=2,cE=1,uE=1;class dE{init(e){const n=e.options,r=n.move.gravity;e.gravity={enable:r.enable,acceleration:D(r.acceleration),inverse:r.inverse},aE(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var x,g;const r=e.options,s=r.move;if(!s.enable)return;const i=e.container,o=i.retina.pixelRatio;(x=e.retina).moveSpeed??(x.moveSpeed=D(s.speed)*o),(g=e.retina).moveDrift??(g.moveDrift=D(e.options.move.drift)*o);const a=oE(e),l=i.retina.reduceFactor,c=e.retina.moveSpeed,d=e.retina.moveDrift,h=vn(r.size.value)*o,f=s.size?e.getRadius()/h:cE,p=n.factor||uE,y=c*f*a*p/lE,w=e.retina.maxSpeed??i.retina.maxSpeed;s.spin.enable?sE(e,y,l):rE(e,s,y,w,d,l,n),nE(e)}}async function hE(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new dE),e)}const fE=2,pE=Math.PI*fE,mE=0,um={x:0,y:0};function gE(t){const{context:e,particle:n,radius:r}=t;n.circleRange||(n.circleRange={min:mE,max:pE});const s=n.circleRange;e.arc(um.x,um.y,r,s.min,s.max,!1)}const yE=12,vE=360,dm=0;class wE{constructor(){this.validTypes=["circle"]}draw(e){gE(e)}getSidesCount(){return yE}particleInit(e,n){const r=n.shapeData,s=(r==null?void 0:r.angle)??{max:vE,min:dm};n.circleRange=Oi(s)?{min:Hi(s.min),max:Hi(s.max)}:{min:dm,max:Hi(s)}}}async function xE(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new wE,e)}class bE{constructor(e,n){this._container=e,this._engine=n}init(e){const n=Dh(this._engine,e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=cw(n,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:n,s:r,l:s}=e.options.color.animation,{color:i}=e;return!e.destroyed&&!e.spawning&&((i==null?void 0:i.h.value)!==void 0&&n.enable||(i==null?void 0:i.s.value)!==void 0&&r.enable||(i==null?void 0:i.l.value)!==void 0&&s.enable)}update(e,n){uw(e.color,n)}}async function _E(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",n=>Promise.resolve(new bE(n,t)),e)}var Fr;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(Fr||(Fr={}));const kE=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,SE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,ha=16,jE=1,EE=255;class CE{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const n=e.replace(kE,(s,i,o,a,l)=>i+i+o+o+a+a+(l!==void 0?l+l:"")),r=SE.exec(n);return r?{a:r[Fr.a]!==void 0?parseInt(r[Fr.a],ha)/EE:jE,b:parseInt(r[Fr.b],ha),g:parseInt(r[Fr.g],ha),r:parseInt(r[Fr.r],ha)}:void 0}}async function PE(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new CE,e)}var Ls;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(Ls||(Ls={}));class TE{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.s!==void 0&&r.l!==void 0)return si(r)}handleRangeColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.l!==void 0)return si({h:D(r.h),l:D(r.l),s:D(r.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,r=n.exec(e),s=4,i=1,o=10;return r?Xj({a:r.length>s?ew(r[Ls.a]):i,h:parseInt(r[Ls.h],o),l:parseInt(r[Ls.l],o),s:parseInt(r[Ls.s],o)}):void 0}}async function NE(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new TE,e)}class RE{constructor(e){this.container=e}init(e){const n=e.options.opacity,r=1;e.opacity=Kj(n,r);const s=n.animation;s.enable&&(e.opacity.velocity=D(s.speed)/Vl*this.container.retina.reduceFactor,s.sync||(e.opacity.velocity*=Se()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||$h(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function OE(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",n=>Promise.resolve(new RE(n)),e)}const xl=0,Gs=0;function IE(t){if(t.outMode!==Be.bounce&&t.outMode!==Be.split||t.direction!==V.left&&t.direction!==V.right)return;t.bounds.right<Gs&&t.direction===V.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===V.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===V.right&&t.bounds.right>=t.canvasSize.width&&e>xl||t.direction===V.left&&t.bounds.left<=Gs&&e<xl){const s=D(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-s,n=!0}if(!n)return;const r=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===V.right?t.particle.position.x=t.canvasSize.width-r:t.bounds.left<=Gs&&t.direction===V.left&&(t.particle.position.x=r),t.outMode===Be.split&&t.particle.destroy()}function ME(t){if(t.outMode!==Be.bounce&&t.outMode!==Be.split||t.direction!==V.bottom&&t.direction!==V.top)return;t.bounds.bottom<Gs&&t.direction===V.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===V.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===V.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>xl||t.direction===V.top&&t.bounds.top<=Gs&&e<xl){const s=D(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-s,n=!0}if(!n)return;const r=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===V.bottom?t.particle.position.y=t.canvasSize.height-r:t.bounds.top<=Gs&&t.direction===V.top&&(t.particle.position.y=r),t.outMode===Be.split&&t.particle.destroy()}class LE{constructor(e){this.container=e,this.modes=[Be.bounce,Be.split]}update(e,n,r,s){if(!this.modes.includes(s))return;const i=this.container;let o=!1;for(const f of i.plugins.values())if(f.particleBounce!==void 0&&(o=f.particleBounce(e,r,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),d=Mo(a,c),h=i.canvas.size;IE({particle:e,outMode:s,direction:n,bounds:d,canvasSize:h,offset:l,size:c}),ME({particle:e,outMode:s,direction:n,bounds:d,canvasSize:h,offset:l,size:c})}}const fa=0;class AE{constructor(e){this.container=e,this.modes=[Be.destroy]}update(e,n,r,s){if(!this.modes.includes(s))return;const i=this.container;switch(e.outType){case fr.normal:case fr.outside:if(Lh(e.position,i.canvas.size,Ye.origin,e.getRadius(),n))return;break;case fr.inside:{const{dx:o,dy:a}=st(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<fa&&o>e.moveCenter.radius||c<fa&&a>e.moveCenter.radius||l>=fa&&o<-e.moveCenter.radius||c>=fa&&a<-e.moveCenter.radius)return;break}}i.particles.remove(e,e.group,!0)}}const pa=0;class zE{constructor(e){this.container=e,this.modes=[Be.none]}update(e,n,r,s){if(!this.modes.includes(s)||((e.options.move.distance.horizontal&&(n===V.left||n===V.right))??(e.options.move.distance.vertical&&(n===V.top||n===V.bottom))))return;const i=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(i.enable){const c=e.position;(!i.inverse&&c.y>a.height+l&&n===V.bottom||i.inverse&&c.y<-l&&n===V.top)&&o.particles.remove(e)}else{if(e.velocity.y>pa&&e.position.y<=a.height+l||e.velocity.y<pa&&e.position.y>=-l||e.velocity.x>pa&&e.position.x<=a.width+l||e.velocity.x<pa&&e.position.x>=-l)return;Lh(e.position,o.canvas.size,Ye.origin,l,n)||o.particles.remove(e)}}}const ma=0,ga=0;class $E{constructor(e){this.container=e,this.modes=[Be.out]}update(e,n,r,s){if(!this.modes.includes(s))return;const i=this.container;switch(e.outType){case fr.inside:{const{x:o,y:a}=e.velocity,l=Ye.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(Ye.create(e.moveCenter));const{dx:c,dy:d}=st(e.position,l);if(o<=ma&&c>=ga||a<=ma&&d>=ga||o>=ma&&c<=ga||a>=ma&&d<=ga)return;e.position.x=Math.floor(At({min:0,max:i.canvas.size.width})),e.position.y=Math.floor(At({min:0,max:i.canvas.size.height}));const{dx:h,dy:f}=st(e.position,e.moveCenter);e.direction=Math.atan2(-f,-h),e.velocity.angle=e.direction;break}default:{if(Lh(e.position,i.canvas.size,Ye.origin,e.getRadius(),n))return;switch(e.outType){case fr.outside:{e.position.x=Math.floor(At({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(At({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=st(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case fr.normal:{const o=e.options.move.warp,a=i.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),d=Mo(e.position,c);n===V.right&&d.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=Se()*a.height,e.initialPosition.y=e.position.y)):n===V.left&&d.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=Se()*a.height,e.initialPosition.y=e.position.y)),n===V.bottom&&d.top>a.height+e.offset.y?(o||(e.position.x=Se()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n===V.top&&d.bottom<-e.offset.y&&(o||(e.position.x=Se()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const DE=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class UE{constructor(e){this._addUpdaterIfMissing=(n,r,s)=>{const i=n.options.move.outModes;!this.updaters.has(r)&&DE(i,r)&&this.updaters.set(r,s(this.container))},this._updateOutMode=(n,r,s,i)=>{for(const o of this.updaters.values())o.update(n,i,r,s)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Be.bounce,n=>new LE(n)),this._addUpdaterIfMissing(e,Be.out,n=>new $E(n)),this._addUpdaterIfMissing(e,Be.destroy,n=>new AE(n)),this._addUpdaterIfMissing(e,Be.none,n=>new zE(n))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const r=e.options.move.outModes;this._updateOutMode(e,n,r.bottom??r.default,V.bottom),this._updateOutMode(e,n,r.left??r.default,V.left),this._updateOutMode(e,n,r.right??r.default,V.right),this._updateOutMode(e,n,r.top??r.default,V.top)}}async function FE(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",n=>Promise.resolve(new UE(n)),e)}var As;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(As||(As={}));class BE{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return r}handleRangeColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return{r:D(r.r),g:D(r.g),b:D(r.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,r=n.exec(e),s=10;return r?{a:r.length>4?ew(r[As.a]):1,b:parseInt(r[As.b],s),g:parseInt(r[As.g],s),r:parseInt(r[As.r],s)}:void 0}}async function VE(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new BE,e)}const Nr=0;class qE{init(e){const n=e.container,r=e.options.size,s=r.animation;s.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/Vl*n.retina.reduceFactor,s.sync||(e.size.velocity*=Se()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Nr)<=Nr||(e.size.maxLoops??Nr)>Nr&&(e.size.loops??Nr)<(e.size.maxLoops??Nr))}reset(e){e.size.loops=Nr}update(e,n){this.isEnabled(e)&&$h(e,e.size,!0,e.options.size.animation.destroy,n)}}async function WE(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new qE),e)}async function HE(t,e=!0){t.checkVersion("3.9.1"),await PE(t,!1),await NE(t,!1),await VE(t,!1),await hE(t,!1),await xE(t,!1),await _E(t,!1),await OE(t,!1),await FE(t,!1),await WE(t,!1),await t.refresh(e)}async function GE(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing(Jr.easeInQuad,n=>n**2,!1),await t.addEasing(Jr.easeOutQuad,n=>1-(1-n)**2,!1),await t.addEasing(Jr.easeInOutQuad,n=>n<.5?2*n**2:1-(-2*n+2)**2/2,!1),await t.refresh(e)}function KE(t,e){const{context:n,opacity:r}=t,s=.5,i=n.globalAlpha;if(!e)return;const o=e.width,a=o*s;n.globalAlpha=r,n.drawImage(e,-a,-a,o,o),n.globalAlpha=i}const Gc='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',hm=0;class JE{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&(n==null||n.close()),this._emojiShapeDict.delete(e)}draw(e){const n=e.particle.emojiDataKey;if(!n)return;const r=this._emojiShapeDict.get(n);r&&KE(e,r)}async init(e){const n=e.actualOptions,{validTypes:r}=this;if(!r.find(o=>Te(o,n.particles.shape.type)))return;const s=[om(Gc)],i=r.map(o=>n.particles.shape.options[o]).find(o=>!!o);i&&_r(i,o=>{o.font&&s.push(om(o.font))}),await Promise.all(s)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,n){const s=n.shapeData;if(!(s!=null&&s.value))return;const i=Hl(s.value,n.randomIndexData);if(!i)return;const o=typeof i=="string"?{font:s.font??Gc,padding:s.padding??hm,value:i}:{font:Gc,padding:hm,...s,...i},a=o.font,l=o.value,c=`${l}_${a}`;if(this._emojiShapeDict.has(c)){n.emojiDataKey=c;return}const d=o.padding*2,h=vn(n.size.value),f=h+d,p=f*2;let y;if(typeof OffscreenCanvas<"u"){const w=new OffscreenCanvas(p,p),x=w.getContext("2d");if(!x)return;x.font=`400 ${h*2}px ${a}`,x.textBaseline="middle",x.textAlign="center",x.fillText(l,f,f),y=w.transferToImageBitmap()}else{const w=document.createElement("canvas");w.width=p,w.height=p;const x=w.getContext("2d");if(!x)return;x.font=`400 ${h*2}px ${a}`,x.textBaseline="middle",x.textAlign="center",x.fillText(l,f,f),y=w}this._emojiShapeDict.set(c,y),n.emojiDataKey=c}}async function QE(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new JE,e)}const YE=1,XE=1,hw=0;function fw(t,e,n,r,s,i){const o=e.actualOptions.interactivity.modes.attract;if(!o)return;const a=e.particles.quadTree.query(s,i);for(const l of a){const{dx:c,dy:d,distance:h}=st(l.position,n),f=o.speed*o.factor,p=un(t.getEasing(o.easing)(XE-h/r)*f,YE,o.maxSpeed),y=Ye.create(h?c/h*p:f,h?d/h*p:f);l.position.subFrom(y)}}function ZE(t,e,n){e.attract||(e.attract={particles:[]});const{attract:r}=e;if(r.finish||(r.count||(r.count=0),r.count++,r.count===e.particles.count&&(r.finish=!0)),r.clicking){const s=e.interactivity.mouse.clickPosition,i=e.retina.attractModeDistance;if(!i||i<hw||!s)return;fw(t,e,s,i,new it(s.x,s.y,i),o=>n(o))}else r.clicking===!1&&(r.particles=[])}function eC(t,e,n){const r=e.interactivity.mouse.position,s=e.retina.attractModeDistance;!s||s<hw||!r||fw(t,e,r,s,new it(r.x,r.y,s),i=>n(i))}class tC{constructor(){this.distance=200,this.duration=.4,this.easing=Jr.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){ee(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const ji="attract";let nC=class extends kn{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=r=>{const s=this.container.actualOptions,i=s.interactivity.modes.attract;if(!(!i||r!==ji)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},i.duration*Fn)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,r=e.interactivity.status===Oo,s=n.interactivity.events,{enable:i,mode:o}=s.onHover,{enable:a,mode:l}=s.onClick;r&&i&&Te(ji,o)?eC(this._engine,this.container,c=>this.isEnabled(c)):a&&Te(ji,l)&&ZE(this._engine,this.container,c=>this.isEnabled(c))}isEnabled(e){const n=this.container,r=n.actualOptions,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??r.interactivity).events;if((!s.position||!i.onHover.enable)&&(!s.clickPosition||!i.onClick.enable))return!1;const o=i.onHover.mode,a=i.onClick.mode;return Te(ji,o)||Te(ji,a)}loadModeOptions(e,...n){e.attract||(e.attract=new tC);for(const r of n)e.attract.load(r==null?void 0:r.attract)}reset(){}};async function rC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",n=>Promise.resolve(new nC(t,n)),e)}const sC=2,za=.5,iC=Math.PI*za,fm=2,pw=10,oC=0;function mw(t,e,n,r,s){const i=t.particles.quadTree.query(r,s);for(const o of i)r instanceof it?rw(fd(o),{position:e,mass:n**sC*iC,velocity:Ye.origin,factor:Ye.origin}):r instanceof kr&&Gj(o,Mo(e,n))}function aC(t,e,n,r){const s=document.querySelectorAll(e);s.length&&s.forEach(i=>{const o=i,a=t.retina.pixelRatio,l={x:(o.offsetLeft+o.offsetWidth*za)*a,y:(o.offsetTop+o.offsetHeight*za)*a},c=o.offsetWidth*za*a,d=pw*a,h=n.type===_o.circle?new it(l.x,l.y,c+d):new kr(o.offsetLeft*a-d,o.offsetTop*a-d,o.offsetWidth*a+d*fm,o.offsetHeight*a+d*fm);r(l,c,h)})}function lC(t,e,n,r){zh(n,e,(s,i)=>aC(t,s,i,(o,a,l)=>mw(t,o,a,l,r)))}function cC(t,e){const n=t.retina.pixelRatio,r=pw*n,s=t.interactivity.mouse.position,i=t.retina.bounceModeDistance;!i||i<oC||!s||mw(t,s,i,new it(s.x,s.y,i+r),e)}class uC{constructor(){this.distance=200}load(e){ee(e)||e.distance!==void 0&&(this.distance=e.distance)}}const ya="bounce";class dC extends kn{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,r=n.interactivity.events,s=e.interactivity.status===Oo,i=r.onHover.enable,o=r.onHover.mode,a=r.onDiv;s&&i&&Te(ya,o)?cC(this.container,l=>this.isEnabled(l)):lC(this.container,a,ya,l=>this.isEnabled(l))}isEnabled(e){const n=this.container,r=n.actualOptions,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??r.interactivity).events,o=i.onDiv;return!!s.position&&i.onHover.enable&&Te(ya,i.onHover.mode)||Ah(ya,o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new uC);for(const r of n)e.bounce.load(r==null?void 0:r.bounce)}reset(){}}async function hC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",n=>Promise.resolve(new dC(n)),e)}class gw{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!ee(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=qn(this.color)?void 0:this.color;this.color=_r(e.color,r=>Bn.create(n,r))}e.size!==void 0&&(this.size=e.size)}}}class fC extends gw{constructor(){super(),this.selectors=[]}load(e){super.load(e),!ee(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class pC extends gw{load(e){super.load(e),!ee(e)&&(this.divs=_r(e.divs,n=>{const r=new fC;return r.load(n),r}))}}var mn;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(mn||(mn={}));function pm(t,e,n,r){if(e>=n){const s=t+(e-n)*r;return un(s,t,e)}else if(e<n){const s=t-(n-e)*r;return un(s,e,t)}}const Rr="bubble",Kc=0,mC=0,gC=2,mm=1,gm=1,yC=0,vC=0,Jc=.5,Qc=1;class wC extends kn{constructor(e,n){super(e),this._clickBubble=()=>{var d;const r=this.container,s=r.actualOptions,i=r.interactivity.mouse.clickPosition,o=s.interactivity.modes.bubble;if(!o||!i)return;r.bubble||(r.bubble={});const a=r.retina.bubbleModeDistance;if(!a||a<Kc)return;const l=r.particles.quadTree.queryCircle(i,a,h=>this.isEnabled(h)),{bubble:c}=r;for(const h of l){if(!c.clicking)continue;h.bubble.inRange=!c.durationEnd;const f=h.getPosition(),p=an(f,i),y=(new Date().getTime()-(r.interactivity.mouse.clickTime??mC))/Fn;y>o.duration&&(c.durationEnd=!0),y>o.duration*gC&&(c.clicking=!1,c.durationEnd=!1);const w={bubbleObj:{optValue:r.retina.bubbleModeSize,value:h.bubble.radius},particlesObj:{optValue:vn(h.options.size.value)*r.retina.pixelRatio,value:h.size.value},type:mn.size};this._process(h,p,y,w);const x={bubbleObj:{optValue:o.opacity,value:h.bubble.opacity},particlesObj:{optValue:vn(h.options.opacity.value),value:((d=h.opacity)==null?void 0:d.value)??mm},type:mn.opacity};this._process(h,p,y,x),!c.durationEnd&&p<=a?this._hoverBubbleColor(h,p):delete h.bubble.color}},this._hoverBubble=()=>{const r=this.container,s=r.interactivity.mouse.position,i=r.retina.bubbleModeDistance;if(!i||i<Kc||!s)return;const o=r.particles.quadTree.queryCircle(s,i,a=>this.isEnabled(a));for(const a of o){a.bubble.inRange=!0;const l=a.getPosition(),c=an(l,s),d=gm-c/i;c<=i?d>=vC&&r.interactivity.status===Oo&&(this._hoverBubbleSize(a,d),this._hoverBubbleOpacity(a,d),this._hoverBubbleColor(a,d)):this.reset(a),r.interactivity.status===Pj&&this.reset(a)}},this._hoverBubbleColor=(r,s,i)=>{const o=this.container.actualOptions,a=i??o.interactivity.modes.bubble;if(a){if(!r.bubble.finalColor){const l=a.color;if(!l)return;const c=Hl(l);r.bubble.finalColor=Dh(this._engine,c)}if(r.bubble.finalColor)if(a.mix){r.bubble.color=void 0;const l=r.getFillColor();r.bubble.color=l?ow(Uh(l,r.bubble.finalColor,gm-s,s)):r.bubble.finalColor}else r.bubble.color=r.bubble.finalColor}},this._hoverBubbleOpacity=(r,s,i)=>{var f,p;const o=this.container,a=o.actualOptions,l=(i==null?void 0:i.opacity)??((f=a.interactivity.modes.bubble)==null?void 0:f.opacity);if(!l)return;const c=r.options.opacity.value,d=((p=r.opacity)==null?void 0:p.value)??mm,h=pm(d,l,vn(c),s);h!==void 0&&(r.bubble.opacity=h)},this._hoverBubbleSize=(r,s,i)=>{const o=this.container,a=i!=null&&i.size?i.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(a===void 0)return;const l=vn(r.options.size.value)*o.retina.pixelRatio,c=r.size.value,d=pm(c,a,l,s);d!==void 0&&(r.bubble.radius=d)},this._process=(r,s,i,o)=>{const a=this.container,l=o.bubbleObj.optValue,c=a.actualOptions,d=c.interactivity.modes.bubble;if(!d||l===void 0)return;const h=d.duration,f=a.retina.bubbleModeDistance,p=o.particlesObj.optValue,y=o.bubbleObj.value,w=o.particlesObj.value??yC,x=o.type;if(!(!f||f<Kc||l===p))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)y&&(x===mn.size&&delete r.bubble.radius,x===mn.opacity&&delete r.bubble.opacity);else if(s<=f){if((y??w)!==l){const m=w-i*(w-l)/h;x===mn.size&&(r.bubble.radius=m),x===mn.opacity&&(r.bubble.opacity=m)}}else x===mn.size&&delete r.bubble.radius,x===mn.opacity&&delete r.bubble.opacity},this._singleSelectorHover=(r,s,i)=>{const o=this.container,a=document.querySelectorAll(s),l=o.actualOptions.interactivity.modes.bubble;!l||!a.length||a.forEach(c=>{const d=c,h=o.retina.pixelRatio,f={x:(d.offsetLeft+d.offsetWidth*Jc)*h,y:(d.offsetTop+d.offsetHeight*Jc)*h},p=d.offsetWidth*Jc*h,y=i.type===_o.circle?new it(f.x,f.y,p):new kr(d.offsetLeft*h,d.offsetTop*h,d.offsetWidth*h,d.offsetHeight*h),w=o.particles.quadTree.query(y,x=>this.isEnabled(x));for(const x of w){if(!y.contains(x.getPosition()))continue;x.bubble.inRange=!0;const g=l.divs,m=nw(g,d);(!x.bubble.div||x.bubble.div!==d)&&(this.clear(x,r,!0),x.bubble.div=d),this._hoverBubbleSize(x,Qc,m),this._hoverBubbleOpacity(x,Qc,m),this._hoverBubbleColor(x,Qc,m)}})},this._engine=n,e.bubble||(e.bubble={}),this.handleClickMode=r=>{r===Rr&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,r){e.bubble.inRange&&!r||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,r=n.interactivity.events,s=r.onHover,i=r.onClick,o=s.enable,a=s.mode,l=i.enable,c=i.mode,d=r.onDiv;o&&Te(Rr,a)?this._hoverBubble():l&&Te(Rr,c)?this._clickBubble():zh(Rr,d,(h,f)=>this._singleSelectorHover(e,h,f))}isEnabled(e){const n=this.container,r=n.actualOptions,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??r.interactivity).events,{onClick:o,onDiv:a,onHover:l}=i,c=Ah(Rr,a);return c||l.enable&&s.position||o.enable&&s.clickPosition?Te(Rr,l.mode)||Te(Rr,o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new pC);for(const r of n)e.bubble.load(r==null?void 0:r.bubble)}reset(e){e.bubble.inRange=!1}}async function xC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",n=>Promise.resolve(new wC(n,t)),e)}class bC{constructor(){this.opacity=.5}load(e){ee(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class _C{constructor(){this.distance=80,this.links=new bC,this.radius=60}load(e){ee(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const ym=0,vm=1,kC=0;function SC(t,e,n,r){const s=Math.floor(n.getRadius()/e.getRadius()),i=e.getFillColor(),o=n.getFillColor();if(!i||!o)return;const a=e.getPosition(),l=n.getPosition(),c=Uh(i,o,e.getRadius(),n.getRadius()),d=t.createLinearGradient(a.x,a.y,l.x,l.y);return d.addColorStop(ym,pd(i,r)),d.addColorStop(un(s,ym,vm),bo(c,r)),d.addColorStop(vm,pd(o,r)),d}function jC(t,e,n,r,s){Ki(t,r,s),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function EC(t,e,n,r){const s=t.actualOptions,i=s.interactivity.modes.connect;if(i)return SC(e,n,r,i.links.opacity)}function CC(t,e,n){t.canvas.draw(r=>{const s=EC(t,r,e,n);if(!s)return;const i=e.getPosition(),o=n.getPosition();jC(r,e.retina.linksWidth??kC,s,i,o)})}const PC="connect",wm=0;class TC extends kn{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const r=e.interactivity.mouse.position,{connectModeDistance:s,connectModeRadius:i}=e.retina;if(!s||s<wm||!i||i<wm||!r)return;const o=Math.abs(i),a=e.particles.quadTree.queryCircle(r,o,l=>this.isEnabled(l));a.forEach((l,c)=>{const d=l.getPosition(),h=1;for(const f of a.slice(c+h)){const p=f.getPosition(),y=Math.abs(s),w=Math.abs(d.x-p.x),x=Math.abs(d.y-p.y);w<y&&x<y&&CC(e,l,f)}})}}isEnabled(e){const n=this.container,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&r.position?Te(PC,s.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new _C);for(const r of n)e.connect.load(r==null?void 0:r.connect)}reset(){}}async function NC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",n=>Promise.resolve(new TC(n)),e)}class RC{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){ee(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Bn.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class OC{constructor(){this.distance=100,this.links=new RC}load(e){ee(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const IC=0;function MC(t,e,n,r,s,i){Ki(t,n,r),t.strokeStyle=bo(s,i),t.lineWidth=e,t.stroke()}function LC(t,e,n,r,s){t.canvas.draw(i=>{const o=e.getPosition();MC(i,e.retina.linksWidth??IC,o,s,n,r)})}const AC="grab",zC=0,$C=0;class DC extends kn{constructor(e,n){super(e),this._engine=n}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){var a;const e=this.container,n=e.actualOptions,r=n.interactivity;if(!r.modes.grab||!r.events.onHover.enable||e.interactivity.status!==Oo)return;const s=e.interactivity.mouse.position;if(!s)return;const i=e.retina.grabModeDistance;if(!i||i<zC)return;const o=e.particles.quadTree.queryCircle(s,i,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),d=an(c,s);if(d>i)continue;const h=r.modes.grab.links,f=h.opacity,p=f-d*f/i;if(p<=$C)continue;const y=h.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&y){const x=r.modes.grab.links;e.particles.grabLineColor=lw(this._engine,y,x.blink,x.consent)}const w=md(l,void 0,e.particles.grabLineColor);w&&LC(e,l,w,p,s)}}isEnabled(e){const n=this.container,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&!!r.position&&Te(AC,s.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new OC);for(const r of n)e.grab.load(r==null?void 0:r.grab)}reset(){}}async function UC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",n=>Promise.resolve(new DC(n,t)),e)}const FC="pause";class BC extends kn{constructor(e){super(e),this.handleClickMode=n=>{if(n!==FC)return;const r=this.container;r.animationStatus?r.pause():r.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function VC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",n=>Promise.resolve(new BC(n)),e)}class qC{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(ee(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(r=>r)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=Ut(n)),this.particles=_r(e.particles,r=>vl({},r))}}const WC="push",HC=0;class GC extends kn{constructor(e){super(e),this.handleClickMode=n=>{if(n!==WC)return;const r=this.container,s=r.actualOptions,i=s.interactivity.modes.push;if(!i)return;const o=D(i.quantity);if(o<=HC)return;const a=Wl([void 0,...i.groups]),l=a!==void 0?r.actualOptions.particles.groups[a]:void 0,c=Hl(i.particles),d=vl(l,c);r.particles.push(o,r.interactivity.mouse,d,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new qC);for(const r of n)e.push.load(r==null?void 0:r.push)}reset(){}}async function KC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",n=>Promise.resolve(new GC(n)),e)}class JC{constructor(){this.quantity=2}load(e){if(ee(e))return;const n=e.quantity;n!==void 0&&(this.quantity=Ut(n))}}const QC="remove";class YC extends kn{constructor(e){super(e),this.handleClickMode=n=>{const r=this.container,s=r.actualOptions;if(!s.interactivity.modes.remove||n!==QC)return;const i=D(s.interactivity.modes.remove.quantity);r.particles.removeQuantity(i)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new JC);for(const r of n)e.remove.load(r==null?void 0:r.remove)}reset(){}}async function XC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",n=>Promise.resolve(new YC(n)),e)}class yw{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=Jr.easeOutQuad}load(e){ee(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class ZC extends yw{constructor(){super(),this.selectors=[]}load(e){super.load(e),!ee(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class eP extends yw{load(e){super.load(e),!ee(e)&&(this.divs=_r(e.divs,n=>{const r=new ZC;return r.load(n),r}))}}const Or="repulse",tP=0,nP=6,rP=3,sP=2,iP=0,oP=0,aP=1,Yc=.5;class lP extends kn{constructor(e,n){super(n),this._clickRepulse=()=>{const r=this.container,s=r.actualOptions.interactivity.modes.repulse;if(!s)return;const i=r.repulse??{particles:[]};if(i.finish||(i.count||(i.count=0),i.count++,i.count===r.particles.count&&(i.finish=!0)),i.clicking){const o=r.retina.repulseModeDistance;if(!o||o<tP)return;const a=Math.pow(o/nP,rP),l=r.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new it(l.x,l.y,a),d=r.particles.quadTree.query(c,h=>this.isEnabled(h));for(const h of d){const{dx:f,dy:p,distance:y}=st(l,h.position),w=y**sP,x=s.speed,g=-a*x/w;if(w<=a){i.particles.push(h);const m=Ye.create(f,p);m.length=g,h.velocity.setTo(m)}}}else if(i.clicking===!1){for(const o of i.particles)o.velocity.setTo(o.initialVelocity);i.particles=[]}},this._hoverRepulse=()=>{const r=this.container,s=r.interactivity.mouse.position,i=r.retina.repulseModeDistance;!i||i<iP||!s||this._processRepulse(s,i,new it(s.x,s.y,i))},this._processRepulse=(r,s,i,o)=>{const a=this.container,l=a.particles.quadTree.query(i,x=>this.isEnabled(x)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;const{easing:d,speed:h,factor:f,maxSpeed:p}=c,y=this._engine.getEasing(d),w=((o==null?void 0:o.speed)??h)*f;for(const x of l){const{dx:g,dy:m,distance:v}=st(x.position,r),b=un(y(aP-v/s)*w,oP,p),k=Ye.create(v?g/v*b:w,v?m/v*b:w);x.position.addTo(k)}},this._singleSelectorRepulse=(r,s)=>{const i=this.container,o=i.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(r);a.length&&a.forEach(l=>{const c=l,d=i.retina.pixelRatio,h={x:(c.offsetLeft+c.offsetWidth*Yc)*d,y:(c.offsetTop+c.offsetHeight*Yc)*d},f=c.offsetWidth*Yc*d,p=s.type===_o.circle?new it(h.x,h.y,f):new kr(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),y=o.divs,w=nw(y,c);this._processRepulse(h,f,p,w)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=r=>{const s=this.container.actualOptions,i=s.interactivity.modes.repulse;if(!i||r!==Or)return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},i.duration*Fn)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,r=e.interactivity.status===Oo,s=n.interactivity.events,i=s.onHover,o=i.enable,a=i.mode,l=s.onClick,c=l.enable,d=l.mode,h=s.onDiv;r&&o&&Te(Or,a)?this._hoverRepulse():c&&Te(Or,d)?this._clickRepulse():zh(Or,h,(f,p)=>this._singleSelectorRepulse(f,p))}isEnabled(e){const n=this.container,r=n.actualOptions,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??r.interactivity).events,o=i.onDiv,a=i.onHover,l=i.onClick,c=Ah(Or,o);if(!(c||a.enable&&s.position||l.enable&&s.clickPosition))return!1;const d=a.mode,h=l.mode;return Te(Or,d)||Te(Or,h)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new eP);for(const r of n)e.repulse.load(r==null?void 0:r.repulse)}reset(){}}async function cP(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",n=>Promise.resolve(new lP(t,n)),e)}class uP{constructor(){this.factor=3,this.radius=200}load(e){ee(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const dP="slow",hP=0;class fP extends kn{constructor(e){super(e)}clear(e,n,r){e.slow.inRange&&!r||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&!!r.position&&Te(dP,s.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new uP);for(const r of n)e.slow.load(r==null?void 0:r.slow)}reset(e){e.slow.inRange=!1;const n=this.container,r=n.actualOptions,s=n.interactivity.mouse.position,i=n.retina.slowModeRadius,o=r.interactivity.modes.slow;if(!o||!i||i<hP||!s)return;const a=e.getPosition(),l=an(s,a),c=l/i,d=o.factor,{slow:h}=e;l>i||(h.inRange=!0,h.factor=c/d)}}async function pP(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",n=>Promise.resolve(new fP(n)),e)}const mP=0,gP=1,yP=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function vP(t,e,n){const{svgData:r}=t;if(!r)return"";const s=pd(e,n);if(r.includes("fill"))return r.replace(yP,()=>s);const i=r.indexOf(">");return`${r.substring(mP,i)} fill="${s}"${r.substring(i)}`}async function Gl(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,tw().error(`${ni} loading image: ${t.source}`),e()}),n.src=t.source})}async function wP(t){if(t.type!=="svg"){await Gl(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(tw().error(`${ni} Image not found`),t.error=!0),t.loading=!1}function xP(t,e,n,r){var o;const s=vP(t,n,((o=r.opacity)==null?void 0:o.value)??gP),i={color:n,gif:e.gif,data:{...t,svgData:s},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const l=new Blob([s],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,d=c.createObjectURL(l),h=new Image;h.addEventListener("load",()=>{i.loaded=!0,i.element=h,a(i),c.revokeObjectURL(d)});const f=async()=>{c.revokeObjectURL(d);const p={...t,error:!1,loading:!0};await Gl(p),i.loaded=!0,i.element=p.element,a(i)};h.addEventListener("error",()=>void f()),h.src=d})}const Xc=[0,4,2,1],xm=[8,8,4,2];class bP{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((r,s)=>r+String.fromCharCode(s),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const r=0,s=0;do{n=this.data[this.pos++];for(let i=n;--i>=r;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==s);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const r=0,s=1;for(let o=0;e!==r;o+=e+s,e=this.data[this.pos+o])n+=e;const i=new Uint8Array(n);e=this.data[this.pos++];for(let o=0;e!==r;e=this.data[this.pos++])for(let a=e;--a>=r;i[o++]=this.data[this.pos++]);return i}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var Yt;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(Yt||(Yt={}));var Mn;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(Mn||(Mn={}));const dt={x:0,y:0},_P=0,bm=.5,kP=0,_m=0,yd=0;function vw(t,e){const n=[];for(let r=0;r<e;r++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function SP(t,e,n,r){switch(t.nextByte()){case Mn.GraphicsControlExtension:{const s=e.frames[n(!1)];t.pos++;const i=t.nextByte();s.GCreserved=(i&224)>>>5,s.disposalMethod=(i&28)>>>2,s.userInputDelayFlag=(i&2)===2;const o=(i&1)===1;s.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&r(a),t.pos++;break}case Mn.ApplicationExtension:{t.pos++;const s={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(s);break}case Mn.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case Mn.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function jP(t,e,n,r,s,i){const o=e.frames[r(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const d=1<<(a&7)+1;l&&(o.localColorTable=vw(t,d));const h=g=>{const{r:m,g:v,b}=(l?o.localColorTable:e.globalColorTable)[g];return g!==s(null)?{r:m,g:v,b,a:255}:{r:m,g:v,b,a:n?~~((m+v+b)/3):0}},f=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(g){if(g instanceof DOMException&&g.name==="IndexSizeError")return null;throw g}})();if(f==null)throw new EvalError("GIF frame size is to large");const p=t.nextByte(),y=t.readSubBlocksBin(),w=1<<p,x=(g,m)=>{const v=g>>>3,b=g&7;return(y[v]+(y[v+1]<<8)+(y[v+2]<<16)&(1<<m)-1<<b)>>>b};if(c){for(let g=0,m=p+1,v=0,b=[[0]],k=0;k<4;k++)if(Xc[k]<o.height){let j=0,S=0,E=!1;for(;!E;){const T=g;if(g=x(v,m),v+=m+1,g===w){m=p+1,b.length=w+2;for(let R=0;R<b.length;R++)b[R]=R<w?[R]:[]}else{g>=b.length?b.push(b[T].concat(b[T][0])):T!==w&&b.push(b[T].concat(b[g][0]));for(const R of b[g]){const{r:te,g:We,b:Ct,a:dn}=h(R);f.data.set([te,We,Ct,dn],Xc[k]*o.width+xm[k]*S+j%(o.width*4)),j+=4}b.length===1<<m&&m<12&&m++}j===o.width*4*(S+1)&&(S++,Xc[k]+xm[k]*S>=o.height&&(E=!0))}}o.image=f,o.bitmap=await createImageBitmap(f)}else{let g=0,m=p+1,v=0,b=-4,k=!1;const j=[[0]];for(;!k;){const S=g;if(g=x(v,m),v+=m,g===w){m=p+1,j.length=w+2;for(let E=0;E<j.length;E++)j[E]=E<w?[E]:[]}else{if(g===w+1){k=!0;break}g>=j.length?j.push(j[S].concat(j[S][0])):S!==w&&j.push(j[S].concat(j[g][0]));for(const E of j[g]){const{r:T,g:R,b:te,a:We}=h(E);f.data.set([T,R,te,We],b+=4)}j.length>=1<<m&&m<12&&m++}}o.image=f,o.bitmap=await createImageBitmap(f)}}async function EP(t,e,n,r,s,i){switch(t.nextByte()){case Mn.EndOfFile:return!0;case Mn.Image:await jP(t,e,n,r,s);break;case Mn.Extension:SP(t,e,r,s);break;default:throw new EvalError("undefined block found")}return!1}function CP(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function PP(t,e,n){n||(n=!1);const r=await fetch(t);if(!r.ok&&r.status===404)throw new EvalError("file not found");const s=await r.arrayBuffer(),i={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new bP(new Uint8ClampedArray(s));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");i.width=o.nextTwoBytes(),i.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;i.colorRes=(a&112)>>>4,i.sortFlag=(a&8)===8;const c=1<<(a&7)+1,d=o.nextByte();i.pixelAspectRatio=o.nextByte(),i.pixelAspectRatio!==0&&(i.pixelAspectRatio=(i.pixelAspectRatio+15)/64),l&&(i.globalColorTable=vw(o,c));const h=(()=>{try{return new ImageData(i.width,i.height,{colorSpace:"srgb"})}catch(b){if(b instanceof DOMException&&b.name==="IndexSizeError")return null;throw b}})();if(h==null)throw new Error("GIF frame size is to large");const{r:f,g:p,b:y}=i.globalColorTable[d];h.data.set(l?[f,p,y,255]:[0,0,0,0]);for(let b=4;b<h.data.length;b*=2)h.data.copyWithin(b,0,b);i.backgroundImage=h;let w=-1,x=!0,g=-1;const m=b=>(b&&(x=!0),w),v=b=>(b!=null&&(g=b),g);try{do x&&(i.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Yt.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),w++,g=-1,x=!1);while(!await EP(o,i,n,m,v,e));i.frames.length--;for(const b of i.frames){if(b.userInputDelayFlag&&b.delayTime===0){i.totalTime=1/0;break}i.totalTime+=b.delayTime}return i}catch(b){throw b instanceof EvalError?new Error(`error while parsing frame ${w} "${b.message}"`):b}}function TP(t){const{context:e,radius:n,particle:r,delta:s}=t,i=r.image;if(!(i!=null&&i.gifData)||!i.gif)return;const o=new OffscreenCanvas(i.gifData.width,i.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(dt.x,dt.y,o.width,o.height),r.gifLoopCount===void 0&&(r.gifLoopCount=i.gifLoopCount??yd);let l=r.gifFrame??_P;const c={x:-i.gifData.width*bm,y:-i.gifData.height*bm},d=i.gifData.frames[l];if(r.gifTime===void 0&&(r.gifTime=kP),!!d.bitmap){switch(e.scale(n/i.gifData.width,n/i.gifData.height),d.disposalMethod){case Yt.UndefinedA:case Yt.UndefinedB:case Yt.UndefinedC:case Yt.UndefinedD:case Yt.Replace:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(dt.x,dt.y,o.width,o.height);break;case Yt.Combine:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y);break;case Yt.RestoreBackground:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(dt.x,dt.y,o.width,o.height),i.gifData.globalColorTable.length?a.putImageData(i.gifData.backgroundImage,c.x,c.y):a.putImageData(i.gifData.frames[_m].image,c.x+d.left,c.y+d.top);break;case Yt.RestorePrevious:{const h=a.getImageData(dt.x,dt.y,o.width,o.height);a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(dt.x,dt.y,o.width,o.height),a.putImageData(h,dt.x,dt.y)}break}if(r.gifTime+=s.value,r.gifTime>d.delayTime){if(r.gifTime-=d.delayTime,++l>=i.gifData.frames.length){if(--r.gifLoopCount<=yd)return;l=_m,a.clearRect(dt.x,dt.y,o.width,o.height)}r.gifFrame=l}e.scale(i.gifData.width/n,i.gifData.height/n)}}async function NP(t){if(t.type!=="gif"){await Gl(t);return}t.loading=!0;try{t.gifData=await PP(t.source),t.gifLoopCount=CP(t.gifData)??yd,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const RP=2,OP=1,IP=12,MP=1;class LP{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${ni} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:r,particle:s,opacity:i}=e,o=s.image,a=o==null?void 0:o.element;if(o){if(n.globalAlpha=i,o.gif&&o.gifData)TP(e);else if(a){const l=o.ratio,c={x:-r,y:-r},d=r*RP;n.drawImage(a,c.x,c.y,d,d/l)}n.globalAlpha=OP}}getSidesCount(){return IP}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const r of n.preload)await this._engine.loadImage(r)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(s=>s.name===n.name||s.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const r=this._engine.images,s=n.shapeData;if(!s)return;const i=n.getFillColor(),o=r.find(l=>l.name===s.name||l.source===s.src);if(!o)return;const a=s.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&i?l=await xP(o,s,i,n):l={color:i,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:s.width&&s.height?s.width/s.height:o.ratio??MP,replaceColor:a,source:s.src},l.ratio||(l.ratio=1);const c=s.fill??n.shapeFill,d=s.close??n.shapeClose,h={image:l,fill:c,close:d};n.image=h.image,n.shapeFill=h.fill,n.shapeClose=h.close})()}}class AP{constructor(){this.src="",this.gif=!1}load(e){ee(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class zP{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!(n!=null&&n.preload))return;e.preload||(e.preload=[]);const r=e.preload;for(const s of n.preload){const i=r.find(o=>o.name===s.name||o.src===s.src);if(i)i.load(s);else{const o=new AP;o.load(s),r.push(o)}}}needsPlugin(){return!0}}const $P=3;function DP(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${ni} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-$P),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let r;e.gif?r=NP:r=e.replaceColor?wP:Gl,await r(n)}catch{throw new Error(`${ni} ${e.name??e.src} not found`)}})}async function UP(t,e=!0){t.checkVersion("3.9.1"),DP(t);const n=new zP(t);await t.addPlugin(n,e),await t.addShape(new LP(t),e)}class FP extends Fh{constructor(){super(),this.sync=!1}load(e){ee(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class BP extends Fh{constructor(){super(),this.sync=!1}load(e){ee(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class VP{constructor(){this.count=0,this.delay=new FP,this.duration=new BP}load(e){ee(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const ys=0,qP=-1,km=0,Sm=0;function WP(t,e,n){if(!t.life)return;const r=t.life;let s=!1;if(t.spawning)if(r.delayTime+=e.value,r.delayTime>=t.life.delay)s=!0,t.spawning=!1,r.delayTime=ys,r.time=ys;else return;if(r.duration===qP||t.spawning||(s?r.time=ys:r.time+=e.value,r.time<r.duration))return;if(r.time=ys,t.life.count>km&&t.life.count--,t.life.count===km){t.destroy();return}const i=Ut(Sm,n.width),o=Ut(Sm,n.width);t.position.x=At(i),t.position.y=At(o),t.spawning=!0,r.delayTime=ys,r.time=ys,t.reset();const a=t.options.life;a&&(r.delay=D(a.delay.value)*Fn,r.duration=D(a.duration.value)*Fn)}const Ir=0,jm=1,Em=-1;class HP{constructor(e){this.container=e}init(e){const n=this.container,r=e.options,s=r.life;s&&(e.life={delay:n.retina.reduceFactor?D(s.delay.value)*(s.delay.sync?jm:Se())/n.retina.reduceFactor*Fn:Ir,delayTime:Ir,duration:n.retina.reduceFactor?D(s.duration.value)*(s.duration.sync?jm:Se())/n.retina.reduceFactor*Fn:Ir,time:Ir,count:s.count},e.life.duration<=Ir&&(e.life.duration=Em),e.life.count<=Ir&&(e.life.count=Em),e.life&&(e.spawning=e.life.delay>Ir))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new VP);for(const r of n)e.life.load(r==null?void 0:r.life)}update(e,n){!this.isEnabled(e)||!e.life||WP(e,n,this.container.canvas.size)}}async function GP(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async n=>Promise.resolve(new HP(n)),e)}function KP(t){const{context:e,particle:n,radius:r}=t,s=n.shapeData,i=0;e.moveTo(-r,i),e.lineTo(r,i),e.lineCap=(s==null?void 0:s.cap)??"butt"}const JP=1;class QP{constructor(){this.validTypes=["line"]}draw(e){KP(e)}getSidesCount(){return JP}}async function YP(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new QP,e)}const Cm=.5;class XP{init(){}isEnabled(e){return!im()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,r=n.actualOptions,s=r.interactivity.events.onHover.parallax;if(im()||!s.enable)return;const i=s.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width*Cm,y:a.height*Cm},c=s.smooth,d=e.getRadius()/i,h={x:(o.x-l.x)*d,y:(o.y-l.y)*d},{offset:f}=e;f.x+=(h.x-f.x)/c,f.y+=(h.y-f.y)/c}}async function ZP(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new XP),e)}const Pm=1e3,eT=1;class tT extends Bh{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=D(e.options.move.attract.distance)*n.retina.pixelRatio);const r=e.attractDistance,s=e.getPosition(),i=n.particles.quadTree.queryCircle(s,r);for(const o of i){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=st(s,a),d=e.options.move.attract.rotate,h=l/(d.x*Pm),f=c/(d.y*Pm),p=o.size.value/e.size.value,y=eT/p;e.velocity.x-=h*p,e.velocity.y-=f*p,o.velocity.x+=h*y,o.velocity.y+=f*y}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function nT(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",n=>Promise.resolve(new tT(n)),e)}const rT=.5,sT=10,iT=0;function Tm(t,e,n,r,s,i){const o=un(t.options.collisions.absorb.speed*s.factor/sT,iT,r);t.size.value+=o*rT,n.size.value-=o,r<=i&&(n.size.value=0,n.destroy())}function oT(t,e,n,r){const s=t.getRadius(),i=e.getRadius();s===void 0&&i!==void 0?t.destroy():s!==void 0&&i===void 0?e.destroy():s!==void 0&&i!==void 0&&(s>=i?Tm(t,s,e,i,n,r):Tm(e,i,t,s,n,r))}const Nm=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=D(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function ww(t,e){rw(fd(t),fd(e)),Nm(t),Nm(e)}function aT(t,e){!t.unbreakable&&!e.unbreakable&&ww(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function lT(t,e,n,r){switch(t.options.collisions.mode){case Ji.absorb:{oT(t,e,n,r);break}case Ji.bounce:{ww(t,e);break}case Ji.destroy:{aT(t,e);break}}}const cT=2;class uT extends Bh{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const r=this.container,s=e.getPosition(),i=e.getRadius(),o=r.particles.quadTree.queryCircle(s,i*cT);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(s.z)-Math.round(l.z))>i+c)continue;const d=an(s,l),h=i+c;d>h||lT(e,a,n,r.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function dT(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",n=>Promise.resolve(new uT(n)),e)}const Zc=2;class hT extends it{constructor(e,n,r,s){super(e,n,r),this.canvasSize=s,this.canvasSize={...s}}contains(e){const{width:n,height:r}=this.canvasSize,{x:s,y:i}=e;return super.contains(e)||super.contains({x:s-n,y:i})||super.contains({x:s-n,y:i-r})||super.contains({x:s,y:i-r})}intersects(e){if(super.intersects(e))return!0;const n=e,r=e,s={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(r.radius!==void 0){const i=new it(s.x,s.y,r.radius*Zc);return super.intersects(i)}else if(n.size!==void 0){const i=new kr(s.x,s.y,n.size.width*Zc,n.size.height*Zc);return super.intersects(i)}return!1}}class fT{constructor(){this.blur=5,this.color=new Bn,this.color.value="#000",this.enable=!1}load(e){ee(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Bn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class pT{constructor(){this.enable=!1,this.frequency=1}load(e){ee(e)||(e.color!==void 0&&(this.color=Bn.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class mT{constructor(){this.blink=!1,this.color=new Bn,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new fT,this.triangles=new pT,this.width=1,this.warp=!1}load(e){ee(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Bn.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const Rm=2,gT=1,va={x:0,y:0},yT=0;function vT(t,e,n,r,s){const{dx:i,dy:o,distance:a}=st(t,e);if(!s||a<=n)return a;const l={x:Math.abs(i),y:Math.abs(o)},c={x:Math.min(l.x,r.width-l.x),y:Math.min(l.y,r.height-l.y)};return Math.sqrt(c.x**Rm+c.y**Rm)}class wT extends Bh{constructor(e,n){super(e),this._setColor=r=>{if(!r.options.links)return;const s=this._linkContainer,i=r.options.links;let o=i.id===void 0?s.particles.linksColor:s.particles.linksColors.get(i.id);if(o)return;const a=i.color;o=lw(this._engine,a,i.blink,i.consent),i.id===void 0?s.particles.linksColor=o:s.particles.linksColors.set(i.id,o)},this._linkContainer=e,this._engine=n}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),r=this.container,s=r.canvas.size;if(n.x<va.x||n.y<va.y||n.x>s.width||n.y>s.height)return;const i=e.options.links,o=i.opacity,a=e.retina.linksDistance??yT,l=i.warp;let c;l?c=new hT(n.x,n.y,a,s):c=new it(n.x,n.y,a);const d=r.particles.quadTree.query(c);for(const h of d){const f=h.options.links;if(e===h||!(f!=null&&f.enable)||i.id!==f.id||h.spawning||h.destroyed||!h.links||e.links.some(x=>x.destination===h)||h.links.some(x=>x.destination===e))continue;const p=h.getPosition();if(p.x<va.x||p.y<va.y||p.x>s.width||p.y>s.height)continue;const y=vT(n,p,a,s,l&&f.warp);if(y>a)continue;const w=(gT-y/a)*o;this._setColor(e),e.links.push({destination:h,opacity:w})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new mT);for(const r of n)e.links.load(r==null?void 0:r.links)}reset(){}}async function xT(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new wT(n,t)),e)}function bT(t,e,n,r){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(r.x,r.y),t.closePath()}function _T(t){let e=!1;const{begin:n,end:r,engine:s,maxDistance:i,context:o,canvasSize:a,width:l,backgroundMask:c,colorLine:d,opacity:h,links:f}=t;if(an(n,r)<=i)Ki(o,n,r),e=!0;else if(f.warp){let y,w;const x={x:r.x-a.width,y:r.y},g=st(n,x);if(g.distance<=i){const m=n.y-g.dy/g.dx*n.x;y={x:0,y:m},w={x:a.width,y:m}}else{const m={x:r.x,y:r.y-a.height},v=st(n,m);if(v.distance<=i){const k=-(n.y-v.dy/v.dx*n.x)/(v.dy/v.dx);y={x:k,y:0},w={x:k,y:a.height}}else{const b={x:r.x-a.width,y:r.y-a.height},k=st(n,b);if(k.distance<=i){const j=n.y-k.dy/k.dx*n.x;y={x:-j/(k.dy/k.dx),y:j},w={x:y.x+a.width,y:y.y+a.height}}}}y&&w&&(Ki(o,n,y),Ki(o,r,w),e=!0)}if(!e)return;o.lineWidth=l,c.enable&&(o.globalCompositeOperation=c.composite),o.strokeStyle=bo(d,h);const{shadow:p}=f;if(p.enable){const y=is(s,p.color);y&&(o.shadowBlur=p.blur,o.shadowColor=bo(y))}o.stroke()}function kT(t){const{context:e,pos1:n,pos2:r,pos3:s,backgroundMask:i,colorTriangle:o,opacityTriangle:a}=t;bT(e,n,r,s),i.enable&&(e.globalCompositeOperation=i.composite),e.fillStyle=bo(o,a),e.fill()}function ST(t){return t.sort((e,n)=>e-n),t.join("_")}function Om(t,e){const n=ST(t.map(s=>s.id));let r=e.get(n);return r===void 0&&(r=Se(),e.set(n,r)),r}const Im=0,eu=0,Mm=0,jT=.5,ET=1;class CT{constructor(e,n){this._drawLinkLine=(r,s)=>{const i=r.options.links;if(!(i!=null&&i.enable))return;const o=this._container,a=o.actualOptions,l=s.destination,c=r.getPosition(),d=l.getPosition();let h=s.opacity;o.canvas.draw(f=>{var m;let p;const y=(m=r.options.twinkle)==null?void 0:m.lines;if(y!=null&&y.enable){const v=y.frequency,b=is(this._engine,y.color);Se()<v&&b&&(p=b,h=D(y.opacity))}if(!p){const v=i.id!==void 0?o.particles.linksColors.get(i.id):o.particles.linksColor;p=md(r,l,v)}if(!p)return;const w=r.retina.linksWidth??eu,x=r.retina.linksDistance??Mm,{backgroundMask:g}=a;_T({context:f,width:w,begin:c,end:d,engine:this._engine,maxDistance:x,canvasSize:o.canvas.size,links:i,backgroundMask:g,colorLine:p,opacity:h})})},this._drawLinkTriangle=(r,s,i)=>{const o=r.options.links;if(!(o!=null&&o.enable))return;const a=o.triangles;if(!a.enable)return;const l=this._container,c=l.actualOptions,d=s.destination,h=i.destination,f=a.opacity??(s.opacity+i.opacity)*jT;f<=Im||l.canvas.draw(p=>{const y=r.getPosition(),w=d.getPosition(),x=h.getPosition(),g=r.retina.linksDistance??Mm;if(an(y,w)>g||an(x,w)>g||an(x,y)>g)return;let m=is(this._engine,a.color);if(!m){const v=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;m=md(r,d,v)}m&&kT({context:p,pos1:y,pos2:w,pos3:x,backgroundMask:c.backgroundMask,colorTriangle:m,opacityTriangle:f})})},this._drawTriangles=(r,s,i,o)=>{var c,d,h;const a=i.destination;if(!((c=r.links)!=null&&c.triangles.enable&&((d=a.options.links)!=null&&d.triangles.enable)))return;const l=(h=a.links)==null?void 0:h.filter(f=>{const p=this._getLinkFrequency(a,f.destination);return a.options.links&&p<=a.options.links.frequency&&o.findIndex(w=>w.destination===f.destination)>=0});if(l!=null&&l.length)for(const f of l){const p=f.destination;this._getTriangleFrequency(s,a,p)>r.links.triangles.frequency||this._drawLinkTriangle(s,i,f)}},this._getLinkFrequency=(r,s)=>Om([r,s],this._freqs.links),this._getTriangleFrequency=(r,s,i)=>Om([r,s,i],this._freqs.triangles),this._container=e,this._engine=n,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:r,options:s}=n;if(!(r!=null&&r.length))return;const i=r.filter(o=>s.links&&(s.links.frequency>=ET||this._getLinkFrequency(n,o.destination)<=s.links.frequency));for(const o of i)this._drawTriangles(s,n,o,i),o.opacity>Im&&(n.retina.linksWidth??eu)>eu&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this._container.retina.pixelRatio,{retina:r}=e,{distance:s,width:i}=e.options.links;r.linksDistance=s*n,r.linksWidth=i*n}particleDestroyed(e){e.links=[]}}class PT{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new CT(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function TT(t,e=!0){const n=new PT(t);await t.addPlugin(n,e)}async function NT(t,e=!0){t.checkVersion("3.9.1"),await xT(t,e),await TT(t,e)}const RT=180,wa={x:0,y:0},OT=2;function IT(t,e,n){const{context:r}=t,s=n.count.numerator*n.count.denominator,i=n.count.numerator/n.count.denominator,o=RT*(i-OT)/i,a=Math.PI-Hi(o);if(r){r.beginPath(),r.translate(e.x,e.y),r.moveTo(wa.x,wa.y);for(let l=0;l<s;l++)r.lineTo(n.length,wa.y),r.translate(n.length,wa.y),r.rotate(a)}}const MT=5;class xw{draw(e){const{particle:n,radius:r}=e,s=this.getCenter(n,r),i=this.getSidesData(n,r);IT(e,s,i)}getSidesCount(e){const n=e.shapeData;return Math.round(D((n==null?void 0:n.sides)??MT))}}const Lm=3.5,Am=2.66,LT=3;class AT extends xw{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/Lm),y:-n/(Am/Lm)}}getSidesData(e,n){const r=e.sides;return{count:{denominator:1,numerator:r},length:n*Am/(r/LT)}}}const zT=1.66,$T=3,DT=2;class UT extends xw{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/zT}}getSidesCount(){return $T}getSidesData(e,n){const r=n*DT;return{count:{denominator:2,numerator:3},length:r}}}async function FT(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new AT,e)}async function BT(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new UT,e)}async function VT(t,e=!0){t.checkVersion("3.9.1"),await FT(t,e),await BT(t,e)}class qT{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){ee(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ut(e.speed)),e.decay!==void 0&&(this.decay=Ut(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class WT extends Fh{constructor(){super(),this.animation=new qT,this.direction=en.clockwise,this.path=!1,this.value=0}load(e){ee(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const bw=2,HT=Math.PI*bw,GT=1,KT=360;class JT{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:Hi(D(n.value)),min:0,max:HT},e.pathRotation=n.path;let r=n.direction;switch(r===en.random&&(r=Math.floor(Se()*bw)>0?en.counterClockwise:en.clockwise),r){case en.counterClockwise:case"counterClockwise":e.rotate.status=Ee.decreasing;break;case en.clockwise:e.rotate.status=Ee.increasing;break}const s=n.animation;s.enable&&(e.rotate.decay=GT-D(s.decay),e.rotate.velocity=D(s.speed)/KT*this.container.retina.reduceFactor,s.sync||(e.rotate.velocity*=Se())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new WT);for(const r of n)e.rotate.load(r==null?void 0:r.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&($h(e,e.rotate,!1,xo.none,n),e.rotation=e.rotate.value))}}async function QT(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",n=>Promise.resolve(new JT(n)),e)}const YT=2,XT=Math.sqrt(YT),ZT=2;function eN(t){const{context:e,radius:n}=t,r=n/XT,s=r*ZT;e.rect(-r,-r,s,s)}const tN=4;class nN{constructor(){this.validTypes=["edge","square"]}draw(e){eN(e)}getSidesCount(){return tN}}async function rN(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new nN,e)}const sN=2,vs={x:0,y:0};function iN(t){const{context:e,particle:n,radius:r}=t,s=n.sides,i=n.starInset??sN;e.moveTo(vs.x,vs.y-r);for(let o=0;o<s;o++)e.rotate(Math.PI/s),e.lineTo(vs.x,vs.y-r*i),e.rotate(Math.PI/s),e.lineTo(vs.x,vs.y-r)}const oN=2,aN=5;class lN{constructor(){this.validTypes=["star"]}draw(e){iN(e)}getSidesCount(e){const n=e.shapeData;return Math.round(D((n==null?void 0:n.sides)??aN))}particleInit(e,n){const r=n.shapeData;n.starInset=D((r==null?void 0:r.inset)??oN)}}async function cN(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new lN,e)}const uN=1;class dN{constructor(e,n){this._container=e,this._engine=n}init(e){var o;const n=this._container,r=e.options,s=Hl(r.stroke,e.id,r.reduceDuplicates);e.strokeWidth=D(s.width)*n.retina.pixelRatio,e.strokeOpacity=D(s.opacity??uN),e.strokeAnimation=(o=s.color)==null?void 0:o.animation;const i=Dh(this._engine,s.color)??e.getFillColor();i&&(e.strokeColor=cw(i,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:r}=e;return!e.destroyed&&!e.spawning&&!!n&&((r==null?void 0:r.h.value)!==void 0&&r.h.enable||(r==null?void 0:r.s.value)!==void 0&&r.s.enable||(r==null?void 0:r.l.value)!==void 0&&r.l.enable)}update(e,n){this.isEnabled(e)&&uw(e.strokeColor,n)}}async function hN(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new dN(n,t)),e)}async function fN(t,e=!0){t.checkVersion("3.9.1"),await ZP(t,!1),await rC(t,!1),await hC(t,!1),await xC(t,!1),await NC(t,!1),await UC(t,!1),await VC(t,!1),await KC(t,!1),await XC(t,!1),await cP(t,!1),await pP(t,!1),await nT(t,!1),await dT(t,!1),await NT(t,!1),await GE(t,!1),await QE(t,!1),await UP(t,!1),await YP(t,!1),await VT(t,!1),await rN(t,!1),await cN(t,!1),await GP(t,!1),await QT(t,!1),await hN(t,!1),await HE(t,e)}const pN={ice:["#00d4ff","#0099cc","#66e0ff","#3399ff"],stone:["#8b6f47","#a0826d","#6b5c4d","#8b7355"],chocolate:["#d2691e","#ff8c42","#ff6f3c","#ffa500"]},mN=({trigger:t,theme:e,onComplete:n})=>{const[r,s]=_.useState(!1),[i,o]=_.useState(0),a=_.useCallback(async l=>{await fN(l)},[]);return _.useEffect(()=>{if(t){s(!0),o(c=>c+1);const l=setTimeout(()=>{s(!1),n==null||n()},2e3);return()=>clearTimeout(l)}},[t,n]),r?u.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:u.jsx(Bl,{id:`shatter-${e}-${i}`,init:a,options:{particles:{number:{value:30},color:{value:pN[e]},shape:{type:["circle","square"]},opacity:{value:{min:.3,max:1},animation:{enable:!0,speed:1,minimumValue:0,sync:!1,destroy:"min"}},size:{value:{min:3,max:8}},move:{enable:!0,speed:{min:3,max:8},direction:"none",random:!0,straight:!1,outModes:{default:"destroy"},gravity:{enable:!0,acceleration:9.81}},rotate:{value:{min:0,max:360},animation:{enable:!0,speed:30,sync:!1}},life:{duration:{value:2}}},emitters:{position:{x:50,y:50},rate:{quantity:30,delay:0},life:{duration:.1,count:1}},detectRetina:!0}},i)}):null},zm=10,gN=400,ko=()=>{_S();const e=Date.now()+3e3,n=(o,a)=>Math.random()*(a-o)+o,r=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"],s=[],i=setInterval(()=>{if(e-Date.now()<=0){clearInterval(i),s.forEach(l=>l.remove());return}const a=50;for(let l=0;l<a;l++){const c=document.createElement("div");c.style.position="fixed",c.style.width="10px",c.style.height="10px",c.style.backgroundColor=r[Math.floor(Math.random()*r.length)],c.style.left=Math.random()*window.innerWidth+"px",c.style.top="-20px",c.style.opacity="1",c.style.borderRadius="50%",c.style.pointerEvents="none",c.style.zIndex="9999",document.body.appendChild(c),s.push(c);const d=n(0,360),h=n(10,30),f=n(-2,2);let p=parseFloat(c.style.left),y=-20,w=Math.cos(d*Math.PI/180)*h,x=Math.sin(d*Math.PI/180)*h;const g=()=>{p+=w+f,y+=x,x+=.5,c.style.left=p+"px",c.style.top=y+"px",c.style.opacity=String(Math.max(0,1-y/window.innerHeight)),y<window.innerHeight&&Date.now()<e?requestAnimationFrame(g):c.remove()};g()}},250)};function $m(){const t=new Date,e=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),r=String(t.getUTCDate()).padStart(2,"0");return`${e}-${n}-${r}`}function yN(){if(typeof window>"u")return $m();const e=new URLSearchParams(window.location.search).get("seed");return e&&/^\d{4}-\d{2}-\d{2}$/.test(e)?e:$m()}function vN(t){let e=1779033703^t.length;for(let n=0;n<t.length;n++)e=Math.imul(e^t.charCodeAt(n),3432918353),e=e<<13|e>>>19;return function(){return e=Math.imul(e^e>>>16,2246822507),e=Math.imul(e^e>>>13,3266489909),(e^=e>>>16)>>>0}}function wN(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function _w(t){const e=vN(t);return wN(e())}function Dm(t,e){const n=_w(e),r=[...t];for(let s=r.length-1;s>0;s--){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}const kw={1:{world:1,level:1,pairs:6,timeLimit:60,theme:"nature",unlockReward:10},2:{world:1,level:2,pairs:7,timeLimit:55,theme:"nature",unlockReward:12},3:{world:1,level:3,pairs:8,timeLimit:52,theme:"nature",unlockReward:15},4:{world:1,level:4,pairs:9,timeLimit:48,theme:"nature",unlockReward:18},5:{world:1,level:5,pairs:10,timeLimit:45,theme:"nature",unlockReward:100},6:{world:2,level:1,pairs:8,timeLimit:55,theme:"sports",unlockReward:15},7:{world:2,level:2,pairs:9,timeLimit:52,theme:"sports",unlockReward:18},8:{world:2,level:3,pairs:10,timeLimit:48,theme:"sports",unlockReward:20},9:{world:2,level:4,pairs:11,timeLimit:44,theme:"sports",unlockReward:25},10:{world:2,level:5,pairs:12,timeLimit:40,theme:"sports",unlockReward:120},11:{world:3,level:1,pairs:10,timeLimit:50,theme:"arcade",unlockReward:20},12:{world:3,level:2,pairs:11,timeLimit:47,theme:"arcade",unlockReward:22},13:{world:3,level:3,pairs:12,timeLimit:44,theme:"arcade",unlockReward:25},14:{world:3,level:4,pairs:13,timeLimit:40,theme:"arcade",unlockReward:30},15:{world:3,level:5,pairs:14,timeLimit:35,theme:"arcade",unlockReward:150},16:{world:4,level:1,pairs:10,timeLimit:45,theme:"animals",unlockReward:30,obstacles:{ice:3}},17:{world:4,level:2,pairs:10,timeLimit:42,theme:"animals",unlockReward:35,obstacles:{ice:4}},18:{world:4,level:3,pairs:10,timeLimit:38,theme:"animals",unlockReward:40,obstacles:{ice:4,stone:2}},19:{world:4,level:4,pairs:10,timeLimit:34,theme:"animals",unlockReward:45,obstacles:{ice:5,stone:2}},20:{world:4,level:5,pairs:10,timeLimit:30,theme:"animals",unlockReward:200,obstacles:{ice:5,stone:3}},21:{world:5,level:1,pairs:10,timeLimit:40,theme:"space",unlockReward:50,obstacles:{ice:4,stone:2}},22:{world:5,level:2,pairs:10,timeLimit:36,theme:"space",unlockReward:60,obstacles:{ice:5,stone:2}},23:{world:5,level:3,pairs:10,timeLimit:32,theme:"space",unlockReward:70,obstacles:{ice:6,stone:3}},24:{world:5,level:4,pairs:10,timeLimit:28,theme:"space",unlockReward:80,obstacles:{ice:6,stone:4}},25:{world:5,level:5,pairs:10,timeLimit:25,theme:"space",unlockReward:500,obstacles:{ice:7,stone:4}},26:{world:6,level:1,pairs:10,timeLimit:38,theme:"ocean",unlockReward:70,obstacles:{ice:5,stone:3}},27:{world:6,level:2,pairs:10,timeLimit:34,theme:"ocean",unlockReward:80,obstacles:{ice:6,stone:3}},28:{world:6,level:3,pairs:10,timeLimit:30,theme:"ocean",unlockReward:90,obstacles:{ice:7,stone:4}},29:{world:6,level:4,pairs:10,timeLimit:26,theme:"ocean",unlockReward:100,obstacles:{ice:7,stone:5}},30:{world:6,level:5,pairs:10,timeLimit:22,theme:"ocean",unlockReward:600,obstacles:{ice:8,stone:5}},31:{world:7,level:1,pairs:10,timeLimit:36,theme:"food",unlockReward:90,obstacles:{ice:6,stone:4}},32:{world:7,level:2,pairs:10,timeLimit:32,theme:"food",unlockReward:100,obstacles:{ice:7,stone:4}},33:{world:7,level:3,pairs:10,timeLimit:28,theme:"food",unlockReward:110,obstacles:{ice:7,stone:5}},34:{world:7,level:4,pairs:10,timeLimit:24,theme:"food",unlockReward:120,obstacles:{ice:8,stone:5}},35:{world:7,level:5,pairs:10,timeLimit:20,theme:"food",unlockReward:700,obstacles:{ice:8,stone:6}},36:{world:8,level:1,pairs:10,timeLimit:34,theme:"music",unlockReward:110,obstacles:{ice:7,stone:5}},37:{world:8,level:2,pairs:10,timeLimit:30,theme:"music",unlockReward:120,obstacles:{ice:8,stone:5}},38:{world:8,level:3,pairs:10,timeLimit:26,theme:"music",unlockReward:130,obstacles:{ice:8,stone:6}},39:{world:8,level:4,pairs:10,timeLimit:22,theme:"music",unlockReward:140,obstacles:{ice:9,stone:6}},40:{world:8,level:5,pairs:10,timeLimit:18,theme:"music",unlockReward:800,obstacles:{ice:9,stone:7}},41:{world:9,level:1,pairs:10,timeLimit:32,theme:"beauty",unlockReward:130,obstacles:{ice:8,stone:6}},42:{world:9,level:2,pairs:10,timeLimit:28,theme:"beauty",unlockReward:140,obstacles:{ice:8,stone:7}},43:{world:9,level:3,pairs:10,timeLimit:24,theme:"beauty",unlockReward:150,obstacles:{ice:9,stone:7}},44:{world:9,level:4,pairs:10,timeLimit:20,theme:"beauty",unlockReward:160,obstacles:{ice:9,stone:8}},45:{world:9,level:5,pairs:10,timeLimit:16,theme:"beauty",unlockReward:900,obstacles:{ice:10,stone:8}},46:{world:10,level:1,pairs:10,timeLimit:30,theme:"tech",unlockReward:150,obstacles:{ice:8,stone:7}},47:{world:10,level:2,pairs:10,timeLimit:26,theme:"tech",unlockReward:160,obstacles:{ice:9,stone:7}},48:{world:10,level:3,pairs:10,timeLimit:22,theme:"tech",unlockReward:170,obstacles:{ice:9,stone:8}},49:{world:10,level:4,pairs:10,timeLimit:18,theme:"tech",unlockReward:180,obstacles:{ice:10,stone:8}},50:{world:10,level:5,pairs:10,timeLimit:15,theme:"tech",unlockReward:1e3,obstacles:{ice:10,stone:8}}};function nn(t){return kw[t]}function xN(t){return Object.values(kw).filter(e=>e.world===t).sort((e,n)=>e.level-n.level)}function er(t,e){return(t-1)*5+e}const vd={nature:{name:"Naturaleza",images:["","","","","","","","","","","","","","","","","",""]},sports:{name:"Deportes",images:["","","","","","","","","","","","","","",""]},arcade:{name:"Juegos",images:["","","","","","","","","","","","","","","","","",""]},animals:{name:"Animalitos",images:["","","","","","","","","","","","","","","","","",""]},space:{name:"Espacio",images:["","","","","","","","","","","","","","","","","",""]},ocean:{name:"Ocano",images:["","","","","","","","","","","","","","","","","",""]},food:{name:"Comida",images:["","","","","","","","","","","","","","","","","",""]},music:{name:"Msica",images:["","","","","","","","","","","","","","","","","",""]},beauty:{name:"Belleza",images:["","","","","","","","","","","","","","","","","",""]},tech:{name:"Tecnologa",images:["","","","","","","","","","","","","","","","","",""]}};function Um(t){var e;return((e=vd[t])==null?void 0:e.images)||vd.nature.images}function bN(t){var e;return((e=vd[t])==null?void 0:e.name)||"Desconocido"}function _N(t){const[e,n]=_.useState(!1),r=_.useRef(!1),s=_.useRef(t.enabled);_.useEffect(()=>{s.current=t.enabled},[t.enabled]);const i=_.useCallback(()=>{n(!0),r.current=!0},[]),o=_.useCallback(()=>{n(!1),r.current=!1},[]);return _.useEffect(()=>{if(!t.enabled)return;const a=c=>{if(s.current){if(r.current){t.onConfirmExit();return}c.preventDefault(),window.history.pushState(null,"",window.location.href),i()}},l=c=>{if(s.current){if(c.preventDefault(),r.current){t.onConfirmExit();return}i()}};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",a),"backbutton"in document&&document.addEventListener("backbutton",l,!1),()=>{window.removeEventListener("popstate",a),"backbutton"in document&&document.removeEventListener("backbutton",l,!1)}},[t.enabled,t.onConfirmExit,i]),{open:e,openModal:i,closeModal:o}}const Sw=({level:t,onComplete:e,onBackToMenu:n,isDailyChallenge:r=!1})=>{const s=nn(t),[i,o]=_.useState([]),[a,l]=_.useState([]),[c,d]=_.useState(0),[h,f]=_.useState(!0),[p,y]=_.useState((s==null?void 0:s.timeLimit)||60),[w,x]=_.useState(!1),[g,m]=_.useState(0),[v,b]=_.useState(0),[k,j]=_.useState(!1),[S,E]=_.useState(null),[T]=_.useState(()=>r?yN():`random-${Date.now()}`),[R,te]=_.useState(!1),[We,Ct]=_.useState(!1),[dn,di]=_.useState(()=>Iv()),[Vt,Wn]=_.useState(0),[P,A]=_.useState(0),[z,X]=_.useState([]),[he,Pt]=_.useState(0),[Tt,F]=_.useState(!1),[U,q]=_.useState(!1),[lt,ct]=_.useState(!1),[Sr,ls]=_.useState({text:"",url:""}),[ut,ze]=_.useState(new Set),[Ze,yt]=_.useState(new Set),[Kl,Vh]=_.useState(!1),[jw,Lo]=_.useState(!1),[Ew,qh]=_.useState("ice"),[Cw,Wh]=_.useState(0),[Pw,Tw]=_.useState(!1),[Nw,Ao]=_.useState(0),Hh=_.useCallback(()=>{ge.stopLevelMusic(),n()},[n]),{open:Rw,openModal:Ow,closeModal:Iw}=_N({enabled:!k&&!w,onConfirmExit:Hh,isLevelCompleted:k}),hi=_.useRef(!1),qt=_.useRef(null),jr=_.useRef(null),Sn=_.useRef(null),fi=_.useRef(0),pi=_.useRef(null),zo=_.useCallback(()=>{console.log("[GameCore] initializeLevel",{level:t,seed:T});const L=nn(t),W=(L==null?void 0:L.pairs)||6,oe=(L==null?void 0:L.timeLimit)||60,we=(L==null?void 0:L.theme)||"nature",cs=Um(we).slice(0,W).flatMap((et,$e)=>[{id:$e*2,imageIndex:$e,isFlipped:!1,isMatched:!1,obstacle:null,obstacleHealth:0},{id:$e*2+1,imageIndex:$e,isFlipped:!1,isMatched:!1,obstacle:null,obstacleHealth:0}]),$=r?Dm(cs,T):cs.sort(()=>Math.random()-.5),_e=L==null?void 0:L.obstacles;if(_e){const $e=$.length/2,De=4;(_e.ice||0)+(_e.stone||0);const G=Math.max(2,Math.ceil($e*.35)),ne=new Map;$.forEach((Z,xe)=>{ne.has(Z.imageIndex)||ne.set(Z.imageIndex,[]),ne.get(Z.imageIndex).push(xe)});const He=Array.from(ne.keys()).slice(0,G),Nt=new Set;He.forEach(Z=>{(ne.get(Z)||[]).forEach(Me=>Nt.add(Me))});const Hn=Z=>{const xe=[],Me=Math.floor(Z/De),Er=Z%De;return Er>0&&xe.push(Z-1),Er<De-1&&xe.push(Z+1),Me>0&&xe.push(Z-De),Me<De-1&&xe.push(Z+De),xe},Jl=(Z,xe)=>Hn(Z).some(Er=>!xe.has(Er)),Gh=(Z,xe,Me)=>{const Er=$.find(gi=>gi.id!==$[Z].id&&gi.imageIndex===$[Z].imageIndex);if(!Er)return!1;const Bw=$.findIndex(gi=>gi.id===Er.id),Jh=new Set(xe);return Jh.add(Z),!(!Jl(Bw,Jh)||Me&&Hn(Z).some(Vw=>$[Vw].obstacle==="stone"))},Kh=$.map((Z,xe)=>xe).filter(Z=>!Nt.has(Z)),Do=r?Dm([...Kh],T+"-obstacles"):Kh.sort(()=>Math.random()-.5),mi=new Set;if(_e.ice){let Z=0;for(let xe=0;xe<Do.length&&Z<_e.ice;xe++){const Me=Do[xe];Gh(Me,mi,!1)&&($[Me].obstacle="ice",$[Me].obstacleHealth=1,mi.add(Me),Z++)}}if(_e.stone){let Z=0;for(let xe=0;xe<Do.length&&Z<_e.stone;xe++){const Me=Do[xe];!mi.has(Me)&&Gh(Me,mi,!0)&&($[Me].obstacle="stone",$[Me].obstacleHealth=2,mi.add(Me),Z++)}}}if(o($),l([]),d(0),f(!0),x(!1),y(oe),m(0),b(0),j(!1),X([]),Pt(0),F(!1),ze(new Set),yt(new Set),fi.current=0,L!=null&&L.obstacles&&(L.obstacles.ice||L.obstacles.stone)&&(localStorage.getItem("obstacle_tutorial_seen")||setTimeout(()=>Vh(!0),1e3)),jr.current&&clearTimeout(jr.current),jr.current=window.setTimeout(()=>{f(!1)},zm*1e3),r){const et=localStorage.getItem(`best:${T}`);if(et)try{E(JSON.parse(et))}catch{E(null)}else E(null)}},[t,T,r]);_.useEffect(()=>(console.log("[GameCore] mount for level",t),zo(),Ao(Pe()),()=>{console.log("[GameCore] unmount for level",t),qt.current&&clearInterval(qt.current),jr.current&&clearTimeout(jr.current),pi.current&&clearTimeout(pi.current)}),[t,zo]),_.useEffect(()=>{if(h||w){qt.current&&clearInterval(qt.current),Sn.current&&clearInterval(Sn.current);return}return fi.current===0&&(fi.current=Date.now()),qt.current=window.setInterval(()=>{y(L=>L<=1?(qt.current&&clearInterval(qt.current),Sn.current&&clearInterval(Sn.current),ge.stopLevelMusic(),ge.playLose(),x(!0),0):L-1)},1e3),Sn.current=window.setInterval(()=>{b(Math.floor((Date.now()-fi.current)/1e3))},100),()=>{qt.current&&clearInterval(qt.current),Sn.current&&clearInterval(Sn.current)}},[h,w]),_.useEffect(()=>{const L=(s==null?void 0:s.pairs)||6;if(c===L&&c>0)if(console.log("[GameCore] LEVEL COMPLETED",{level:t,matchedPairs:c,moves:g,timeElapsed:v}),qt.current&&clearInterval(qt.current),jr.current&&clearTimeout(jr.current),Sn.current&&clearInterval(Sn.current),ko(),ge.stopLevelMusic(),ge.playWin(),r){const W=Math.floor((Date.now()-fi.current)/1e3);b(W),Wn(W),A(g);const oe=localStorage.getItem(`best:${T}`);let we=!0;if(oe)try{const Ie=JSON.parse(oe);(W>Ie.time||W===Ie.time&&g>=Ie.moves)&&(we=!1)}catch{}if(we){const Ie={time:W,moves:g,date:new Date().toISOString()};localStorage.setItem(`best:${T}`,JSON.stringify(Ie)),E(Ie)}OS({seed:T,timeMs:W*1e3,moves:g,crewId:dn,levelId:t}).then(Ie=>{Ie.isPioneer&&Ct(!0)}).catch(Ie=>{console.error("[GameCore] Failed to submit score:",Ie)});const ce=10;Wh(ce),On(ce),Ao(Pe()),j(!0),setTimeout(()=>Tw(!0),500)}else Wh(10),On(10),e()},[c,t,e,r,g,T,v]);const Mw=_.useCallback(L=>{if(h||hi.current||a.length>=2)return;const W=i.find(we=>we.id===L);if(!W||W.isMatched||a.includes(L)||W.obstacle&&(W.obstacleHealth??0)>0)return;const oe=[...a,L];if(l(oe),o(we=>we.map(ce=>ce.id===L?{...ce,isFlipped:!0}:ce)),oe.length===2){hi.current=!0,m($=>$+1);const[we,ce]=oe,Ie=i.find($=>$.id===we),cs=i.find($=>$.id===ce);if(Ie&&cs&&Ie.imageIndex===cs.imageIndex){ge.playMatch();const $=De=>{const G=i.findIndex(Hn=>Hn.id===De),ne=Math.ceil(Math.sqrt(i.length)),Q=Math.floor(G/ne),He=G%ne,Nt=[];return He>0&&Nt.push(G-1),He<ne-1&&Nt.push(G+1),Q>0&&Nt.push(G-ne),Q<ne-1&&Nt.push(G+ne),Nt},_e=[...$(we),...$(ce)],et=new Set(ut),$e=new Set(Ze);_e.forEach(De=>{const G=i[De];G!=null&&G.obstacle&&(G.obstacleHealth??0)>0&&((G.obstacleHealth??0)-1<=0?($e.add(G.id),setTimeout(()=>{yt(Q=>{const He=new Set(Q);return He.delete(G.id),He})},600)):(et.add(G.id),setTimeout(()=>{ze(Q=>{const He=new Set(Q);return He.delete(G.id),He})},500)))}),ze(et),yt($e),o(De=>De.map((G,ne)=>{if(G.id===we||G.id===ce)return{...G,isMatched:!0};if(_e.includes(ne)&&G.obstacle&&(G.obstacleHealth??0)>0){const Q=(G.obstacleHealth??0)-1;return Q<=0?(G.obstacle==="ice"?(On(10),Ao(Pe()),console.log("[GameCore] Ice destroyed! +10 coins"),qh("ice"),Lo(!0),setTimeout(()=>Lo(!1),100)):G.obstacle==="stone"&&(On(20),Ao(Pe()),console.log("[GameCore] Stone destroyed! +20 coins"),qh("stone"),Lo(!0),setTimeout(()=>Lo(!1),100)),{...G,obstacle:null,obstacleHealth:0}):{...G,obstacleHealth:Q}}return G})),d(De=>De+1),l([]),Pt(0),X([]),hi.current=!1}else Pt($=>$+1),setTimeout(()=>{o($=>$.map(_e=>_e.id===we||_e.id===ce?{..._e,isFlipped:!1}:_e)),l([]),hi.current=!1},gN)}},[i,a,h,ut,Ze]);_.useEffect(()=>{if(he>=4&&!h&&!w&&z.length===0){const L=i.filter(W=>!W.isMatched&&!W.isFlipped);if(L.length>=2){const W=new Map;L.forEach(oe=>{W.has(oe.imageIndex)||W.set(oe.imageIndex,[]),W.get(oe.imageIndex).push(oe.id)});for(const[,oe]of W)if(oe.length>=2){const[we,ce]=oe.slice(0,2);X([we,ce]),pi.current&&clearTimeout(pi.current),pi.current=window.setTimeout(()=>{X([])},3e3);break}}}},[he,h,w,i,z.length]);const Lw=_.useCallback(L=>{const W=i.filter($=>!$.isMatched),oe=W.length/2,we=Math.max(1,Math.floor(oe*(L/100))),ce=new Map;W.forEach($=>{ce.has($.imageIndex)||ce.set($.imageIndex,[]),ce.get($.imageIndex).push($.id)});const Ie=Array.from(ce.entries()).filter(([,$])=>$.length===2);if(i.some($=>$.obstacle)){const $=[],_e=[];Ie.forEach(([ne,Q])=>{Q.some(Nt=>{const Hn=i.find(Jl=>Jl.id===Nt);return Hn&&Hn.obstacle&&(Hn.obstacleHealth??0)>0})?$.push([ne,Q]):_e.push([ne,Q])});const $e=[...$,..._e].slice(0,we),De=[];$e.forEach(([,ne])=>{De.push(...ne)}),o(ne=>ne.map(Q=>De.includes(Q.id)?Q.obstacle==="stone"&&(Q.obstacleHealth??0)===2?{...Q,obstacleHealth:1}:Q.obstacle==="ice"&&(Q.obstacleHealth??0)===1?{...Q,isFlipped:!0,isMatched:!0,obstacle:null,obstacleHealth:0}:Q.obstacle==="stone"&&(Q.obstacleHealth??0)===1?{...Q,isFlipped:!0,isMatched:!0,obstacle:null,obstacleHealth:0}:{...Q,isFlipped:!0,isMatched:!0}:Q));const G=$e.filter(([,ne])=>ne.every(Q=>{const He=i.find(Nt=>Nt.id===Q);return!(He!=null&&He.obstacle)||(He.obstacleHealth??0)<=1})).length;d(ne=>ne+G)}else{const $=Ie.slice(0,we),_e=[];$.forEach(([,et])=>{_e.push(...et)}),o(et=>et.map($e=>_e.includes($e.id)?{...$e,isFlipped:!0,isMatched:!0}:$e)),d(et=>et+$.length)}F(!0),ko()},[i]),$o=_.useCallback(()=>{zo()},[zo]),Aw=_.useCallback(()=>{let L,W;if(r){const oe=new URL(window.location.href);oe.searchParams.set("seed",T),oe.searchParams.set("time",Vt.toString()),oe.searchParams.set("moves",P.toString());let we=dn;if(we)oe.searchParams.set("crew",we);else{const ce=crypto.randomUUID().slice(0,8);oe.searchParams.set("crew",ce),TS(ce),di(ce),we=ce}W=oe.toString(),L=`Complet el reto diario en ${Vt}s con ${P} movimientos! Puedes superarme?`}else W=window.location.origin,L=`Complet el Nivel ${t} en ${Vt}s con ${P} movimientos!  Juega TwinClash y pon a prueba tu memoria.`;ls({text:L,url:W}),ct(!0)},[T,Vt,P,dn,r,t]),jn=nn(t),zw=(jn==null?void 0:jn.theme)||"nature",$w=Um(zw),Dw=(jn==null?void 0:jn.pairs)||6,Uw=$w.slice(0,Dw),Fw=(jn==null?void 0:jn.timeLimit)||60;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex flex-col p-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 mb-4",children:[r&&u.jsxs("div",{className:"mb-3 text-sm text-gray-600 flex flex-col gap-1",children:[u.jsxs("span",{children:["Reto: ",T]}),S&&u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Rn,{size:14,className:"text-yellow-500"}),"Mejor: ",S.time,"s, ",S.moves," mov"]})]}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r?"Reto Diario":`Nivel ${t}`}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 text-white px-3 py-1 rounded-full font-bold text-sm shadow-md flex items-center gap-1",children:[" ",Nw]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx($S,{}),u.jsx("div",{className:`text-2xl font-bold ${p<=10?"text-red-600 animate-pulse":"text-blue-600"}`,children:h?`Preview: ${Math.max(0,Math.ceil(p-(Fw-zm)))}s`:`${p}s`})]})]}),r&&u.jsxs("div",{className:"flex gap-4 mb-3 text-sm font-semibold text-gray-700",children:[u.jsxs("span",{children:["Tiempo: ",v,"s"]}),u.jsxs("span",{children:["Movimientos: ",g]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:Ow,className:"bg-gray-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-gray-600 transition-colors",children:[u.jsx(po,{size:18}),"Volver"]}),u.jsxs("button",{onClick:$o,className:"flex-1 bg-orange-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors",children:[u.jsx(u0,{size:18}),"Reiniciar"]}),r&&u.jsxs("button",{onClick:()=>te(!0),className:"flex-1 bg-yellow-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-yellow-600 transition-colors",children:[u.jsx(E_,{size:18}),"Top"]})]}),!r&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[u.jsx("div",{className:"text-xs text-gray-600 font-semibold mb-2 text-center",children:" Ayuda Extra (Revela Parejas)"}),u.jsx(AS,{onPowerUpUsed:Lw,disabled:h||w||Tt}),Tt&&u.jsx("div",{className:"text-xs text-center text-green-600 font-semibold mt-2",children:" Ayuda usada en este nivel"}),u.jsx("button",{onClick:()=>q(!0),className:"w-full mt-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-2 px-4 rounded-lg font-bold text-sm shadow-lg hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-2",children:" Comprar Monedas"})]})]}),u.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden px-4",children:u.jsx("div",{className:"w-full max-w-lg",children:u.jsx("div",{className:"grid grid-cols-4 gap-3",children:i.map(L=>u.jsx("div",{className:`${ut.has(L.id)?"obstacle-crack":""} ${Ze.has(L.id)?"obstacle-break":""}`,children:u.jsx(Ov,{card:{...L,isFlipped:h||L.isFlipped},image:Uw[L.imageIndex],onClick:Mw,disabled:h||hi.current,showHint:z.includes(L.id),isBreaking:Ze.has(L.id)})},L.id))})})}),w&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-red-600 mb-2",children:"Game Over"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Se acab el tiempo"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:n,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),u.jsx("button",{onClick:$o,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reintentar"})]})]})}),k&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-green-600 mb-4",children:"Completado!"}),We&&u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-4",children:[u.jsx("div",{className:"text-3xl mb-2",children:""}),u.jsx("div",{className:"text-white font-bold text-lg",children:"Medalla Pionero!"}),u.jsx("div",{className:"text-yellow-100 text-sm",children:"+20 monedas por ser el primero"})]}),u.jsx("div",{className:"bg-gray-100 rounded-xl p-4 mb-4",children:u.jsxs("div",{className:"flex justify-around text-center",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Vt,"s"]}),u.jsx("div",{className:"text-xs text-gray-600",children:"Tiempo"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:P}),u.jsx("div",{className:"text-xs text-gray-600",children:"Movimientos"})]})]})}),u.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-amber-100 rounded-xl p-6 mb-6 relative overflow-hidden",children:[u.jsx("div",{className:"text-4xl mb-2",children:""}),u.jsxs("div",{className:"text-2xl font-bold text-amber-700 mb-1",children:["+",Cw," Monedas"]}),u.jsx("div",{className:"text-sm text-amber-600",children:"Ganadas en este nivel!"}),Pw&&u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((L,W)=>u.jsx("div",{className:"absolute text-2xl animate-coin-fall",style:{left:`${20+W*10}%`,animationDelay:`${W*.1}s`,animationDuration:"1.2s"},children:""},W))})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:Aw,className:"flex-1 bg-blue-500 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-600 transition-colors",children:[u.jsx(d0,{size:18}),"Compartir"]}),u.jsx("button",{onClick:$o,className:"flex-1 bg-green-500 text-white py-3 rounded-xl font-semibold hover:bg-green-600 transition-colors",children:"Reintentar"})]}),u.jsxs("button",{onClick:()=>{j(!1),n()},className:"w-full bg-gray-500 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-gray-600 transition-colors",children:[u.jsx(po,{size:18}),"Salir"]})]})]})}),R&&u.jsx(LS,{seed:T,onClose:()=>te(!1),onPlayNow:()=>{te(!1),$o()}}),U&&u.jsx(Cv,{onClose:()=>q(!1)}),u.jsx(zS,{open:Rw,onStay:Iw,onExit:Hh}),u.jsx(DS,{open:lt,onClose:()=>ct(!1),shareText:Sr.text,shareUrl:Sr.url}),Kl&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Nuevos Obstculos!"}),u.jsx("p",{className:"text-gray-600",children:"Aprende a superarlos"})]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-4 rounded-xl border-2 border-blue-200",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Hielo"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Bloquea cartas. Haz un match cercano (arriba, abajo, izquierda o derecha) para romperlo."})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-slate-100 p-4 rounded-xl border-2 border-gray-300",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Piedra"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Ms resistente. Necesita 2 matches cercanos para romperse. Vers un contador rojo."})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 p-4 rounded-xl border-2 border-yellow-200",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Estrategia"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Primero libera las cartas bloqueadas haciendo matches alrededor. Vers el hielo agrietarse!"})]})]})})]}),u.jsx("button",{onClick:()=>{Vh(!1),localStorage.setItem("obstacle_tutorial_seen","true")},className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 px-6 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:"Entendido!"})]})}),u.jsx(mN,{trigger:jw,theme:Ew})]})};function kN({completedWorld:t,unlockedWorld:e,coinsEarned:n,onContinue:r,isGameComplete:s=!1}){_.useEffect(()=>{ko();const a=[];for(let l=0;l<3;l++){const c=window.setTimeout(()=>{ko()},(l+1)*600);a.push(c)}return()=>a.forEach(clearTimeout)},[]);const i=["","Naturaleza","Deportes","Juegos","Animales","Espacio"],o=["","","","","",""];return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:[u.jsxs("div",{className:"relative bg-gradient-to-br from-white via-yellow-50 to-orange-50 rounded-3xl p-8 max-w-md w-full text-center shadow-2xl animate-bounce-in",children:[u.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:u.jsx(Rn,{size:48,className:"text-white"})}),u.jsx("div",{className:"mt-8 mb-6",children:s?u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-5xl font-black mb-3 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"JUEGO COMPLETADO!"}),u.jsx("div",{className:"text-7xl mb-4 animate-bounce",children:""}),u.jsx("p",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Eres un Maestro de la Memoria!"}),u.jsx("p",{className:"text-gray-600",children:"Has superado todos los mundos"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("h2",{className:"text-4xl font-black mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["Mundo ",t," Completado!"]}),u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-lg border-2 border-yellow-200",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[u.jsx(cn,{className:"text-yellow-500",size:32}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Nuevo Mundo Desbloqueado"}),u.jsx(cn,{className:"text-yellow-500",size:32})]}),u.jsxs("div",{className:"flex items-center justify-center gap-4 py-4",children:[u.jsx("div",{className:"text-6xl",children:o[e]}),u.jsxs("div",{className:"text-left",children:[u.jsxs("div",{className:"text-3xl font-black text-transparent bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text",children:["Mundo ",e]}),u.jsx("div",{className:"text-xl font-semibold text-gray-700",children:i[e]})]})]})]})]})}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-4 mb-6 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[u.jsx($t,{size:28}),u.jsxs("span",{className:"text-3xl font-black",children:["+",n]}),u.jsx("span",{className:"text-lg font-semibold",children:"monedas"})]})}),u.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-2xl font-bold text-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all active:scale-95",children:s?"Vamos!":`Explorar Mundo ${e}`}),u.jsx("div",{className:"mt-4 flex justify-center gap-2",children:[...Array(5)].map((a,l)=>u.jsx("div",{className:`w-3 h-3 rounded-full ${l<t?"bg-yellow-400":"bg-gray-300"}`},l))})]}),u.jsx("style",{children:`
        @keyframes bounce-in {
          0% {
            transform: scale(0.3);
            opacity: 0;
          }
          50% {
            transform: scale(1.05);
          }
          70% {
            transform: scale(0.9);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-bounce-in {
          animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
      `})]})}const SN=[{name:"Naturaleza",icon:mh,emoji:"",description:"Explora la belleza del mundo natural",color:{from:"from-emerald-500",to:"to-green-700",bg:"bg-gradient-to-br from-emerald-400 via-green-500 to-teal-600"},features:["6-10 parejas","60-45 segundos","55 monedas totales"]},{name:"Deportes",icon:fh,emoji:"",description:"Pon a prueba tu memoria deportiva",color:{from:"from-yellow-500",to:"to-orange-700",bg:"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600"},features:["8-12 parejas","55-40 segundos","98 monedas totales"]},{name:"Juegos",icon:ph,emoji:"",description:"El paraso de los gamers te espera",color:{from:"from-purple-500",to:"to-pink-700",bg:"bg-gradient-to-br from-purple-400 via-pink-500 to-rose-600"},features:["10-14 parejas","50-35 segundos","137 monedas totales"]},{name:"Animales",icon:gh,emoji:"",description:"Descubre el reino animal",color:{from:"from-orange-500",to:"to-red-700",bg:"bg-gradient-to-br from-orange-400 via-red-500 to-pink-600"},features:["12-16 parejas","45-30 segundos","190 monedas totales"]},{name:"Espacio",icon:yh,emoji:"",description:"Viaja ms all de las estrellas",color:{from:"from-indigo-500",to:"to-blue-700",bg:"bg-gradient-to-br from-indigo-400 via-blue-500 to-cyan-600"},features:["14-18 parejas","40-25 segundos","260 monedas totales"]}];function jN({world:t,onStart:e}){const[n,r]=_.useState(!1),s=SN[t-1],i=s.icon;return _.useEffect(()=>{setTimeout(()=>r(!0),100)},[]),u.jsxs("div",{className:`fixed inset-0 ${s.color.bg} flex items-center justify-center p-6 z-50`,children:[u.jsxs("div",{className:`max-w-lg w-full transition-all duration-700 ${n?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"inline-block relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"relative text-9xl animate-bounce-slow",children:s.emoji})]}),u.jsxs("div",{className:"mb-4 flex justify-center gap-2",children:[u.jsx(cn,{className:"text-yellow-300 animate-pulse",size:24}),u.jsxs("h1",{className:"text-5xl font-black text-white drop-shadow-2xl",children:["Mundo ",t]}),u.jsx(cn,{className:"text-yellow-300 animate-pulse",size:24})]}),u.jsx("h2",{className:"text-3xl font-bold text-white/90 mb-3 drop-shadow-lg",children:s.name}),u.jsx("p",{className:"text-xl text-white/80 font-medium",children:s.description})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-6 shadow-2xl mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(i,{className:`bg-gradient-to-br ${s.color.from} ${s.color.to} text-white p-2 rounded-xl`,size:40}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Caractersticas"})]}),u.jsx("div",{className:"space-y-3",children:s.features.map((o,a)=>u.jsxs("div",{className:"flex items-center gap-3 text-gray-700 text-lg",style:{animationDelay:`${a*100}ms`},children:[u.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-br ${s.color.from} ${s.color.to}`}),u.jsx("span",{className:"font-semibold",children:o})]},a))})]}),u.jsx("button",{onClick:e,className:"w-full bg-white text-gray-800 py-5 rounded-2xl font-black text-2xl shadow-2xl hover:scale-105 active:scale-95 transition-all hover:shadow-3xl",children:"COMENZAR! "}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("p",{className:"text-white/70 text-sm font-medium",children:"5 niveles de diversin te esperan"})})]}),u.jsx("style",{children:`
        @keyframes bounce-slow {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-20px);
          }
        }

        .animate-bounce-slow {
          animation: bounce-slow 2s ease-in-out infinite;
        }
      `})]})}const EN=({initialLevel:t,onBackToMenu:e})=>{var j;const[n,r]=_.useState(t),[s,i]=_.useState(null),[o,a]=_.useState(!1),[l,c]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(!1),[y,w]=_.useState(1),x=_.useRef(!1),g=_.useRef(((j=nn(t))==null?void 0:j.world)||1),m=_.useCallback(async()=>{if(x.current){console.log("[GameShell] onLevelCompleted: already completed, skipping");return}x.current=!0;const S=nn(n);if(!S)return;const E=dS(n),T=hS(n);if(await cS(E,T,3),On(S.unlockReward),S.level===5){const R=S.world+1;R<=10?h({completedWorld:S.world,unlockedWorld:R,coinsEarned:S.unlockReward,isGameComplete:!1}):h({completedWorld:S.world,unlockedWorld:S.world,coinsEarned:S.unlockReward,isGameComplete:!0})}else{const R=n+1;i(R),c("level"),a(!0)}},[n]);_.useEffect(()=>{console.log("[GameShell] LEVEL_CHANGED",n),x.current=!1;const S=nn(n);S&&S.world!==g.current&&S.level===1&&(w(S.world),p(!0),g.current=S.world),ge.stopStartMusic(),ge.stopLevelMusic(),S&&ge.playLevelMusic(S.world)},[n]);const v=_.useCallback(()=>{console.log("[GameShell] handleNextLevel",{level:n,nextLevel:s}),s!=null&&(r(s),i(null),a(!1),c(null))},[s,n]),b=_.useCallback(()=>{h(null);const S=n+1,E=nn(S);E&&(w(E.world),p(!0),g.current=E.world),r(S)},[n]),k=_.useCallback(()=>{p(!1)},[]);return console.log("[GameShell] Render",{level:n,nextLevel:s,showBanner:o,bannerType:l}),u.jsxs(u.Fragment,{children:[f?u.jsx(jN,{world:y,onStart:k}):u.jsx("section",{children:u.jsx(Sw,{level:n,onComplete:m,onBackToMenu:e})},`level-${n}`),d&&u.jsx(kN,{completedWorld:d.completedWorld,unlockedWorld:d.unlockedWorld,coinsEarned:d.coinsEarned,isGameComplete:d.isGameComplete,onContinue:b}),o&&s!=null&&!d&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsx("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl pointer-events-auto",children:l==="level"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-green-600 mb-2",children:["Nivel ",n," Completado!"]}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Pulsa para continuar."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),u.jsxs("button",{onClick:v,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",s]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent mb-2",children:"Has completado todas las fases!"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Quieres volver a empezar?"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Men"}),u.jsxs("button",{onClick:v,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",s]})]})]})})})]})},CN=({onClose:t,onCreateRoom:e,onJoinRoom:n})=>{const[r,s]=_.useState("menu"),[i,o]=_.useState(1),[a,l]=_.useState(""),c=()=>{e(i),t()},d=()=>{a.trim().length===6&&(n(a.toUpperCase()),t())};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",style:{fontFamily:"system-ui"},children:u.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-6 w-full max-w-lg",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("h2",{className:"text-2xl font-bold m-0",children:[r==="menu"&&" Duelo",r==="create"&&" Crear Sala",r==="join"&&" Unirse a Sala"]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Cerrar",children:u.jsx(ts,{size:20})})]}),r==="menu"&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:()=>s("create"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:" Crear Sala"}),u.jsx("button",{onClick:()=>s("join"),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:" Unirse con Cdigo"})]}),r==="create"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Selecciona el Mundo:"}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(h=>u.jsx("button",{onClick:()=>o(h),className:`py-3 rounded-lg font-bold transition-all ${i===h?"bg-gradient-to-r from-green-500 to-emerald-600 text-white scale-110":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:h},h))})]}),u.jsx("div",{className:"bg-gray-800 rounded-lg p-3 text-sm",children:u.jsxs("p",{className:"opacity-80",children:[" Recompensa: ",u.jsxs("span",{className:"font-bold text-yellow-400",children:[20+(i-1)*13," monedas"]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>s("menu"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-xl font-bold transition-all",children:"Atrs"}),u.jsx("button",{onClick:c,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Crear Sala"})]})]}),r==="join"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Cdigo de la Sala:"}),u.jsx("input",{type:"text",value:a,onChange:h=>l(h.target.value.toUpperCase().slice(0,6)),placeholder:"ABC123",maxLength:6,className:"w-full bg-gray-800 text-white px-4 py-3 rounded-xl text-center text-2xl font-bold tracking-widest focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsx("div",{className:"bg-gray-800 rounded-lg p-3 text-sm opacity-80",children:" Ingresa el cdigo de 6 caracteres que te comparti tu rival"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>s("menu"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-xl font-bold transition-all",children:"Atrs"}),u.jsx("button",{onClick:d,disabled:a.length!==6,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Unirse"})]})]})]})})},PN=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Fm=t=>{const e=(t-1)*6;return PN.slice(e,e+6)};function TN(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}async function NN(t,e){const n=TN(),r=`duel-${Date.now()}-${Math.random().toString(36).substring(7)}`,{data:s,error:i}=await de.from("duel_rooms").insert({room_code:n,world_id:e,seed:r,host_client_id:t,status:"waiting"}).select().maybeSingle();return i?(console.error("[createDuelRoom] Error:",i),null):s}async function RN(t,e){const{data:n,error:r}=await de.from("duel_rooms").select("*").eq("room_code",e).eq("status","waiting").maybeSingle();if(r||!n)return console.error("[joinDuelRoom] Room not found or error:",r),null;if(n.host_client_id===t)return n;const{data:s,error:i}=await de.from("duel_rooms").update({guest_client_id:t,status:"playing"}).eq("id",n.id).select().maybeSingle();return i?(console.error("[joinDuelRoom] Error updating room:",i),null):s}async function Bm(t,e){const{data:n}=await de.from("duel_rooms").select("*").eq("id",t).maybeSingle();if(!n)return;const r=n.host_client_id===e,i={[r?"host_finished_at":"guest_finished_at"]:new Date().toISOString()},a=n[r?"guest_finished_at":"host_finished_at"];if(a){const l=new Date().toISOString(),c=a;i.winner_client_id=l<c?e:r?n.guest_client_id:n.host_client_id,i.status="finished"}else i.winner_client_id=e,i.status="finished";await de.from("duel_rooms").update(i).eq("id",t)}async function ON(t){await de.from("duel_rooms").update({status:"cancelled"}).eq("id",t)}const IN=({onBackToMenu:t})=>{const[e,n]=_.useState(!1),[r,s]=_.useState(null),[i,o]=_.useState("lobby"),[a,l]=_.useState([]),[c,d]=_.useState([]),[h,f]=_.useState(new Set),[p,y]=_.useState(0),[w,x]=_.useState(0),[g,m]=_.useState(null),[v,b]=_.useState(!1),[k,j]=_.useState(!1),S=Dt(),E=_.useRef(!1),T=_.useRef(null),R=_.useRef(null);r==null||r.host_client_id;const te=(r==null?void 0:r.guest_client_id)!=null,We=_.useCallback((F,U)=>{const q=er(U,1),lt=nn(q),ct=(lt==null?void 0:lt.pairs)||10,ls=Fm(q).slice(0,ct).flatMap((Ze,yt)=>[{id:yt*2,imageIndex:yt,isFlipped:!1,isMatched:!1},{id:yt*2+1,imageIndex:yt,isFlipped:!1,isMatched:!1}]),ut=_w(F),ze=[...ls];for(let Ze=ze.length-1;Ze>0;Ze--){const yt=Math.floor(ut()*(Ze+1));[ze[Ze],ze[yt]]=[ze[yt],ze[Ze]]}return ze},[]);_.useEffect(()=>{const U=new URLSearchParams(window.location.search).get("room");U&&Wn(U)},[]),_.useEffect(()=>{if(!r)return;const F=de.channel(`duel_room:${r.room_code}`);return R.current=F,F.on("postgres_changes",{event:"*",schema:"public",table:"duel_rooms",filter:`room_code=eq.${r.room_code}`},U=>{console.log("[DuelScene] Room updated:",U);const q=U.new;s(q),q.status==="playing"&&i==="lobby"&&Ct(q),q.status==="finished"&&i==="playing"&&di(q)}).subscribe(),()=>{de.removeChannel(F)}},[r==null?void 0:r.room_code]);const Ct=F=>{const U=er(F.world_id,1),q=nn(U),lt=We(F.seed,F.world_id);l(lt),y((q==null?void 0:q.timeLimit)||60),x(0),f(new Set),d([]),o("playing"),T.current=window.setInterval(()=>{y(ct=>ct<=1?(T.current&&clearInterval(T.current),dn(),0):ct-1)},1e3)},dn=async()=>{r&&await Bm(r.id,S)},di=F=>{T.current&&(clearInterval(T.current),T.current=null),o("finished");const U=F.winner_client_id===S;if(m(U?"me":"opponent"),U){const q=20+(F.world_id-1)*13;On(q),ge.playWin(),ko()}else ge.playLose();b(!0)},Vt=async F=>{const U=await NN(S,F);if(U){s(U);const q=new URL(window.location.href);q.searchParams.set("room",U.room_code),window.history.replaceState({},"",q.toString())}},Wn=async F=>{const U=await RN(S,F);if(U){s(U);const q=new URL(window.location.href);q.searchParams.set("room",U.room_code),window.history.replaceState({},"",q.toString()),U.status==="playing"&&Ct(U)}else alert("Sala no encontrada o ya est llena")},P=_.useCallback(async F=>{if(i!=="playing"||E.current||c.length>=2||!r)return;const U=a.find(lt=>lt.id===F);if(!U||h.has(U.imageIndex)||c.includes(F))return;const q=[...c,F];if(d(q),l(lt=>lt.map(ct=>ct.id===F?{...ct,isFlipped:!0}:ct)),q.length===2){E.current=!0;const[lt,ct]=q,Sr=a.find(ut=>ut.id===lt),ls=a.find(ut=>ut.id===ct);if(Sr&&ls&&Sr.imageIndex===ls.imageIndex){ge.playMatch(),f(Kl=>new Set(Kl).add(Sr.imageIndex));const ut=w+1;x(ut),d([]),E.current=!1;const ze=er(r.world_id,1),Ze=nn(ze),yt=(Ze==null?void 0:Ze.pairs)||10;ut>=yt&&await Bm(r.id,S)}else setTimeout(()=>{l(ut=>ut.map(ze=>ze.id===lt||ze.id===ct?{...ze,isFlipped:!1}:ze)),d([]),E.current=!1},600)}},[a,c,i,h,w,r,S]),A=async()=>{if(i==="playing"){if(!confirm("Seguro que quieres salir? Perders la partida."))return;r&&await ON(r.id)}t()},z=async()=>{if(r)try{await navigator.clipboard.writeText(r.room_code),j(!0),setTimeout(()=>j(!1),2e3)}catch{alert(`Cdigo: ${r.room_code}`)}},X=async()=>{if(!r)return;const F=`${window.location.origin}${window.location.pathname}?room=${r.room_code}`,U=` nete a mi duelo en Twin Clash!
 Cdigo: ${r.room_code}
 Mundo ${r.world_id}

${F}`;if(navigator.share)try{await navigator.share({title:"Twin Clash Duelo",text:U,url:F})}catch(q){console.log("Share cancelled",q)}else try{await navigator.clipboard.writeText(U),alert("Enlace copiado al portapapeles")}catch{alert(U)}},he=r?Fm(er(r.world_id,1)):[],Pt=r?nn(er(r.world_id,1)):null,Tt=(Pt==null?void 0:Pt.theme)||"nature";return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-400 via-pink-500 to-purple-600 flex flex-col p-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Duelo 1v1"}),r&&u.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:["Mundo ",r.world_id," - ",Tt]})]}),u.jsxs("button",{onClick:A,className:"flex items-center gap-2 bg-red-500 text-white px-3 py-2 rounded-lg text-sm font-semibold hover:bg-red-600 transition-colors",children:[u.jsx(po,{size:16}),"Salir"]})]}),i==="lobby"&&!r&&u.jsx("div",{className:"text-center py-8",children:u.jsx("button",{onClick:()=>n(!0),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:" Crear o Unirse a Duelo"})}),i==="lobby"&&r&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Gu,{size:16,className:te?"text-green-500":"text-gray-400"}),u.jsx("span",{className:te?"text-green-600 font-semibold":"text-gray-600",children:te?"Oponente conectado!":"Esperando oponente..."})]}),u.jsxs("div",{className:"bg-gray-100 rounded-xl p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Cdigo de la sala:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-800 tracking-widest",children:r.room_code}),u.jsx("button",{onClick:z,className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:u.jsx(o0,{size:16})}),u.jsx("button",{onClick:X,className:"p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:u.jsx(d0,{size:16})})]}),k&&u.jsx("div",{className:"text-xs text-green-600 mt-1",children:" Copiado"})]}),!te&&u.jsx("div",{className:"text-sm text-gray-600 text-center bg-blue-50 p-3 rounded-lg",children:" Comparte el cdigo con tu rival para que se una"})]}),i==="playing"&&u.jsxs("div",{className:"flex items-center justify-around text-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:w}),u.jsx("div",{className:"text-xs text-gray-600",children:"Parejas"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(i0,{size:20,className:"text-red-500"}),u.jsxs("div",{className:`text-2xl font-bold ${p<=10?"text-red-600 animate-pulse":"text-gray-800"}`,children:[p,"s"]})]})]})]}),i==="lobby"&&r&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-white",children:[u.jsx(Gu,{size:64,className:"mx-auto mb-4 opacity-50"}),u.jsxs("p",{className:"text-lg font-semibold mb-2",children:["Sala: ",r.room_code]}),u.jsx("p",{className:"text-sm opacity-80",children:te?"Esperando que el anfitrin inicie...":"Esperando oponente..."})]})}),i==="playing"&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"w-full max-w-lg",children:u.jsx("div",{className:"grid grid-cols-4 gap-3",children:a.map(F=>{const U={...F,isMatched:h.has(F.imageIndex)};return u.jsx(Ov,{card:U,image:he[F.imageIndex],onClick:P,disabled:E.current},F.id)})})})}),v&&i==="finished"&&r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:g==="me"?"":""}),u.jsx("h3",{className:`text-3xl font-bold mb-2 ${g==="me"?"text-green-600":"text-gray-600"}`,children:g==="me"?"Ganaste!":"Perdiste"}),g==="me"&&u.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["+",20+(r.world_id-1)*13," monedas"]}),u.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all",children:"Volver al Men"})]})}),e&&u.jsx(CN,{onClose:()=>n(!1),onCreateRoom:Vt,onJoinRoom:Wn})]})},MN=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];function Vm(t){return[...MN].sort(()=>Math.random()-.5).slice(0,t)}const LN=({onBackToMenu:t})=>{const[e,n]=_.useState(()=>Vm(5)),[r,s]=_.useState(0),[i,o]=_.useState(new Set),[a,l]=_.useState(!1),[c,d]=_.useState({}),[h,f]=_.useState(!0);_.useEffect(()=>{p()},[e]);const p=async()=>{try{const m=Dt(),{data:v,error:b}=await de.from("scores").select("level_id, score").eq("client_id",m).in("level_id",e);if(!b&&v){const k=new Set,j={};v.forEach(S=>{S.level_id&&(k.add(S.level_id),j[S.level_id]=S.score||0)}),o(k),d(j)}}catch(m){console.error("Error loading challenge progress:",m)}finally{f(!1)}},y=m=>{s(m),l(!0)},w=async()=>{await p(),l(!1)},x=async()=>{await p(),l(!1)},g=()=>{const m=Vm(5);n(m),o(new Set),d({}),f(!0)};return h?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 flex items-center justify-center",children:u.jsx("div",{className:"text-white text-2xl font-bold",children:"Cargando desafos..."})}):a?u.jsx(Sw,{level:e[r],isDailyChallenge:!0,onComplete:w,onBackToMenu:x},`challenge-${e[r]}-${Date.now()}`):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 p-4",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Desafos Diarios"}),u.jsx("p",{className:"text-sm text-gray-600",children:"5 desafos aleatorios"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors",children:[u.jsx(u0,{size:18}),"Nuevos"]}),u.jsxs("button",{onClick:t,className:"flex items-center gap-2 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:[u.jsx(po,{size:18}),"Volver"]})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-4 mb-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Rn,{className:"text-yellow-600",size:32}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[i.size," / ",e.length]}),u.jsx("div",{className:"text-xs text-gray-600",children:"Desafos completados"})]})]})})]}),u.jsx("div",{className:"space-y-4",children:e.map((m,v)=>{const b=i.has(m),k=c[m]||0,j=v>0&&!i.has(e[v-1]);return u.jsx("div",{className:`bg-white rounded-2xl shadow-lg p-6 transition-all ${j?"opacity-50 cursor-not-allowed":"hover:shadow-xl cursor-pointer"}`,onClick:()=>!j&&y(v),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold ${b?"bg-gradient-to-br from-green-400 to-green-600 text-white":j?"bg-gray-300 text-gray-500":"bg-gradient-to-br from-yellow-400 to-orange-500 text-white"}`,children:j?"":b?"":v+1}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["Desafo ",v+1," - Nivel ",m]}),u.jsx("p",{className:"text-sm text-gray-600",children:j?"Completa el desafo anterior":b?`Puntuacin: ${k}`:"Sin completar"})]})]}),b&&u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[u.jsx(Oa,{className:"text-yellow-500 fill-yellow-500",size:16}),u.jsx(Oa,{className:"text-yellow-500 fill-yellow-500",size:16}),u.jsx(Oa,{className:"text-yellow-500 fill-yellow-500",size:16})]}),u.jsx("button",{onClick:S=>{S.stopPropagation(),y(v)},className:"text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded-lg hover:bg-gray-300 transition-colors",children:"Volver a jugar"})]}),!j&&!b&&u.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 text-white px-6 py-2 rounded-lg font-bold hover:shadow-lg transition-all",children:"Jugar"})]})},`${m}-${v}`)})})]})})},AN=[mh,fh,ph,gh,yh,f0,c0,l0,cn,a0],qm=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],zN=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}];function $N({currentWorld:t,currentLevel:e,worldsCompleted:n,onSelectWorld:r,onBackToMenu:s}){const[i,o]=_.useState({1:!0}),[a,l]=_.useState({}),[c,d]=_.useState(0),[h,f]=_.useState(null),[p,y]=_.useState(!1),[w,x]=_.useState(!1),[g,m]=_.useState(""),[v,b]=_.useState(null);_.useEffect(()=>{(async()=>{for(let E=1;E<=10;E++)Pv(`world-${E}`,5),E>1&&aS(`world-${E}`).then(T=>{o(R=>({...R,[E]:T}))}),Tv(`world-${E}`).then(T=>{l(R=>({...R,[E]:T}))});d(Pe())})()},[]);const k=async S=>{if(S===1||i[S]){r(S);return}f(S)},j=async()=>{if(!h)return;y(!0);const S=`world-${h}`,E=fl[S],T=await Nv(S,E);T.ok?(o({...i,[h]:!0}),d(Pe()),f(null),r(h)):alert(T.reason),y(!1)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 via-blue-500 to-indigo-700 p-6",children:[u.jsx("button",{onClick:s,className:"mb-6 text-white flex items-center gap-2 font-semibold text-lg hover:scale-105 transition-transform",children:" Volver"}),u.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-3",children:"Elige tu Mundo"}),u.jsx("p",{className:"text-white/80 text-center mb-10 text-lg",children:"10 Mundos  50 Niveles  Aventura pica"}),u.jsx("div",{className:"grid grid-cols-1 gap-6 max-w-md mx-auto",children:[1,2,3,4,5,6,7,8,9,10].map(S=>{const E=i[S]??!1,T=AN[S-1],R=zN[S-1],te=t===S,We=a[S]??!1;return u.jsxs("button",{onClick:()=>k(S),className:`relative p-6 rounded-3xl shadow-2xl transition-all transform overflow-hidden ${E?`bg-gradient-to-br ${R.from} ${R.to} hover:scale-105 active:scale-95`:"bg-gradient-to-br from-gray-600 to-gray-800"}`,children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsxs("div",{className:`relative ${E?"animate-bounce-slow":"opacity-40"}`,children:[u.jsx("div",{className:`absolute inset-0 ${E?"bg-white/30":"bg-white/10"} rounded-full blur-xl`}),u.jsx(T,{size:56,className:"relative text-white drop-shadow-lg",strokeWidth:1.5})]})}),u.jsxs("div",{className:"flex items-start justify-between text-white relative z-10",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("h3",{className:"text-2xl font-bold drop-shadow-lg",children:["Mundo ",S]}),u.jsx("p",{className:`text-lg font-semibold ${E?"opacity-90":"opacity-60"}`,children:qm[S-1]}),te&&!We&&u.jsxs("div",{className:"mt-1 text-sm bg-white/30 rounded-lg px-3 py-1.5 inline-block backdrop-blur-sm",children:[" Nivel ",e," / 5"]})]}),u.jsx("div",{className:"flex flex-col items-center gap-1 ml-4",children:We?u.jsxs(u.Fragment,{children:[u.jsx(Rn,{className:"text-yellow-300 drop-shadow-lg",size:32}),u.jsx("span",{className:"text-xs bg-yellow-300/30 px-2 py-1 rounded-full font-semibold",children:"Completado"})]}):E?null:u.jsxs("div",{className:"flex flex-col items-center gap-1",children:[u.jsx(zl,{size:32,className:"text-white/60"}),u.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Bloqueado"})]})})]})]},S)})}),w&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Acceso Admin"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Ingresa la contrasea de administrador"}),u.jsx("input",{type:"password",value:g,onChange:S=>m(S.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none mb-4",onKeyDown:S=>{S.key==="Enter"&&(g==="admin2025"?(v&&(o({...i,[v]:!0}),localStorage.setItem(`world_${v}_unlocked`,"true"),r(v)),x(!1),m(""),b(null)):(alert("Contrasea incorrecta"),m("")))}}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>{x(!1),m(""),b(null)},className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:()=>{g==="admin2025"?(v&&(o({...i,[v]:!0}),localStorage.setItem(`world_${v}_unlocked`,"true"),r(v)),x(!1),m(""),b(null)):(alert("Contrasea incorrecta"),m(""))},className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Desbloquear"})]})]})}),h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Mundo ",h]}),u.jsx("p",{className:"text-gray-600 mb-4",children:qm[h-1]}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Al desbloquear este mundo, podrs jugar el nivel 1. Los dems niveles se desbloquean jugando."}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx($t,{size:24,className:"text-white"}),u.jsx("span",{className:"text-2xl font-bold text-white",children:fl[`world-${h}`]})]}),u.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",c," monedas"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>f(null),disabled:p,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:j,disabled:p,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:p?"Desbloqueando...":"Desbloquear"})]}),u.jsx("button",{type:"button",onClick:()=>{b(h),f(null),x(!0)},className:"mt-3 text-xs text-gray-400 hover:text-gray-600 transition-colors",children:"Admin"})]})}),u.jsx("style",{children:`
        @keyframes bounce-slow {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-15px);
          }
        }

        .animate-bounce-slow {
          animation: bounce-slow 2.5s ease-in-out infinite;
        }
      `})]})}function DN({world:t,currentLevel:e,onSelectLevel:n,onBack:r}){var x;const s=xN(t),i=bN((x=s[0])==null?void 0:x.theme),[o,a]=_.useState({}),[l,c]=_.useState(null),[d,h]=_.useState(0),[f,p]=_.useState(!1);_.useEffect(()=>{(async()=>{const m=`world-${t}`;await Pv(m,5);const v=await uS(m),b={};v.levels.forEach((k,j)=>{b[j+1]=k.unlocked}),b[1]=!0,a(b),h(Pe())})()},[t]);const y=async g=>{const m=er(t,g);if(g===1||o[g]){n(m);return}if(g===5&&!o[4]){alert("Para jugar el nivel 5, primero debes completar el nivel 4 o comprarlo");return}c(g)},w=async()=>{if(!l)return;p(!0);const g=`world-${t}`,m=await lS(g,l,Ap);if(m.ok){a({...o,[l]:!0}),h(Pe());const v=er(t,l);c(null),n(v)}else alert(m.reason);p(!1)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-6",children:[u.jsx("button",{onClick:r,className:"text-white mb-6 font-semibold text-lg flex items-center gap-2 hover:scale-105 transition-transform",children:" Mundos"}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Mundo ",t]}),u.jsx("p",{className:"text-white/90 text-xl",children:i})]}),u.jsx("div",{className:"grid grid-cols-5 gap-4 max-w-lg mx-auto mb-8",children:s.map(g=>{const m=o[g.level]??!1,b=er(t,g.level)===e;return u.jsx("button",{onClick:()=>y(g.level),className:`relative w-16 h-16 rounded-2xl font-bold text-xl transition-all shadow-lg ${m?b?"bg-yellow-400 scale-110 shadow-xl text-yellow-900":"bg-white hover:scale-105 text-purple-700":"bg-gray-700 opacity-50 text-gray-400"}`,children:m?u.jsxs(u.Fragment,{children:[u.jsx("span",{children:g.level}),b&&u.jsx(Oa,{className:"absolute -top-2 -right-2 text-yellow-600 fill-yellow-400",size:20}),g.level===5&&u.jsx(Rn,{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 text-orange-500",size:16})]}):u.jsx(zl,{className:"absolute inset-0 m-auto text-gray-500",size:20})},g.level)})}),u.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-3xl p-6 max-w-lg mx-auto text-white",children:[u.jsx("h3",{className:"font-bold text-xl mb-3",children:" Informacin del Mundo"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("p",{children:[" Tiempo: ",s[0].timeLimit,"s - ",s[4].timeLimit,"s"]}),u.jsxs("p",{children:[" Parejas: ",s[0].pairs," - ",s[4].pairs]}),u.jsxs("p",{children:[" Recompensa total: ",s.reduce((g,m)=>g+m.unlockReward,0)," monedas"]}),u.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completa niveles para desbloquear el siguiente"}),u.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completar nivel 5 desbloquea el siguiente mundo"})]})]}),l&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Nivel ",l]}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Saltars el requisito de completar el nivel anterior. Solo este nivel ser desbloqueado."}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx($t,{size:24,className:"text-white"}),u.jsx("span",{className:"text-2xl font-bold text-white",children:Ap})]}),u.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",d," monedas"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>c(null),disabled:f,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:w,disabled:f,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:f?"Desbloqueando...":"Desbloquear"})]})]})})]})}function UN(){const[t,e]=_.useState(()=>new URLSearchParams(window.location.search).get("mode")==="duel"?"duel":"menu"),[n,r]=_.useState(1),[s,i]=_.useState(1),[o,a]=_.useState(!0);_.useEffect(()=>{(async()=>{await Ev(),a(!1)})()},[]);const l=()=>{e("challenge")},c=()=>{e("duel")},d=()=>{ge.stopLevelMusic(),ge.playStartMusic(),e("menu")};return o?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mx-auto mb-4"}),u.jsx("p",{className:"text-white text-xl font-bold",children:"Sincronizando progreso..."})]})}):u.jsxs(u.Fragment,{children:[t==="menu"&&u.jsx(SS,{onStartGame:()=>e("worldmap"),onStartDailyChallenge:l,onStartDuel:c}),t==="worldmap"&&u.jsx($N,{currentWorld:1,currentLevel:1,worldsCompleted:0,onSelectWorld:h=>{i(h),e("levelselect")},onBackToMenu:()=>{ge.stopLevelMusic(),ge.playStartMusic(),e("menu")}}),t==="levelselect"&&u.jsx(DN,{world:s,currentLevel:1,onSelectLevel:h=>{r(h),e("game")},onBack:()=>e("worldmap")}),t==="game"&&u.jsx(EN,{initialLevel:n,onBackToMenu:d},n),t==="challenge"&&u.jsx(LN,{onBackToMenu:d}),t==="duel"&&u.jsx(IN,{onBackToMenu:d})]})}r0(document.getElementById("root")).render(u.jsx(_.StrictMode,{children:u.jsx(UN,{})}));
