(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Xc={exports:{}},Fi={},Zc={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=Symbol.for("react.element"),hp=Symbol.for("react.portal"),fp=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),vp=Symbol.for("react.context"),yp=Symbol.for("react.forward_ref"),wp=Symbol.for("react.suspense"),xp=Symbol.for("react.memo"),kp=Symbol.for("react.lazy"),pu=Symbol.iterator;function _p(t){return t===null||typeof t!="object"?null:(t=pu&&t[pu]||t["@@iterator"],typeof t=="function"?t:null)}var ed={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},td=Object.assign,nd={};function jr(t,e,n){this.props=t,this.context=e,this.refs=nd,this.updater=n||ed}jr.prototype.isReactComponent={};jr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rd(){}rd.prototype=jr.prototype;function oa(t,e,n){this.props=t,this.context=e,this.refs=nd,this.updater=n||ed}var la=oa.prototype=new rd;la.constructor=oa;td(la,jr.prototype);la.isPureReactComponent=!0;var mu=Array.isArray,sd=Object.prototype.hasOwnProperty,aa={current:null},id={key:!0,ref:!0,__self:!0,__source:!0};function od(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)sd.call(e,r)&&!id.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:xs,type:t,key:i,ref:o,props:s,_owner:aa.current}}function Sp(t,e){return{$$typeof:xs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ua(t){return typeof t=="object"&&t!==null&&t.$$typeof===xs}function bp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gu=/\/+/g;function go(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bp(""+t.key):e.toString(36)}function ti(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xs:case hp:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+go(o,0):r,mu(s)?(n="",t!=null&&(n=t.replace(gu,"$&/")+"/"),ti(s,e,n,"",function(c){return c})):s!=null&&(ua(s)&&(s=Sp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",mu(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+go(i,l);o+=ti(i,e,n,u,s)}else if(u=_p(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+go(i,l++),o+=ti(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Os(t,e,n){if(t==null)return t;var r=[],s=0;return ti(t,r,"","",function(i){return e.call(n,i,s++)}),r}function jp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},ni={transition:null},Ep={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:ni,ReactCurrentOwner:aa};function ld(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:Os,forEach:function(t,e,n){Os(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Os(t,function(){e++}),e},toArray:function(t){return Os(t,function(e){return e})||[]},only:function(t){if(!ua(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=jr;D.Fragment=fp;D.Profiler=mp;D.PureComponent=oa;D.StrictMode=pp;D.Suspense=wp;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ep;D.act=ld;D.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=td({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=aa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)sd.call(e,u)&&!id.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:xs,type:t.type,key:s,ref:i,props:r,_owner:o}};D.createContext=function(t){return t={$$typeof:vp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gp,_context:t},t.Consumer=t};D.createElement=od;D.createFactory=function(t){var e=od.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:yp,render:t}};D.isValidElement=ua;D.lazy=function(t){return{$$typeof:kp,_payload:{_status:-1,_result:t},_init:jp}};D.memo=function(t,e){return{$$typeof:xp,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=ni.transition;ni.transition={};try{t()}finally{ni.transition=e}};D.unstable_act=ld;D.useCallback=function(t,e){return Me.current.useCallback(t,e)};D.useContext=function(t){return Me.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};D.useEffect=function(t,e){return Me.current.useEffect(t,e)};D.useId=function(){return Me.current.useId()};D.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};D.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return Me.current.useMemo(t,e)};D.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};D.useRef=function(t){return Me.current.useRef(t)};D.useState=function(t){return Me.current.useState(t)};D.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};D.useTransition=function(){return Me.current.useTransition()};D.version="18.3.1";Zc.exports=D;var x=Zc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=x,Np=Symbol.for("react.element"),Tp=Symbol.for("react.fragment"),Pp=Object.prototype.hasOwnProperty,Lp=Cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ip={key:!0,ref:!0,__self:!0,__source:!0};function ad(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Pp.call(e,r)&&!Ip.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Np,type:t,key:i,ref:o,props:s,_owner:Lp.current}}Fi.Fragment=Tp;Fi.jsx=ad;Fi.jsxs=ad;Xc.exports=Fi;var a=Xc.exports,ud={exports:{}},tt={},cd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,L){var P=N.length;N.push(L);e:for(;0<P;){var W=P-1>>>1,G=N[W];if(0<s(G,L))N[W]=L,N[P]=G,P=W;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var L=N[0],P=N.pop();if(P!==L){N[0]=P;e:for(var W=0,G=N.length,he=G>>>1;W<he;){var ae=2*(W+1)-1,Re=N[ae],ft=ae+1,De=N[ft];if(0>s(Re,P))ft<G&&0>s(De,Re)?(N[W]=De,N[ft]=P,W=ft):(N[W]=Re,N[ae]=P,W=ae);else if(ft<G&&0>s(De,P))N[W]=De,N[ft]=P,W=ft;else break e}}return L}function s(N,L){var P=N.sortIndex-L.sortIndex;return P!==0?P:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,g=3,v=!1,y=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=N)r(c),L.sortIndex=L.expirationTime,e(u,L);else break;L=n(c)}}function w(N){if(k=!1,m(N),!y)if(n(u)!==null)y=!0,ht(_);else{var L=n(c);L!==null&&Qt(w,L.startTime-N)}}function _(N,L){y=!1,k&&(k=!1,p(C),C=-1),v=!0;var P=g;try{for(m(L),h=n(u);h!==null&&(!(h.expirationTime>L)||N&&!ye());){var W=h.callback;if(typeof W=="function"){h.callback=null,g=h.priorityLevel;var G=W(h.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?h.callback=G:h===n(u)&&r(u),m(L)}else r(u);h=n(u)}if(h!==null)var he=!0;else{var ae=n(c);ae!==null&&Qt(w,ae.startTime-L),he=!1}return he}finally{h=null,g=P,v=!1}}var S=!1,b=null,C=-1,A=5,I=-1;function ye(){return!(t.unstable_now()-I<A)}function Ke(){if(b!==null){var N=t.unstable_now();I=N;var L=!0;try{L=b(!0,N)}finally{L?Rt():(S=!1,b=null)}}else S=!1}var Rt;if(typeof f=="function")Rt=function(){f(Ke)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,jt=Ie.port2;Ie.port1.onmessage=Ke,Rt=function(){jt.postMessage(null)}}else Rt=function(){j(Ke,0)};function ht(N){b=N,S||(S=!0,Rt())}function Qt(N,L){C=j(function(){N(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,ht(_))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(N){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var P=g;g=L;try{return N()}finally{g=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var P=g;g=N;try{return L()}finally{g=P}},t.unstable_scheduleCallback=function(N,L,P){var W=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?W+P:W):P=W,N){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,N={id:d++,callback:L,priorityLevel:N,startTime:P,expirationTime:G,sortIndex:-1},P>W?(N.sortIndex=P,e(c,N),n(u)===null&&N===n(c)&&(k?(p(C),C=-1):k=!0,Qt(w,P-W))):(N.sortIndex=G,e(u,N),y||v||(y=!0,ht(_))),N},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(N){var L=g;return function(){var P=g;g=L;try{return N.apply(this,arguments)}finally{g=P}}}})(dd);cd.exports=dd;var Rp=cd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=x,et=Rp;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hd=new Set,ns={};function Fn(t,e){gr(t,e),gr(t+"Capture",e)}function gr(t,e){for(ns[t]=e,t=0;t<e.length;t++)hd.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=Object.prototype.hasOwnProperty,$p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vu={},yu={};function Ap(t){return Zo.call(yu,t)?!0:Zo.call(vu,t)?!1:$p.test(t)?yu[t]=!0:(vu[t]=!0,!1)}function Mp(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zp(t,e,n,r){if(e===null||typeof e>"u"||Mp(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ze(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var ca=/[\-:]([a-z])/g;function da(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ca,da);Ee[e]=new ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ca,da);Ee[e]=new ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ca,da);Ee[e]=new ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function ha(t,e,n,r){var s=Ee.hasOwnProperty(e)?Ee[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zp(e,n,s,r)&&(n=null),r||s===null?Ap(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jt=Op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$s=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),Zn=Symbol.for("react.fragment"),fa=Symbol.for("react.strict_mode"),el=Symbol.for("react.profiler"),fd=Symbol.for("react.provider"),pd=Symbol.for("react.context"),pa=Symbol.for("react.forward_ref"),tl=Symbol.for("react.suspense"),nl=Symbol.for("react.suspense_list"),ma=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),md=Symbol.for("react.offscreen"),wu=Symbol.iterator;function Pr(t){return t===null||typeof t!="object"?null:(t=wu&&t[wu]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,vo;function Dr(t){if(vo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vo=e&&e[1]||""}return`
`+vo+t}var yo=!1;function wo(t,e){if(!t||yo)return"";yo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{yo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Dr(t):""}function Dp(t){switch(t.tag){case 5:return Dr(t.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 2:case 15:return t=wo(t.type,!1),t;case 11:return t=wo(t.type.render,!1),t;case 1:return t=wo(t.type,!0),t;default:return""}}function rl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zn:return"Fragment";case Xn:return"Portal";case el:return"Profiler";case fa:return"StrictMode";case tl:return"Suspense";case nl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pd:return(t.displayName||"Context")+".Consumer";case fd:return(t._context.displayName||"Context")+".Provider";case pa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ma:return e=t.displayName||null,e!==null?e:rl(t.type)||"Memo";case tn:e=t._payload,t=t._init;try{return rl(t(e))}catch{}}return null}function Up(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rl(e);case 8:return e===fa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fp(t){var e=gd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function As(t){t._valueTracker||(t._valueTracker=Fp(t))}function vd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sl(t,e){var n=e.checked;return oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xu(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yd(t,e){e=e.checked,e!=null&&ha(t,"checked",e,!1)}function il(t,e){yd(t,e);var n=vn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ol(t,e.type,n):e.hasOwnProperty("defaultValue")&&ol(t,e.type,vn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ku(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ol(t,e,n){(e!=="number"||pi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ur=Array.isArray;function cr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ll(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _u(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Ur(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vn(n)}}function wd(t,e){var n=vn(e.value),r=vn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Su(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function al(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ms,kd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ms=Ms||document.createElement("div"),Ms.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ms.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bp=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(t){Bp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vr[e]=Vr[t]})});function _d(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vr.hasOwnProperty(t)&&Vr[t]?(""+e).trim():e+"px"}function Sd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_d(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Wp=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(t,e){if(e){if(Wp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function cl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function ga(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hl=null,dr=null,hr=null;function bu(t){if(t=Ss(t)){if(typeof hl!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Hi(e),hl(t.stateNode,t.type,e))}}function bd(t){dr?hr?hr.push(t):hr=[t]:dr=t}function jd(){if(dr){var t=dr,e=hr;if(hr=dr=null,bu(t),e)for(t=0;t<e.length;t++)bu(e[t])}}function Ed(t,e){return t(e)}function Cd(){}var xo=!1;function Nd(t,e,n){if(xo)return t(e,n);xo=!0;try{return Ed(t,e,n)}finally{xo=!1,(dr!==null||hr!==null)&&(Cd(),jd())}}function ss(t,e){var n=t.stateNode;if(n===null)return null;var r=Hi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var fl=!1;if(qt)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){fl=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{fl=!1}function Vp(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var qr=!1,mi=null,gi=!1,pl=null,qp={onError:function(t){qr=!0,mi=t}};function Hp(t,e,n,r,s,i,o,l,u){qr=!1,mi=null,Vp.apply(qp,arguments)}function Kp(t,e,n,r,s,i,o,l,u){if(Hp.apply(this,arguments),qr){if(qr){var c=mi;qr=!1,mi=null}else throw Error(E(198));gi||(gi=!0,pl=c)}}function Bn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Td(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ju(t){if(Bn(t)!==t)throw Error(E(188))}function Gp(t){var e=t.alternate;if(!e){if(e=Bn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ju(s),t;if(i===r)return ju(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Pd(t){return t=Gp(t),t!==null?Ld(t):null}function Ld(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ld(t);if(e!==null)return e;t=t.sibling}return null}var Id=et.unstable_scheduleCallback,Eu=et.unstable_cancelCallback,Jp=et.unstable_shouldYield,Qp=et.unstable_requestPaint,ue=et.unstable_now,Yp=et.unstable_getCurrentPriorityLevel,va=et.unstable_ImmediatePriority,Rd=et.unstable_UserBlockingPriority,vi=et.unstable_NormalPriority,Xp=et.unstable_LowPriority,Od=et.unstable_IdlePriority,Bi=null,Lt=null;function Zp(t){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Bi,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:nm,em=Math.log,tm=Math.LN2;function nm(t){return t>>>=0,t===0?32:31-(em(t)/tm|0)|0}var zs=64,Ds=4194304;function Fr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Fr(l):(i&=o,i!==0&&(r=Fr(i)))}else o=n&~s,o!==0?r=Fr(o):i!==0&&(r=Fr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kt(e),s=1<<n,r|=t[n],e&=~s;return r}function rm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-kt(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=rm(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function ml(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $d(){var t=zs;return zs<<=1,!(zs&4194240)&&(zs=64),t}function ko(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ks(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function im(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-kt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ya(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var H=0;function Ad(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Md,wa,zd,Dd,Ud,gl=!1,Us=[],un=null,cn=null,dn=null,is=new Map,os=new Map,rn=[],om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cu(t,e){switch(t){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(e.pointerId)}}function Ir(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ss(e),e!==null&&wa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function lm(t,e,n,r,s){switch(e){case"focusin":return un=Ir(un,t,e,n,r,s),!0;case"dragenter":return cn=Ir(cn,t,e,n,r,s),!0;case"mouseover":return dn=Ir(dn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return is.set(i,Ir(is.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,os.set(i,Ir(os.get(i)||null,t,e,n,r,s)),!0}return!1}function Fd(t){var e=Pn(t.target);if(e!==null){var n=Bn(e);if(n!==null){if(e=n.tag,e===13){if(e=Td(n),e!==null){t.blockedOn=e,Ud(t.priority,function(){zd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ri(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dl=r,n.target.dispatchEvent(r),dl=null}else return e=Ss(n),e!==null&&wa(e),t.blockedOn=n,!1;e.shift()}return!0}function Nu(t,e,n){ri(t)&&n.delete(e)}function am(){gl=!1,un!==null&&ri(un)&&(un=null),cn!==null&&ri(cn)&&(cn=null),dn!==null&&ri(dn)&&(dn=null),is.forEach(Nu),os.forEach(Nu)}function Rr(t,e){t.blockedOn===e&&(t.blockedOn=null,gl||(gl=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,am)))}function ls(t){function e(s){return Rr(s,t)}if(0<Us.length){Rr(Us[0],t);for(var n=1;n<Us.length;n++){var r=Us[n];r.blockedOn===t&&(r.blockedOn=null)}}for(un!==null&&Rr(un,t),cn!==null&&Rr(cn,t),dn!==null&&Rr(dn,t),is.forEach(e),os.forEach(e),n=0;n<rn.length;n++)r=rn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Fd(n),n.blockedOn===null&&rn.shift()}var fr=Jt.ReactCurrentBatchConfig,wi=!0;function um(t,e,n,r){var s=H,i=fr.transition;fr.transition=null;try{H=1,xa(t,e,n,r)}finally{H=s,fr.transition=i}}function cm(t,e,n,r){var s=H,i=fr.transition;fr.transition=null;try{H=4,xa(t,e,n,r)}finally{H=s,fr.transition=i}}function xa(t,e,n,r){if(wi){var s=vl(t,e,n,r);if(s===null)Lo(t,e,r,xi,n),Cu(t,r);else if(lm(s,t,e,n,r))r.stopPropagation();else if(Cu(t,r),e&4&&-1<om.indexOf(t)){for(;s!==null;){var i=Ss(s);if(i!==null&&Md(i),i=vl(t,e,n,r),i===null&&Lo(t,e,r,xi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Lo(t,e,r,null,n)}}var xi=null;function vl(t,e,n,r){if(xi=null,t=ga(r),t=Pn(t),t!==null)if(e=Bn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Td(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xi=t,null}function Bd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yp()){case va:return 1;case Rd:return 4;case vi:case Xp:return 16;case Od:return 536870912;default:return 16}default:return 16}}var ln=null,ka=null,si=null;function Wd(){if(si)return si;var t,e=ka,n=e.length,r,s="value"in ln?ln.value:ln.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return si=s.slice(t,1<r?1-r:void 0)}function ii(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fs(){return!0}function Tu(){return!1}function nt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fs:Tu,this.isPropagationStopped=Tu,this}return oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),e}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=nt(Er),_s=oe({},Er,{view:0,detail:0}),dm=nt(_s),_o,So,Or,Wi=oe({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(_o=t.screenX-Or.screenX,So=t.screenY-Or.screenY):So=_o=0,Or=t),_o)},movementY:function(t){return"movementY"in t?t.movementY:So}}),Pu=nt(Wi),hm=oe({},Wi,{dataTransfer:0}),fm=nt(hm),pm=oe({},_s,{relatedTarget:0}),bo=nt(pm),mm=oe({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),gm=nt(mm),vm=oe({},Er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ym=nt(vm),wm=oe({},Er,{data:0}),Lu=nt(wm),xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_m[t])?!!e[t]:!1}function Sa(){return Sm}var bm=oe({},_s,{key:function(t){if(t.key){var e=xm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?km[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jm=nt(bm),Em=oe({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iu=nt(Em),Cm=oe({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),Nm=nt(Cm),Tm=oe({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pm=nt(Tm),Lm=oe({},Wi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Im=nt(Lm),Rm=[9,13,27,32],ba=qt&&"CompositionEvent"in window,Hr=null;qt&&"documentMode"in document&&(Hr=document.documentMode);var Om=qt&&"TextEvent"in window&&!Hr,Vd=qt&&(!ba||Hr&&8<Hr&&11>=Hr),Ru=" ",Ou=!1;function qd(t,e){switch(t){case"keyup":return Rm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var er=!1;function $m(t,e){switch(t){case"compositionend":return Hd(e);case"keypress":return e.which!==32?null:(Ou=!0,Ru);case"textInput":return t=e.data,t===Ru&&Ou?null:t;default:return null}}function Am(t,e){if(er)return t==="compositionend"||!ba&&qd(t,e)?(t=Wd(),si=ka=ln=null,er=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vd&&e.locale!=="ko"?null:e.data;default:return null}}var Mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Mm[t.type]:e==="textarea"}function Kd(t,e,n,r){bd(r),e=ki(e,"onChange"),0<e.length&&(n=new _a("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kr=null,as=null;function zm(t){sh(t,0)}function Vi(t){var e=rr(t);if(vd(e))return t}function Dm(t,e){if(t==="change")return e}var Gd=!1;if(qt){var jo;if(qt){var Eo="oninput"in document;if(!Eo){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),Eo=typeof Au.oninput=="function"}jo=Eo}else jo=!1;Gd=jo&&(!document.documentMode||9<document.documentMode)}function Mu(){Kr&&(Kr.detachEvent("onpropertychange",Jd),as=Kr=null)}function Jd(t){if(t.propertyName==="value"&&Vi(as)){var e=[];Kd(e,as,t,ga(t)),Nd(zm,e)}}function Um(t,e,n){t==="focusin"?(Mu(),Kr=e,as=n,Kr.attachEvent("onpropertychange",Jd)):t==="focusout"&&Mu()}function Fm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vi(as)}function Bm(t,e){if(t==="click")return Vi(e)}function Wm(t,e){if(t==="input"||t==="change")return Vi(e)}function Vm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var St=typeof Object.is=="function"?Object.is:Vm;function us(t,e){if(St(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zo.call(e,s)||!St(t[s],e[s]))return!1}return!0}function zu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Du(t,e){var n=zu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zu(n)}}function Qd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yd(){for(var t=window,e=pi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pi(t.document)}return e}function ja(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qm(t){var e=Yd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qd(n.ownerDocument.documentElement,n)){if(r!==null&&ja(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Du(n,i);var o=Du(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hm=qt&&"documentMode"in document&&11>=document.documentMode,tr=null,yl=null,Gr=null,wl=!1;function Uu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wl||tr==null||tr!==pi(r)||(r=tr,"selectionStart"in r&&ja(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gr&&us(Gr,r)||(Gr=r,r=ki(yl,"onSelect"),0<r.length&&(e=new _a("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tr)))}function Bs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nr={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionend:Bs("Transition","TransitionEnd")},Co={},Xd={};qt&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function qi(t){if(Co[t])return Co[t];if(!nr[t])return t;var e=nr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xd)return Co[t]=e[n];return t}var Zd=qi("animationend"),eh=qi("animationiteration"),th=qi("animationstart"),nh=qi("transitionend"),rh=new Map,Fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(t,e){rh.set(t,e),Fn(e,[t])}for(var No=0;No<Fu.length;No++){var To=Fu[No],Km=To.toLowerCase(),Gm=To[0].toUpperCase()+To.slice(1);wn(Km,"on"+Gm)}wn(Zd,"onAnimationEnd");wn(eh,"onAnimationIteration");wn(th,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(nh,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Bu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Kp(r,e,void 0,t),t.currentTarget=null}function sh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Bu(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Bu(s,l,c),i=u}}}if(gi)throw t=pl,gi=!1,pl=null,t}function ee(t,e){var n=e[bl];n===void 0&&(n=e[bl]=new Set);var r=t+"__bubble";n.has(r)||(ih(e,t,2,!1),n.add(r))}function Po(t,e,n){var r=0;e&&(r|=4),ih(n,t,r,e)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function cs(t){if(!t[Ws]){t[Ws]=!0,hd.forEach(function(n){n!=="selectionchange"&&(Jm.has(n)||Po(n,!1,t),Po(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ws]||(e[Ws]=!0,Po("selectionchange",!1,e))}}function ih(t,e,n,r){switch(Bd(e)){case 1:var s=um;break;case 4:s=cm;break;default:s=xa}n=s.bind(null,e,n,t),s=void 0,!fl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Lo(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Pn(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Nd(function(){var c=i,d=ga(n),h=[];e:{var g=rh.get(t);if(g!==void 0){var v=_a,y=t;switch(t){case"keypress":if(ii(n)===0)break e;case"keydown":case"keyup":v=jm;break;case"focusin":y="focus",v=bo;break;case"focusout":y="blur",v=bo;break;case"beforeblur":case"afterblur":v=bo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Nm;break;case Zd:case eh:case th:v=gm;break;case nh:v=Pm;break;case"scroll":v=dm;break;case"wheel":v=Im;break;case"copy":case"cut":case"paste":v=ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Iu}var k=(e&4)!==0,j=!k&&t==="scroll",p=k?g!==null?g+"Capture":null:g;k=[];for(var f=c,m;f!==null;){m=f;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,p!==null&&(w=ss(f,p),w!=null&&k.push(ds(f,w,m)))),j)break;f=f.return}0<k.length&&(g=new v(g,y,null,n,d),h.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==dl&&(y=n.relatedTarget||n.fromElement)&&(Pn(y)||y[Ht]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?Pn(y):null,y!==null&&(j=Bn(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(k=Pu,w="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(k=Iu,w="onPointerLeave",p="onPointerEnter",f="pointer"),j=v==null?g:rr(v),m=y==null?g:rr(y),g=new k(w,f+"leave",v,n,d),g.target=j,g.relatedTarget=m,w=null,Pn(d)===c&&(k=new k(p,f+"enter",y,n,d),k.target=m,k.relatedTarget=j,w=k),j=w,v&&y)t:{for(k=v,p=y,f=0,m=k;m;m=Vn(m))f++;for(m=0,w=p;w;w=Vn(w))m++;for(;0<f-m;)k=Vn(k),f--;for(;0<m-f;)p=Vn(p),m--;for(;f--;){if(k===p||p!==null&&k===p.alternate)break t;k=Vn(k),p=Vn(p)}k=null}else k=null;v!==null&&Wu(h,g,v,k,!1),y!==null&&j!==null&&Wu(h,j,y,k,!0)}}e:{if(g=c?rr(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var _=Dm;else if($u(g))if(Gd)_=Wm;else{_=Fm;var S=Um}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=Bm);if(_&&(_=_(t,c))){Kd(h,_,n,d);break e}S&&S(t,g,c),t==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&ol(g,"number",g.value)}switch(S=c?rr(c):window,t){case"focusin":($u(S)||S.contentEditable==="true")&&(tr=S,yl=c,Gr=null);break;case"focusout":Gr=yl=tr=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,Uu(h,n,d);break;case"selectionchange":if(Hm)break;case"keydown":case"keyup":Uu(h,n,d)}var b;if(ba)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else er?qd(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Vd&&n.locale!=="ko"&&(er||C!=="onCompositionStart"?C==="onCompositionEnd"&&er&&(b=Wd()):(ln=d,ka="value"in ln?ln.value:ln.textContent,er=!0)),S=ki(c,C),0<S.length&&(C=new Lu(C,t,null,n,d),h.push({event:C,listeners:S}),b?C.data=b:(b=Hd(n),b!==null&&(C.data=b)))),(b=Om?$m(t,n):Am(t,n))&&(c=ki(c,"onBeforeInput"),0<c.length&&(d=new Lu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}sh(h,e)})}function ds(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ki(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ss(t,n),i!=null&&r.unshift(ds(t,i,s)),i=ss(t,e),i!=null&&r.push(ds(t,i,s))),t=t.return}return r}function Vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=ss(n,i),u!=null&&o.unshift(ds(n,u,l))):s||(u=ss(n,i),u!=null&&o.push(ds(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Qm=/\r\n?/g,Ym=/\u0000|\uFFFD/g;function Vu(t){return(typeof t=="string"?t:""+t).replace(Qm,`
`).replace(Ym,"")}function Vs(t,e,n){if(e=Vu(e),Vu(t)!==e&&n)throw Error(E(425))}function _i(){}var xl=null,kl=null;function _l(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sl=typeof setTimeout=="function"?setTimeout:void 0,Xm=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,Zm=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(t){return qu.resolve(null).then(t).catch(e0)}:Sl;function e0(t){setTimeout(function(){throw t})}function Io(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ls(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ls(e)}function hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Cr,hs="__reactProps$"+Cr,Ht="__reactContainer$"+Cr,bl="__reactEvents$"+Cr,t0="__reactListeners$"+Cr,n0="__reactHandles$"+Cr;function Pn(t){var e=t[Tt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ht]||n[Tt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hu(t);t!==null;){if(n=t[Tt])return n;t=Hu(t)}return e}t=n,n=t.parentNode}return null}function Ss(t){return t=t[Tt]||t[Ht],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Hi(t){return t[hs]||null}var jl=[],sr=-1;function xn(t){return{current:t}}function te(t){0>sr||(t.current=jl[sr],jl[sr]=null,sr--)}function X(t,e){sr++,jl[sr]=t.current,t.current=e}var yn={},Le=xn(yn),Ve=xn(!1),$n=yn;function vr(t,e){var n=t.type.contextTypes;if(!n)return yn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qe(t){return t=t.childContextTypes,t!=null}function Si(){te(Ve),te(Le)}function Ku(t,e,n){if(Le.current!==yn)throw Error(E(168));X(Le,e),X(Ve,n)}function oh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,Up(t)||"Unknown",s));return oe({},n,r)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yn,$n=Le.current,X(Le,t),X(Ve,Ve.current),!0}function Gu(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=oh(t,e,$n),r.__reactInternalMemoizedMergedChildContext=t,te(Ve),te(Le),X(Le,t)):te(Ve),X(Ve,n)}var Ut=null,Ki=!1,Ro=!1;function lh(t){Ut===null?Ut=[t]:Ut.push(t)}function r0(t){Ki=!0,lh(t)}function kn(){if(!Ro&&Ut!==null){Ro=!0;var t=0,e=H;try{var n=Ut;for(H=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ut=null,Ki=!1}catch(s){throw Ut!==null&&(Ut=Ut.slice(t+1)),Id(va,kn),s}finally{H=e,Ro=!1}}return null}var ir=[],or=0,ji=null,Ei=0,rt=[],st=0,An=null,Ft=1,Bt="";function En(t,e){ir[or++]=Ei,ir[or++]=ji,ji=t,Ei=e}function ah(t,e,n){rt[st++]=Ft,rt[st++]=Bt,rt[st++]=An,An=t;var r=Ft;t=Bt;var s=32-kt(r)-1;r&=~(1<<s),n+=1;var i=32-kt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ft=1<<32-kt(e)+s|n<<s|r,Bt=i+t}else Ft=1<<i|n<<s|r,Bt=t}function Ea(t){t.return!==null&&(En(t,1),ah(t,1,0))}function Ca(t){for(;t===ji;)ji=ir[--or],ir[or]=null,Ei=ir[--or],ir[or]=null;for(;t===An;)An=rt[--st],rt[st]=null,Bt=rt[--st],rt[st]=null,Ft=rt[--st],rt[st]=null}var Ze=null,Xe=null,ne=!1,wt=null;function uh(t,e){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ju(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ze=t,Xe=hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ze=t,Xe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=An!==null?{id:Ft,overflow:Bt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ze=t,Xe=null,!0):!1;default:return!1}}function El(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cl(t){if(ne){var e=Xe;if(e){var n=e;if(!Ju(t,e)){if(El(t))throw Error(E(418));e=hn(n.nextSibling);var r=Ze;e&&Ju(t,e)?uh(r,n):(t.flags=t.flags&-4097|2,ne=!1,Ze=t)}}else{if(El(t))throw Error(E(418));t.flags=t.flags&-4097|2,ne=!1,Ze=t}}}function Qu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ze=t}function qs(t){if(t!==Ze)return!1;if(!ne)return Qu(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_l(t.type,t.memoizedProps)),e&&(e=Xe)){if(El(t))throw ch(),Error(E(418));for(;e;)uh(t,e),e=hn(e.nextSibling)}if(Qu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xe=hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xe=null}}else Xe=Ze?hn(t.stateNode.nextSibling):null;return!0}function ch(){for(var t=Xe;t;)t=hn(t.nextSibling)}function yr(){Xe=Ze=null,ne=!1}function Na(t){wt===null?wt=[t]:wt.push(t)}var s0=Jt.ReactCurrentBatchConfig;function $r(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Hs(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yu(t){var e=t._init;return e(t._payload)}function dh(t){function e(p,f){if(t){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=gn(p,f),p.index=0,p.sibling=null,p}function i(p,f,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,w){return f===null||f.tag!==6?(f=Uo(m,p.mode,w),f.return=p,f):(f=s(f,m),f.return=p,f)}function u(p,f,m,w){var _=m.type;return _===Zn?d(p,f,m.props.children,w,m.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===tn&&Yu(_)===f.type)?(w=s(f,m.props),w.ref=$r(p,f,m),w.return=p,w):(w=hi(m.type,m.key,m.props,null,p.mode,w),w.ref=$r(p,f,m),w.return=p,w)}function c(p,f,m,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Fo(m,p.mode,w),f.return=p,f):(f=s(f,m.children||[]),f.return=p,f)}function d(p,f,m,w,_){return f===null||f.tag!==7?(f=On(m,p.mode,w,_),f.return=p,f):(f=s(f,m),f.return=p,f)}function h(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Uo(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $s:return m=hi(f.type,f.key,f.props,null,p.mode,m),m.ref=$r(p,null,f),m.return=p,m;case Xn:return f=Fo(f,p.mode,m),f.return=p,f;case tn:var w=f._init;return h(p,w(f._payload),m)}if(Ur(f)||Pr(f))return f=On(f,p.mode,m,null),f.return=p,f;Hs(p,f)}return null}function g(p,f,m,w){var _=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:l(p,f,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $s:return m.key===_?u(p,f,m,w):null;case Xn:return m.key===_?c(p,f,m,w):null;case tn:return _=m._init,g(p,f,_(m._payload),w)}if(Ur(m)||Pr(m))return _!==null?null:d(p,f,m,w,null);Hs(p,m)}return null}function v(p,f,m,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(m)||null,l(f,p,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $s:return p=p.get(w.key===null?m:w.key)||null,u(f,p,w,_);case Xn:return p=p.get(w.key===null?m:w.key)||null,c(f,p,w,_);case tn:var S=w._init;return v(p,f,m,S(w._payload),_)}if(Ur(w)||Pr(w))return p=p.get(m)||null,d(f,p,w,_,null);Hs(f,w)}return null}function y(p,f,m,w){for(var _=null,S=null,b=f,C=f=0,A=null;b!==null&&C<m.length;C++){b.index>C?(A=b,b=null):A=b.sibling;var I=g(p,b,m[C],w);if(I===null){b===null&&(b=A);break}t&&b&&I.alternate===null&&e(p,b),f=i(I,f,C),S===null?_=I:S.sibling=I,S=I,b=A}if(C===m.length)return n(p,b),ne&&En(p,C),_;if(b===null){for(;C<m.length;C++)b=h(p,m[C],w),b!==null&&(f=i(b,f,C),S===null?_=b:S.sibling=b,S=b);return ne&&En(p,C),_}for(b=r(p,b);C<m.length;C++)A=v(b,p,C,m[C],w),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?C:A.key),f=i(A,f,C),S===null?_=A:S.sibling=A,S=A);return t&&b.forEach(function(ye){return e(p,ye)}),ne&&En(p,C),_}function k(p,f,m,w){var _=Pr(m);if(typeof _!="function")throw Error(E(150));if(m=_.call(m),m==null)throw Error(E(151));for(var S=_=null,b=f,C=f=0,A=null,I=m.next();b!==null&&!I.done;C++,I=m.next()){b.index>C?(A=b,b=null):A=b.sibling;var ye=g(p,b,I.value,w);if(ye===null){b===null&&(b=A);break}t&&b&&ye.alternate===null&&e(p,b),f=i(ye,f,C),S===null?_=ye:S.sibling=ye,S=ye,b=A}if(I.done)return n(p,b),ne&&En(p,C),_;if(b===null){for(;!I.done;C++,I=m.next())I=h(p,I.value,w),I!==null&&(f=i(I,f,C),S===null?_=I:S.sibling=I,S=I);return ne&&En(p,C),_}for(b=r(p,b);!I.done;C++,I=m.next())I=v(b,p,C,I.value,w),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?C:I.key),f=i(I,f,C),S===null?_=I:S.sibling=I,S=I);return t&&b.forEach(function(Ke){return e(p,Ke)}),ne&&En(p,C),_}function j(p,f,m,w){if(typeof m=="object"&&m!==null&&m.type===Zn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case $s:e:{for(var _=m.key,S=f;S!==null;){if(S.key===_){if(_=m.type,_===Zn){if(S.tag===7){n(p,S.sibling),f=s(S,m.props.children),f.return=p,p=f;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===tn&&Yu(_)===S.type){n(p,S.sibling),f=s(S,m.props),f.ref=$r(p,S,m),f.return=p,p=f;break e}n(p,S);break}else e(p,S);S=S.sibling}m.type===Zn?(f=On(m.props.children,p.mode,w,m.key),f.return=p,p=f):(w=hi(m.type,m.key,m.props,null,p.mode,w),w.ref=$r(p,f,m),w.return=p,p=w)}return o(p);case Xn:e:{for(S=m.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=s(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=Fo(m,p.mode,w),f.return=p,p=f}return o(p);case tn:return S=m._init,j(p,f,S(m._payload),w)}if(Ur(m))return y(p,f,m,w);if(Pr(m))return k(p,f,m,w);Hs(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=s(f,m),f.return=p,p=f):(n(p,f),f=Uo(m,p.mode,w),f.return=p,p=f),o(p)):n(p,f)}return j}var wr=dh(!0),hh=dh(!1),Ci=xn(null),Ni=null,lr=null,Ta=null;function Pa(){Ta=lr=Ni=null}function La(t){var e=Ci.current;te(Ci),t._currentValue=e}function Nl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pr(t,e){Ni=t,Ta=lr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(We=!0),t.firstContext=null)}function ct(t){var e=t._currentValue;if(Ta!==t)if(t={context:t,memoizedValue:e,next:null},lr===null){if(Ni===null)throw Error(E(308));lr=t,Ni.dependencies={lanes:0,firstContext:t}}else lr=lr.next=t;return e}var Ln=null;function Ia(t){Ln===null?Ln=[t]:Ln.push(t)}function fh(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ia(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kt(t,r)}function Kt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nn=!1;function Ra(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ph(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kt(t,n)}return s=r.interleaved,s===null?(e.next=e,Ia(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kt(t,n)}function oi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ya(t,n)}}function Xu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ti(t,e,n,r){var s=t.updateQueue;nn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,l=i;do{var g=l.lane,v=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,k=l;switch(g=e,v=n,k.tag){case 1:if(y=k.payload,typeof y=="function"){h=y.call(v,h,g);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=k.payload,g=typeof y=="function"?y.call(v,h,g):y,g==null)break e;h=oe({},h,g);break e;case 2:nn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);zn|=o,t.lanes=o,t.memoizedState=h}}function Zu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var bs={},It=xn(bs),fs=xn(bs),ps=xn(bs);function In(t){if(t===bs)throw Error(E(174));return t}function Oa(t,e){switch(X(ps,e),X(fs,t),X(It,bs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:al(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=al(e,t)}te(It),X(It,e)}function xr(){te(It),te(fs),te(ps)}function mh(t){In(ps.current);var e=In(It.current),n=al(e,t.type);e!==n&&(X(fs,t),X(It,n))}function $a(t){fs.current===t&&(te(It),te(fs))}var se=xn(0);function Pi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oo=[];function Aa(){for(var t=0;t<Oo.length;t++)Oo[t]._workInProgressVersionPrimary=null;Oo.length=0}var li=Jt.ReactCurrentDispatcher,$o=Jt.ReactCurrentBatchConfig,Mn=0,ie=null,ge=null,xe=null,Li=!1,Jr=!1,ms=0,i0=0;function Ce(){throw Error(E(321))}function Ma(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!St(t[n],e[n]))return!1;return!0}function za(t,e,n,r,s,i){if(Mn=i,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,li.current=t===null||t.memoizedState===null?u0:c0,t=n(r,s),Jr){i=0;do{if(Jr=!1,ms=0,25<=i)throw Error(E(301));i+=1,xe=ge=null,e.updateQueue=null,li.current=d0,t=n(r,s)}while(Jr)}if(li.current=Ii,e=ge!==null&&ge.next!==null,Mn=0,xe=ge=ie=null,Li=!1,e)throw Error(E(300));return t}function Da(){var t=ms!==0;return ms=0,t}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ie.memoizedState=xe=t:xe=xe.next=t,xe}function dt(){if(ge===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=xe===null?ie.memoizedState:xe.next;if(e!==null)xe=e,ge=t;else{if(t===null)throw Error(E(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},xe===null?ie.memoizedState=xe=t:xe=xe.next=t}return xe}function gs(t,e){return typeof e=="function"?e(t):e}function Ao(t){var e=dt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((Mn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,o=r):u=u.next=h,ie.lanes|=d,zn|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,St(r,e.memoizedState)||(We=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ie.lanes|=i,zn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mo(t){var e=dt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);St(i,e.memoizedState)||(We=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function gh(){}function vh(t,e){var n=ie,r=dt(),s=e(),i=!St(r.memoizedState,s);if(i&&(r.memoizedState=s,We=!0),r=r.queue,Ua(xh.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,vs(9,wh.bind(null,n,r,s,e),void 0,null),ke===null)throw Error(E(349));Mn&30||yh(n,e,s)}return s}function yh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wh(t,e,n,r){e.value=n,e.getSnapshot=r,kh(e)&&_h(t)}function xh(t,e,n){return n(function(){kh(e)&&_h(t)})}function kh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!St(t,n)}catch{return!0}}function _h(t){var e=Kt(t,1);e!==null&&_t(e,t,1,-1)}function ec(t){var e=Ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:t},e.queue=t,t=t.dispatch=a0.bind(null,ie,t),[e.memoizedState,t]}function vs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Sh(){return dt().memoizedState}function ai(t,e,n,r){var s=Ct();ie.flags|=t,s.memoizedState=vs(1|e,n,void 0,r===void 0?null:r)}function Gi(t,e,n,r){var s=dt();r=r===void 0?null:r;var i=void 0;if(ge!==null){var o=ge.memoizedState;if(i=o.destroy,r!==null&&Ma(r,o.deps)){s.memoizedState=vs(e,n,i,r);return}}ie.flags|=t,s.memoizedState=vs(1|e,n,i,r)}function tc(t,e){return ai(8390656,8,t,e)}function Ua(t,e){return Gi(2048,8,t,e)}function bh(t,e){return Gi(4,2,t,e)}function jh(t,e){return Gi(4,4,t,e)}function Eh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ch(t,e,n){return n=n!=null?n.concat([t]):null,Gi(4,4,Eh.bind(null,e,t),n)}function Fa(){}function Nh(t,e){var n=dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ma(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Th(t,e){var n=dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ma(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ph(t,e,n){return Mn&21?(St(n,e)||(n=$d(),ie.lanes|=n,zn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,We=!0),t.memoizedState=n)}function o0(t,e){var n=H;H=n!==0&&4>n?n:4,t(!0);var r=$o.transition;$o.transition={};try{t(!1),e()}finally{H=n,$o.transition=r}}function Lh(){return dt().memoizedState}function l0(t,e,n){var r=mn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ih(t))Rh(e,n);else if(n=fh(t,e,n,r),n!==null){var s=Ae();_t(n,t,r,s),Oh(n,e,r)}}function a0(t,e,n){var r=mn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ih(t))Rh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,St(l,o)){var u=e.interleaved;u===null?(s.next=s,Ia(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=fh(t,e,s,r),n!==null&&(s=Ae(),_t(n,t,r,s),Oh(n,e,r))}}function Ih(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function Rh(t,e){Jr=Li=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Oh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ya(t,n)}}var Ii={readContext:ct,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},u0={readContext:ct,useCallback:function(t,e){return Ct().memoizedState=[t,e===void 0?null:e],t},useContext:ct,useEffect:tc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ai(4194308,4,Eh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ai(4194308,4,t,e)},useInsertionEffect:function(t,e){return ai(4,2,t,e)},useMemo:function(t,e){var n=Ct();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ct();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=l0.bind(null,ie,t),[r.memoizedState,t]},useRef:function(t){var e=Ct();return t={current:t},e.memoizedState=t},useState:ec,useDebugValue:Fa,useDeferredValue:function(t){return Ct().memoizedState=t},useTransition:function(){var t=ec(!1),e=t[0];return t=o0.bind(null,t[1]),Ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ie,s=Ct();if(ne){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ke===null)throw Error(E(349));Mn&30||yh(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,tc(xh.bind(null,r,i,t),[t]),r.flags|=2048,vs(9,wh.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ct(),e=ke.identifierPrefix;if(ne){var n=Bt,r=Ft;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ms++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=i0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},c0={readContext:ct,useCallback:Nh,useContext:ct,useEffect:Ua,useImperativeHandle:Ch,useInsertionEffect:bh,useLayoutEffect:jh,useMemo:Th,useReducer:Ao,useRef:Sh,useState:function(){return Ao(gs)},useDebugValue:Fa,useDeferredValue:function(t){var e=dt();return Ph(e,ge.memoizedState,t)},useTransition:function(){var t=Ao(gs)[0],e=dt().memoizedState;return[t,e]},useMutableSource:gh,useSyncExternalStore:vh,useId:Lh,unstable_isNewReconciler:!1},d0={readContext:ct,useCallback:Nh,useContext:ct,useEffect:Ua,useImperativeHandle:Ch,useInsertionEffect:bh,useLayoutEffect:jh,useMemo:Th,useReducer:Mo,useRef:Sh,useState:function(){return Mo(gs)},useDebugValue:Fa,useDeferredValue:function(t){var e=dt();return ge===null?e.memoizedState=t:Ph(e,ge.memoizedState,t)},useTransition:function(){var t=Mo(gs)[0],e=dt().memoizedState;return[t,e]},useMutableSource:gh,useSyncExternalStore:vh,useId:Lh,unstable_isNewReconciler:!1};function gt(t,e){if(t&&t.defaultProps){e=oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ji={isMounted:function(t){return(t=t._reactInternals)?Bn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=mn(t),i=Vt(r,s);i.payload=e,n!=null&&(i.callback=n),e=fn(t,i,s),e!==null&&(_t(e,t,s,r),oi(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=mn(t),i=Vt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=fn(t,i,s),e!==null&&(_t(e,t,s,r),oi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ae(),r=mn(t),s=Vt(n,r);s.tag=2,e!=null&&(s.callback=e),e=fn(t,s,r),e!==null&&(_t(e,t,r,n),oi(e,t,r))}};function nc(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!us(n,r)||!us(s,i):!0}function $h(t,e,n){var r=!1,s=yn,i=e.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=qe(e)?$n:Le.current,r=e.contextTypes,i=(r=r!=null)?vr(t,s):yn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ji,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function rc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ji.enqueueReplaceState(e,e.state,null)}function Pl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ra(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=qe(e)?$n:Le.current,s.context=vr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Tl(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ji.enqueueReplaceState(s,s.state,null),Ti(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function kr(t,e){try{var n="",r=e;do n+=Dp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ll(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var h0=typeof WeakMap=="function"?WeakMap:Map;function Ah(t,e,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Oi||(Oi=!0,Fl=r),Ll(t,e)},n}function Mh(t,e,n){n=Vt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ll(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ll(t,e),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new h0;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=E0.bind(null,t,e,n),e.then(t,t))}function ic(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oc(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vt(-1,1),e.tag=2,fn(n,e,1))),n.lanes|=1),t)}var f0=Jt.ReactCurrentOwner,We=!1;function $e(t,e,n,r){e.child=t===null?hh(e,null,n,r):wr(e,t.child,n,r)}function lc(t,e,n,r,s){n=n.render;var i=e.ref;return pr(e,s),r=za(t,e,n,r,i,s),n=Da(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gt(t,e,s)):(ne&&n&&Ea(e),e.flags|=1,$e(t,e,r,s),e.child)}function ac(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ja(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,zh(t,e,i,r,s)):(t=hi(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:us,n(o,r)&&t.ref===e.ref)return Gt(t,e,s)}return e.flags|=1,t=gn(i,r),t.ref=e.ref,t.return=e,e.child=t}function zh(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(us(i,r)&&t.ref===e.ref)if(We=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(We=!0);else return e.lanes=t.lanes,Gt(t,e,s)}return Il(t,e,n,r,s)}function Dh(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(ur,Qe),Qe|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(ur,Qe),Qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,X(ur,Qe),Qe|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,X(ur,Qe),Qe|=r;return $e(t,e,s,n),e.child}function Uh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Il(t,e,n,r,s){var i=qe(n)?$n:Le.current;return i=vr(e,i),pr(e,s),n=za(t,e,n,r,i,s),r=Da(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gt(t,e,s)):(ne&&r&&Ea(e),e.flags|=1,$e(t,e,n,s),e.child)}function uc(t,e,n,r,s){if(qe(n)){var i=!0;bi(e)}else i=!1;if(pr(e,s),e.stateNode===null)ui(t,e),$h(e,n,r),Pl(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ct(c):(c=qe(n)?$n:Le.current,c=vr(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&rc(e,o,r,c),nn=!1;var g=e.memoizedState;o.state=g,Ti(e,r,o,s),u=e.memoizedState,l!==r||g!==u||Ve.current||nn?(typeof d=="function"&&(Tl(e,n,d,r),u=e.memoizedState),(l=nn||nc(e,n,l,r,g,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ph(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:gt(e.type,l),o.props=c,h=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ct(u):(u=qe(n)?$n:Le.current,u=vr(e,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||g!==u)&&rc(e,o,r,u),nn=!1,g=e.memoizedState,o.state=g,Ti(e,r,o,s);var y=e.memoizedState;l!==h||g!==y||Ve.current||nn?(typeof v=="function"&&(Tl(e,n,v,r),y=e.memoizedState),(c=nn||nc(e,n,c,r,g,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Rl(t,e,n,r,i,s)}function Rl(t,e,n,r,s,i){Uh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Gu(e,n,!1),Gt(t,e,i);r=e.stateNode,f0.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wr(e,t.child,null,i),e.child=wr(e,null,l,i)):$e(t,e,l,i),e.memoizedState=r.state,s&&Gu(e,n,!0),e.child}function Fh(t){var e=t.stateNode;e.pendingContext?Ku(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ku(t,e.context,!1),Oa(t,e.containerInfo)}function cc(t,e,n,r,s){return yr(),Na(s),e.flags|=256,$e(t,e,n,r),e.child}var Ol={dehydrated:null,treeContext:null,retryLane:0};function $l(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bh(t,e,n){var r=e.pendingProps,s=se.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),X(se,s&1),t===null)return Cl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xi(o,r,0,null),t=On(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=$l(n),e.memoizedState=Ol,t):Ba(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return p0(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=gn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=gn(l,i):(i=On(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?$l(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ol,r}return i=t.child,t=i.sibling,r=gn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ba(t,e){return e=Xi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ks(t,e,n,r){return r!==null&&Na(r),wr(e,t.child,null,n),t=Ba(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p0(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=zo(Error(E(422))),Ks(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Xi({mode:"visible",children:r.children},s,0,null),i=On(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&wr(e,t.child,null,o),e.child.memoizedState=$l(o),e.memoizedState=Ol,i);if(!(e.mode&1))return Ks(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(E(419)),r=zo(i,r,void 0),Ks(t,e,o,r)}if(l=(o&t.childLanes)!==0,We||l){if(r=ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kt(t,s),_t(r,t,s,-1))}return Ga(),r=zo(Error(E(421))),Ks(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=C0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xe=hn(s.nextSibling),Ze=e,ne=!0,wt=null,t!==null&&(rt[st++]=Ft,rt[st++]=Bt,rt[st++]=An,Ft=t.id,Bt=t.overflow,An=e),e=Ba(e,r.children),e.flags|=4096,e)}function dc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nl(t.return,e,n)}function Do(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Wh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($e(t,e,r.children,n),r=se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dc(t,n,e);else if(t.tag===19)dc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(X(se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Pi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Do(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Pi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Do(e,!0,n,null,i);break;case"together":Do(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ui(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m0(t,e,n){switch(e.tag){case 3:Fh(e),yr();break;case 5:mh(e);break;case 1:qe(e.type)&&bi(e);break;case 4:Oa(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;X(Ci,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(X(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?Bh(t,e,n):(X(se,se.current&1),t=Gt(t,e,n),t!==null?t.sibling:null);X(se,se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(se,se.current),r)break;return null;case 22:case 23:return e.lanes=0,Dh(t,e,n)}return Gt(t,e,n)}var Vh,Al,qh,Hh;Vh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Al=function(){};qh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,In(It.current);var i=null;switch(n){case"input":s=sl(t,s),r=sl(t,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=ll(t,s),r=ll(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_i)}ul(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ns.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ns.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ee("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Hh=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ar(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function g0(t,e,n){var r=e.pendingProps;switch(Ca(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return qe(e.type)&&Si(),Ne(e),null;case 3:return r=e.stateNode,xr(),te(Ve),te(Le),Aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wt!==null&&(Vl(wt),wt=null))),Al(t,e),Ne(e),null;case 5:$a(e);var s=In(ps.current);if(n=e.type,t!==null&&e.stateNode!=null)qh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return Ne(e),null}if(t=In(It.current),qs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tt]=e,r[hs]=i,t=(e.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(s=0;s<Br.length;s++)ee(Br[s],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":xu(r,i),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ee("invalid",r);break;case"textarea":_u(r,i),ee("invalid",r)}ul(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Vs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Vs(r.textContent,l,t),s=["children",""+l]):ns.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ee("scroll",r)}switch(n){case"input":As(r),ku(r,i,!0);break;case"textarea":As(r),Su(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_i)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tt]=e,t[hs]=r,Vh(t,e,!1,!1),e.stateNode=t;e:{switch(o=cl(n,r),n){case"dialog":ee("cancel",t),ee("close",t),s=r;break;case"iframe":case"object":case"embed":ee("load",t),s=r;break;case"video":case"audio":for(s=0;s<Br.length;s++)ee(Br[s],t);s=r;break;case"source":ee("error",t),s=r;break;case"img":case"image":case"link":ee("error",t),ee("load",t),s=r;break;case"details":ee("toggle",t),s=r;break;case"input":xu(t,r),s=sl(t,r),ee("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),ee("invalid",t);break;case"textarea":_u(t,r),s=ll(t,r),ee("invalid",t);break;default:s=r}ul(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Sd(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&kd(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&rs(t,u):typeof u=="number"&&rs(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ns.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ee("scroll",t):u!=null&&ha(t,i,u,o))}switch(n){case"input":As(t),ku(t,r,!1);break;case"textarea":As(t),Su(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?cr(t,!!r.multiple,i,!1):r.defaultValue!=null&&cr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_i)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ne(e),null;case 6:if(t&&e.stateNode!=null)Hh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=In(ps.current),In(It.current),qs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tt]=e,(i=r.nodeValue!==n)&&(t=Ze,t!==null))switch(t.tag){case 3:Vs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tt]=e,e.stateNode=r}return Ne(e),null;case 13:if(te(se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Xe!==null&&e.mode&1&&!(e.flags&128))ch(),yr(),e.flags|=98560,i=!1;else if(i=qs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Tt]=e}else yr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),i=!1}else wt!==null&&(Vl(wt),wt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?ve===0&&(ve=3):Ga())),e.updateQueue!==null&&(e.flags|=4),Ne(e),null);case 4:return xr(),Al(t,e),t===null&&cs(e.stateNode.containerInfo),Ne(e),null;case 10:return La(e.type._context),Ne(e),null;case 17:return qe(e.type)&&Si(),Ne(e),null;case 19:if(te(se),i=e.memoizedState,i===null)return Ne(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ar(i,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pi(t),o!==null){for(e.flags|=128,Ar(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(se,se.current&1|2),e.child}t=t.sibling}i.tail!==null&&ue()>_r&&(e.flags|=128,r=!0,Ar(i,!1),e.lanes=4194304)}else{if(!r)if(t=Pi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ar(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return Ne(e),null}else 2*ue()-i.renderingStartTime>_r&&n!==1073741824&&(e.flags|=128,r=!0,Ar(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ue(),e.sibling=null,n=se.current,X(se,r?n&1|2:n&1),e):(Ne(e),null);case 22:case 23:return Ka(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qe&1073741824&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function v0(t,e){switch(Ca(e),e.tag){case 1:return qe(e.type)&&Si(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xr(),te(Ve),te(Le),Aa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $a(e),null;case 13:if(te(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));yr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(se),null;case 4:return xr(),null;case 10:return La(e.type._context),null;case 22:case 23:return Ka(),null;case 24:return null;default:return null}}var Gs=!1,Te=!1,y0=typeof WeakSet=="function"?WeakSet:Set,T=null;function ar(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(t,e,r)}else n.current=null}function Ml(t,e,n){try{n()}catch(r){le(t,e,r)}}var hc=!1;function w0(t,e){if(xl=wi,t=Yd(),ja(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=t,g=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)g=h,h=v;for(;;){if(h===t)break t;if(g===n&&++c===s&&(l=o),g===i&&++d===r&&(u=o),(v=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(kl={focusedElem:t,selectionRange:n},wi=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var k=y.memoizedProps,j=y.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?k:gt(e.type,k),j);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){le(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return y=hc,hc=!1,y}function Qr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ml(e,n,i)}s=s.next}while(s!==r)}}function Qi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kh(t){var e=t.alternate;e!==null&&(t.alternate=null,Kh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tt],delete e[hs],delete e[bl],delete e[t0],delete e[n0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gh(t){return t.tag===5||t.tag===3||t.tag===4}function fc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_i));else if(r!==4&&(t=t.child,t!==null))for(Dl(t,e,n),t=t.sibling;t!==null;)Dl(t,e,n),t=t.sibling}function Ul(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ul(t,e,n),t=t.sibling;t!==null;)Ul(t,e,n),t=t.sibling}var be=null,vt=!1;function Xt(t,e,n){for(n=n.child;n!==null;)Jh(t,e,n),n=n.sibling}function Jh(t,e,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Bi,n)}catch{}switch(n.tag){case 5:Te||ar(n,e);case 6:var r=be,s=vt;be=null,Xt(t,e,n),be=r,vt=s,be!==null&&(vt?(t=be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(vt?(t=be,n=n.stateNode,t.nodeType===8?Io(t.parentNode,n):t.nodeType===1&&Io(t,n),ls(t)):Io(be,n.stateNode));break;case 4:r=be,s=vt,be=n.stateNode.containerInfo,vt=!0,Xt(t,e,n),be=r,vt=s;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ml(n,e,o),s=s.next}while(s!==r)}Xt(t,e,n);break;case 1:if(!Te&&(ar(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){le(n,e,l)}Xt(t,e,n);break;case 21:Xt(t,e,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,Xt(t,e,n),Te=r):Xt(t,e,n);break;default:Xt(t,e,n)}}function pc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new y0),e.forEach(function(r){var s=N0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,vt=!1;break e;case 3:be=l.stateNode.containerInfo,vt=!0;break e;case 4:be=l.stateNode.containerInfo,vt=!0;break e}l=l.return}if(be===null)throw Error(E(160));Jh(i,o,s),be=null,vt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){le(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Qh(e,t),e=e.sibling}function Qh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pt(e,t),Et(t),r&4){try{Qr(3,t,t.return),Qi(3,t)}catch(k){le(t,t.return,k)}try{Qr(5,t,t.return)}catch(k){le(t,t.return,k)}}break;case 1:pt(e,t),Et(t),r&512&&n!==null&&ar(n,n.return);break;case 5:if(pt(e,t),Et(t),r&512&&n!==null&&ar(n,n.return),t.flags&32){var s=t.stateNode;try{rs(s,"")}catch(k){le(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&yd(s,i),cl(l,o);var c=cl(l,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?Sd(s,h):d==="dangerouslySetInnerHTML"?kd(s,h):d==="children"?rs(s,h):ha(s,d,h,c)}switch(l){case"input":il(s,i);break;case"textarea":wd(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?cr(s,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?cr(s,!!i.multiple,i.defaultValue,!0):cr(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch(k){le(t,t.return,k)}}break;case 6:if(pt(e,t),Et(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){le(t,t.return,k)}}break;case 3:if(pt(e,t),Et(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ls(e.containerInfo)}catch(k){le(t,t.return,k)}break;case 4:pt(e,t),Et(t);break;case 13:pt(e,t),Et(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qa=ue())),r&4&&pc(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Te=(c=Te)||d,pt(e,t),Te=c):pt(e,t),Et(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(g=T,v=g.child,g.tag){case 0:case 11:case 14:case 15:Qr(4,g,g.return);break;case 1:ar(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(k){le(r,n,k)}}break;case 5:ar(g,g.return);break;case 22:if(g.memoizedState!==null){gc(h);continue}}v!==null?(v.return=g,T=v):gc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=_d("display",o))}catch(k){le(t,t.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){le(t,t.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pt(e,t),Et(t),r&4&&pc(t);break;case 21:break;default:pt(e,t),Et(t)}}function Et(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gh(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rs(s,""),r.flags&=-33);var i=fc(t);Ul(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=fc(t);Dl(t,l,o);break;default:throw Error(E(161))}}catch(u){le(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x0(t,e,n){T=t,Yh(t)}function Yh(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gs;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Te;l=Gs;var c=Te;if(Gs=o,(Te=u)&&!c)for(T=s;T!==null;)o=T,u=o.child,o.tag===22&&o.memoizedState!==null?vc(s):u!==null?(u.return=o,T=u):vc(s);for(;i!==null;)T=i,Yh(i),i=i.sibling;T=s,Gs=l,Te=c}mc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):mc(t)}}function mc(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||Qi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Te)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:gt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zu(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ls(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Te||e.flags&512&&zl(e)}catch(g){le(e,e.return,g)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function gc(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function vc(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qi(4,e)}catch(u){le(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){le(e,s,u)}}var i=e.return;try{zl(e)}catch(u){le(e,i,u)}break;case 5:var o=e.return;try{zl(e)}catch(u){le(e,o,u)}}}catch(u){le(e,e.return,u)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var k0=Math.ceil,Ri=Jt.ReactCurrentDispatcher,Wa=Jt.ReactCurrentOwner,ot=Jt.ReactCurrentBatchConfig,F=0,ke=null,de=null,je=0,Qe=0,ur=xn(0),ve=0,ys=null,zn=0,Yi=0,Va=0,Yr=null,Fe=null,qa=0,_r=1/0,zt=null,Oi=!1,Fl=null,pn=null,Js=!1,an=null,$i=0,Xr=0,Bl=null,ci=-1,di=0;function Ae(){return F&6?ue():ci!==-1?ci:ci=ue()}function mn(t){return t.mode&1?F&2&&je!==0?je&-je:s0.transition!==null?(di===0&&(di=$d()),di):(t=H,t!==0||(t=window.event,t=t===void 0?16:Bd(t.type)),t):1}function _t(t,e,n,r){if(50<Xr)throw Xr=0,Bl=null,Error(E(185));ks(t,n,r),(!(F&2)||t!==ke)&&(t===ke&&(!(F&2)&&(Yi|=n),ve===4&&sn(t,je)),He(t,r),n===1&&F===0&&!(e.mode&1)&&(_r=ue()+500,Ki&&kn()))}function He(t,e){var n=t.callbackNode;sm(t,e);var r=yi(t,t===ke?je:0);if(r===0)n!==null&&Eu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Eu(n),e===1)t.tag===0?r0(yc.bind(null,t)):lh(yc.bind(null,t)),Zm(function(){!(F&6)&&kn()}),n=null;else{switch(Ad(r)){case 1:n=va;break;case 4:n=Rd;break;case 16:n=vi;break;case 536870912:n=Od;break;default:n=vi}n=of(n,Xh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xh(t,e){if(ci=-1,di=0,F&6)throw Error(E(327));var n=t.callbackNode;if(mr()&&t.callbackNode!==n)return null;var r=yi(t,t===ke?je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ai(t,r);else{e=r;var s=F;F|=2;var i=ef();(ke!==t||je!==e)&&(zt=null,_r=ue()+500,Rn(t,e));do try{b0();break}catch(l){Zh(t,l)}while(!0);Pa(),Ri.current=i,F=s,de!==null?e=0:(ke=null,je=0,e=ve)}if(e!==0){if(e===2&&(s=ml(t),s!==0&&(r=s,e=Wl(t,s))),e===1)throw n=ys,Rn(t,0),sn(t,r),He(t,ue()),n;if(e===6)sn(t,r);else{if(s=t.current.alternate,!(r&30)&&!_0(s)&&(e=Ai(t,r),e===2&&(i=ml(t),i!==0&&(r=i,e=Wl(t,i))),e===1))throw n=ys,Rn(t,0),sn(t,r),He(t,ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Cn(t,Fe,zt);break;case 3:if(sn(t,r),(r&130023424)===r&&(e=qa+500-ue(),10<e)){if(yi(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ae(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sl(Cn.bind(null,t,Fe,zt),e);break}Cn(t,Fe,zt);break;case 4:if(sn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-kt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k0(r/1960))-r,10<r){t.timeoutHandle=Sl(Cn.bind(null,t,Fe,zt),r);break}Cn(t,Fe,zt);break;case 5:Cn(t,Fe,zt);break;default:throw Error(E(329))}}}return He(t,ue()),t.callbackNode===n?Xh.bind(null,t):null}function Wl(t,e){var n=Yr;return t.current.memoizedState.isDehydrated&&(Rn(t,e).flags|=256),t=Ai(t,e),t!==2&&(e=Fe,Fe=n,e!==null&&Vl(e)),t}function Vl(t){Fe===null?Fe=t:Fe.push.apply(Fe,t)}function _0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!St(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sn(t,e){for(e&=~Va,e&=~Yi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),r=1<<n;t[n]=-1,e&=~r}}function yc(t){if(F&6)throw Error(E(327));mr();var e=yi(t,0);if(!(e&1))return He(t,ue()),null;var n=Ai(t,e);if(t.tag!==0&&n===2){var r=ml(t);r!==0&&(e=r,n=Wl(t,r))}if(n===1)throw n=ys,Rn(t,0),sn(t,e),He(t,ue()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cn(t,Fe,zt),He(t,ue()),null}function Ha(t,e){var n=F;F|=1;try{return t(e)}finally{F=n,F===0&&(_r=ue()+500,Ki&&kn())}}function Dn(t){an!==null&&an.tag===0&&!(F&6)&&mr();var e=F;F|=1;var n=ot.transition,r=H;try{if(ot.transition=null,H=1,t)return t()}finally{H=r,ot.transition=n,F=e,!(F&6)&&kn()}}function Ka(){Qe=ur.current,te(ur)}function Rn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Xm(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Ca(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Si();break;case 3:xr(),te(Ve),te(Le),Aa();break;case 5:$a(r);break;case 4:xr();break;case 13:te(se);break;case 19:te(se);break;case 10:La(r.type._context);break;case 22:case 23:Ka()}n=n.return}if(ke=t,de=t=gn(t.current,null),je=Qe=e,ve=0,ys=null,Va=Yi=zn=0,Fe=Yr=null,Ln!==null){for(e=0;e<Ln.length;e++)if(n=Ln[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ln=null}return t}function Zh(t,e){do{var n=de;try{if(Pa(),li.current=Ii,Li){for(var r=ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Li=!1}if(Mn=0,xe=ge=ie=null,Jr=!1,ms=0,Wa.current=null,n===null||n.return===null){ve=1,ys=e,de=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=je,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=ic(o);if(v!==null){v.flags&=-257,oc(v,o,l,i,e),v.mode&1&&sc(i,c,e),e=v,u=c;var y=e.updateQueue;if(y===null){var k=new Set;k.add(u),e.updateQueue=k}else y.add(u);break e}else{if(!(e&1)){sc(i,c,e),Ga();break e}u=Error(E(426))}}else if(ne&&l.mode&1){var j=ic(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),oc(j,o,l,i,e),Na(kr(u,l));break e}}i=u=kr(u,l),ve!==4&&(ve=2),Yr===null?Yr=[i]:Yr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Ah(i,u,e);Xu(i,p);break e;case 1:l=u;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pn===null||!pn.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Mh(i,l,e);Xu(i,w);break e}}i=i.return}while(i!==null)}nf(n)}catch(_){e=_,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function ef(){var t=Ri.current;return Ri.current=Ii,t===null?Ii:t}function Ga(){(ve===0||ve===3||ve===2)&&(ve=4),ke===null||!(zn&268435455)&&!(Yi&268435455)||sn(ke,je)}function Ai(t,e){var n=F;F|=2;var r=ef();(ke!==t||je!==e)&&(zt=null,Rn(t,e));do try{S0();break}catch(s){Zh(t,s)}while(!0);if(Pa(),F=n,Ri.current=r,de!==null)throw Error(E(261));return ke=null,je=0,ve}function S0(){for(;de!==null;)tf(de)}function b0(){for(;de!==null&&!Jp();)tf(de)}function tf(t){var e=sf(t.alternate,t,Qe);t.memoizedProps=t.pendingProps,e===null?nf(t):de=e,Wa.current=null}function nf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=v0(n,e),n!==null){n.flags&=32767,de=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,de=null;return}}else if(n=g0(n,e,Qe),n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);ve===0&&(ve=5)}function Cn(t,e,n){var r=H,s=ot.transition;try{ot.transition=null,H=1,j0(t,e,n,r)}finally{ot.transition=s,H=r}return null}function j0(t,e,n,r){do mr();while(an!==null);if(F&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(im(t,i),t===ke&&(de=ke=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Js||(Js=!0,of(vi,function(){return mr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var o=H;H=1;var l=F;F|=4,Wa.current=null,w0(t,n),Qh(n,t),qm(kl),wi=!!xl,kl=xl=null,t.current=n,x0(n),Qp(),F=l,H=o,ot.transition=i}else t.current=n;if(Js&&(Js=!1,an=t,$i=s),i=t.pendingLanes,i===0&&(pn=null),Zp(n.stateNode),He(t,ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Oi)throw Oi=!1,t=Fl,Fl=null,t;return $i&1&&t.tag!==0&&mr(),i=t.pendingLanes,i&1?t===Bl?Xr++:(Xr=0,Bl=t):Xr=0,kn(),null}function mr(){if(an!==null){var t=Ad($i),e=ot.transition,n=H;try{if(ot.transition=null,H=16>t?16:t,an===null)var r=!1;else{if(t=an,an=null,$i=0,F&6)throw Error(E(331));var s=F;for(F|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Qr(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var g=d.sibling,v=d.return;if(Kh(d),d===c){T=null;break}if(g!==null){g.return=v,T=g;break}T=v}}}var y=i.alternate;if(y!==null){var k=y.child;if(k!==null){y.child=null;do{var j=k.sibling;k.sibling=null,k=j}while(k!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qr(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,T=p;break e}T=i.return}}var f=t.current;for(T=f;T!==null;){o=T;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,T=m;else e:for(o=f;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qi(9,l)}}catch(_){le(l,l.return,_)}if(l===o){T=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,T=w;break e}T=l.return}}if(F=s,kn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Bi,t)}catch{}r=!0}return r}finally{H=n,ot.transition=e}}return!1}function wc(t,e,n){e=kr(n,e),e=Ah(t,e,1),t=fn(t,e,1),e=Ae(),t!==null&&(ks(t,1,e),He(t,e))}function le(t,e,n){if(t.tag===3)wc(t,t,n);else for(;e!==null;){if(e.tag===3){wc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){t=kr(n,t),t=Mh(e,t,1),e=fn(e,t,1),t=Ae(),e!==null&&(ks(e,1,t),He(e,t));break}}e=e.return}}function E0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ae(),t.pingedLanes|=t.suspendedLanes&n,ke===t&&(je&n)===n&&(ve===4||ve===3&&(je&130023424)===je&&500>ue()-qa?Rn(t,0):Va|=n),He(t,e)}function rf(t,e){e===0&&(t.mode&1?(e=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):e=1);var n=Ae();t=Kt(t,e),t!==null&&(ks(t,e,n),He(t,n))}function C0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rf(t,n)}function N0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),rf(t,n)}var sf;sf=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ve.current)We=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return We=!1,m0(t,e,n);We=!!(t.flags&131072)}else We=!1,ne&&e.flags&1048576&&ah(e,Ei,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ui(t,e),t=e.pendingProps;var s=vr(e,Le.current);pr(e,n),s=za(null,e,r,t,s,n);var i=Da();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qe(r)?(i=!0,bi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ra(e),s.updater=Ji,e.stateNode=s,s._reactInternals=e,Pl(e,r,t,n),e=Rl(null,e,r,!0,i,n)):(e.tag=0,ne&&i&&Ea(e),$e(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ui(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=P0(r),t=gt(r,t),s){case 0:e=Il(null,e,r,t,n);break e;case 1:e=uc(null,e,r,t,n);break e;case 11:e=lc(null,e,r,t,n);break e;case 14:e=ac(null,e,r,gt(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),Il(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),uc(t,e,r,s,n);case 3:e:{if(Fh(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ph(t,e),Ti(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=kr(Error(E(423)),e),e=cc(t,e,r,n,s);break e}else if(r!==s){s=kr(Error(E(424)),e),e=cc(t,e,r,n,s);break e}else for(Xe=hn(e.stateNode.containerInfo.firstChild),Ze=e,ne=!0,wt=null,n=hh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yr(),r===s){e=Gt(t,e,n);break e}$e(t,e,r,n)}e=e.child}return e;case 5:return mh(e),t===null&&Cl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_l(r,s)?o=null:i!==null&&_l(r,i)&&(e.flags|=32),Uh(t,e),$e(t,e,o,n),e.child;case 6:return t===null&&Cl(e),null;case 13:return Bh(t,e,n);case 4:return Oa(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wr(e,null,r,n):$e(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),lc(t,e,r,s,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,X(Ci,r._currentValue),r._currentValue=o,i!==null)if(St(i.value,o)){if(i.children===s.children&&!Ve.current){e=Gt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Vt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Nl(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Nl(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$e(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,pr(e,n),s=ct(s),r=r(s),e.flags|=1,$e(t,e,r,n),e.child;case 14:return r=e.type,s=gt(r,e.pendingProps),s=gt(r.type,s),ac(t,e,r,s,n);case 15:return zh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),ui(t,e),e.tag=1,qe(r)?(t=!0,bi(e)):t=!1,pr(e,n),$h(e,r,s),Pl(e,r,s,n),Rl(null,e,r,!0,t,n);case 19:return Wh(t,e,n);case 22:return Dh(t,e,n)}throw Error(E(156,e.tag))};function of(t,e){return Id(t,e)}function T0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,r){return new T0(t,e,n,r)}function Ja(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P0(t){if(typeof t=="function")return Ja(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pa)return 11;if(t===ma)return 14}return 2}function gn(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hi(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ja(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zn:return On(n.children,s,i,e);case fa:o=8,s|=8;break;case el:return t=it(12,n,e,s|2),t.elementType=el,t.lanes=i,t;case tl:return t=it(13,n,e,s),t.elementType=tl,t.lanes=i,t;case nl:return t=it(19,n,e,s),t.elementType=nl,t.lanes=i,t;case md:return Xi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fd:o=10;break e;case pd:o=9;break e;case pa:o=11;break e;case ma:o=14;break e;case tn:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=it(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function On(t,e,n,r){return t=it(7,t,r,e),t.lanes=n,t}function Xi(t,e,n,r){return t=it(22,t,r,e),t.elementType=md,t.lanes=n,t.stateNode={isHidden:!1},t}function Uo(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function Fo(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qa(t,e,n,r,s,i,o,l,u){return t=new L0(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=it(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(i),t}function I0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lf(t){if(!t)return yn;t=t._reactInternals;e:{if(Bn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(qe(n))return oh(t,n,e)}return e}function af(t,e,n,r,s,i,o,l,u){return t=Qa(n,r,!0,t,s,i,o,l,u),t.context=lf(null),n=t.current,r=Ae(),s=mn(n),i=Vt(r,s),i.callback=e??null,fn(n,i,s),t.current.lanes=s,ks(t,s,r),He(t,r),t}function Zi(t,e,n,r){var s=e.current,i=Ae(),o=mn(s);return n=lf(n),e.context===null?e.context=n:e.pendingContext=n,e=Vt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fn(s,e,o),t!==null&&(_t(t,s,o,i),oi(t,s,o)),o}function Mi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ya(t,e){xc(t,e),(t=t.alternate)&&xc(t,e)}function R0(){return null}var uf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xa(t){this._internalRoot=t}eo.prototype.render=Xa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Zi(t,e,null,null)};eo.prototype.unmount=Xa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dn(function(){Zi(null,t,null,null)}),e[Ht]=null}};function eo(t){this._internalRoot=t}eo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rn.length&&e!==0&&e<rn[n].priority;n++);rn.splice(n,0,t),n===0&&Fd(t)}};function Za(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function to(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kc(){}function O0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Mi(o);i.call(c)}}var o=af(e,r,t,0,null,!1,!1,"",kc);return t._reactRootContainer=o,t[Ht]=o.current,cs(t.nodeType===8?t.parentNode:t),Dn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Mi(u);l.call(c)}}var u=Qa(t,0,!1,null,null,!1,!1,"",kc);return t._reactRootContainer=u,t[Ht]=u.current,cs(t.nodeType===8?t.parentNode:t),Dn(function(){Zi(e,u,n,r)}),u}function no(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=Mi(o);l.call(u)}}Zi(e,o,t,s)}else o=O0(n,e,t,s,r);return Mi(o)}Md=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fr(e.pendingLanes);n!==0&&(ya(e,n|1),He(e,ue()),!(F&6)&&(_r=ue()+500,kn()))}break;case 13:Dn(function(){var r=Kt(t,1);if(r!==null){var s=Ae();_t(r,t,1,s)}}),Ya(t,1)}};wa=function(t){if(t.tag===13){var e=Kt(t,134217728);if(e!==null){var n=Ae();_t(e,t,134217728,n)}Ya(t,134217728)}};zd=function(t){if(t.tag===13){var e=mn(t),n=Kt(t,e);if(n!==null){var r=Ae();_t(n,t,e,r)}Ya(t,e)}};Dd=function(){return H};Ud=function(t,e){var n=H;try{return H=t,e()}finally{H=n}};hl=function(t,e,n){switch(e){case"input":if(il(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Hi(r);if(!s)throw Error(E(90));vd(r),il(r,s)}}}break;case"textarea":wd(t,n);break;case"select":e=n.value,e!=null&&cr(t,!!n.multiple,e,!1)}};Ed=Ha;Cd=Dn;var $0={usingClientEntryPoint:!1,Events:[Ss,rr,Hi,bd,jd,Ha]},Mr={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A0={bundleType:Mr.bundleType,version:Mr.version,rendererPackageName:Mr.rendererPackageName,rendererConfig:Mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pd(t),t===null?null:t.stateNode},findFiberByHostInstance:Mr.findFiberByHostInstance||R0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{Bi=Qs.inject(A0),Lt=Qs}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$0;tt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Za(e))throw Error(E(200));return I0(t,e,null,n)};tt.createRoot=function(t,e){if(!Za(t))throw Error(E(299));var n=!1,r="",s=uf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Qa(t,1,!1,null,null,n,!1,r,s),t[Ht]=e.current,cs(t.nodeType===8?t.parentNode:t),new Xa(e)};tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Pd(e),t=t===null?null:t.stateNode,t};tt.flushSync=function(t){return Dn(t)};tt.hydrate=function(t,e,n){if(!to(e))throw Error(E(200));return no(null,t,e,!0,n)};tt.hydrateRoot=function(t,e,n){if(!Za(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=uf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=af(e,null,t,1,n??null,s,!1,i,o),t[Ht]=e.current,cs(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new eo(e)};tt.render=function(t,e,n){if(!to(e))throw Error(E(200));return no(null,t,e,!1,n)};tt.unmountComponentAtNode=function(t){if(!to(t))throw Error(E(40));return t._reactRootContainer?(Dn(function(){no(null,null,t,!1,function(){t._reactRootContainer=null,t[Ht]=null})}),!0):!1};tt.unstable_batchedUpdates=Ha;tt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!to(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return no(t,e,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function cf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cf)}catch(t){console.error(t)}}cf(),ud.exports=tt;var M0=ud.exports,df,_c=M0;df=_c.createRoot,_c.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(t,e)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>x.createElement("svg",{ref:d,...z0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${D0(t)}`,l].join(" "),...c},[...e.map(([h,g])=>x.createElement(h,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=B("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=B("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=B("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=B("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=B("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=B("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=B("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=B("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=B("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=B("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=B("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=B("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=B("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=B("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=B("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=B("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=B("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=B("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=B("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=B("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=B("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=B("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Y0="modulepreload",X0=function(t){return"/"+t},Sc={},js=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=X0(u),u in Sc)return;Sc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Y0,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((g,v)=>{h.addEventListener("load",g),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Z0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>js(async()=>{const{default:r}=await Promise.resolve().then(()=>Nr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class iu extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class eg extends iu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bc extends iu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jc extends iu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hl||(Hl={}));var tg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class ng{constructor(e,{headers:n={},customFetch:r,region:s=Hl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Z0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return tg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(k=>{throw new eg(k)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new bc(h);if(!h.ok)throw new jc(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof jc||s instanceof bc?s.context:void 0}}})}}var Be={},ou={},io={},Es={},oo={},lo={},rg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sr=rg();const sg=Sr.fetch,kf=Sr.fetch.bind(Sr),_f=Sr.Headers,ig=Sr.Request,og=Sr.Response,Nr=Object.freeze(Object.defineProperty({__proto__:null,Headers:_f,Request:ig,Response:og,default:kf,fetch:sg},Symbol.toStringTag,{value:"Module"})),lg=dp(Nr);var ao={};Object.defineProperty(ao,"__esModule",{value:!0});let ag=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ao.default=ag;var Sf=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lo,"__esModule",{value:!0});const ug=Sf(lg),cg=Sf(ao);let dg=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ug.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u,c;let d=null,h=null,g=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");j&&p&&p.length>1&&(g=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,g=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,y="OK")}catch{i.status===404&&j===""?(v=204,y="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new cg.default(d)}return{error:d,data:h,count:g,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};lo.default=dg;var hg=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oo,"__esModule",{value:!0});const fg=hg(lo);let pg=class extends fg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};oo.default=pg;var mg=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Es,"__esModule",{value:!0});const gg=mg(oo);let vg=class extends gg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Es.default=vg;var yg=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(io,"__esModule",{value:!0});const zr=yg(Es);let wg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new zr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new zr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new zr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new zr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new zr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};io.default=wg;var bf=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ou,"__esModule",{value:!0});const xg=bf(io),kg=bf(Es);let _g=class jf{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new xg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new jf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const u=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,g])=>g!==void 0).map(([h,g])=>[h,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([h,g])=>{u.searchParams.append(h,g)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new kg.default({method:l,url:u,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ou.default=_g;var Tr=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const Ef=Tr(ou);Be.PostgrestClient=Ef.default;const Cf=Tr(io);Be.PostgrestQueryBuilder=Cf.default;const Nf=Tr(Es);Be.PostgrestFilterBuilder=Nf.default;const Tf=Tr(oo);Be.PostgrestTransformBuilder=Tf.default;const Pf=Tr(lo);Be.PostgrestBuilder=Pf.default;const Lf=Tr(ao);Be.PostgrestError=Lf.default;var Sg=Be.default={PostgrestClient:Ef.default,PostgrestQueryBuilder:Cf.default,PostgrestFilterBuilder:Nf.default,PostgrestTransformBuilder:Tf.default,PostgrestBuilder:Pf.default,PostgrestError:Lf.default};const{PostgrestClient:bg,PostgrestQueryBuilder:Cw,PostgrestFilterBuilder:Nw,PostgrestTransformBuilder:Tw,PostgrestBuilder:Pw,PostgrestError:Lw}=Sg;class jg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Eg="2.15.5",Cg=`realtime-js/${Eg}`,Ng="1.0.0",Kl=1e4,Tg=1e3,Pg=100;var Zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zr||(Zr={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var yt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yt||(yt={}));var Gl;(function(t){t.websocket="websocket"})(Gl||(Gl={}));var Tn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Tn||(Tn={}));class Lg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const u=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class If{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const Ec=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Ig(o,t,e,s),i),{})},Ig=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Rf(i,o):Jl(o)},Rf=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Ag(e,n)}switch(t){case Y.bool:return Rg(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Og(e);case Y.json:case Y.jsonb:return $g(e);case Y.timestamp:return Mg(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Jl(e);default:return Jl(e)}},Jl=t=>t,Rg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Og=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$g=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ag=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Rf(e,l))}return t},Mg=t=>typeof t=="string"?t.replace(" ","T"):t,Of=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Bo{constructor(e,n,r={},s=Kl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cc||(Cc={}));class es{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=es.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=es.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=es.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const g=d.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),y=d.filter(j=>v.indexOf(j.presence_ref)<0),k=h.filter(j=>g.indexOf(j.presence_ref)<0);y.length>0&&(l[c]=y),k.length>0&&(u[c]=k)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),d.length>0){const h=e[l].map(v=>v.presence_ref),g=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...g)}r(l,d,u)}),this.map(o,(l,u)=>{let c=e[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nc||(Nc={}));var ts;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ts||(ts={}));var Dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class lu{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bo(this,yt.join,this.params,this.timeout),this.rejoinTimer=new If(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new es(this),this.broadcastEndpointURL=Of(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ts.PRESENCE]&&this.bindings[ts.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Dt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Dt.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(Dt.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,j=(y=k==null?void 0:k.length)!==null&&y!==void 0?y:0,p=[];for(let f=0;f<j;f++){const m=k[f],{filter:{event:w,schema:_,table:S,filter:b}}=m,C=v&&v[f];if(C&&C.event===w&&C.schema===_&&C.table===S&&C.filter===b)p.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Dt.SUBSCRIBED);return}}).receive("error",v=>{this.state=pe.errored,e==null||e(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===pe.joined&&e===ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Bo(this,yt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Pg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=yt;if(r&&[l,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,k,j;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((j=(k=v.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,k,j,p,f,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,_=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((k=n.ids)===null||k===void 0?void 0:k.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const w=(f=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const y=g.data,{schema:k,table:j,commit_timestamp:p,type:f,errors:m}=y;g=Object.assign(Object.assign({},{schema:k,table:j,commit_timestamp:p,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(y))}v.callback(g,r)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&lu.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yt.close,{},e)}_onError(e){this._on(yt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ec(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ec(e.columns,e.old_record)),n}}const Wo=()=>{},Ys={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zg=[1e3,2e3,5e3,1e4],Dg=1e4,Ug=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fg{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kl,this.transport=null,this.heartbeatIntervalMs=Ys.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wo,this.ref=0,this.reconnectTimer=null,this.logger=Wo,this.conn=null,this.sendBuffer=[],this.serializer=new Lg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>js(async()=>{const{default:l}=await Promise.resolve().then(()=>Nr);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Gl.websocket}`,this.httpEndpoint=Of(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ng}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zr.connecting:return Tn.Connecting;case Zr.open:return Tn.Open;case Zr.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new lu(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Tg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ys.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ug],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Cg};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(yt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new If(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ys.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,u,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Kl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ys.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Wo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:h=>zg[h-1]||Dg,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,g)=>g(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class au extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Bg extends au{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ql extends au{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Wg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const $f=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>js(async()=>{const{default:r}=await Promise.resolve().then(()=>Nr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Vg=()=>Wg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield js(()=>Promise.resolve().then(()=>Nr),void 0)).Response:Response}),Yl=t=>{if(Array.isArray(t))return t.map(n=>Yl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Yl(r)}),e},qg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Wn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const Vo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hg=(t,e,n)=>Wn(void 0,void 0,void 0,function*(){const r=yield Vg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Bg(Vo(s),i,o))}).catch(s=>{e(new Ql(Vo(s),s))}):e(new Ql(Vo(t),t))}),Kg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(qg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Cs(t,e,n,r,s,i){return Wn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Kg(e,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Hg(u,l,r))})})}function zi(t,e,n,r){return Wn(this,void 0,void 0,function*(){return Cs(t,"GET",e,n,r)})}function Nt(t,e,n,r,s){return Wn(this,void 0,void 0,function*(){return Cs(t,"POST",e,r,s,n)})}function Xl(t,e,n,r,s){return Wn(this,void 0,void 0,function*(){return Cs(t,"PUT",e,r,s,n)})}function Gg(t,e,n,r){return Wn(this,void 0,void 0,function*(){return Cs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Af(t,e,n,r,s){return Wn(this,void 0,void 0,function*(){return Cs(t,"DELETE",e,r,s,n)})}var Oe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const Jg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qg{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=$f(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Oe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Tc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?Xl:Nt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:Tc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Xl(this.fetch,l.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(me(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Nt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new au("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}update(e,n,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Nt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Oe(this,void 0,void 0,function*(){try{const s=yield Nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}download(e,n){return Oe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield zi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}info(e){return Oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield zi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}exists(e){return Oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Gg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r)&&r instanceof Ql){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}list(e,n,r){return Oe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Jg),n),{prefix:e||""});return{data:yield Nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}listV2(e,n){return Oe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Nt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Yg="2.12.1",Xg={"X-Client-Info":`storage-js/${Yg}`};var qn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class Zg{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Xg),n),this.fetch=$f(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qn(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}getBucket(e){return qn(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return qn(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return qn(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}emptyBucket(e){return qn(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}deleteBucket(e){return qn(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}}class ev extends Zg{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Qg(this.url,this.headers,e,this.fetch)}}const tv="2.57.4";let Wr="";typeof Deno<"u"?Wr="deno":typeof document<"u"?Wr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wr="react-native":Wr="node";const nv={"X-Client-Info":`supabase-js-${Wr}/${tv}`},rv={headers:nv},sv={schema:"public"},iv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ov={};var lv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const av=t=>{let e;return t?e=t:typeof fetch>"u"?e=kf:e=fetch,(...n)=>e(...n)},uv=()=>typeof Headers>"u"?_f:Headers,cv=(t,e,n)=>{const r=av(n),s=uv();return(i,o)=>lv(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var dv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};function hv(t){return t.endsWith("/")?t:t+"/"}function fv(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:u,auth:c,realtime:d,global:h}=e,g={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>dv(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function pv(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hv(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Mf="2.71.1",Qn=30*1e3,Zl=3,qo=Zl*Qn,mv="http://localhost:9999",gv="supabase.auth.token",vv={"X-Client-Info":`gotrue-js/${Mf}`},ea="X-Supabase-Api-Version",zf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wv=10*60*1e3;class uu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xv extends uu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function kv(t){return $(t)&&t.name==="AuthApiError"}class Df extends uu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _n extends uu{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class en extends _n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _v(t){return $(t)&&t.name==="AuthSessionMissingError"}class Xs extends _n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zs extends _n{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ei extends _n{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Sv(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class Pc extends _n{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ta extends _n{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ho(t){return $(t)&&t.name==="AuthRetryableFetchError"}class Lc extends _n{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class na extends _n{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ic=` 	
\r=`.split(""),bv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ic.length;e+=1)t[Ic[e].charCodeAt(0)]=-2;for(let e=0;e<Di.length;e+=1)t[Di[e].charCodeAt(0)]=e;return t})();function Rc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Di[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Di[r]),e.queuedBits-=6}}function Uf(t,e,n){const r=bv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Oc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Cv(o,r,n)};for(let o=0;o<t.length;o+=1)Uf(t.charCodeAt(o),s,i);return e.join("")}function jv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ev(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}jv(r,e)}}function Cv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Nv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Uf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Tv(t){const e=[];return Ev(t,n=>e.push(n)),new Uint8Array(e)}function Pv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Rc(s,n,r)),Rc(null,n,r),e.join("")}function Lv(t){return Math.round(Date.now()/1e3)+t}function Iv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const mt=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},Ff=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function Rv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Bf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>js(async()=>{const{default:r}=await Promise.resolve().then(()=>Nr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ov=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},jn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zt=async(t,e)=>{await t.removeItem(e)};class uo{constructor(){this.promise=new uo.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}uo.promiseConstructor=Promise;function Ko(t){const e=t.split(".");if(e.length!==3)throw new na("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!yv.test(e[r]))throw new na("JWT not in base64url format");return{header:JSON.parse(Oc(e[0])),payload:JSON.parse(Oc(e[1])),signature:Nv(e[2]),raw:{header:e[0],payload:e[1]}}}async function $v(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Av(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Mv(t){return("0"+t.toString(16)).substr(-2)}function zv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Mv).join("")}async function Dv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Uv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Dv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hn(t,e,n=!1){const r=zv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Yn(t,`${e}-code-verifier`,s);const i=await Uv(r);return[i,r===i?"plain":"s256"]}const Fv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bv(t){const e=t.headers.get(ea);if(!e||!e.match(Fv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Wv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Vv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kn(t){if(!qv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Go(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $c(t){return JSON.parse(JSON.stringify(t))}var Hv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Nn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Kv=[502,503,504];async function Ac(t){var e;if(!Ov(t))throw new ta(Nn(t),0);if(Kv.includes(t.status))throw new ta(Nn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Df(Nn(i),i)}let r;const s=Bv(t);if(s&&s.getTime()>=zf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Lc(Nn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new en}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lc(Nn(n),t.status,n.weak_password.reasons);throw new xv(Nn(n),t.status||500,r)}const Gv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function z(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ea]||(i[ea]=zf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Jv(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function Jv(t,e,n,r,s,i){const o=Gv(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new ta(Nn(u),0)}if(l.ok||await Ac(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await Ac(u)}}function Mt(t){var e;let n=null;Zv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Lv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Mc(t){const e=Mt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function on(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qv(t){return{data:t,error:null}}function Yv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Hv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function Xv(t){return t}function Zv(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jo=["global","local","others"];var ey=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class ty{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Bf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Jo[0]){if(Jo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jo.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:on})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ey(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Yv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:on})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Xv});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);c[`${j}Page`]=k}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Kn(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:on})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Kn(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:on})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Kn(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:on})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Kn(e.userId);try{const{data:n,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Kn(e.userId),Kn(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}function zc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function ny(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gn={debug:!!(globalThis&&Ff()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ry extends Wf{}async function sy(t,e,n){Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ry(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Gn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ny();const iy={url:mv,storageKey:gv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dc(t,e,n){return await n()}const Jn={};class ws{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ws.nextInstanceID,ws.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},iy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ty({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Bf(s.fetch),this.lock=s.lock||Dc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=sy:this.lock=Dc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ff()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=zc(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Jn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Jn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Rv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),mt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Sv(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new Df("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Mt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:g}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Hn(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:y},xform:Mt})}else if("phone"in e){const{phone:d,password:h,options:g}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Mt})}else throw new Zs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mc})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mc})}else throw new Zs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,u,c,d,h,g,v;let y,k;if("message"in e)y=e.message,k=e.signature;else{const{chain:j,wallet:p,statement:f,options:m}=e;let w;if(mt())if(typeof p=="object")w=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const _=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),f?{statement:f}:null));let b;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")b=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)b=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)y=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),k=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=S}}try{const{data:j,error:p}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Pv(k)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Mt});if(p)throw p;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Xs}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:p})}catch(j){if($(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await jn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Mt});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Mt}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Xs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Hn(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Zs("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Mt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Hn(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Qv})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new en;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Zs("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await jn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<qo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await jn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Go()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:on}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:on})})}catch(n){if($(n))return _v(n)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new en;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await Hn(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:on});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Ko(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new en;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!mt())throw new ei("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ei(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Pc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ei("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Pc("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!o||!c)throw new ei("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let g=d+h;u&&(g=parseInt(u));const v=g-d;v*1e3<=Qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=g-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,g,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,g,d);const{data:k,error:j}=await this._getUser(i);if(j)throw j;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await jn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(kv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Iv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Hn(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:h,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return mt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Av(async s=>(s>0&&await $v(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ho(i)&&Date.now()+o-r<Qn})}catch(r){if(this._debug(n,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),mt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await jn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await jn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Yn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Go()}else if(s&&!s.user&&!s.user){const o=await jn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Zt(this.storage,this.storageKey+"-user"),await Yn(this.storage,this.storageKey,s)):s.user=Go()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${qo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ho(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new uo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new en;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),$(i)){const o={session:null,error:i};return Ho(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Yn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=$c(s);await Yn(this.storage,this.storageKey,i)}else{const s=$c(n);await Yn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qn}ms, refresh threshold is ${Zl} ticks`),s<=Zl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Hn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ko(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+wv>s)return r;const{data:i,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=Ko(r);n!=null&&n.allowExpired||Wv(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=Vv(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Tv(`${l}.${u}`)))throw new na("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}ws.nextInstanceID=0;const oy=ws;class ly extends oy{constructor(e){super(e)}}var ay=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class uy{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=pv(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:sv,realtime:ov,auth:Object.assign(Object.assign({},iv),{storageKey:u}),global:rv},d=fv(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=cv(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new bg(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ev(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new ng(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return ay(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:u,debug:c},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ly({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Fg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cy=(t,e,n)=>new uy(t,e,n);function dy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}dy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hy="https://fdlqyqeobwumyjuqgrpl.supabase.co",fy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI",_e=cy(hy,fy);function at(){const t=localStorage.getItem("client_id");if(t)return t;const e=crypto.randomUUID();return localStorage.setItem("client_id",e),e}const Vf="user_coins",qf="last_daily_at",Hf="owned_skins",Kf="equipped_skin";function Pe(){const t=localStorage.getItem(Vf);return t?parseInt(t,10):0}function cu(t){localStorage.setItem(Vf,t.toString())}function Pt(t){const n=Pe()+t;return cu(n),Yf(),n}function du(t){const e=Pe();return e<t?!1:(cu(e-t),Yf(),!0)}function Gf(){return localStorage.getItem(qf)}function Jf(t){localStorage.setItem(qf,t)}function Qf(){const t=Gf();if(!t)return!0;const e=new Date(t),n=new Date,r=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));return new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())).getTime()>r.getTime()}function py(){if(!Qf())return 0;const t=new Date,e=`${t.getUTCFullYear()}-${String(t.getUTCMonth()+1).padStart(2,"0")}-${String(t.getUTCDate()).padStart(2,"0")}`;return Jf(e),Pt(50)}function my(){const t=localStorage.getItem(Hf);return t?JSON.parse(t):[]}function gy(t){localStorage.setItem(Hf,JSON.stringify(t))}function vy(){return localStorage.getItem(Kf)}async function Yf(){try{const t=at(),e=Pe(),n=my(),r=vy(),s=Gf();await _e.from("profiles").upsert({client_id:t,coins:e,owned_skins:n,equipped_skin:r,last_daily_at:s,current_world:1,current_level:1,worlds_completed:0,updated_at:new Date().toISOString()})}catch(t){console.error("[syncToSupabase] Error:",t)}}async function yy(){try{const t=at(),{data:e,error:n}=await _e.from("profiles").select("*").eq("client_id",t).maybeSingle();if(n){console.error("[loadFromSupabase] Error:",n);return}e&&(cu(e.coins),gy(e.owned_skins||[]),e.equipped_skin&&localStorage.setItem(Kf,e.equipped_skin),e.last_daily_at&&Jf(e.last_daily_at))}catch(t){console.error("[loadFromSupabase] Exception:",t)}}const wy=[{id:"small",coins:500,price:1,priceLabel:"1"},{id:"medium",coins:2e3,price:2.5,priceLabel:"2,50",popular:!0,bonus:500},{id:"large",coins:1e4,price:6,priceLabel:"6",bonus:2e3}];function Xf({onClose:t}){const[e,n]=x.useState(null),[r,s]=x.useState(!1),[i,o]=x.useState(Pe());x.useEffect(()=>{const c=new URLSearchParams(window.location.search),d=c.get("payment"),h=c.get("coins");if(d==="success"&&h){Pt(parseInt(h,10)),o(Pe());const g=new URL(window.location.href);g.searchParams.delete("payment"),g.searchParams.delete("coins"),window.history.replaceState({},"",g.toString()),alert(`Pago exitoso! Se han aadido ${h} monedas a tu cuenta.`)}else if(d==="cancelled"){const g=new URL(window.location.href);g.searchParams.delete("payment"),window.history.replaceState({},"",g.toString())}},[]);const l=c=>{n(c)},u=async()=>{if(e){s(!0);try{console.log("=== INICIO DE COMPRA ==="),console.log("Paquete seleccionado:",e),console.log("URL:","https://fdlqyqeobwumyjuqgrpl.supabase.co"),console.log("Anon Key:","Presente"),console.log("========================");const c=await fetch("https://fdlqyqeobwumyjuqgrpl.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI","Content-Type":"application/json"},body:JSON.stringify({packageId:e.id,coins:e.coins+(e.bonus||0),price:Math.round(e.price*100)})}),d=await c.json();if(console.log("=== DIAGNSTICO DE PAGO ==="),console.log("Status:",c.status),console.log("Response:",d),console.log("==========================="),!c.ok){console.error("Error response:",d),alert(`Error: ${d.error||"Error al procesar el pago"}

Revisa la consola para ms detalles.`);return}d.url?window.location.href=d.url:alert("Error al procesar el pago. Por favor, intenta de nuevo.")}catch(c){console.error("Error al crear checkout:",c),alert("Error al conectar con el servidor de pagos.")}finally{s(!1)}}};return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 overflow-y-auto",children:[a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-3xl p-6 max-w-2xl w-full shadow-2xl animate-scale-in relative my-auto max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors",children:a.jsx(Un,{size:28})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("div",{className:"inline-block relative mb-4",children:[a.jsx("div",{className:"text-6xl",children:""}),a.jsx(bt,{className:"absolute -top-2 -right-2 text-yellow-500 animate-pulse",size:24})]}),a.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-2",children:"Tienda de Monedas"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Mejora tu experiencia con monedas adicionales"}),a.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-md",children:[a.jsx(lt,{className:"text-yellow-500",size:20}),a.jsxs("span",{className:"font-bold text-gray-800",children:["Saldo actual: ",i]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:wy.map(c=>a.jsxs("button",{onClick:()=>l(c),className:`relative p-6 rounded-2xl transition-all transform ${(e==null?void 0:e.id)===c.id?"bg-gradient-to-br from-yellow-400 to-orange-500 scale-105 shadow-2xl":"bg-white hover:scale-105 shadow-lg"}`,children:[c.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"MS POPULAR"}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:`text-5xl font-black ${(e==null?void 0:e.id)===c.id?"text-white":"text-yellow-500"}`,children:c.coins.toLocaleString()}),c.bonus&&a.jsxs("div",{className:`text-sm font-semibold ${(e==null?void 0:e.id)===c.id?"text-yellow-100":"text-green-600"}`,children:["+",c.bonus," BONUS"]})]}),a.jsxs("div",{className:`flex items-center justify-center gap-1 mb-2 ${(e==null?void 0:e.id)===c.id?"text-white":"text-gray-600"}`,children:[a.jsx(lt,{size:20}),a.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]}),a.jsx("div",{className:`text-3xl font-black ${(e==null?void 0:e.id)===c.id?"text-white":"text-gray-800"}`,children:c.priceLabel}),(e==null?void 0:e.id)===c.id&&a.jsx("div",{className:"mt-3 text-white text-sm font-semibold",children:" Seleccionado"})]},c.id))}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-4",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[a.jsx(bt,{className:"text-yellow-500",size:20}),"Por qu comprar monedas?"]}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsx("li",{children:" Desbloquea skins exclusivos para tus cartas"}),a.jsx("li",{children:" Usa power-ups para ayuda adicional en niveles difciles"}),a.jsx("li",{children:" Personaliza tu experiencia de juego"}),a.jsx("li",{children:" Progresa ms rpido en tu aventura"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:t,className:"px-6 py-4 rounded-2xl font-bold text-lg shadow-lg transition-all bg-gray-200 text-gray-700 hover:bg-gray-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[a.jsx(ro,{size:20}),"Volver"]}),a.jsx("button",{onClick:u,disabled:!e||r,className:`flex-1 py-4 rounded-2xl font-black text-xl shadow-lg transition-all ${e&&!r?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:r?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Procesando..."]}):a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(F0,{size:24}),e?`Pagar ${e.priceLabel}`:"Selecciona un paquete"]})})]}),a.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:"Pago seguro procesado por Stripe"})]}),a.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const Uc=["world-1","world-2","world-3","world-4","world-5","world-6","world-7","world-8","world-9","world-10"];async function xy(t){try{const e=at(),{data:n,error:r}=await _e.from("world_progress").select("purchased, levels").eq("client_id",e).eq("world_id",t).maybeSingle();if(r)throw r;return n?{purchased:!!n.purchased,levels:n.levels||[]}:null}catch(e){return console.error("Error reading world from Supabase:",e),_y(t)}}async function ky(t,e){try{const n=at(),{error:r}=await _e.from("world_progress").upsert({client_id:n,world_id:t,purchased:e.purchased,levels:e.levels,updated_at:new Date().toISOString()},{onConflict:"client_id,world_id"});if(r)throw r;Fc(t,e)}catch(n){console.error("Error writing world to Supabase:",n),Fc(t,e)}}function _y(t){const e=localStorage.getItem(`progress.${t}`);return e?JSON.parse(e):null}function Fc(t,e){localStorage.setItem(`progress.${t}`,JSON.stringify(e))}async function Sn(t){return await xy(t)}async function Ns(t,e){await ky(t,e)}async function Zf(t,e){var i;const n=await Sn(t);if(n&&((i=n.levels)==null?void 0:i.length)>=e)return;const r=Array.from({length:e},(o,l)=>({unlocked:t==="world-1"?!0:l===0,completed:!1,stars:0})),s={purchased:(n==null?void 0:n.purchased)??t==="world-1",levels:r};await Ns(t,s)}async function hu(t){const e=await Sn(t);return!!(e!=null&&e.purchased)}async function ep(t){const e=await Sn(t);return e?e.levels.length>0&&e.levels.every(n=>n.completed===!0):!1}async function Sy(t){if(t==="world-1"||await hu(t))return!0;const e=Uc.indexOf(t);if(e<=0)return!0;const n=Uc[e-1];return await ep(n)}async function tp(t,e){const n=await Sn(t)??{purchased:!1,levels:[]};return n.purchased?{ok:!0}:du(e)?(n.purchased=!0,n.levels.length?n.levels[0].unlocked=!0:n.levels=[{unlocked:!0,completed:!1,stars:0}],await Ns(t,n),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function by(t,e,n){if(e<1)return{ok:!1,reason:"Nivel invlido"};if(e===1)return{ok:!0};const r=await Sn(t);if(!r)return{ok:!1,reason:"Mundo no encontrado"};const s=e-1;if(s>=r.levels.length)return{ok:!1,reason:"Nivel inexistente"};const i=r.levels[s];return i.unlocked?{ok:!0}:du(n)?(i.unlocked=!0,await Ns(t,r),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function jy(t,e,n=0){const r=await Sn(t);if(!r)throw new Error("World not found");const s=e-1,i=r.levels[s];if(!i)throw new Error("Level not found");i.completed=!0,i.stars=Math.max(i.stars,Math.max(0,Math.min(3,n)));const o=r.levels[s+1];o&&!o.unlocked&&(o.unlocked=!0),await Ns(t,r)}async function Ey(t){return await Sn(t)??{purchased:!1,levels:[]}}function Cy(t){return`world-${Math.ceil(t/5)}`}function Ny(t){return(t-1)%5+1}const Ui={"world-1":0,"world-2":300,"world-3":500,"world-4":700,"world-5":1e3,"world-6":1500,"world-7":2e3,"world-8":2500,"world-9":3e3,"world-10":4e3},Bc=100;async function Qo(t){const e=`world-${t}`,n=await Sn(e),r={purchased:!0,levels:(n==null?void 0:n.levels)||[{unlocked:!0,completed:!1,stars:0}]};r.levels.length===0?r.levels=[{unlocked:!0,completed:!1,stars:0}]:r.levels[0].unlocked=!0,await Ns(e,r)}async function Ty(){const t=[];for(let e=1;e<=10;e++){const n=`world-${e}`;await hu(n)&&t.push(e)}return t}const Py=[nu,eu,tu,ru,su,xf,vf,gf,bt,mf],Ly=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],Iy=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}],Ry=({onClose:t,onSkinChanged:e})=>{const[n,r]=x.useState(Pe()),[s,i]=x.useState({1:!0}),[o,l]=x.useState(!0),[u,c]=x.useState(null),[d,h]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const k={1:!0};for(let j=2;j<=10;j++){const p=await hu(`world-${j}`);k[j]=p}i(k)}catch(k){console.error("Error loading worlds:",k)}finally{l(!1)}})()},[]);const g=async y=>{if(u)return;const k=`world-${y}`,j=Ui[k];if(n<j){alert("No tienes suficientes monedas");return}c(y);try{const p=await tp(k,j);p.ok?(r(Pe()),i({...s,[y]:!0})):alert(p.reason)}catch(p){console.error("Error en compra:",p)}finally{c(null)}},v=Object.values(s).filter(Boolean).length;return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[a.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Tienda de Mundos"}),a.jsx("button",{type:"button",onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(Un,{size:24})})]}),a.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-3 mb-4",children:[a.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Desbloquea mundos para acceder a nuevos niveles y desafos."}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Al comprar un mundo, solo se desbloquea el nivel 1. Los dems niveles se desbloquean jugando."})]}),a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[a.jsx(lt,{size:20,className:"text-white"}),a.jsx("span",{className:"text-xl font-bold text-white",children:n})]}),a.jsxs("div",{className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-3 flex items-center justify-center gap-2",children:[a.jsx(bt,{size:20,className:"text-white"}),a.jsxs("span",{className:"text-xl font-bold text-white",children:[v,"/10"]})]})]}),a.jsxs("button",{onClick:()=>h(!0),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold shadow-lg hover:scale-105 active:scale-95 transition-all mb-4 flex items-center justify-center gap-2",children:[a.jsx(wf,{size:20}),"Comprar Monedas"]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6,7,8,9,10].map(y=>{const k=s[y]??!1,j=Py[y-1],p=Iy[y-1],f=`world-${y}`,m=Ui[f];return a.jsx("div",{className:`border-2 rounded-xl p-4 transition-all ${k?"border-green-500 bg-green-50":"border-gray-200"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${p.from} ${p.to}`,children:a.jsx(j,{size:32,className:"text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h3",{className:"font-bold text-lg",children:["Mundo ",y]}),k&&a.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-0.5 rounded-full font-bold",children:"Desbloqueado"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:Ly[y-1]}),y===1&&a.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Gratis  5 niveles desbloqueados"}),y>1&&!k&&a.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Al comprar se desbloquea el nivel 1"}),!k&&y>1&&a.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[a.jsx(lt,{size:16,className:"text-yellow-500"}),a.jsx("span",{className:"font-semibold",children:m})]}),a.jsx("div",{className:"mt-2",children:k?a.jsxs("div",{className:"text-sm text-green-600 font-semibold flex items-center gap-1",children:[a.jsx(hf,{size:16}),"Desbloqueado"]}):a.jsxs("button",{type:"button",onClick:()=>g(y),disabled:n<m||u===y,className:"bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[a.jsx(so,{size:16}),u===y?"Comprando...":"Desbloquear"]})})]})]})},y)})})}),a.jsx("button",{type:"button",onClick:t,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]}),d&&a.jsx(Xf,{onClose:()=>{h(!1),r(Pe())}})]})},Oy=({onClose:t})=>{const[e,n]=x.useState(!1),[r,s]=x.useState(!0),[i,o]=x.useState([]),[l,u]=x.useState(!0),[c,d]=x.useState(""),[h,g]=x.useState(""),v="admin2024";x.useEffect(()=>{y()},[]);const y=async()=>{try{const _=at(),{data:S,error:b}=await _e.from("profiles").select("is_admin").eq("client_id",_).maybeSingle();!b&&(S!=null&&S.is_admin)&&n(!0)}catch(_){console.error("Error checking admin status:",_)}finally{s(!1)}},k=async()=>{const _=await Ty();o(_)},j=()=>{c===v?(u(!1),k(),g("")):(g("Contrasea incorrecta"),d(""))},p=async _=>{i.includes(_)?await f(_):await Qo(_),await k()},f=async _=>{const S=at();await _e.from("world_progress").delete().eq("client_id",S).eq("world_id",`world-${_}`)},m=async()=>{for(let _=1;_<=10;_++)await Qo(_);await k()},w=async()=>{const _=at();await _e.from("world_progress").delete().eq("client_id",_),await Qo(1),await k()};return r?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:a.jsx("div",{className:"text-center",children:"Verificando permisos..."})})}):e?l?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Contrasea Admin"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Un,{size:20})})]}),a.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-4",children:a.jsx("p",{className:"text-sm text-yellow-800",children:" Ingresa la contrasea de administrador para acceder al panel"})}),a.jsx("input",{type:"password",value:c,onChange:_=>d(_.target.value),onKeyPress:_=>_.key==="Enter"&&j(),placeholder:"Contrasea",className:"w-full px-4 py-3 border border-gray-300 rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),h&&a.jsx("p",{className:"text-sm text-red-600 mb-4",children:h}),a.jsx("button",{onClick:j,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Acceder"})]})}):a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Panel Admin"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Un,{size:20})})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-4 mb-4",children:[a.jsx("div",{className:"text-sm font-semibold text-purple-800 mb-2",children:"Gestionar Mundos"}),a.jsx("p",{className:"text-xs text-purple-600",children:"Toca un mundo para bloquearlo/desbloquearlo"})]}),a.jsx("div",{className:"space-y-2 mb-4",children:[1,2,3,4,5,6,7,8,9,10].map(_=>{const S=i.includes(_);return a.jsxs("button",{onClick:()=>p(_),className:`w-full flex items-center justify-between p-3 rounded-xl font-semibold transition-all ${S?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[a.jsxs("span",{children:["Mundo ",_]}),S?a.jsx(J0,{size:18,className:"text-green-600"}):a.jsx(so,{size:18,className:"text-red-600"})]},_)})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("button",{onClick:m,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Desbloquear Todos"}),a.jsx("button",{onClick:w,className:"bg-gradient-to-r from-red-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Bloquear Todos"})]})]})}):a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Acceso Denegado"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"No tienes permisos de administrador"}),a.jsx("button",{onClick:t,className:"w-full bg-gray-200 text-gray-800 py-3 rounded-xl font-bold hover:bg-gray-300 transition-colors",children:"Cerrar"})]})})})},np=[{id:"default",name:"Clsico",price:0,cardBackColor:"bg-gradient-to-br from-blue-400 to-blue-600",cardBorderColor:"border-blue-300",description:"El diseo original"},{id:"gold",name:"Dorado",price:100,cardBackColor:"bg-gradient-to-br from-yellow-400 to-amber-600",cardBorderColor:"border-yellow-300",description:"Lujo y elegancia"},{id:"emerald",name:"Esmeralda",price:150,cardBackColor:"bg-gradient-to-br from-green-400 to-emerald-600",cardBorderColor:"border-green-300",description:"Naturaleza y frescura"},{id:"ruby",name:"Rub",price:180,cardBackColor:"bg-gradient-to-br from-red-400 to-rose-600",cardBorderColor:"border-red-300",description:"Pasin y energa"},{id:"midnight",name:"Medianoche",price:220,cardBackColor:"bg-gradient-to-br from-indigo-600 to-purple-800",cardBorderColor:"border-indigo-400",description:"Misterio nocturno"}];function ra(t){return np.find(e=>e.id===t)}function Wc(){return np[0]}async function $y(){const t=at(),{data:e,error:n}=await _e.from("user_themes").select("owned_themes, equipped_theme").eq("client_id",t).maybeSingle();if(n)return console.error("Error fetching themes:",n),{owned_themes:["default"],equipped_theme:"default"};if(!e){const{data:r,error:s}=await _e.from("user_themes").upsert({client_id:t,owned_themes:["default"],equipped_theme:"default"},{onConflict:"client_id"}).select("owned_themes, equipped_theme").maybeSingle();return s&&console.error("Error upserting themes:",s),r||{owned_themes:["default"],equipped_theme:"default"}}return e}async function sa(){return(await $y()).equipped_theme||"default"}const Vc={zap:{name:"Electric Zap",url:"/sounds/zap.wav",volume:.6},flipPop:{name:"Card Flip",url:"/sounds/flip_pop.wav",volume:.4},countdownClick:{name:"Countdown Tick",url:"/sounds/countdown_click.wav",volume:.5},confetti:{name:"Victory Confetti",url:"/sounds/confetti.wav",volume:.7},loop:{name:"Background Loop",url:"/sounds/loop_150bpm.wav",volume:.3}};let Ay=class{constructor(){this.sounds=new Map,this.enabled=!0,this.bgmLoop=null,this.preloadSounds()}preloadSounds(){Object.entries(Vc).forEach(([e,n])=>{try{const r=new Audio(n.url);r.volume=n.volume||.5,r.preload="auto",this.sounds.set(e,r)}catch(r){console.warn(`Failed to preload sound: ${n.name}`,r)}})}play(e){if(!this.enabled)return;const n=this.sounds.get(e);if(n)try{n.currentTime=0,n.play().catch(r=>{console.warn(`Failed to play sound: ${e}`,r)})}catch(r){console.warn(`Error playing sound: ${e}`,r)}}playZap(){this.play("zap")}playFlipPop(){this.play("flipPop")}playCountdownClick(){this.play("countdownClick")}playConfetti(){this.play("confetti")}startBackgroundLoop(){if(!this.enabled)return;const e=this.sounds.get("loop");if(e&&!this.bgmLoop)try{e.loop=!0,e.volume=.2,e.play().catch(n=>{console.warn("Failed to play background loop",n)}),this.bgmLoop=e}catch(n){console.warn("Error starting background loop",n)}}stopBackgroundLoop(){if(this.bgmLoop)try{this.bgmLoop.pause(),this.bgmLoop.currentTime=0,this.bgmLoop=null}catch(e){console.warn("Error stopping background loop",e)}}setEnabled(e){this.enabled=e,e||this.stopBackgroundLoop()}isEnabled(){return this.enabled}setVolume(e,n){const r=this.sounds.get(e);r&&(r.volume=Math.max(0,Math.min(1,n)))}setMasterVolume(e){const n=Math.max(0,Math.min(1,e));this.sounds.forEach(r=>{const s=Object.entries(Vc).find(([,i])=>i.url===r.src.split("/").pop());s&&(r.volume=(s[1].volume||.5)*n)})}};const fu=new Ay,My=()=>fu.playZap(),zy=()=>fu.playFlipPop(),Dy=()=>fu.playConfetti();class Uy{constructor(){this.startMusicTrack=null,this.currentLevelTrack=null,this.levelTracks=new Map,this.matchSfx=null,this.winSfx=null,this.loseSfx=null,this.muted=!1,this.masterVolume=1,this.userInteracted=!1,this.loadSettings(),this.preloadAudio(),this.setupUserInteractionListener()}loadSettings(){try{const e=localStorage.getItem("sound.muted"),n=localStorage.getItem("sound.volume");if(e!==null&&(this.muted=e==="true"),n!==null){const r=parseFloat(n);isNaN(r)||(this.masterVolume=Math.max(0,Math.min(1,r)))}}catch(e){console.warn("Error loading sound settings:",e)}}saveSettings(){try{localStorage.setItem("sound.muted",String(this.muted)),localStorage.setItem("sound.volume",String(this.masterVolume))}catch(e){console.warn("Error saving sound settings:",e)}}setupUserInteractionListener(){const e=()=>{this.userInteracted=!0,document.removeEventListener("click",e),document.removeEventListener("keypress",e),document.removeEventListener("touchstart",e)};document.addEventListener("click",e,{once:!0}),document.addEventListener("keypress",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}preloadAudio(){try{this.startMusicTrack=new Audio("/audio/start_theme.mp3"),this.startMusicTrack.loop=!0,this.startMusicTrack.preload="auto";for(let e=1;e<=5;e++){const n=new Audio(`/audio/level_${e}.mp3`);n.loop=!0,n.preload="auto",this.levelTracks.set(e,n)}this.matchSfx=new Audio("/audio/match.wav"),this.matchSfx.preload="auto",this.winSfx=new Audio("/audio/win.wav"),this.winSfx.preload="auto",this.loseSfx=new Audio("/audio/lose.wav"),this.loseSfx.preload="auto",this.applyVolume()}catch(e){console.warn("Error preloading audio:",e)}}applyVolume(){const e=this.muted?0:this.masterVolume;this.startMusicTrack&&(this.startMusicTrack.volume=e),this.levelTracks.forEach(n=>{n.volume=e}),this.matchSfx&&(this.matchSfx.volume=e),this.winSfx&&(this.winSfx.volume=e),this.loseSfx&&(this.loseSfx.volume=e)}async crossFade(e,n){const o=this.muted?0:this.masterVolume;for(let l=20;l>=0;l--)e.volume=l/20*o,await new Promise(u=>setTimeout(u,15));e.pause(),e.currentTime=0,n.volume=0;try{await n.play();for(let l=0;l<=20;l++)n.volume=l/20*o,await new Promise(u=>setTimeout(u,15))}catch(l){console.warn("Error during crossfade:",l)}}async playSafely(e){if(!this.userInteracted){console.warn("Cannot play audio before user interaction");return}try{e.currentTime=0,await e.play()}catch(n){console.warn("Error playing audio:",n)}}playStartMusic(){if(!(!this.startMusicTrack||!this.userInteracted))try{this.playSafely(this.startMusicTrack)}catch(e){console.warn("Error playing start music:",e)}}stopStartMusic(){if(this.startMusicTrack)try{this.startMusicTrack.pause(),this.startMusicTrack.currentTime=0}catch(e){console.warn("Error stopping start music:",e)}}playLevelMusic(e){if(!this.userInteracted)return;const n=this.levelTracks.get(e);if(!n){console.warn(`Level ${e} music not found`);return}try{this.currentLevelTrack&&!this.currentLevelTrack.paused?this.crossFade(this.currentLevelTrack,n):(n.volume=this.muted?0:this.masterVolume,this.playSafely(n)),this.currentLevelTrack=n}catch(r){console.warn(`Error playing level ${e} music:`,r)}}stopLevelMusic(){if(this.currentLevelTrack)try{this.currentLevelTrack.pause(),this.currentLevelTrack.currentTime=0,this.currentLevelTrack=null}catch(e){console.warn("Error stopping level music:",e)}}playMatch(){!this.matchSfx||!this.userInteracted||this.playSafely(this.matchSfx)}playWin(){!this.winSfx||!this.userInteracted||this.playSafely(this.winSfx)}playLose(){!this.loseSfx||!this.userInteracted||this.playSafely(this.loseSfx)}mute(){this.muted=!0,this.applyVolume(),this.saveSettings()}unmute(){this.muted=!1,this.applyVolume(),this.saveSettings()}toggleMute(){this.muted?this.unmute():this.mute()}isMuted(){return this.muted}setMasterVolume(e){this.masterVolume=Math.max(0,Math.min(1,e)),this.applyVolume(),this.saveSettings()}getMasterVolume(){return this.masterVolume}}const Ye=new Uy,Fy=({onStartGame:t,onStartDailyChallenge:e,onStartDuel:n})=>{const[r,s]=x.useState(!1),[i,o]=x.useState(!1),[l,u]=x.useState(0),[c,d]=x.useState(!1),[h,g]=x.useState("Clsico"),v=x.useRef(!1),y=x.useRef(0),k=x.useRef(null);x.useEffect(()=>{yy().then(()=>{u(Pe()),Qf()&&d(!0)}),sa().then(m=>{const w=ra(m);w&&g(w.name)}),v.current||(setTimeout(()=>{My(),Ye.playStartMusic()},300),v.current=!0)},[]);const j=()=>{const m=py();u(m),d(!1)},p=()=>{s(!1),u(Pe()),sa().then(m=>{const w=ra(m);w&&g(w.name)})},f=()=>{y.current+=1,k.current&&clearTimeout(k.current),y.current>=5?(o(!0),y.current=0):k.current=window.setTimeout(()=>{y.current=0},2e3)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:[a.jsx("div",{className:"fixed top-0 right-0 w-16 h-16 z-40",onClick:f}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:"/twinlogo.png",alt:"Twin Clash",style:{width:"75%",maxWidth:"420px",margin:"0 auto"}})}),a.jsx("p",{className:"text-center text-gray-600 mb-6 text-sm font-medium",children:"Encuentra todas las parejas antes de que se acabe el tiempo"}),a.jsxs("div",{className:"flex gap-3 mb-6",children:[a.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[a.jsx(lt,{size:20,className:"text-white"}),a.jsx("span",{className:"text-lg font-bold text-white",children:l})]}),a.jsxs("button",{type:"button",onClick:()=>s(!0),className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl p-3 flex items-center justify-center gap-2 hover:shadow-lg transition-all cursor-pointer",children:[a.jsx(q0,{size:20,className:"text-white"}),a.jsx("span",{className:"text-sm font-bold text-white",children:h})]})]}),a.jsxs("button",{type:"button",onClick:()=>s(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-3 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2 mb-6",children:[a.jsx(wf,{size:20}),"Tienda de Mundos"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{type:"button",onClick:t,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105",children:" Empezar a Jugar (10 Mundos)"}),a.jsxs("button",{type:"button",onClick:e,className:"w-full bg-gradient-to-r from-amber-500 to-orange-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[a.jsx(U0,{size:20}),"Reto Diario"]}),a.jsxs("button",{type:"button",onClick:n,className:"w-full bg-gradient-to-r from-red-500 to-pink-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[a.jsx(G0,{size:20}),"Duelo 1v1"]})]})]}),r&&a.jsx(Ry,{onClose:p,onSkinChanged:()=>{}}),i&&a.jsx(Oy,{onClose:()=>o(!1)}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:a.jsx(B0,{size:64,className:"mx-auto text-yellow-500"})}),a.jsx("h3",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"Recompensa Diaria!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Reclama tus monedas gratis"}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(lt,{size:32,className:"text-white"}),a.jsx("span",{className:"text-4xl font-bold text-white",children:"+50"})]})}),a.jsx("button",{type:"button",onClick:j,className:"w-full bg-gradient-to-r from-yellow-500 to-amber-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reclamar"})]})})]})},rp=({card:t,image:e,onClick:n,disabled:r,showHint:s=!1})=>{const[i,o]=x.useState(Wc());x.useEffect(()=>{const u=async()=>{const d=await sa(),h=ra(d)||Wc();o(h)};u();const c=()=>{u()};return window.addEventListener("themeChanged",c),()=>window.removeEventListener("themeChanged",c)},[]);const l=()=>{!r&&!t.isFlipped&&!t.isMatched&&(zy(),n(t.id))};return a.jsx("div",{className:"relative aspect-square cursor-pointer perspective-1000",onClick:l,children:a.jsxs("div",{className:`relative w-full h-full transition-transform duration-500 transform-style-3d ${t.isFlipped||t.isMatched?"rotate-y-180":""} ${s?"hint-pulse":""}`,children:[a.jsx("div",{className:"absolute w-full h-full backface-hidden",children:a.jsxs("div",{className:`w-full h-full ${i.cardBackColor} rounded-xl shadow-lg flex items-center justify-center border-4 ${i.cardBorderColor} ${s?"ring-4 ring-yellow-400 ring-opacity-75":""}`,children:[a.jsx("div",{className:"text-4xl text-white font-bold",children:"?"}),s&&a.jsx("div",{className:"absolute inset-0 rounded-xl border-4 border-yellow-400 animate-ping opacity-75"})]})}),a.jsx("div",{className:"absolute w-full h-full backface-hidden rotate-y-180",children:a.jsx("div",{className:`w-full h-full bg-white rounded-xl shadow-lg flex items-center justify-center border-4 ${i.cardBorderColor} overflow-hidden`,children:a.jsx("div",{className:"text-6xl",children:e})})})]})})};function sp(){return typeof window>"u"?null:new URLSearchParams(window.location.search).get("crew")}function By(t){if(typeof window>"u")return;const e=new URL(window.location.href);e.searchParams.set("crew",t),window.history.replaceState({},"",e.toString())}async function Wy(t){try{const{data:e,error:n}=await _e.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);return n?(console.error("[checkIfPioneer] Error:",n),!1):((e==null?void 0:e.length)??0)===0}catch(e){return console.error("[checkIfPioneer] Exception:",e),!1}}async function Vy(t){try{const{data:e,error:n}=await _e.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);if(n){console.error("[seedBotsIfEmpty] Error checking:",n);return}if(((e==null?void 0:e.length)??0)>0)return;const s=[23e3,27e3,31e3,35e3,4e4].map((o,l)=>({seed:t,time_ms:o,moves:10+l,client_id:`bot-${t}-${l}`,display_name:`CPU Kiwi #${l+1}`,is_bot:!0})),{error:i}=await _e.from("scores").insert(s);i&&console.error("[seedBotsIfEmpty] Error inserting bots:",i)}catch(e){console.error("[seedBotsIfEmpty] Exception:",e)}}async function qy({seed:t,timeMs:e,moves:n,crewId:r=null,displayName:s=null}){try{const i=await Wy(t),o=at(),{error:l}=await _e.from("scores").insert({seed:t,time_ms:e,moves:n,client_id:o,crew_id:r,display_name:s,is_bot:!1});return l?(console.error("[submitScoreAndReward] Error:",l),{success:!1,isPioneer:!1}):(i&&Pt(20),{success:!0,isPioneer:i})}catch(i){return console.error("[submitScoreAndReward] Exception:",i),{success:!1,isPioneer:!1}}}async function Hy({seed:t,limit:e=20}){try{await Vy(t);const{data:n,error:r}=await _e.from("scores").select("*").eq("seed",t).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(e);return r?(console.error("[getTop] Error:",r),[]):n||[]}catch(n){return console.error("[getTop] Exception:",n),[]}}async function Ky({seed:t,crewId:e,limit:n=20}){try{if(!e)return[];const{data:r,error:s}=await _e.from("scores").select("*").eq("seed",t).eq("crew_id",e).eq("is_bot",!1).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(n);return s?(console.error("[getCrewTop] Error:",s),[]):r||[]}catch(r){return console.error("[getCrewTop] Exception:",r),[]}}const Gy=({seed:t,onClose:e,onPlayNow:n})=>{const[r,s]=x.useState([]),[i,o]=x.useState([]),[l,u]=x.useState(!0),[c,d]=x.useState(!1),h=at(),g=sp();x.useEffect(()=>{(async()=>{u(!0);const j=await Hy({seed:t,limit:20});if(s(j),g){const p=await Ky({seed:t,crewId:g,limit:20});o(p)}u(!1)})()},[t,g]);const v=c&&g?i:r,y=r.some(k=>!k.is_bot);return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Wt,{className:"text-yellow-500",size:28}),c?"Top Amigos":"Top Diario"]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(Un,{size:24})})]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Reto: ",t]}),g&&a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsxs("button",{onClick:()=>d(!1),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${c?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-yellow-500 text-white"}`,children:[a.jsx(Wt,{size:16,className:"inline mr-1"}),"Global"]}),a.jsxs("button",{onClick:()=>d(!0),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${c?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(ql,{size:16,className:"inline mr-1"}),"Amigos"]})]}),l?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"Cargando..."})}):v.length===0?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-6",children:[a.jsx(Wt,{size:64,className:"mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:c?"Sin marcas de amigos":"Sin marcas para hoy"}),a.jsx("p",{className:"text-gray-600 mb-4",children:c?"Comparte el enlace con tu crew para competir juntos":"S el primero y desbloquea la medalla Pionero! (+20 monedas)"}),n&&!c&&a.jsx("button",{onClick:()=>{e(),n()},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Jugar ahora"})]})}):a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!y&&!c&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[a.jsx(bt,{size:16}),a.jsx("span",{className:"font-semibold",children:"Marcas de prueba"})]}),a.jsx("p",{className:"text-blue-600 text-xs",children:"S el primero en jugar hoy y gana +20 monedas con la medalla Pionero!"})]}),a.jsx("div",{className:"space-y-2",children:v.map((k,j)=>{const p=k.client_id===h,f=k.is_bot,m=j+1,w=m===1?"text-yellow-500":m===2?"text-gray-400":m===3?"text-amber-600":"text-gray-400";return a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${p?"bg-blue-50 border-2 border-blue-300":f?"bg-gray-50 opacity-75":"bg-gray-50"}`,children:[a.jsx("div",{className:`text-2xl font-bold ${w} w-8 text-center`,children:m<=3?a.jsx(Wt,{size:24,className:"inline"}):m}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[f&&a.jsx("span",{className:"text-xs",children:""}),k.display_name&&a.jsx("span",{className:"text-xs text-gray-600 font-medium",children:k.display_name}),f&&a.jsx("span",{className:"text-xs text-gray-500",children:"(Prueba)"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ff,{size:14,className:"text-blue-500"}),a.jsxs("span",{className:"font-semibold",children:[(k.time_ms/1e3).toFixed(1),"s"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(V0,{size:14,className:"text-purple-500"}),a.jsx("span",{className:"font-semibold",children:k.moves})]})]}),p&&a.jsx("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:"T!"})]}),!f&&a.jsx("div",{className:"text-xs text-gray-400",children:new Date(k.created_at).toLocaleTimeString("es",{hour:"2-digit",minute:"2-digit"})})]},k.id)})})]}),a.jsx("button",{onClick:e,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]})})};function Jy({onPowerUpUsed:t,disabled:e}){const[n,r]=x.useState(Pe()),[s,i]=x.useState(null),o=(c,d)=>{i(c)},l=(c,d)=>{du(d)?(r(Pe()),t(c),i(null)):alert("No tienes suficientes monedas!")},u=()=>{i(null)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsxs("button",{onClick:()=>o(20),disabled:e||n<100,className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm shadow-lg transition-all ${e||n<100?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95"}`,children:[a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx(Q0,{size:16}),a.jsx("span",{children:"20%"})]}),a.jsxs("div",{className:"text-xs flex items-center justify-center gap-1 mt-1",children:[a.jsx(lt,{size:12}),a.jsx("span",{children:"100"})]})]}),a.jsxs("button",{onClick:()=>o(40),disabled:e||n<200,className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm shadow-lg transition-all ${e||n<200?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-600 text-white hover:scale-105 active:scale-95"}`,children:[a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx(bt,{size:16}),a.jsx("span",{children:"40%"})]}),a.jsxs("div",{className:"text-xs flex items-center justify-center gap-1 mt-1",children:[a.jsx(lt,{size:12}),a.jsx("span",{children:"200"})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full text-center shadow-2xl animate-scale-in",children:[a.jsx("div",{className:"text-6xl mb-4",children:s===20?"":""}),a.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Revelar ",s,"% de Parejas"]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Esta ayuda revelar automticamente algunas parejas de cartas"}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-3 mb-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[a.jsx(lt,{size:24}),a.jsx("span",{className:"text-2xl font-black",children:s===20?"100":"200"}),a.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:u,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-bold hover:bg-gray-600 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:()=>l(s,s===20?100:200),className:`flex-1 py-3 rounded-xl font-bold text-white transition-all ${s===20?"bg-gradient-to-r from-green-500 to-emerald-600 hover:scale-105":"bg-gradient-to-r from-yellow-500 to-orange-600 hover:scale-105"}`,children:"Confirmar"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Tu saldo actual: ",n," monedas"]})]})}),a.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const Qy=({open:t,onStay:e,onExit:n})=>{const r=x.useRef(null);return x.useEffect(()=>{var s;t&&((s=r.current)==null||s.focus())},[t]),x.useEffect(()=>{if(!t)return;const s=i=>{i.key==="Escape"&&(i.preventDefault(),e())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e]),t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Quieres salir del nivel?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{ref:r,type:"button",onClick:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Seguir Jugando"}),a.jsx("button",{type:"button",onClick:n,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"})]})]})}):null},Yy=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(!1),[s,i]=x.useState(1),o=x.useRef(null);x.useEffect(()=>{const c=localStorage.getItem("sound.muted"),d=localStorage.getItem("sound.volume"),h=c==="true",g=d?Math.max(0,Math.min(1,parseFloat(d))):1;r(h),i(g);try{h?Ye.mute():Ye.unmute(),Ye.setMasterVolume(g)}catch(v){console.error("Error initializing sound:",v)}},[]),x.useEffect(()=>{if(!t)return;const c=d=>{o.current&&!o.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[t]);const l=()=>{const c=!n;r(c),localStorage.setItem("sound.muted",c?"true":"false");try{c?Ye.mute():Ye.unmute()}catch(d){console.error("Error toggling sound:",d)}},u=c=>{const d=Number(c.target.value)/100;i(d),localStorage.setItem("sound.volume",String(d));try{Ye.setMasterVolume(d)}catch(h){console.error("Error setting volume:",h)}};return a.jsxs("div",{className:"relative select-none",ref:o,children:[a.jsx("button",{type:"button","aria-label":"Ajustes de sonido",onClick:()=>e(c=>!c),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(H0,{size:20,className:"text-gray-700"})}),t&&a.jsxs("div",{className:"absolute right-0 mt-2 rounded-xl shadow-2xl bg-white p-4 z-50 min-w-[200px]",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Sonido"}),a.jsx("button",{type:"button",onClick:l,className:`px-3 py-1 rounded-lg text-sm font-semibold transition-colors ${n?"bg-gray-200 text-gray-600":"bg-green-500 text-white"}`,children:n?"OFF":"ON"})]}),a.jsxs("div",{className:"mt-2",children:[a.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Volumen: ",Math.round(s*100),"%"]}),a.jsx("input",{type:"range",min:0,max:100,value:Math.round(s*100),onChange:u,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500",disabled:n})]})]})]})},Xy=({open:t,onClose:e,shareText:n,shareUrl:r})=>{const[s,i]=x.useState(!1);if(!t)return null;const o=async()=>{try{await navigator.clipboard.writeText(`${n}
${r}`),i(!0),setTimeout(()=>i(!1),2e3)}catch(h){console.error("Error copying to clipboard:",h)}},l=()=>{const h=`https://wa.me/?text=${encodeURIComponent(`${n}
${r}`)}`;window.open(h,"_blank")},u=()=>{window.open("https://www.tiktok.com/","_blank")},c=()=>{window.open("https://www.instagram.com/","_blank")},d=async()=>{if(navigator.share)try{await navigator.share({title:"TwinClash",text:n,url:r}),e()}catch(h){console.error("Error sharing:",h)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Compartir"}),a.jsx("button",{type:"button",onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(Un,{size:24})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("button",{type:"button",onClick:l,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-green-500 flex items-center justify-center text-white text-2xl",children:""}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"WhatsApp"})]}),a.jsxs("button",{type:"button",onClick:c,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 flex items-center justify-center text-white text-2xl",children:""}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Instagram"})]}),a.jsxs("button",{type:"button",onClick:u,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-black flex items-center justify-center text-white text-2xl",children:""}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"TikTok"})]})]}),a.jsx("button",{type:"button",onClick:o,className:"w-full bg-blue-500 text-white py-4 rounded-xl font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 mb-3",children:s?a.jsxs(a.Fragment,{children:[a.jsx(hf,{size:20}),"Copiado!"]}):a.jsxs(a.Fragment,{children:[a.jsx(pf,{size:20}),"Copiar enlace"]})}),navigator.share&&a.jsx("button",{type:"button",onClick:d,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Ms opciones..."})]})})},qc=10,Zy=400,br=()=>{Dy();const e=Date.now()+3e3,n=(o,l)=>Math.random()*(l-o)+o,r=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"],s=[],i=setInterval(()=>{if(e-Date.now()<=0){clearInterval(i),s.forEach(u=>u.remove());return}const l=50;for(let u=0;u<l;u++){const c=document.createElement("div");c.style.position="fixed",c.style.width="10px",c.style.height="10px",c.style.backgroundColor=r[Math.floor(Math.random()*r.length)],c.style.left=Math.random()*window.innerWidth+"px",c.style.top="-20px",c.style.opacity="1",c.style.borderRadius="50%",c.style.pointerEvents="none",c.style.zIndex="9999",document.body.appendChild(c),s.push(c);const d=n(0,360),h=n(10,30),g=n(-2,2);let v=parseFloat(c.style.left),y=-20,k=Math.cos(d*Math.PI/180)*h,j=Math.sin(d*Math.PI/180)*h;const p=()=>{v+=k+g,y+=j,j+=.5,c.style.left=v+"px",c.style.top=y+"px",c.style.opacity=String(Math.max(0,1-y/window.innerHeight)),y<window.innerHeight&&Date.now()<e?requestAnimationFrame(p):c.remove()};p()}},250)};function Hc(){const t=new Date,e=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),r=String(t.getUTCDate()).padStart(2,"0");return`${e}-${n}-${r}`}function ew(){if(typeof window>"u")return Hc();const e=new URLSearchParams(window.location.search).get("seed");return e&&/^\d{4}-\d{2}-\d{2}$/.test(e)?e:Hc()}function tw(t){let e=1779033703^t.length;for(let n=0;n<t.length;n++)e=Math.imul(e^t.charCodeAt(n),3432918353),e=e<<13|e>>>19;return function(){return e=Math.imul(e^e>>>16,2246822507),e=Math.imul(e^e>>>13,3266489909),(e^=e>>>16)>>>0}}function nw(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function ip(t){const e=tw(t);return nw(e())}function rw(t,e){const n=ip(e),r=[...t];for(let s=r.length-1;s>0;s--){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}const op={1:{world:1,level:1,pairs:6,timeLimit:60,theme:"nature",unlockReward:10},2:{world:1,level:2,pairs:7,timeLimit:55,theme:"nature",unlockReward:12},3:{world:1,level:3,pairs:8,timeLimit:52,theme:"nature",unlockReward:15},4:{world:1,level:4,pairs:9,timeLimit:48,theme:"nature",unlockReward:18},5:{world:1,level:5,pairs:10,timeLimit:45,theme:"nature",unlockReward:100},6:{world:2,level:1,pairs:8,timeLimit:55,theme:"sports",unlockReward:15},7:{world:2,level:2,pairs:9,timeLimit:52,theme:"sports",unlockReward:18},8:{world:2,level:3,pairs:10,timeLimit:48,theme:"sports",unlockReward:20},9:{world:2,level:4,pairs:11,timeLimit:44,theme:"sports",unlockReward:25},10:{world:2,level:5,pairs:12,timeLimit:40,theme:"sports",unlockReward:120},11:{world:3,level:1,pairs:10,timeLimit:50,theme:"arcade",unlockReward:20},12:{world:3,level:2,pairs:11,timeLimit:47,theme:"arcade",unlockReward:22},13:{world:3,level:3,pairs:12,timeLimit:44,theme:"arcade",unlockReward:25},14:{world:3,level:4,pairs:13,timeLimit:40,theme:"arcade",unlockReward:30},15:{world:3,level:5,pairs:14,timeLimit:35,theme:"arcade",unlockReward:150},16:{world:4,level:1,pairs:12,timeLimit:45,theme:"animals",unlockReward:30},17:{world:4,level:2,pairs:13,timeLimit:42,theme:"animals",unlockReward:35},18:{world:4,level:3,pairs:14,timeLimit:38,theme:"animals",unlockReward:40},19:{world:4,level:4,pairs:15,timeLimit:34,theme:"animals",unlockReward:45},20:{world:4,level:5,pairs:16,timeLimit:30,theme:"animals",unlockReward:200},21:{world:5,level:1,pairs:14,timeLimit:40,theme:"space",unlockReward:50},22:{world:5,level:2,pairs:15,timeLimit:36,theme:"space",unlockReward:60},23:{world:5,level:3,pairs:16,timeLimit:32,theme:"space",unlockReward:70},24:{world:5,level:4,pairs:17,timeLimit:28,theme:"space",unlockReward:80},25:{world:5,level:5,pairs:18,timeLimit:25,theme:"space",unlockReward:500},26:{world:6,level:1,pairs:16,timeLimit:38,theme:"ocean",unlockReward:70},27:{world:6,level:2,pairs:17,timeLimit:34,theme:"ocean",unlockReward:80},28:{world:6,level:3,pairs:18,timeLimit:30,theme:"ocean",unlockReward:90},29:{world:6,level:4,pairs:19,timeLimit:26,theme:"ocean",unlockReward:100},30:{world:6,level:5,pairs:20,timeLimit:22,theme:"ocean",unlockReward:600},31:{world:7,level:1,pairs:18,timeLimit:36,theme:"food",unlockReward:90},32:{world:7,level:2,pairs:19,timeLimit:32,theme:"food",unlockReward:100},33:{world:7,level:3,pairs:20,timeLimit:28,theme:"food",unlockReward:110},34:{world:7,level:4,pairs:21,timeLimit:24,theme:"food",unlockReward:120},35:{world:7,level:5,pairs:22,timeLimit:20,theme:"food",unlockReward:700},36:{world:8,level:1,pairs:20,timeLimit:34,theme:"music",unlockReward:110},37:{world:8,level:2,pairs:21,timeLimit:30,theme:"music",unlockReward:120},38:{world:8,level:3,pairs:22,timeLimit:26,theme:"music",unlockReward:130},39:{world:8,level:4,pairs:23,timeLimit:22,theme:"music",unlockReward:140},40:{world:8,level:5,pairs:24,timeLimit:18,theme:"music",unlockReward:800},41:{world:9,level:1,pairs:22,timeLimit:32,theme:"beauty",unlockReward:130},42:{world:9,level:2,pairs:23,timeLimit:28,theme:"beauty",unlockReward:140},43:{world:9,level:3,pairs:24,timeLimit:24,theme:"beauty",unlockReward:150},44:{world:9,level:4,pairs:25,timeLimit:20,theme:"beauty",unlockReward:160},45:{world:9,level:5,pairs:26,timeLimit:16,theme:"beauty",unlockReward:900},46:{world:10,level:1,pairs:24,timeLimit:30,theme:"tech",unlockReward:150},47:{world:10,level:2,pairs:25,timeLimit:26,theme:"tech",unlockReward:160},48:{world:10,level:3,pairs:26,timeLimit:22,theme:"tech",unlockReward:170},49:{world:10,level:4,pairs:27,timeLimit:18,theme:"tech",unlockReward:180},50:{world:10,level:5,pairs:28,timeLimit:15,theme:"tech",unlockReward:1e3}};function xt(t){return op[t]}function sw(t){return Object.values(op).filter(e=>e.world===t).sort((e,n)=>e.level-n.level)}function Yo(t,e){return(t-1)*5+e}const ia={nature:{name:"Naturaleza",images:["","","","","","","","","","","","","","","","","",""]},sports:{name:"Deportes",images:["","","","","","","","","","","","","","",""]},arcade:{name:"Juegos",images:["","","","","","","","","","","","","","","","","",""]},animals:{name:"Animalitos",images:["","","","","","","","","","","","","","","","","",""]},space:{name:"Espacio",images:["","","","","","","","","","","","","","","","","",""]},ocean:{name:"Ocano",images:["","","","","","","","","","","","","","","","","",""]},food:{name:"Comida",images:["","","","","","","","","","","","","","","","","",""]},music:{name:"Msica",images:["","","","","","","","","","","","","","","","","",""]},beauty:{name:"Belleza",images:["","","","","","","","","","","","","","","","","",""]},tech:{name:"Tecnologa",images:["","","","","","","","","","","","","","","","","",""]}};function Kc(t){var e;return((e=ia[t])==null?void 0:e.images)||ia.nature.images}function iw(t){var e;return((e=ia[t])==null?void 0:e.name)||"Desconocido"}function ow(t){const[e,n]=x.useState(!1),r=x.useRef(!1),s=x.useRef(t.enabled);x.useEffect(()=>{s.current=t.enabled},[t.enabled]);const i=x.useCallback(()=>{n(!0),r.current=!0},[]),o=x.useCallback(()=>{n(!1),r.current=!1},[]);return x.useEffect(()=>{if(!t.enabled)return;const l=c=>{if(s.current){if(r.current){t.onConfirmExit();return}c.preventDefault(),window.history.pushState(null,"",window.location.href),i()}},u=c=>{if(s.current){if(c.preventDefault(),r.current){t.onConfirmExit();return}i()}};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",l),"backbutton"in document&&document.addEventListener("backbutton",u,!1),()=>{window.removeEventListener("popstate",l),"backbutton"in document&&document.removeEventListener("backbutton",u,!1)}},[t.enabled,t.onConfirmExit,i]),{open:e,openModal:i,closeModal:o}}const lp=({level:t,onComplete:e,onBackToMenu:n,isDailyChallenge:r=!1})=>{const s=xt(t),[i,o]=x.useState([]),[l,u]=x.useState([]),[c,d]=x.useState(0),[h,g]=x.useState(!0),[v,y]=x.useState((s==null?void 0:s.timeLimit)||60),[k,j]=x.useState(!1),[p,f]=x.useState(0),[m,w]=x.useState(0),[_,S]=x.useState(!1),[b,C]=x.useState(null),[A]=x.useState(()=>r?ew():`random-${Date.now()}`),[I,ye]=x.useState(!1),[Ke,Rt]=x.useState(!1),[Ie,jt]=x.useState(()=>sp()),[ht,Qt]=x.useState(0),[N,L]=x.useState(0),[P,W]=x.useState([]),[G,he]=x.useState(0),[ae,Re]=x.useState(!1),[ft,De]=x.useState(!1),[Ts,Ot]=x.useState(!1),[Ps,Ls]=x.useState({text:"",url:""}),Is=x.useCallback(()=>{Ye.stopLevelMusic(),n()},[n]),{open:co,openModal:ho,closeModal:fo}=ow({enabled:!_&&!k,onConfirmExit:Is,isLevelCompleted:_}),$t=x.useRef(!1),Ge=x.useRef(null),R=x.useRef(null),M=x.useRef(null),O=x.useRef(0),re=x.useRef(null),fe=x.useCallback(()=>{console.log("[GameCore] initializeLevel",{level:t,seed:A});const U=xt(t),Q=(U==null?void 0:U.pairs)||6,Z=(U==null?void 0:U.timeLimit)||60,ce=(U==null?void 0:U.theme)||"nature",Yt=Kc(ce).slice(0,Q).flatMap((K,At)=>[{id:At*2,imageIndex:At,isFlipped:!1,isMatched:!1},{id:At*2+1,imageIndex:At,isFlipped:!1,isMatched:!1}]),we=r?rw(Yt,A):Yt.sort(()=>Math.random()-.5);if(o(we),u([]),d(0),g(!0),j(!1),y(Z),f(0),w(0),S(!1),W([]),he(0),Re(!1),O.current=0,R.current&&clearTimeout(R.current),R.current=window.setTimeout(()=>{g(!1)},qc*1e3),r){const K=localStorage.getItem(`best:${A}`);if(K)try{C(JSON.parse(K))}catch{C(null)}else C(null)}},[t,A,r]);x.useEffect(()=>(console.log("[GameCore] mount for level",t),fe(),()=>{console.log("[GameCore] unmount for level",t),Ge.current&&clearInterval(Ge.current),R.current&&clearTimeout(R.current),re.current&&clearTimeout(re.current)}),[t,fe]),x.useEffect(()=>{if(h||k){Ge.current&&clearInterval(Ge.current),M.current&&clearInterval(M.current);return}return O.current===0&&(O.current=Date.now()),Ge.current=window.setInterval(()=>{y(U=>U<=1?(Ge.current&&clearInterval(Ge.current),M.current&&clearInterval(M.current),Ye.playLose(),j(!0),0):U-1)},1e3),M.current=window.setInterval(()=>{w(Math.floor((Date.now()-O.current)/1e3))},100),()=>{Ge.current&&clearInterval(Ge.current),M.current&&clearInterval(M.current)}},[h,k]),x.useEffect(()=>{const U=(s==null?void 0:s.pairs)||6;if(c===U&&c>0)if(console.log("[GameCore] LEVEL COMPLETED",{level:t,matchedPairs:c,moves:p,timeElapsed:m}),Ge.current&&clearInterval(Ge.current),R.current&&clearTimeout(R.current),M.current&&clearInterval(M.current),br(),Ye.playWin(),r){const Q=Math.floor((Date.now()-O.current)/1e3);w(Q),Qt(Q),L(p);const Z=localStorage.getItem(`best:${A}`);let ce=!0;if(Z)try{const q=JSON.parse(Z);(Q>q.time||Q===q.time&&p>=q.moves)&&(ce=!1)}catch{}if(ce){const q={time:Q,moves:p,date:new Date().toISOString()};localStorage.setItem(`best:${A}`,JSON.stringify(q)),C(q)}qy({seed:A,timeMs:Q*1e3,moves:p,crewId:Ie}).then(q=>{q.isPioneer&&Rt(!0)}).catch(q=>{console.error("[GameCore] Failed to submit score:",q)}),Pt(10),S(!0)}else Pt(10),e()},[c,t,e,r,p,A,m]);const Je=x.useCallback(U=>{if(h||$t.current||l.length>=2)return;const Q=i.find(ce=>ce.id===U);if(!Q||Q.isMatched||l.includes(U))return;const Z=[...l,U];if(u(Z),o(ce=>ce.map(q=>q.id===U?{...q,isFlipped:!0}:q)),Z.length===2){$t.current=!0,f(we=>we+1);const[ce,q]=Z,Rs=i.find(we=>we.id===ce),Yt=i.find(we=>we.id===q);Rs&&Yt&&Rs.imageIndex===Yt.imageIndex?(Ye.playMatch(),o(we=>we.map(K=>K.id===ce||K.id===q?{...K,isMatched:!0}:K)),d(we=>we+1),u([]),he(0),W([]),$t.current=!1):(he(we=>we+1),setTimeout(()=>{o(we=>we.map(K=>K.id===ce||K.id===q?{...K,isFlipped:!1}:K)),u([]),$t.current=!1},Zy))}},[i,l,h]);x.useEffect(()=>{if(G>=4&&!h&&!k&&P.length===0){const U=i.filter(Q=>!Q.isMatched&&!Q.isFlipped);if(U.length>=2){const Q=new Map;U.forEach(Z=>{Q.has(Z.imageIndex)||Q.set(Z.imageIndex,[]),Q.get(Z.imageIndex).push(Z.id)});for(const[,Z]of Q)if(Z.length>=2){const[ce,q]=Z.slice(0,2);W([ce,q]),re.current&&clearTimeout(re.current),re.current=window.setTimeout(()=>{W([])},3e3);break}}}},[G,h,k,i,P.length]);const Ue=x.useCallback(U=>{const Q=i.filter(K=>!K.isMatched),Z=Q.length/2,ce=Math.max(1,Math.floor(Z*(U/100))),q=new Map;Q.forEach(K=>{q.has(K.imageIndex)||q.set(K.imageIndex,[]),q.get(K.imageIndex).push(K.id)});const Yt=Array.from(q.entries()).filter(([,K])=>K.length===2).slice(0,ce),we=[];Yt.forEach(([,K])=>{we.push(...K)}),o(K=>K.map(At=>we.includes(At.id)?{...At,isFlipped:!0,isMatched:!0}:At)),d(K=>K+Yt.length),Re(!0),br()},[i]),Se=x.useCallback(()=>{fe()},[fe]),V=x.useCallback(()=>{let U,Q;if(r){const Z=new URL(window.location.href);Z.searchParams.set("seed",A),Z.searchParams.set("time",ht.toString()),Z.searchParams.set("moves",N.toString());let ce=Ie;if(ce)Z.searchParams.set("crew",ce);else{const q=crypto.randomUUID().slice(0,8);Z.searchParams.set("crew",q),By(q),jt(q),ce=q}Q=Z.toString(),U=`Complet el reto diario en ${ht}s con ${N} movimientos! Puedes superarme?`}else Q=window.location.origin,U=`Complet el Nivel ${t} en ${ht}s con ${N} movimientos!  Juega TwinClash y pon a prueba tu memoria.`;Ls({text:U,url:Q}),Ot(!0)},[A,ht,N,Ie,r,t]),J=xt(t),po=(J==null?void 0:J.theme)||"nature",mo=Kc(po),ap=(J==null?void 0:J.pairs)||6,up=mo.slice(0,ap),cp=(J==null?void 0:J.timeLimit)||60;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex flex-col p-4",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 mb-4",children:[r&&a.jsxs("div",{className:"mb-3 text-sm text-gray-600 flex flex-col gap-1",children:[a.jsxs("span",{children:["Reto: ",A]}),b&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Wt,{size:14,className:"text-yellow-500"}),"Mejor: ",b.time,"s, ",b.moves," mov"]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r?"Reto Diario":`Nivel ${t}`}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Yy,{}),a.jsx("div",{className:`text-2xl font-bold ${v<=10?"text-red-600 animate-pulse":"text-blue-600"}`,children:h?`Preview: ${Math.max(0,Math.ceil(v-(cp-qc)))}s`:`${v}s`})]})]}),r&&a.jsxs("div",{className:"flex gap-4 mb-3 text-sm font-semibold text-gray-700",children:[a.jsxs("span",{children:["Tiempo: ",m,"s"]}),a.jsxs("span",{children:["Movimientos: ",p]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:ho,className:"bg-gray-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-gray-600 transition-colors",children:[a.jsx(ro,{size:18}),"Volver"]}),a.jsxs("button",{onClick:Se,className:"flex-1 bg-orange-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors",children:[a.jsx(yf,{size:18}),"Reiniciar"]}),r&&a.jsxs("button",{onClick:()=>ye(!0),className:"flex-1 bg-yellow-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-yellow-600 transition-colors",children:[a.jsx(W0,{size:18}),"Top"]})]}),!r&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsx("div",{className:"text-xs text-gray-600 font-semibold mb-2 text-center",children:" Ayuda Extra (Revela Parejas)"}),a.jsx(Jy,{onPowerUpUsed:Ue,disabled:h||k||ae}),ae&&a.jsx("div",{className:"text-xs text-center text-green-600 font-semibold mt-2",children:" Ayuda usada en este nivel"}),a.jsx("button",{onClick:()=>De(!0),className:"w-full mt-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-2 px-4 rounded-lg font-bold text-sm shadow-lg hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-2",children:" Comprar Monedas"})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"w-full max-w-lg",children:a.jsx("div",{className:"grid grid-cols-4 gap-3",children:i.map(U=>a.jsx(rp,{card:{...U,isFlipped:h||U.isFlipped},image:up[U.imageIndex],onClick:Je,disabled:h||$t.current,showHint:P.includes(U.id)},U.id))})})}),k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-bold text-red-600 mb-2",children:"Game Over"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Se acab el tiempo"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:n,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),a.jsx("button",{onClick:Se,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reintentar"})]})]})}),_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-bold text-green-600 mb-4",children:"Completado!"}),Ke&&a.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-4",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("div",{className:"text-white font-bold text-lg",children:"Medalla Pionero!"}),a.jsx("div",{className:"text-yellow-100 text-sm",children:"+20 monedas por ser el primero"})]}),a.jsx("div",{className:"bg-gray-100 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex justify-around text-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[ht,"s"]}),a.jsx("div",{className:"text-xs text-gray-600",children:"Tiempo"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:N}),a.jsx("div",{className:"text-xs text-gray-600",children:"Movimientos"})]})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:V,className:"flex-1 bg-blue-500 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-600 transition-colors",children:[a.jsx(K0,{size:18}),"Compartir"]}),a.jsx("button",{onClick:Se,className:"flex-1 bg-green-500 text-white py-3 rounded-xl font-semibold hover:bg-green-600 transition-colors",children:"Reintentar"})]})]})}),I&&a.jsx(Gy,{seed:A,onClose:()=>ye(!1),onPlayNow:()=>{ye(!1),Se()}}),ft&&a.jsx(Xf,{onClose:()=>De(!1)}),a.jsx(Qy,{open:co,onStay:fo,onExit:Is}),a.jsx(Xy,{open:Ts,onClose:()=>Ot(!1),shareText:Ps.text,shareUrl:Ps.url})]})};function lw({completedWorld:t,unlockedWorld:e,coinsEarned:n,onContinue:r,isGameComplete:s=!1}){x.useEffect(()=>{br();const l=[];for(let u=0;u<3;u++){const c=window.setTimeout(()=>{br()},(u+1)*600);l.push(c)}return()=>l.forEach(clearTimeout)},[]);const i=["","Naturaleza","Deportes","Juegos","Animales","Espacio"],o=["","","","","",""];return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:[a.jsxs("div",{className:"relative bg-gradient-to-br from-white via-yellow-50 to-orange-50 rounded-3xl p-8 max-w-md w-full text-center shadow-2xl animate-bounce-in",children:[a.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:a.jsx(Wt,{size:48,className:"text-white"})}),a.jsx("div",{className:"mt-8 mb-6",children:s?a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-5xl font-black mb-3 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"JUEGO COMPLETADO!"}),a.jsx("div",{className:"text-7xl mb-4 animate-bounce",children:""}),a.jsx("p",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Eres un Maestro de la Memoria!"}),a.jsx("p",{className:"text-gray-600",children:"Has superado todos los mundos"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h2",{className:"text-4xl font-black mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["Mundo ",t," Completado!"]}),a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-lg border-2 border-yellow-200",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[a.jsx(bt,{className:"text-yellow-500",size:32}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Nuevo Mundo Desbloqueado"}),a.jsx(bt,{className:"text-yellow-500",size:32})]}),a.jsxs("div",{className:"flex items-center justify-center gap-4 py-4",children:[a.jsx("div",{className:"text-6xl",children:o[e]}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"text-3xl font-black text-transparent bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text",children:["Mundo ",e]}),a.jsx("div",{className:"text-xl font-semibold text-gray-700",children:i[e]})]})]})]})]})}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-4 mb-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[a.jsx(lt,{size:28}),a.jsxs("span",{className:"text-3xl font-black",children:["+",n]}),a.jsx("span",{className:"text-lg font-semibold",children:"monedas"})]})}),a.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-2xl font-bold text-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all active:scale-95",children:s?"Vamos!":`Explorar Mundo ${e}`}),a.jsx("div",{className:"mt-4 flex justify-center gap-2",children:[...Array(5)].map((l,u)=>a.jsx("div",{className:`w-3 h-3 rounded-full ${u<t?"bg-yellow-400":"bg-gray-300"}`},u))})]}),a.jsx("style",{children:`
        @keyframes bounce-in {
          0% {
            transform: scale(0.3);
            opacity: 0;
          }
          50% {
            transform: scale(1.05);
          }
          70% {
            transform: scale(0.9);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-bounce-in {
          animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
      `})]})}const aw=[{name:"Naturaleza",icon:nu,emoji:"",description:"Explora la belleza del mundo natural",color:{from:"from-emerald-500",to:"to-green-700",bg:"bg-gradient-to-br from-emerald-400 via-green-500 to-teal-600"},features:["6-10 parejas","60-45 segundos","55 monedas totales"]},{name:"Deportes",icon:eu,emoji:"",description:"Pon a prueba tu memoria deportiva",color:{from:"from-yellow-500",to:"to-orange-700",bg:"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600"},features:["8-12 parejas","55-40 segundos","98 monedas totales"]},{name:"Juegos",icon:tu,emoji:"",description:"El paraso de los gamers te espera",color:{from:"from-purple-500",to:"to-pink-700",bg:"bg-gradient-to-br from-purple-400 via-pink-500 to-rose-600"},features:["10-14 parejas","50-35 segundos","137 monedas totales"]},{name:"Animales",icon:ru,emoji:"",description:"Descubre el reino animal",color:{from:"from-orange-500",to:"to-red-700",bg:"bg-gradient-to-br from-orange-400 via-red-500 to-pink-600"},features:["12-16 parejas","45-30 segundos","190 monedas totales"]},{name:"Espacio",icon:su,emoji:"",description:"Viaja ms all de las estrellas",color:{from:"from-indigo-500",to:"to-blue-700",bg:"bg-gradient-to-br from-indigo-400 via-blue-500 to-cyan-600"},features:["14-18 parejas","40-25 segundos","260 monedas totales"]}];function uw({world:t,onStart:e}){const[n,r]=x.useState(!1),s=aw[t-1],i=s.icon;return x.useEffect(()=>{setTimeout(()=>r(!0),100)},[]),a.jsxs("div",{className:`fixed inset-0 ${s.color.bg} flex items-center justify-center p-6 z-50`,children:[a.jsxs("div",{className:`max-w-lg w-full transition-all duration-700 ${n?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"inline-block relative mb-6",children:[a.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"relative text-9xl animate-bounce-slow",children:s.emoji})]}),a.jsxs("div",{className:"mb-4 flex justify-center gap-2",children:[a.jsx(bt,{className:"text-yellow-300 animate-pulse",size:24}),a.jsxs("h1",{className:"text-5xl font-black text-white drop-shadow-2xl",children:["Mundo ",t]}),a.jsx(bt,{className:"text-yellow-300 animate-pulse",size:24})]}),a.jsx("h2",{className:"text-3xl font-bold text-white/90 mb-3 drop-shadow-lg",children:s.name}),a.jsx("p",{className:"text-xl text-white/80 font-medium",children:s.description})]}),a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-6 shadow-2xl mb-6",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(i,{className:`bg-gradient-to-br ${s.color.from} ${s.color.to} text-white p-2 rounded-xl`,size:40}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Caractersticas"})]}),a.jsx("div",{className:"space-y-3",children:s.features.map((o,l)=>a.jsxs("div",{className:"flex items-center gap-3 text-gray-700 text-lg",style:{animationDelay:`${l*100}ms`},children:[a.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-br ${s.color.from} ${s.color.to}`}),a.jsx("span",{className:"font-semibold",children:o})]},l))})]}),a.jsx("button",{onClick:e,className:"w-full bg-white text-gray-800 py-5 rounded-2xl font-black text-2xl shadow-2xl hover:scale-105 active:scale-95 transition-all hover:shadow-3xl",children:"COMENZAR! "}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("p",{className:"text-white/70 text-sm font-medium",children:"5 niveles de diversin te esperan"})})]}),a.jsx("style",{children:`
        @keyframes bounce-slow {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-20px);
          }
        }

        .animate-bounce-slow {
          animation: bounce-slow 2s ease-in-out infinite;
        }
      `})]})}const cw=({initialLevel:t,onBackToMenu:e})=>{var S;const[n,r]=x.useState(t),[s,i]=x.useState(null),[o,l]=x.useState(!1),[u,c]=x.useState(null),[d,h]=x.useState(null),[g,v]=x.useState(!1),[y,k]=x.useState(1),j=x.useRef(!1),p=x.useRef(((S=xt(t))==null?void 0:S.world)||1),f=x.useCallback(async()=>{if(j.current){console.log("[GameShell] onLevelCompleted: already completed, skipping");return}j.current=!0;const b=xt(n);if(!b)return;const C=Cy(n),A=Ny(n);if(await jy(C,A,3),Pt(b.unlockReward),b.level===5){const I=b.world+1;I<=10?h({completedWorld:b.world,unlockedWorld:I,coinsEarned:b.unlockReward,isGameComplete:!1}):h({completedWorld:b.world,unlockedWorld:b.world,coinsEarned:b.unlockReward,isGameComplete:!0})}else{const I=n+1;i(I),c("level"),l(!0)}},[n]);x.useEffect(()=>{console.log("[GameShell] LEVEL_CHANGED",n),j.current=!1;const b=xt(n);b&&b.world!==p.current&&b.level===1&&(k(b.world),v(!0),p.current=b.world),Ye.stopStartMusic(),b&&Ye.playLevelMusic(b.world)},[n]);const m=x.useCallback(()=>{console.log("[GameShell] handleNextLevel",{level:n,nextLevel:s}),s!=null&&(r(s),i(null),l(!1),c(null))},[s,n]),w=x.useCallback(()=>{h(null);const b=n+1,C=xt(b);C&&(k(C.world),v(!0),p.current=C.world),r(b)},[n]),_=x.useCallback(()=>{v(!1)},[]);return console.log("[GameShell] Render",{level:n,nextLevel:s,showBanner:o,bannerType:u}),a.jsxs(a.Fragment,{children:[g?a.jsx(uw,{world:y,onStart:_}):a.jsx("section",{children:a.jsx(lp,{level:n,onComplete:f,onBackToMenu:e})},`level-${n}`),d&&a.jsx(lw,{completedWorld:d.completedWorld,unlockedWorld:d.unlockedWorld,coinsEarned:d.coinsEarned,isGameComplete:d.isGameComplete,onContinue:w}),o&&s!=null&&!d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl pointer-events-auto",children:u==="level"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsxs("h3",{className:"text-3xl font-bold text-green-600 mb-2",children:["Nivel ",n," Completado!"]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Pulsa para continuar."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),a.jsxs("button",{onClick:m,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",s]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent mb-2",children:"Has completado todas las fases!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Quieres volver a empezar?"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Men"}),a.jsxs("button",{onClick:m,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",s]})]})]})})})]})},dw=({roomId:t,onClose:e})=>{const[n,r]=x.useState(!1),s=()=>{const g=`${window.location.origin}${window.location.pathname}`,v=new URL(g);return v.searchParams.set("mode","duel"),v.searchParams.set("room",t),v.toString()},i=g=>` Te reto en Twin Clash!
 Sala: ${t}
 Puedes ganarme?
${g}`,o=s(),l=i(o),u=async()=>{try{await navigator.clipboard.writeText(l),r(!0),setTimeout(()=>r(!1),1200)}catch{prompt("Copia el enlace y comprtelo:",l)!==null&&(r(!0),setTimeout(()=>r(!1),1200))}},c=async()=>{if(navigator.share)try{await navigator.share({title:"Twin Clash",text:l,url:o});return}catch(g){console.log("Share cancelled or failed",g)}u()},d=`https://wa.me/?text=${encodeURIComponent(l)}`,h=`https://t.me/share/url?url=${encodeURIComponent(o)}&text=${encodeURIComponent(" Te reto en Twin Clash!")}`;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",style:{fontFamily:"system-ui"},children:a.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-6 w-full max-w-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h2",{className:"text-2xl font-bold m-0",children:" Duelo creado!"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Cerrar",children:a.jsx(Un,{size:20})})]}),a.jsxs("p",{className:"opacity-90 mb-4 text-sm",children:["Sala: ",a.jsx("span",{className:"font-mono font-bold text-blue-400",children:t})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsxs("button",{onClick:u,className:"flex items-center gap-2 bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-xl transition-colors font-semibold",children:[a.jsx(pf,{size:16}),n?" Copiado":"Copiar enlace"]}),a.jsx("a",{href:d,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-xl transition-colors font-semibold no-underline",children:" WhatsApp"}),a.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-xl transition-colors font-semibold no-underline",children:" Telegram"}),a.jsx("button",{onClick:c,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-xl transition-colors font-semibold",children:" Compartir"})]}),a.jsx("div",{className:"mt-4 opacity-80 text-sm bg-gray-800 rounded-lg p-3",children:" Enva este enlace a tu rival. Al abrirlo, entrar directamente a tu sala."})]})})},hw=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Gc=t=>{const e=(t-1)*6;return hw.slice(e,e+6)};class fw{constructor(e){this.channel=null,this.roomId=e}join(e){this.onEventCallback=e,this.channel=_e.channel(`room:${this.roomId}`,{config:{broadcast:{self:!0}}}),this.channel.on("broadcast",{event:"duel-event"},n=>{this.onEventCallback&&n.payload&&this.onEventCallback(n.payload)}).subscribe(n=>{console.log("[DuelRoom] Subscribe status:",n)})}emit(e){if(!this.channel){console.error("[DuelRoom] Channel not initialized");return}this.channel.send({type:"broadcast",event:"duel-event",payload:e})}leave(){this.channel&&(_e.removeChannel(this.channel),this.channel=null)}}const Xo=[6,16,31,36],Jc=3,pw=({onBackToMenu:t})=>{const[e]=x.useState(()=>{const M=new URLSearchParams(window.location.search).get("room");if(M)return M;const O=Math.random().toString(36).substring(2,8),re=new URL(window.location.href);return re.searchParams.set("mode","duel"),re.searchParams.set("room",O),window.history.replaceState({},"",re.toString()),O}),[n,r]=x.useState("lobby"),[s,i]=x.useState(0),[o,l]=x.useState(Xo[0]),[u,c]=x.useState(""),[d,h]=x.useState([]),[g,v]=x.useState([]),[y,k]=x.useState(new Set),[j,p]=x.useState(new Set),[f,m]=x.useState(0),[w,_]=x.useState(0),[S,b]=x.useState(0),[C,A]=x.useState(3),[I,ye]=x.useState(Jc),[Ke,Rt]=x.useState(!1),[Ie,jt]=x.useState(null),[ht,Qt]=x.useState(!1),[N,L]=x.useState(!1),P=at(),W=x.useRef(null),G=x.useRef(!1),he=x.useRef(null),ae=x.useRef(null),Re=x.useRef(null),ft=x.useRef(new Set([P])),De=x.useRef(!1),Ts=x.useCallback((R,M)=>{const O=xt(M),re=(O==null?void 0:O.pairs)||6,Je=Gc(M).slice(0,re).flatMap((V,J)=>[{id:J*2,imageIndex:J,isFlipped:!1,isMatched:!1},{id:J*2+1,imageIndex:J,isFlipped:!1,isMatched:!1}]),Ue=ip(R),Se=[...Je];for(let V=Se.length-1;V>0;V--){const J=Math.floor(Ue()*(V+1));[Se[V],Se[J]]=[Se[J],Se[V]]}return Se},[]),Ot=x.useCallback(()=>{he.current&&(clearInterval(he.current),he.current=null),ae.current&&(clearInterval(ae.current),ae.current=null),Re.current&&(clearInterval(Re.current),Re.current=null)},[]);x.useEffect(()=>{const R=new URLSearchParams(window.location.search);R.get("room")||(R.set("room",e),window.history.replaceState({},"",`?${R.toString()}`));const M=new fw(e);return W.current=M,M.join(O=>{if(console.log("[DuelScene] Event:",O),O.type==="join"&&O.clientId!==P&&(ft.current.add(O.clientId),Rt(!0)),O.type==="start"){De.current=!1,Ot(),c(O.seed),l(O.levelId),r("countdown"),v([]);const re=Ts(O.seed,O.levelId);h(re),m(0),_(0),k(new Set),p(new Set);const fe=xt(O.levelId);b((fe==null?void 0:fe.timeLimit)||60)}if(O.type==="pair"){const{clientId:re,pairIndexA:fe,pairIndexB:Je}=O,Ue=d.find(V=>V.id===fe),Se=d.find(V=>V.id===Je);Ue&&Se&&Ue.imageIndex===Se.imageIndex&&(re===P?(k(V=>new Set(V).add(Ue.imageIndex)),m(V=>V+1),Pt(5)):(p(V=>new Set(V).add(Ue.imageIndex)),_(V=>V+1)))}if(O.type==="end"){if(De.current)return;De.current=!0,Ot(),r("ended"),Qt(!0),O.winnerClientId===P?(jt("me"),Pt(20),br()):O.scoreA===O.scoreB?jt("tie"):jt("opponent")}O.type==="exit"&&(Ot(),alert(" El oponente abandon la partida"),t())}),M.emit({type:"join",clientId:P}),()=>{M.leave(),he.current&&clearInterval(he.current),ae.current&&clearInterval(ae.current)}},[e,P,Ts,Ot,t]),x.useEffect(()=>(n==="countdown"&&(A(3),ae.current=window.setInterval(()=>{A(R=>R<=1?(ae.current&&clearInterval(ae.current),r("preview"),0):R-1)},1e3)),n==="preview"&&(ye(Jc),h(R=>R.map(M=>({...M,isFlipped:!0}))),Re.current=window.setInterval(()=>{ye(R=>R<=1?(Re.current&&clearInterval(Re.current),h(M=>M.map(O=>({...O,isFlipped:!1}))),r("playing"),0):R-1)},1e3)),()=>{ae.current&&clearInterval(ae.current),Re.current&&clearInterval(Re.current)}),[n]),x.useEffect(()=>(n==="playing"&&(he.current=window.setInterval(()=>{b(R=>{if(R<=1){he.current&&clearInterval(he.current);const M=f>w?P:f<w?"opponent":"tie";return Ls(M,f,w),0}return R-1})},1e3)),()=>{he.current&&clearInterval(he.current)}),[n,f,w,P]);const Ps=()=>{var O;if(!Ke){alert("Esperando a que se una un oponente...");return}const R=`duel-${Date.now()}`,M=Xo[s%Xo.length];(O=W.current)==null||O.emit({type:"start",seed:R,duration:60,levelId:M})},Ls=(R,M,O)=>{var re;De.current||(De.current=!0,Ot(),r("ended"),Qt(!0),(re=W.current)==null||re.emit({type:"end",winnerClientId:R,scoreA:M,scoreB:O}),R===P?(jt("me"),Pt(20),br()):jt(M===O?"tie":"opponent"))},Is=x.useCallback(R=>{var re;if(n!=="playing"||n==="preview"||De.current||G.current||g.length>=2)return;const M=d.find(fe=>fe.id===R);if(!M||y.has(M.imageIndex)||j.has(M.imageIndex)||g.includes(R))return;const O=[...g,R];if(v(O),h(fe=>fe.map(Je=>Je.id===R?{...Je,isFlipped:!0}:Je)),O.length===2){G.current=!0;const[fe,Je]=O,Ue=d.find(V=>V.id===fe),Se=d.find(V=>V.id===Je);if(Ue&&Se&&Ue.imageIndex===Se.imageIndex&&!y.has(Ue.imageIndex)&&!j.has(Ue.imageIndex)){(re=W.current)==null||re.emit({type:"pair",clientId:P,pairIndexA:fe,pairIndexB:Je}),k(mo=>new Set(mo).add(Ue.imageIndex));const V=f+1;m(V),Pt(5);const J=xt(o),po=(J==null?void 0:J.pairs)||6;V+w>=po&&Ls(V>w?P:V<w?"opponent":"tie",V,w),v([]),G.current=!1}else setTimeout(()=>{h(V=>V.map(J=>J.id===fe||J.id===Je?{...J,isFlipped:!1}:J)),v([]),G.current=!1},600)}},[d,g,n,y,j,P,f,w,o]),co=()=>{L(!0)},ho=()=>{var R;if(n==="playing"||n==="preview"||n==="countdown"){if(!confirm("Seguro que quieres salir de la partida?"))return;Ot(),(R=W.current)==null||R.emit({type:"exit",clientId:P})}t()},fo=Gc(o),$t=xt(o),Ge=($t==null?void 0:$t.theme)||"sports";return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-400 via-pink-500 to-purple-600 flex flex-col p-4",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Duelo 1v1"}),a.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:["Tema: ",Ge]})]}),a.jsxs("button",{onClick:ho,className:"flex items-center gap-2 bg-red-500 text-white px-3 py-2 rounded-lg text-sm font-semibold hover:bg-red-600 transition-colors",children:[a.jsx(ro,{size:16}),n==="playing"||n==="preview"||n==="countdown"?"Salir":"Volver"]})]}),n==="lobby"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(ql,{size:16,className:Ke?"text-green-500":"text-gray-400"}),a.jsx("span",{className:Ke?"text-green-600 font-semibold":"text-gray-600",children:Ke?"Oponente conectado!":"Esperando oponente..."})]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Sala: ",e]}),a.jsx("button",{onClick:co,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all mb-2",children:" Invitar Rival"}),a.jsx("button",{onClick:Ps,disabled:!Ke,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:"Iniciar Duelo"})]}),(n==="playing"||n==="countdown"||n==="preview")&&a.jsxs("div",{className:"flex items-center justify-around text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f}),a.jsx("div",{className:"text-xs text-gray-600",children:"T"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ff,{size:20,className:n==="preview"?"text-blue-500":"text-red-500"}),a.jsx("div",{className:`text-2xl font-bold ${n==="preview"?"text-blue-600":S<=10?"text-red-600 animate-pulse":"text-gray-800"}`,children:n==="preview"?`${I}s`:`${S}s`})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:w}),a.jsx("div",{className:"text-xs text-gray-600",children:"Rival"})]})]}),n==="preview"&&a.jsx("div",{className:"mt-2 text-center",children:a.jsx("div",{className:"text-sm font-semibold text-blue-600",children:" Memoriza las cartas"})})]}),n==="lobby"&&a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx(ql,{size:64,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg",children:"Comparte el enlace de la sala con tu oponente"})]})}),n==="countdown"&&a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"text-9xl font-bold text-white animate-pulse",children:C})}),(n==="preview"||n==="playing")&&a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"w-full max-w-lg",children:a.jsx("div",{className:"grid grid-cols-4 gap-3",children:d.map(R=>{const M=y.has(R.imageIndex),O=j.has(R.imageIndex),re={...R,isMatched:M||O};return a.jsx(rp,{card:re,image:fo[R.imageIndex],onClick:Is,disabled:n==="preview"||G.current},R.id)})})})}),ht&&n==="ended"&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:Ie==="me"?"":Ie==="tie"?"":""}),a.jsx("h3",{className:`text-3xl font-bold mb-2 ${Ie==="me"?"text-green-600":Ie==="tie"?"text-yellow-600":"text-gray-600"}`,children:Ie==="me"?"Has Ganado!":Ie==="tie"?"Empate!":"Has Perdido"}),Ie==="me"&&a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Increble! +20 monedas"}),Ie==="opponent"&&a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Sigue intentndolo!"}),a.jsx("div",{className:"bg-gray-100 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex justify-around",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f}),a.jsx("div",{className:"text-xs text-gray-600",children:"T"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"VS"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:w}),a.jsx("div",{className:"text-xs text-gray-600",children:"Rival"})]})]})}),a.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all",children:"Volver al Men"})]})}),N&&a.jsx(dw,{roomId:e,onClose:()=>L(!1)})]})},mw=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];function Qc(t){return[...mw].sort(()=>Math.random()-.5).slice(0,t)}const gw=({onBackToMenu:t})=>{const[e,n]=x.useState(()=>Qc(5)),[r,s]=x.useState(0),[i,o]=x.useState(new Set),[l,u]=x.useState(!1),[c,d]=x.useState({}),[h,g]=x.useState(!0);x.useEffect(()=>{v()},[e]);const v=async()=>{try{const f=at(),{data:m,error:w}=await _e.from("scores").select("level_id, score").eq("client_id",f).in("level_id",e);if(!w&&m){const _=new Set,S={};m.forEach(b=>{b.level_id&&(_.add(b.level_id),S[b.level_id]=b.score||0)}),o(_),d(S)}}catch(f){console.error("Error loading challenge progress:",f)}finally{g(!1)}},y=f=>{s(f),u(!0)},k=async()=>{await v(),u(!1)},j=()=>{u(!1)},p=()=>{const f=Qc(5);n(f),o(new Set),d({}),g(!0)};return h?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 flex items-center justify-center",children:a.jsx("div",{className:"text-white text-2xl font-bold",children:"Cargando desafos..."})}):l?a.jsx(lp,{level:e[r],isDailyChallenge:!0,onComplete:k,onBackToMenu:j},`challenge-${e[r]}-${Date.now()}`):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 p-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Desafos Diarios"}),a.jsx("p",{className:"text-sm text-gray-600",children:"5 desafos aleatorios"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors",children:[a.jsx(yf,{size:18}),"Nuevos"]}),a.jsxs("button",{onClick:t,className:"flex items-center gap-2 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:[a.jsx(ro,{size:18}),"Volver"]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-4 mb-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Wt,{className:"text-yellow-600",size:32}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[i.size," / ",e.length]}),a.jsx("div",{className:"text-xs text-gray-600",children:"Desafos completados"})]})]})})]}),a.jsx("div",{className:"space-y-4",children:e.map((f,m)=>{const w=i.has(f),_=c[f]||0,S=m>0&&!i.has(e[m-1]);return a.jsx("div",{className:`bg-white rounded-2xl shadow-lg p-6 transition-all ${S?"opacity-50 cursor-not-allowed":"hover:shadow-xl cursor-pointer"}`,onClick:()=>!S&&y(m),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold ${w?"bg-gradient-to-br from-green-400 to-green-600 text-white":S?"bg-gray-300 text-gray-500":"bg-gradient-to-br from-yellow-400 to-orange-500 text-white"}`,children:S?"":w?"":m+1}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["Desafo ",m+1," - Nivel ",f]}),a.jsx("p",{className:"text-sm text-gray-600",children:S?"Completa el desafo anterior":w?`Puntuacin: ${_}`:"Sin completar"})]})]}),w&&a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(fi,{className:"text-yellow-500 fill-yellow-500",size:16}),a.jsx(fi,{className:"text-yellow-500 fill-yellow-500",size:16}),a.jsx(fi,{className:"text-yellow-500 fill-yellow-500",size:16})]}),a.jsx("button",{onClick:b=>{b.stopPropagation(),y(m)},className:"text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded-lg hover:bg-gray-300 transition-colors",children:"Volver a jugar"})]}),!S&&!w&&a.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 text-white px-6 py-2 rounded-lg font-bold hover:shadow-lg transition-all",children:"Jugar"})]})},`${f}-${m}`)})})]})})},vw=[nu,eu,tu,ru,su,xf,vf,gf,bt,mf],Yc=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],yw=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}];function ww({currentWorld:t,currentLevel:e,worldsCompleted:n,onSelectWorld:r,onBackToMenu:s}){const[i,o]=x.useState({1:!0}),[l,u]=x.useState({}),[c,d]=x.useState(0),[h,g]=x.useState(null),[v,y]=x.useState(!1);x.useEffect(()=>{(async()=>{for(let f=1;f<=10;f++)Zf(`world-${f}`,5),f>1&&Sy(`world-${f}`).then(m=>{o(w=>({...w,[f]:m}))}),ep(`world-${f}`).then(m=>{u(w=>({...w,[f]:m}))});d(Pe())})()},[]);const k=async p=>{if(p===1||i[p]){r(p);return}g(p)},j=async()=>{if(!h)return;y(!0);const p=`world-${h}`,f=Ui[p],m=await tp(p,f);m.ok?(o({...i,[h]:!0}),d(Pe()),g(null),r(h)):alert(m.reason),y(!1)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 via-blue-500 to-indigo-700 p-6",children:[a.jsx("button",{onClick:s,className:"mb-6 text-white flex items-center gap-2 font-semibold text-lg hover:scale-105 transition-transform",children:" Volver"}),a.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-3",children:"Elige tu Mundo"}),a.jsx("p",{className:"text-white/80 text-center mb-10 text-lg",children:"10 Mundos  50 Niveles  Aventura pica"}),a.jsx("div",{className:"grid grid-cols-1 gap-6 max-w-md mx-auto",children:[1,2,3,4,5,6,7,8,9,10].map(p=>{const f=i[p]??!1,m=vw[p-1],w=yw[p-1],_=t===p,S=l[p]??!1;return a.jsxs("button",{onClick:()=>k(p),className:`relative p-6 rounded-3xl shadow-2xl transition-all transform ${f?`bg-gradient-to-br ${w.from} ${w.to} hover:scale-105 active:scale-95`:"bg-gray-700 opacity-60"}`,children:[a.jsxs("div",{className:"flex items-center justify-between text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(m,{size:32})}),a.jsxs("div",{className:"text-left",children:[a.jsxs("h3",{className:"text-2xl font-bold",children:["Mundo ",p]}),a.jsx("p",{className:"text-sm opacity-90",children:Yc[p-1]})]})]}),a.jsx("div",{className:"flex flex-col items-center gap-1",children:S?a.jsxs(a.Fragment,{children:[a.jsx(Wt,{className:"text-yellow-300",size:28}),a.jsx("span",{className:"text-xs bg-yellow-300/20 px-2 py-0.5 rounded-full",children:"Completado"})]}):f?null:a.jsx(so,{size:28})})]}),_&&!S&&a.jsxs("div",{className:"mt-3 text-sm bg-white/20 rounded-lg px-3 py-1.5 inline-block backdrop-blur-sm",children:[" Nivel actual: ",e," / 5"]})]},p)})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Mundo ",h]}),a.jsx("p",{className:"text-gray-600 mb-4",children:Yc[h-1]}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Al desbloquear este mundo, podrs jugar el nivel 1. Los dems niveles se desbloquean jugando."}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(lt,{size:24,className:"text-white"}),a.jsx("span",{className:"text-2xl font-bold text-white",children:Ui[`world-${h}`]})]}),a.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",c," monedas"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>g(null),disabled:v,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),a.jsx("button",{type:"button",onClick:j,disabled:v,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:v?"Desbloqueando...":"Desbloquear"})]})]})})]})}function xw({world:t,currentLevel:e,onSelectLevel:n,onBack:r}){var j;const s=sw(t),i=iw((j=s[0])==null?void 0:j.theme),[o,l]=x.useState({}),[u,c]=x.useState(null),[d,h]=x.useState(0),[g,v]=x.useState(!1);x.useEffect(()=>{(async()=>{const f=`world-${t}`;await Zf(f,5);const m=await Ey(f),w={};m.levels.forEach((_,S)=>{w[S+1]=_.unlocked}),w[1]=!0,l(w),h(Pe())})()},[t]);const y=async p=>{const f=Yo(t,p);if(p===1||o[p]){n(f);return}if(p===5&&!o[4]){alert("Para jugar el nivel 5, primero debes completar el nivel 4 o comprarlo");return}c(p)},k=async()=>{if(!u)return;v(!0);const p=`world-${t}`,f=await by(p,u,Bc);if(f.ok){l({...o,[u]:!0}),h(Pe());const m=Yo(t,u);c(null),n(m)}else alert(f.reason);v(!1)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-6",children:[a.jsx("button",{onClick:r,className:"text-white mb-6 font-semibold text-lg flex items-center gap-2 hover:scale-105 transition-transform",children:" Mundos"}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Mundo ",t]}),a.jsx("p",{className:"text-white/90 text-xl",children:i})]}),a.jsx("div",{className:"grid grid-cols-5 gap-4 max-w-lg mx-auto mb-8",children:s.map(p=>{const f=o[p.level]??!1,w=Yo(t,p.level)===e;return a.jsx("button",{onClick:()=>y(p.level),className:`relative w-16 h-16 rounded-2xl font-bold text-xl transition-all shadow-lg ${f?w?"bg-yellow-400 scale-110 shadow-xl text-yellow-900":"bg-white hover:scale-105 text-purple-700":"bg-gray-700 opacity-50 text-gray-400"}`,children:f?a.jsxs(a.Fragment,{children:[a.jsx("span",{children:p.level}),w&&a.jsx(fi,{className:"absolute -top-2 -right-2 text-yellow-600 fill-yellow-400",size:20}),p.level===5&&a.jsx(Wt,{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 text-orange-500",size:16})]}):a.jsx(so,{className:"absolute inset-0 m-auto text-gray-500",size:20})},p.level)})}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-3xl p-6 max-w-lg mx-auto text-white",children:[a.jsx("h3",{className:"font-bold text-xl mb-3",children:" Informacin del Mundo"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[" Tiempo: ",s[0].timeLimit,"s - ",s[4].timeLimit,"s"]}),a.jsxs("p",{children:[" Parejas: ",s[0].pairs," - ",s[4].pairs]}),a.jsxs("p",{children:[" Recompensa total: ",s.reduce((p,f)=>p+f.unlockReward,0)," monedas"]}),a.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completa niveles para desbloquear el siguiente"}),a.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completar nivel 5 desbloquea el siguiente mundo"})]})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Nivel ",u]}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Saltars el requisito de completar el nivel anterior. Solo este nivel ser desbloqueado."}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(lt,{size:24,className:"text-white"}),a.jsx("span",{className:"text-2xl font-bold text-white",children:Bc})]}),a.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",d," monedas"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>c(null),disabled:g,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),a.jsx("button",{type:"button",onClick:k,disabled:g,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:g?"Desbloqueando...":"Desbloquear"})]})]})})]})}function kw(){const[t,e]=x.useState(()=>new URLSearchParams(window.location.search).get("mode")==="duel"?"duel":"menu"),[n,r]=x.useState(1),[s,i]=x.useState(1),o=()=>{e("challenge")},l=()=>{e("duel")},u=()=>{e("menu")};return a.jsxs(a.Fragment,{children:[t==="menu"&&a.jsx(Fy,{onStartGame:()=>e("worldmap"),onStartDailyChallenge:o,onStartDuel:l}),t==="worldmap"&&a.jsx(ww,{currentWorld:1,currentLevel:1,worldsCompleted:0,onSelectWorld:c=>{i(c),e("levelselect")},onBackToMenu:()=>{e("menu")}}),t==="levelselect"&&a.jsx(xw,{world:s,currentLevel:1,onSelectLevel:c=>{r(c),e("game")},onBack:()=>e("worldmap")}),t==="game"&&a.jsx(cw,{initialLevel:n,onBackToMenu:u},n),t==="challenge"&&a.jsx(gw,{onBackToMenu:u}),t==="duel"&&a.jsx(pw,{onBackToMenu:u})]})}df(document.getElementById("root")).render(a.jsx(x.StrictMode,{children:a.jsx(kw,{})}));
