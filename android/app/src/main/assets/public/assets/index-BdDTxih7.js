var Lk=Object.defineProperty;var Ok=(t,e,r)=>e in t?Lk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var bt=(t,e,r)=>Ok(t,typeof e!="symbol"?e+"":e,r);function Mk(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function va(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r}var Ky={exports:{}},qc={},Jy={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=Symbol.for("react.element"),Ak=Symbol.for("react.portal"),Dk=Symbol.for("react.fragment"),zk=Symbol.for("react.strict_mode"),$k=Symbol.for("react.profiler"),Fk=Symbol.for("react.provider"),Uk=Symbol.for("react.context"),Bk=Symbol.for("react.forward_ref"),Vk=Symbol.for("react.suspense"),Wk=Symbol.for("react.memo"),qk=Symbol.for("react.lazy"),Mp=Symbol.iterator;function Hk(t){return t===null||typeof t!="object"?null:(t=Mp&&t[Mp]||t["@@iterator"],typeof t=="function"?t:null)}var Yy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qy=Object.assign,Xy={};function qi(t,e,r){this.props=t,this.context=e,this.refs=Xy,this.updater=r||Yy}qi.prototype.isReactComponent={};qi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zy(){}Zy.prototype=qi.prototype;function Tf(t,e,r){this.props=t,this.context=e,this.refs=Xy,this.updater=r||Yy}var Pf=Tf.prototype=new Zy;Pf.constructor=Tf;Qy(Pf,qi.prototype);Pf.isPureReactComponent=!0;var Ap=Array.isArray,ev=Object.prototype.hasOwnProperty,Rf={current:null},tv={key:!0,ref:!0,__self:!0,__source:!0};function rv(t,e,r){var s,n={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ev.call(e,s)&&!tv.hasOwnProperty(s)&&(n[s]=e[s]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)n[s]===void 0&&(n[s]=l[s]);return{$$typeof:wa,type:t,key:i,ref:o,props:n,_owner:Rf.current}}function Gk(t,e){return{$$typeof:wa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function If(t){return typeof t=="object"&&t!==null&&t.$$typeof===wa}function Kk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Dp=/\/+/g;function Mu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kk(""+t.key):e.toString(36)}function El(t,e,r,s,n){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wa:case Ak:o=!0}}if(o)return o=t,n=n(o),t=s===""?"."+Mu(o,0):s,Ap(n)?(r="",t!=null&&(r=t.replace(Dp,"$&/")+"/"),El(n,e,r,"",function(u){return u})):n!=null&&(If(n)&&(n=Gk(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(Dp,"$&/")+"/")+t)),e.push(n)),1;if(o=0,s=s===""?".":s+":",Ap(t))for(var l=0;l<t.length;l++){i=t[l];var c=s+Mu(i,l);o+=El(i,e,r,c,n)}else if(c=Hk(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=s+Mu(i,l++),o+=El(i,e,r,c,n);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wa(t,e,r){if(t==null)return t;var s=[],n=0;return El(t,s,"","",function(i){return e.call(r,i,n++)}),s}function Jk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},Nl={transition:null},Yk={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Nl,ReactCurrentOwner:Rf};function sv(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Wa,forEach:function(t,e,r){Wa(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Wa(t,function(){e++}),e},toArray:function(t){return Wa(t,function(e){return e})||[]},only:function(t){if(!If(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=qi;se.Fragment=Dk;se.Profiler=$k;se.PureComponent=Tf;se.StrictMode=zk;se.Suspense=Vk;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yk;se.act=sv;se.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Qy({},t.props),n=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Rf.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)ev.call(e,c)&&!tv.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:wa,type:t.type,key:n,ref:i,props:s,_owner:o}};se.createContext=function(t){return t={$$typeof:Uk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fk,_context:t},t.Consumer=t};se.createElement=rv;se.createFactory=function(t){var e=rv.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:Bk,render:t}};se.isValidElement=If;se.lazy=function(t){return{$$typeof:qk,_payload:{_status:-1,_result:t},_init:Jk}};se.memo=function(t,e){return{$$typeof:Wk,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Nl.transition;Nl.transition={};try{t()}finally{Nl.transition=e}};se.unstable_act=sv;se.useCallback=function(t,e){return vt.current.useCallback(t,e)};se.useContext=function(t){return vt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};se.useEffect=function(t,e){return vt.current.useEffect(t,e)};se.useId=function(){return vt.current.useId()};se.useImperativeHandle=function(t,e,r){return vt.current.useImperativeHandle(t,e,r)};se.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return vt.current.useMemo(t,e)};se.useReducer=function(t,e,r){return vt.current.useReducer(t,e,r)};se.useRef=function(t){return vt.current.useRef(t)};se.useState=function(t){return vt.current.useState(t)};se.useSyncExternalStore=function(t,e,r){return vt.current.useSyncExternalStore(t,e,r)};se.useTransition=function(){return vt.current.useTransition()};se.version="18.3.1";Jy.exports=se;var x=Jy.exports;const zp=Gy(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qk=x,Xk=Symbol.for("react.element"),Zk=Symbol.for("react.fragment"),e_=Object.prototype.hasOwnProperty,t_=Qk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r_={key:!0,ref:!0,__self:!0,__source:!0};function nv(t,e,r){var s,n={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)e_.call(e,s)&&!r_.hasOwnProperty(s)&&(n[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)n[s]===void 0&&(n[s]=e[s]);return{$$typeof:Xk,type:t,key:i,ref:o,props:n,_owner:t_.current}}qc.Fragment=Zk;qc.jsx=nv;qc.jsxs=nv;Ky.exports=qc;var a=Ky.exports,iv={exports:{}},At={},ov={exports:{}},av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,D){var U=R.length;R.push(D);e:for(;0<U;){var de=U-1>>>1,O=R[de];if(0<n(O,D))R[de]=D,R[U]=O,U=de;else break e}}function r(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var D=R[0],U=R.pop();if(U!==D){R[0]=U;e:for(var de=0,O=R.length,Te=O>>>1;de<Te;){var ht=2*(de+1)-1,$t=R[ht],Ft=ht+1,Tt=R[Ft];if(0>n($t,U))Ft<O&&0>n(Tt,$t)?(R[de]=Tt,R[Ft]=U,de=Ft):(R[de]=$t,R[ht]=U,de=ht);else if(Ft<O&&0>n(Tt,U))R[de]=Tt,R[Ft]=U,de=Ft;else break e}}return D}function n(R,D){var U=R.sortIndex-D.sortIndex;return U!==0?U:R.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var D=r(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=R)s(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=r(u)}}function k(R){if(v=!1,w(R),!p)if(r(c)!==null)p=!0,Y(j);else{var D=r(u);D!==null&&ve(k,D.startTime-R)}}function j(R,D){p=!1,v&&(v=!1,y(N),N=-1),m=!0;var U=f;try{for(w(D),h=r(c);h!==null&&(!(h.expirationTime>D)||R&&!V());){var de=h.callback;if(typeof de=="function"){h.callback=null,f=h.priorityLevel;var O=de(h.expirationTime<=D);D=t.unstable_now(),typeof O=="function"?h.callback=O:h===r(c)&&s(c),w(D)}else s(c);h=r(c)}if(h!==null)var Te=!0;else{var ht=r(u);ht!==null&&ve(k,ht.startTime-D),Te=!1}return Te}finally{h=null,f=U,m=!1}}var _=!1,E=null,N=-1,F=5,I=-1;function V(){return!(t.unstable_now()-I<F)}function z(){if(E!==null){var R=t.unstable_now();I=R;var D=!0;try{D=E(!0,R)}finally{D?Fe():(_=!1,E=null)}}else _=!1}var Fe;if(typeof g=="function")Fe=function(){g(z)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,zt=je.port2;je.port1.onmessage=z,Fe=function(){zt.postMessage(null)}}else Fe=function(){b(z,0)};function Y(R){E=R,_||(_=!0,Fe())}function ve(R,D){N=b(function(){R(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,Y(j))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var U=f;f=D;try{return R()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,D){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=f;f=R;try{return D()}finally{f=U}},t.unstable_scheduleCallback=function(R,D,U){var de=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?de+U:de):U=de,R){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=U+O,R={id:d++,callback:D,priorityLevel:R,startTime:U,expirationTime:O,sortIndex:-1},U>de?(R.sortIndex=U,e(u,R),r(c)===null&&R===r(u)&&(v?(y(N),N=-1):v=!0,ve(k,U-de))):(R.sortIndex=O,e(c,R),p||m||(p=!0,Y(j))),R},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(R){var D=f;return function(){var U=f;f=D;try{return R.apply(this,arguments)}finally{f=U}}}})(av);ov.exports=av;var s_=ov.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_=x,Mt=s_;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lv=new Set,Vo={};function Fn(t,e){Ri(t,e),Ri(t+"Capture",e)}function Ri(t,e){for(Vo[t]=e,t=0;t<e.length;t++)lv.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kd=Object.prototype.hasOwnProperty,i_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$p={},Fp={};function o_(t){return Kd.call(Fp,t)?!0:Kd.call($p,t)?!1:i_.test(t)?Fp[t]=!0:($p[t]=!0,!1)}function a_(t,e,r,s){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l_(t,e,r,s){if(e===null||typeof e>"u"||a_(t,e,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,r,s,n,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lf=/[\-:]([a-z])/g;function Of(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lf,Of);st[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lf,Of);st[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lf,Of);st[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mf(t,e,r,s){var n=st.hasOwnProperty(e)?st[e]:null;(n!==null?n.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l_(e,r,n,s)&&(r=null),s||n===null?o_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(e=n.attributeName,s=n.attributeNamespace,r===null?t.removeAttribute(e):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?t.setAttributeNS(s,e,r):t.setAttribute(e,r))))}var is=n_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qa=Symbol.for("react.element"),si=Symbol.for("react.portal"),ni=Symbol.for("react.fragment"),Af=Symbol.for("react.strict_mode"),Jd=Symbol.for("react.profiler"),cv=Symbol.for("react.provider"),uv=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),Qd=Symbol.for("react.suspense_list"),zf=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),dv=Symbol.for("react.offscreen"),Up=Symbol.iterator;function lo(t){return t===null||typeof t!="object"?null:(t=Up&&t[Up]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Au;function vo(t){if(Au===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Au=e&&e[1]||""}return`
`+Au+t}var Du=!1;function zu(t,e){if(!t||Du)return"";Du=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),i=s.stack.split(`
`),o=n.length-1,l=i.length-1;1<=o&&0<=l&&n[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==i[l]){var c=`
`+n[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Du=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?vo(t):""}function c_(t){switch(t.tag){case 5:return vo(t.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return t=zu(t.type,!1),t;case 11:return t=zu(t.type.render,!1),t;case 1:return t=zu(t.type,!0),t;default:return""}}function Xd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ni:return"Fragment";case si:return"Portal";case Jd:return"Profiler";case Af:return"StrictMode";case Yd:return"Suspense";case Qd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uv:return(t.displayName||"Context")+".Consumer";case cv:return(t._context.displayName||"Context")+".Provider";case Df:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zf:return e=t.displayName||null,e!==null?e:Xd(t.type)||"Memo";case hs:e=t._payload,t=t._init;try{return Xd(t(e))}catch{}}return null}function u_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xd(e);case 8:return e===Af?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d_(t){var e=hv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ha(t){t._valueTracker||(t._valueTracker=d_(t))}function fv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),s="";return t&&(s=hv(t)?t.checked?"true":"false":t.value),t=s,t!==r?(e.setValue(t),!0):!1}function Jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zd(t,e){var r=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Bp(t,e){var r=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;r=Os(e.value!=null?e.value:r),t._wrapperState={initialChecked:s,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mv(t,e){e=e.checked,e!=null&&Mf(t,"checked",e,!1)}function eh(t,e){mv(t,e);var r=Os(e.value),s=e.type;if(r!=null)s==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?th(t,e.type,r):e.hasOwnProperty("defaultValue")&&th(t,e.type,Os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vp(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function th(t,e,r){(e!=="number"||Jl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var wo=Array.isArray;function wi(t,e,r,s){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&s&&(t[r].defaultSelected=!0)}else{for(r=""+Os(r),e=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,s&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function rh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wp(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(C(92));if(wo(r)){if(1<r.length)throw Error(C(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Os(r)}}function pv(t,e){var r=Os(e.value),s=Os(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),s!=null&&(t.defaultValue=""+s)}function qp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ga,yv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,s,n){MSApp.execUnsafeLocalFunction(function(){return t(e,r,s,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ga=Ga||document.createElement("div"),Ga.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ga.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var No={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h_=["Webkit","ms","Moz","O"];Object.keys(No).forEach(function(t){h_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),No[e]=No[t]})});function vv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||No.hasOwnProperty(t)&&No[t]?(""+e).trim():e+"px"}function wv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=vv(r,e[r],s);r==="float"&&(r="cssFloat"),s?t.setProperty(r,n):t[r]=n}}var f_=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nh(t,e){if(e){if(f_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function ih(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=null;function $f(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ah=null,bi=null,xi=null;function Hp(t){if(t=ka(t)){if(typeof ah!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Yc(e),ah(t.stateNode,t.type,e))}}function bv(t){bi?xi?xi.push(t):xi=[t]:bi=t}function xv(){if(bi){var t=bi,e=xi;if(xi=bi=null,Hp(t),e)for(t=0;t<e.length;t++)Hp(e[t])}}function kv(t,e){return t(e)}function _v(){}var $u=!1;function jv(t,e,r){if($u)return t(e,r);$u=!0;try{return kv(t,e,r)}finally{$u=!1,(bi!==null||xi!==null)&&(_v(),xv())}}function qo(t,e){var r=t.stateNode;if(r===null)return null;var s=Yc(r);if(s===null)return null;r=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(C(231,e,typeof r));return r}var lh=!1;if(Yr)try{var co={};Object.defineProperty(co,"passive",{get:function(){lh=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{lh=!1}function m_(t,e,r,s,n,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Co=!1,Yl=null,Ql=!1,ch=null,p_={onError:function(t){Co=!0,Yl=t}};function g_(t,e,r,s,n,i,o,l,c){Co=!1,Yl=null,m_.apply(p_,arguments)}function y_(t,e,r,s,n,i,o,l,c){if(g_.apply(this,arguments),Co){if(Co){var u=Yl;Co=!1,Yl=null}else throw Error(C(198));Ql||(Ql=!0,ch=u)}}function Un(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Sv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gp(t){if(Un(t)!==t)throw Error(C(188))}function v_(t){var e=t.alternate;if(!e){if(e=Un(t),e===null)throw Error(C(188));return e!==t?null:t}for(var r=t,s=e;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return Gp(n),t;if(i===s)return Gp(n),e;i=i.sibling}throw Error(C(188))}if(r.return!==s.return)r=n,s=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,s=i;break}if(l===s){o=!0,s=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=n;break}if(l===s){o=!0,s=i,r=n;break}l=l.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==s)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?t:e}function Ev(t){return t=v_(t),t!==null?Nv(t):null}function Nv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nv(t);if(e!==null)return e;t=t.sibling}return null}var Cv=Mt.unstable_scheduleCallback,Kp=Mt.unstable_cancelCallback,w_=Mt.unstable_shouldYield,b_=Mt.unstable_requestPaint,ze=Mt.unstable_now,x_=Mt.unstable_getCurrentPriorityLevel,Ff=Mt.unstable_ImmediatePriority,Tv=Mt.unstable_UserBlockingPriority,Xl=Mt.unstable_NormalPriority,k_=Mt.unstable_LowPriority,Pv=Mt.unstable_IdlePriority,Hc=null,Ir=null;function __(t){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Hc,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:E_,j_=Math.log,S_=Math.LN2;function E_(t){return t>>>=0,t===0?32:31-(j_(t)/S_|0)|0}var Ka=64,Ja=4194304;function bo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zl(t,e){var r=t.pendingLanes;if(r===0)return 0;var s=0,n=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?s=bo(l):(i&=o,i!==0&&(s=bo(i)))}else o=r&~n,o!==0?s=bo(o):i!==0&&(s=bo(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&n)&&(n=s&-s,i=e&-e,n>=i||n===16&&(i&4194240)!==0))return e;if(s&4&&(s|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)r=31-hr(e),n=1<<r,s|=t[r],e&=~n;return s}function N_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C_(t,e){for(var r=t.suspendedLanes,s=t.pingedLanes,n=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-hr(i),l=1<<o,c=n[o];c===-1?(!(l&r)||l&s)&&(n[o]=N_(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rv(){var t=Ka;return Ka<<=1,!(Ka&4194240)&&(Ka=64),t}function Fu(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ba(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=r}function T_(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-hr(r),i=1<<n;e[n]=0,s[n]=-1,t[n]=-1,r&=~i}}function Uf(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var s=31-hr(r),n=1<<s;n&e|t[s]&e&&(t[s]|=e),r&=~n}}var he=0;function Iv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lv,Bf,Ov,Mv,Av,dh=!1,Ya=[],ks=null,_s=null,js=null,Ho=new Map,Go=new Map,ms=[],P_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jp(t,e){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":Ho.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(e.pointerId)}}function uo(t,e,r,s,n,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},e!==null&&(e=ka(e),e!==null&&Bf(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function R_(t,e,r,s,n){switch(e){case"focusin":return ks=uo(ks,t,e,r,s,n),!0;case"dragenter":return _s=uo(_s,t,e,r,s,n),!0;case"mouseover":return js=uo(js,t,e,r,s,n),!0;case"pointerover":var i=n.pointerId;return Ho.set(i,uo(Ho.get(i)||null,t,e,r,s,n)),!0;case"gotpointercapture":return i=n.pointerId,Go.set(i,uo(Go.get(i)||null,t,e,r,s,n)),!0}return!1}function Dv(t){var e=yn(t.target);if(e!==null){var r=Un(e);if(r!==null){if(e=r.tag,e===13){if(e=Sv(r),e!==null){t.blockedOn=e,Av(t.priority,function(){Ov(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=hh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var s=new r.constructor(r.type,r);oh=s,r.target.dispatchEvent(s),oh=null}else return e=ka(r),e!==null&&Bf(e),t.blockedOn=r,!1;e.shift()}return!0}function Yp(t,e,r){Cl(t)&&r.delete(e)}function I_(){dh=!1,ks!==null&&Cl(ks)&&(ks=null),_s!==null&&Cl(_s)&&(_s=null),js!==null&&Cl(js)&&(js=null),Ho.forEach(Yp),Go.forEach(Yp)}function ho(t,e){t.blockedOn===e&&(t.blockedOn=null,dh||(dh=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,I_)))}function Ko(t){function e(n){return ho(n,t)}if(0<Ya.length){ho(Ya[0],t);for(var r=1;r<Ya.length;r++){var s=Ya[r];s.blockedOn===t&&(s.blockedOn=null)}}for(ks!==null&&ho(ks,t),_s!==null&&ho(_s,t),js!==null&&ho(js,t),Ho.forEach(e),Go.forEach(e),r=0;r<ms.length;r++)s=ms[r],s.blockedOn===t&&(s.blockedOn=null);for(;0<ms.length&&(r=ms[0],r.blockedOn===null);)Dv(r),r.blockedOn===null&&ms.shift()}var ki=is.ReactCurrentBatchConfig,ec=!0;function L_(t,e,r,s){var n=he,i=ki.transition;ki.transition=null;try{he=1,Vf(t,e,r,s)}finally{he=n,ki.transition=i}}function O_(t,e,r,s){var n=he,i=ki.transition;ki.transition=null;try{he=4,Vf(t,e,r,s)}finally{he=n,ki.transition=i}}function Vf(t,e,r,s){if(ec){var n=hh(t,e,r,s);if(n===null)Yu(t,e,s,tc,r),Jp(t,s);else if(R_(n,t,e,r,s))s.stopPropagation();else if(Jp(t,s),e&4&&-1<P_.indexOf(t)){for(;n!==null;){var i=ka(n);if(i!==null&&Lv(i),i=hh(t,e,r,s),i===null&&Yu(t,e,s,tc,r),i===n)break;n=i}n!==null&&s.stopPropagation()}else Yu(t,e,s,null,r)}}var tc=null;function hh(t,e,r,s){if(tc=null,t=$f(s),t=yn(t),t!==null)if(e=Un(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Sv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tc=t,null}function zv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x_()){case Ff:return 1;case Tv:return 4;case Xl:case k_:return 16;case Pv:return 536870912;default:return 16}default:return 16}}var ws=null,Wf=null,Tl=null;function $v(){if(Tl)return Tl;var t,e=Wf,r=e.length,s,n="value"in ws?ws.value:ws.textContent,i=n.length;for(t=0;t<r&&e[t]===n[t];t++);var o=r-t;for(s=1;s<=o&&e[r-s]===n[i-s];s++);return Tl=n.slice(t,1<s?1-s:void 0)}function Pl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qa(){return!0}function Qp(){return!1}function Dt(t){function e(r,s,n,i,o){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qa:Qp,this.isPropagationStopped=Qp,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),e}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qf=Dt(Hi),xa=Oe({},Hi,{view:0,detail:0}),M_=Dt(xa),Uu,Bu,fo,Gc=Oe({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fo&&(fo&&t.type==="mousemove"?(Uu=t.screenX-fo.screenX,Bu=t.screenY-fo.screenY):Bu=Uu=0,fo=t),Uu)},movementY:function(t){return"movementY"in t?t.movementY:Bu}}),Xp=Dt(Gc),A_=Oe({},Gc,{dataTransfer:0}),D_=Dt(A_),z_=Oe({},xa,{relatedTarget:0}),Vu=Dt(z_),$_=Oe({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),F_=Dt($_),U_=Oe({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B_=Dt(U_),V_=Oe({},Hi,{data:0}),Zp=Dt(V_),W_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=H_[t])?!!e[t]:!1}function Hf(){return G_}var K_=Oe({},xa,{key:function(t){if(t.key){var e=W_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(t){return t.type==="keypress"?Pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J_=Dt(K_),Y_=Oe({},Gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e0=Dt(Y_),Q_=Oe({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),X_=Dt(Q_),Z_=Oe({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ej=Dt(Z_),tj=Oe({},Gc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rj=Dt(tj),sj=[9,13,27,32],Gf=Yr&&"CompositionEvent"in window,To=null;Yr&&"documentMode"in document&&(To=document.documentMode);var nj=Yr&&"TextEvent"in window&&!To,Fv=Yr&&(!Gf||To&&8<To&&11>=To),t0=" ",r0=!1;function Uv(t,e){switch(t){case"keyup":return sj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ii=!1;function ij(t,e){switch(t){case"compositionend":return Bv(e);case"keypress":return e.which!==32?null:(r0=!0,t0);case"textInput":return t=e.data,t===t0&&r0?null:t;default:return null}}function oj(t,e){if(ii)return t==="compositionend"||!Gf&&Uv(t,e)?(t=$v(),Tl=Wf=ws=null,ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fv&&e.locale!=="ko"?null:e.data;default:return null}}var aj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aj[t.type]:e==="textarea"}function Vv(t,e,r,s){bv(s),e=rc(e,"onChange"),0<e.length&&(r=new qf("onChange","change",null,r,s),t.push({event:r,listeners:e}))}var Po=null,Jo=null;function lj(t){ew(t,0)}function Kc(t){var e=li(t);if(fv(e))return t}function cj(t,e){if(t==="change")return e}var Wv=!1;if(Yr){var Wu;if(Yr){var qu="oninput"in document;if(!qu){var n0=document.createElement("div");n0.setAttribute("oninput","return;"),qu=typeof n0.oninput=="function"}Wu=qu}else Wu=!1;Wv=Wu&&(!document.documentMode||9<document.documentMode)}function i0(){Po&&(Po.detachEvent("onpropertychange",qv),Jo=Po=null)}function qv(t){if(t.propertyName==="value"&&Kc(Jo)){var e=[];Vv(e,Jo,t,$f(t)),jv(lj,e)}}function uj(t,e,r){t==="focusin"?(i0(),Po=e,Jo=r,Po.attachEvent("onpropertychange",qv)):t==="focusout"&&i0()}function dj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kc(Jo)}function hj(t,e){if(t==="click")return Kc(e)}function fj(t,e){if(t==="input"||t==="change")return Kc(e)}function mj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:mj;function Yo(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!Kd.call(e,n)||!yr(t[n],e[n]))return!1}return!0}function o0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a0(t,e){var r=o0(t);t=0;for(var s;r;){if(r.nodeType===3){if(s=t+r.textContent.length,t<=e&&s>=e)return{node:r,offset:e-t};t=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=o0(r)}}function Hv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gv(){for(var t=window,e=Jl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Jl(t.document)}return e}function Kf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pj(t){var e=Gv(),r=t.focusedElem,s=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Hv(r.ownerDocument.documentElement,r)){if(s!==null&&Kf(r)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,i=Math.min(s.start,n);s=s.end===void 0?i:Math.min(s.end,n),!t.extend&&i>s&&(n=s,s=i,i=n),n=a0(r,i);var o=a0(r,s);n&&o&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gj=Yr&&"documentMode"in document&&11>=document.documentMode,oi=null,fh=null,Ro=null,mh=!1;function l0(t,e,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mh||oi==null||oi!==Jl(s)||(s=oi,"selectionStart"in s&&Kf(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ro&&Yo(Ro,s)||(Ro=s,s=rc(fh,"onSelect"),0<s.length&&(e=new qf("onSelect","select",null,e,r),t.push({event:e,listeners:s}),e.target=oi)))}function Xa(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ai={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionend:Xa("Transition","TransitionEnd")},Hu={},Kv={};Yr&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Jc(t){if(Hu[t])return Hu[t];if(!ai[t])return t;var e=ai[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Kv)return Hu[t]=e[r];return t}var Jv=Jc("animationend"),Yv=Jc("animationiteration"),Qv=Jc("animationstart"),Xv=Jc("transitionend"),Zv=new Map,c0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(t,e){Zv.set(t,e),Fn(e,[t])}for(var Gu=0;Gu<c0.length;Gu++){var Ku=c0[Gu],yj=Ku.toLowerCase(),vj=Ku[0].toUpperCase()+Ku.slice(1);$s(yj,"on"+vj)}$s(Jv,"onAnimationEnd");$s(Yv,"onAnimationIteration");$s(Qv,"onAnimationStart");$s("dblclick","onDoubleClick");$s("focusin","onFocus");$s("focusout","onBlur");$s(Xv,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wj=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function u0(t,e,r){var s=t.type||"unknown-event";t.currentTarget=r,y_(s,e,void 0,t),t.currentTarget=null}function ew(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var s=t[r],n=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&n.isPropagationStopped())break e;u0(n,l,u),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&n.isPropagationStopped())break e;u0(n,l,u),i=c}}}if(Ql)throw t=ch,Ql=!1,ch=null,t}function be(t,e){var r=e[wh];r===void 0&&(r=e[wh]=new Set);var s=t+"__bubble";r.has(s)||(tw(e,t,2,!1),r.add(s))}function Ju(t,e,r){var s=0;e&&(s|=4),tw(r,t,s,e)}var Za="_reactListening"+Math.random().toString(36).slice(2);function Qo(t){if(!t[Za]){t[Za]=!0,lv.forEach(function(r){r!=="selectionchange"&&(wj.has(r)||Ju(r,!1,t),Ju(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Za]||(e[Za]=!0,Ju("selectionchange",!1,e))}}function tw(t,e,r,s){switch(zv(e)){case 1:var n=L_;break;case 4:n=O_;break;default:n=Vf}r=n.bind(null,e,r,t),n=void 0,!lh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),s?n!==void 0?t.addEventListener(e,r,{capture:!0,passive:n}):t.addEventListener(e,r,!0):n!==void 0?t.addEventListener(e,r,{passive:n}):t.addEventListener(e,r,!1)}function Yu(t,e,r,s,n){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=yn(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}jv(function(){var u=i,d=$f(r),h=[];e:{var f=Zv.get(t);if(f!==void 0){var m=qf,p=t;switch(t){case"keypress":if(Pl(r)===0)break e;case"keydown":case"keyup":m=J_;break;case"focusin":p="focus",m=Vu;break;case"focusout":p="blur",m=Vu;break;case"beforeblur":case"afterblur":m=Vu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=D_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=X_;break;case Jv:case Yv:case Qv:m=F_;break;case Xv:m=ej;break;case"scroll":m=M_;break;case"wheel":m=rj;break;case"copy":case"cut":case"paste":m=B_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=e0}var v=(e&4)!==0,b=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,w;g!==null;){w=g;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,y!==null&&(k=qo(g,y),k!=null&&v.push(Xo(g,k,w)))),b)break;g=g.return}0<v.length&&(f=new m(f,p,null,r,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==oh&&(p=r.relatedTarget||r.fromElement)&&(yn(p)||p[Qr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?yn(p):null,p!==null&&(b=Un(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(v=Xp,k="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=e0,k="onPointerLeave",y="onPointerEnter",g="pointer"),b=m==null?f:li(m),w=p==null?f:li(p),f=new v(k,g+"leave",m,r,d),f.target=b,f.relatedTarget=w,k=null,yn(d)===u&&(v=new v(y,g+"enter",p,r,d),v.target=w,v.relatedTarget=b,k=v),b=k,m&&p)t:{for(v=m,y=p,g=0,w=v;w;w=Hn(w))g++;for(w=0,k=y;k;k=Hn(k))w++;for(;0<g-w;)v=Hn(v),g--;for(;0<w-g;)y=Hn(y),w--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Hn(v),y=Hn(y)}v=null}else v=null;m!==null&&d0(h,f,m,v,!1),p!==null&&b!==null&&d0(h,b,p,v,!0)}}e:{if(f=u?li(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=cj;else if(s0(f))if(Wv)j=fj;else{j=dj;var _=uj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=hj);if(j&&(j=j(t,u))){Vv(h,j,r,d);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&th(f,"number",f.value)}switch(_=u?li(u):window,t){case"focusin":(s0(_)||_.contentEditable==="true")&&(oi=_,fh=u,Ro=null);break;case"focusout":Ro=fh=oi=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,l0(h,r,d);break;case"selectionchange":if(gj)break;case"keydown":case"keyup":l0(h,r,d)}var E;if(Gf)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ii?Uv(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Fv&&r.locale!=="ko"&&(ii||N!=="onCompositionStart"?N==="onCompositionEnd"&&ii&&(E=$v()):(ws=d,Wf="value"in ws?ws.value:ws.textContent,ii=!0)),_=rc(u,N),0<_.length&&(N=new Zp(N,t,null,r,d),h.push({event:N,listeners:_}),E?N.data=E:(E=Bv(r),E!==null&&(N.data=E)))),(E=nj?ij(t,r):oj(t,r))&&(u=rc(u,"onBeforeInput"),0<u.length&&(d=new Zp("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}ew(h,e)})}function Xo(t,e,r){return{instance:t,listener:e,currentTarget:r}}function rc(t,e){for(var r=e+"Capture",s=[];t!==null;){var n=t,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=qo(t,r),i!=null&&s.unshift(Xo(t,i,n)),i=qo(t,e),i!=null&&s.push(Xo(t,i,n))),t=t.return}return s}function Hn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function d0(t,e,r,s,n){for(var i=e._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,n?(c=qo(r,i),c!=null&&o.unshift(Xo(r,c,l))):n||(c=qo(r,i),c!=null&&o.push(Xo(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var bj=/\r\n?/g,xj=/\u0000|\uFFFD/g;function h0(t){return(typeof t=="string"?t:""+t).replace(bj,`
`).replace(xj,"")}function el(t,e,r){if(e=h0(e),h0(t)!==e&&r)throw Error(C(425))}function sc(){}var ph=null,gh=null;function yh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,kj=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,_j=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(t){return f0.resolve(null).then(t).catch(jj)}:vh;function jj(t){setTimeout(function(){throw t})}function Qu(t,e){var r=e,s=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){t.removeChild(n),Ko(e);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);Ko(e)}function Ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function m0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Gi,Zo="__reactProps$"+Gi,Qr="__reactContainer$"+Gi,wh="__reactEvents$"+Gi,Sj="__reactListeners$"+Gi,Ej="__reactHandles$"+Gi;function yn(t){var e=t[Cr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Qr]||r[Cr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=m0(t);t!==null;){if(r=t[Cr])return r;t=m0(t)}return e}t=r,r=t.parentNode}return null}function ka(t){return t=t[Cr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Yc(t){return t[Zo]||null}var bh=[],ci=-1;function Fs(t){return{current:t}}function ke(t){0>ci||(t.current=bh[ci],bh[ci]=null,ci--)}function ye(t,e){ci++,bh[ci]=t.current,t.current=e}var Ms={},dt=Fs(Ms),Et=Fs(!1),En=Ms;function Ii(t,e){var r=t.type.contextTypes;if(!r)return Ms;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function Nt(t){return t=t.childContextTypes,t!=null}function nc(){ke(Et),ke(dt)}function p0(t,e,r){if(dt.current!==Ms)throw Error(C(168));ye(dt,e),ye(Et,r)}function rw(t,e,r){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in e))throw Error(C(108,u_(t)||"Unknown",n));return Oe({},r,s)}function ic(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ms,En=dt.current,ye(dt,t),ye(Et,Et.current),!0}function g0(t,e,r){var s=t.stateNode;if(!s)throw Error(C(169));r?(t=rw(t,e,En),s.__reactInternalMemoizedMergedChildContext=t,ke(Et),ke(dt),ye(dt,t)):ke(Et),ye(Et,r)}var Vr=null,Qc=!1,Xu=!1;function sw(t){Vr===null?Vr=[t]:Vr.push(t)}function Nj(t){Qc=!0,sw(t)}function Us(){if(!Xu&&Vr!==null){Xu=!0;var t=0,e=he;try{var r=Vr;for(he=1;t<r.length;t++){var s=r[t];do s=s(!0);while(s!==null)}Vr=null,Qc=!1}catch(n){throw Vr!==null&&(Vr=Vr.slice(t+1)),Cv(Ff,Us),n}finally{he=e,Xu=!1}}return null}var ui=[],di=0,oc=null,ac=0,Vt=[],Wt=0,Nn=null,Wr=1,qr="";function an(t,e){ui[di++]=ac,ui[di++]=oc,oc=t,ac=e}function nw(t,e,r){Vt[Wt++]=Wr,Vt[Wt++]=qr,Vt[Wt++]=Nn,Nn=t;var s=Wr;t=qr;var n=32-hr(s)-1;s&=~(1<<n),r+=1;var i=32-hr(e)+n;if(30<i){var o=n-n%5;i=(s&(1<<o)-1).toString(32),s>>=o,n-=o,Wr=1<<32-hr(e)+n|r<<n|s,qr=i+t}else Wr=1<<i|r<<n|s,qr=t}function Jf(t){t.return!==null&&(an(t,1),nw(t,1,0))}function Yf(t){for(;t===oc;)oc=ui[--di],ui[di]=null,ac=ui[--di],ui[di]=null;for(;t===Nn;)Nn=Vt[--Wt],Vt[Wt]=null,qr=Vt[--Wt],Vt[Wt]=null,Wr=Vt[--Wt],Vt[Wt]=null}var Ot=null,Lt=null,Ce=!1,cr=null;function iw(t,e){var r=qt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function y0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,Lt=Ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Nn!==null?{id:Wr,overflow:qr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=qt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ot=t,Lt=null,!0):!1;default:return!1}}function xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kh(t){if(Ce){var e=Lt;if(e){var r=e;if(!y0(t,e)){if(xh(t))throw Error(C(418));e=Ss(r.nextSibling);var s=Ot;e&&y0(t,e)?iw(s,r):(t.flags=t.flags&-4097|2,Ce=!1,Ot=t)}}else{if(xh(t))throw Error(C(418));t.flags=t.flags&-4097|2,Ce=!1,Ot=t}}}function v0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function tl(t){if(t!==Ot)return!1;if(!Ce)return v0(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yh(t.type,t.memoizedProps)),e&&(e=Lt)){if(xh(t))throw ow(),Error(C(418));for(;e;)iw(t,e),e=Ss(e.nextSibling)}if(v0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Lt=Ss(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Ot?Ss(t.stateNode.nextSibling):null;return!0}function ow(){for(var t=Lt;t;)t=Ss(t.nextSibling)}function Li(){Lt=Ot=null,Ce=!1}function Qf(t){cr===null?cr=[t]:cr.push(t)}var Cj=is.ReactCurrentBatchConfig;function mo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var s=r.stateNode}if(!s)throw Error(C(147,t));var n=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=n.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,t))}return t}function rl(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function w0(t){var e=t._init;return e(t._payload)}function aw(t){function e(y,g){if(t){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function r(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function s(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function n(y,g){return y=Ts(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,g,w,k){return g===null||g.tag!==6?(g=id(w,y.mode,k),g.return=y,g):(g=n(g,w),g.return=y,g)}function c(y,g,w,k){var j=w.type;return j===ni?d(y,g,w.props.children,k,w.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hs&&w0(j)===g.type)?(k=n(g,w.props),k.ref=mo(y,g,w),k.return=y,k):(k=Dl(w.type,w.key,w.props,null,y.mode,k),k.ref=mo(y,g,w),k.return=y,k)}function u(y,g,w,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=od(w,y.mode,k),g.return=y,g):(g=n(g,w.children||[]),g.return=y,g)}function d(y,g,w,k,j){return g===null||g.tag!==7?(g=jn(w,y.mode,k,j),g.return=y,g):(g=n(g,w),g.return=y,g)}function h(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=id(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qa:return w=Dl(g.type,g.key,g.props,null,y.mode,w),w.ref=mo(y,null,g),w.return=y,w;case si:return g=od(g,y.mode,w),g.return=y,g;case hs:var k=g._init;return h(y,k(g._payload),w)}if(wo(g)||lo(g))return g=jn(g,y.mode,w,null),g.return=y,g;rl(y,g)}return null}function f(y,g,w,k){var j=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qa:return w.key===j?c(y,g,w,k):null;case si:return w.key===j?u(y,g,w,k):null;case hs:return j=w._init,f(y,g,j(w._payload),k)}if(wo(w)||lo(w))return j!==null?null:d(y,g,w,k,null);rl(y,w)}return null}function m(y,g,w,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(w)||null,l(g,y,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case qa:return y=y.get(k.key===null?w:k.key)||null,c(g,y,k,j);case si:return y=y.get(k.key===null?w:k.key)||null,u(g,y,k,j);case hs:var _=k._init;return m(y,g,w,_(k._payload),j)}if(wo(k)||lo(k))return y=y.get(w)||null,d(g,y,k,j,null);rl(g,k)}return null}function p(y,g,w,k){for(var j=null,_=null,E=g,N=g=0,F=null;E!==null&&N<w.length;N++){E.index>N?(F=E,E=null):F=E.sibling;var I=f(y,E,w[N],k);if(I===null){E===null&&(E=F);break}t&&E&&I.alternate===null&&e(y,E),g=i(I,g,N),_===null?j=I:_.sibling=I,_=I,E=F}if(N===w.length)return r(y,E),Ce&&an(y,N),j;if(E===null){for(;N<w.length;N++)E=h(y,w[N],k),E!==null&&(g=i(E,g,N),_===null?j=E:_.sibling=E,_=E);return Ce&&an(y,N),j}for(E=s(y,E);N<w.length;N++)F=m(E,y,N,w[N],k),F!==null&&(t&&F.alternate!==null&&E.delete(F.key===null?N:F.key),g=i(F,g,N),_===null?j=F:_.sibling=F,_=F);return t&&E.forEach(function(V){return e(y,V)}),Ce&&an(y,N),j}function v(y,g,w,k){var j=lo(w);if(typeof j!="function")throw Error(C(150));if(w=j.call(w),w==null)throw Error(C(151));for(var _=j=null,E=g,N=g=0,F=null,I=w.next();E!==null&&!I.done;N++,I=w.next()){E.index>N?(F=E,E=null):F=E.sibling;var V=f(y,E,I.value,k);if(V===null){E===null&&(E=F);break}t&&E&&V.alternate===null&&e(y,E),g=i(V,g,N),_===null?j=V:_.sibling=V,_=V,E=F}if(I.done)return r(y,E),Ce&&an(y,N),j;if(E===null){for(;!I.done;N++,I=w.next())I=h(y,I.value,k),I!==null&&(g=i(I,g,N),_===null?j=I:_.sibling=I,_=I);return Ce&&an(y,N),j}for(E=s(y,E);!I.done;N++,I=w.next())I=m(E,y,N,I.value,k),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?N:I.key),g=i(I,g,N),_===null?j=I:_.sibling=I,_=I);return t&&E.forEach(function(z){return e(y,z)}),Ce&&an(y,N),j}function b(y,g,w,k){if(typeof w=="object"&&w!==null&&w.type===ni&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qa:e:{for(var j=w.key,_=g;_!==null;){if(_.key===j){if(j=w.type,j===ni){if(_.tag===7){r(y,_.sibling),g=n(_,w.props.children),g.return=y,y=g;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hs&&w0(j)===_.type){r(y,_.sibling),g=n(_,w.props),g.ref=mo(y,_,w),g.return=y,y=g;break e}r(y,_);break}else e(y,_);_=_.sibling}w.type===ni?(g=jn(w.props.children,y.mode,k,w.key),g.return=y,y=g):(k=Dl(w.type,w.key,w.props,null,y.mode,k),k.ref=mo(y,g,w),k.return=y,y=k)}return o(y);case si:e:{for(_=w.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(y,g.sibling),g=n(g,w.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else e(y,g);g=g.sibling}g=od(w,y.mode,k),g.return=y,y=g}return o(y);case hs:return _=w._init,b(y,g,_(w._payload),k)}if(wo(w))return p(y,g,w,k);if(lo(w))return v(y,g,w,k);rl(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(y,g.sibling),g=n(g,w),g.return=y,y=g):(r(y,g),g=id(w,y.mode,k),g.return=y,y=g),o(y)):r(y,g)}return b}var Oi=aw(!0),lw=aw(!1),lc=Fs(null),cc=null,hi=null,Xf=null;function Zf(){Xf=hi=cc=null}function em(t){var e=lc.current;ke(lc),t._currentValue=e}function _h(t,e,r){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===r)break;t=t.return}}function _i(t,e){cc=t,Xf=hi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(St=!0),t.firstContext=null)}function Jt(t){var e=t._currentValue;if(Xf!==t)if(t={context:t,memoizedValue:e,next:null},hi===null){if(cc===null)throw Error(C(308));hi=t,cc.dependencies={lanes:0,firstContext:t}}else hi=hi.next=t;return e}var vn=null;function tm(t){vn===null?vn=[t]:vn.push(t)}function cw(t,e,r,s){var n=e.interleaved;return n===null?(r.next=r,tm(e)):(r.next=n.next,n.next=r),e.interleaved=r,Xr(t,s)}function Xr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var fs=!1;function rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Es(t,e,r){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ae&2){var n=s.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),s.pending=e,Xr(t,r)}return n=s.interleaved,n===null?(e.next=e,tm(s)):(e.next=n.next,n.next=e),s.interleaved=e,Xr(t,r)}function Rl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,Uf(t,r)}}function b0(t,e){var r=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?n=i=e:i=i.next=e}else n=i=e;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function uc(t,e,r,s){var n=t.updateQueue;fs=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=n.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,v=l;switch(f=e,m=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=Oe({},h,f);break e;case 2:fs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=n.effects,f===null?n.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;f=l,l=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);if(d===null&&(c=h),n.baseState=c,n.firstBaseUpdate=u,n.lastBaseUpdate=d,e=n.shared.interleaved,e!==null){n=e;do o|=n.lane,n=n.next;while(n!==e)}else i===null&&(n.shared.lanes=0);Tn|=o,t.lanes=o,t.memoizedState=h}}function x0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error(C(191,n));n.call(s)}}}var _a={},Lr=Fs(_a),ea=Fs(_a),ta=Fs(_a);function wn(t){if(t===_a)throw Error(C(174));return t}function sm(t,e){switch(ye(ta,e),ye(ea,t),ye(Lr,_a),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sh(e,t)}ke(Lr),ye(Lr,e)}function Mi(){ke(Lr),ke(ea),ke(ta)}function dw(t){wn(ta.current);var e=wn(Lr.current),r=sh(e,t.type);e!==r&&(ye(ea,t),ye(Lr,r))}function nm(t){ea.current===t&&(ke(Lr),ke(ea))}var Re=Fs(0);function dc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zu=[];function im(){for(var t=0;t<Zu.length;t++)Zu[t]._workInProgressVersionPrimary=null;Zu.length=0}var Il=is.ReactCurrentDispatcher,ed=is.ReactCurrentBatchConfig,Cn=0,Le=null,He=null,Je=null,hc=!1,Io=!1,ra=0,Tj=0;function nt(){throw Error(C(321))}function om(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yr(t[r],e[r]))return!1;return!0}function am(t,e,r,s,n,i){if(Cn=i,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Il.current=t===null||t.memoizedState===null?Lj:Oj,t=r(s,n),Io){i=0;do{if(Io=!1,ra=0,25<=i)throw Error(C(301));i+=1,Je=He=null,e.updateQueue=null,Il.current=Mj,t=r(s,n)}while(Io)}if(Il.current=fc,e=He!==null&&He.next!==null,Cn=0,Je=He=Le=null,hc=!1,e)throw Error(C(300));return t}function lm(){var t=ra!==0;return ra=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Le.memoizedState=Je=t:Je=Je.next=t,Je}function Yt(){if(He===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Je===null?Le.memoizedState:Je.next;if(e!==null)Je=e,He=t;else{if(t===null)throw Error(C(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Je===null?Le.memoizedState=Je=t:Je=Je.next=t}return Je}function sa(t,e){return typeof e=="function"?e(t):e}function td(t){var e=Yt(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var s=He,n=s.baseQueue,i=r.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}s.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,s=s.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Cn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Le.lanes|=d,Tn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=l,yr(s,e.memoizedState)||(St=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}if(t=r.interleaved,t!==null){n=t;do i=n.lane,Le.lanes|=i,Tn|=i,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function rd(t){var e=Yt(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var s=r.dispatch,n=r.pending,i=e.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do i=t(i,o.action),o=o.next;while(o!==n);yr(i,e.memoizedState)||(St=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,s]}function hw(){}function fw(t,e){var r=Le,s=Yt(),n=e(),i=!yr(s.memoizedState,n);if(i&&(s.memoizedState=n,St=!0),s=s.queue,cm(gw.bind(null,r,s,t),[t]),s.getSnapshot!==e||i||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,na(9,pw.bind(null,r,s,n,e),void 0,null),Ye===null)throw Error(C(349));Cn&30||mw(r,e,n)}return n}function mw(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function pw(t,e,r,s){e.value=r,e.getSnapshot=s,yw(e)&&vw(t)}function gw(t,e,r){return r(function(){yw(e)&&vw(t)})}function yw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yr(t,r)}catch{return!0}}function vw(t){var e=Xr(t,1);e!==null&&fr(e,t,1,-1)}function k0(t){var e=_r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},e.queue=t,t=t.dispatch=Ij.bind(null,Le,t),[e.memoizedState,t]}function na(t,e,r,s){return t={tag:t,create:e,destroy:r,deps:s,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(s=r.next,r.next=t,t.next=s,e.lastEffect=t)),t}function ww(){return Yt().memoizedState}function Ll(t,e,r,s){var n=_r();Le.flags|=t,n.memoizedState=na(1|e,r,void 0,s===void 0?null:s)}function Xc(t,e,r,s){var n=Yt();s=s===void 0?null:s;var i=void 0;if(He!==null){var o=He.memoizedState;if(i=o.destroy,s!==null&&om(s,o.deps)){n.memoizedState=na(e,r,i,s);return}}Le.flags|=t,n.memoizedState=na(1|e,r,i,s)}function _0(t,e){return Ll(8390656,8,t,e)}function cm(t,e){return Xc(2048,8,t,e)}function bw(t,e){return Xc(4,2,t,e)}function xw(t,e){return Xc(4,4,t,e)}function kw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _w(t,e,r){return r=r!=null?r.concat([t]):null,Xc(4,4,kw.bind(null,e,t),r)}function um(){}function jw(t,e){var r=Yt();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&om(e,s[1])?s[0]:(r.memoizedState=[t,e],t)}function Sw(t,e){var r=Yt();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&om(e,s[1])?s[0]:(t=t(),r.memoizedState=[t,e],t)}function Ew(t,e,r){return Cn&21?(yr(r,e)||(r=Rv(),Le.lanes|=r,Tn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=r)}function Pj(t,e){var r=he;he=r!==0&&4>r?r:4,t(!0);var s=ed.transition;ed.transition={};try{t(!1),e()}finally{he=r,ed.transition=s}}function Nw(){return Yt().memoizedState}function Rj(t,e,r){var s=Cs(t);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Cw(t))Tw(e,r);else if(r=cw(t,e,r,s),r!==null){var n=mt();fr(r,t,s,n),Pw(r,e,s)}}function Ij(t,e,r){var s=Cs(t),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cw(t))Tw(e,n);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(n.hasEagerState=!0,n.eagerState=l,yr(l,o)){var c=e.interleaved;c===null?(n.next=n,tm(e)):(n.next=c.next,c.next=n),e.interleaved=n;return}}catch{}finally{}r=cw(t,e,n,s),r!==null&&(n=mt(),fr(r,t,s,n),Pw(r,e,s))}}function Cw(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function Tw(t,e){Io=hc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Pw(t,e,r){if(r&4194240){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,Uf(t,r)}}var fc={readContext:Jt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Lj={readContext:Jt,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:_0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ll(4194308,4,kw.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ll(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ll(4,2,t,e)},useMemo:function(t,e){var r=_r();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var s=_r();return e=r!==void 0?r(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Rj.bind(null,Le,t),[s.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:k0,useDebugValue:um,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=k0(!1),e=t[0];return t=Pj.bind(null,t[1]),_r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var s=Le,n=_r();if(Ce){if(r===void 0)throw Error(C(407));r=r()}else{if(r=e(),Ye===null)throw Error(C(349));Cn&30||mw(s,e,r)}n.memoizedState=r;var i={value:r,getSnapshot:e};return n.queue=i,_0(gw.bind(null,s,i,t),[t]),s.flags|=2048,na(9,pw.bind(null,s,i,r,e),void 0,null),r},useId:function(){var t=_r(),e=Ye.identifierPrefix;if(Ce){var r=qr,s=Wr;r=(s&~(1<<32-hr(s)-1)).toString(32)+r,e=":"+e+"R"+r,r=ra++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Tj++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Oj={readContext:Jt,useCallback:jw,useContext:Jt,useEffect:cm,useImperativeHandle:_w,useInsertionEffect:bw,useLayoutEffect:xw,useMemo:Sw,useReducer:td,useRef:ww,useState:function(){return td(sa)},useDebugValue:um,useDeferredValue:function(t){var e=Yt();return Ew(e,He.memoizedState,t)},useTransition:function(){var t=td(sa)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:hw,useSyncExternalStore:fw,useId:Nw,unstable_isNewReconciler:!1},Mj={readContext:Jt,useCallback:jw,useContext:Jt,useEffect:cm,useImperativeHandle:_w,useInsertionEffect:bw,useLayoutEffect:xw,useMemo:Sw,useReducer:rd,useRef:ww,useState:function(){return rd(sa)},useDebugValue:um,useDeferredValue:function(t){var e=Yt();return He===null?e.memoizedState=t:Ew(e,He.memoizedState,t)},useTransition:function(){var t=rd(sa)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:hw,useSyncExternalStore:fw,useId:Nw,unstable_isNewReconciler:!1};function nr(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function jh(t,e,r,s){e=t.memoizedState,r=r(s,e),r=r==null?e:Oe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Zc={isMounted:function(t){return(t=t._reactInternals)?Un(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var s=mt(),n=Cs(t),i=Kr(s,n);i.payload=e,r!=null&&(i.callback=r),e=Es(t,i,n),e!==null&&(fr(e,t,n,s),Rl(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var s=mt(),n=Cs(t),i=Kr(s,n);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Es(t,i,n),e!==null&&(fr(e,t,n,s),Rl(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=mt(),s=Cs(t),n=Kr(r,s);n.tag=2,e!=null&&(n.callback=e),e=Es(t,n,s),e!==null&&(fr(e,t,s,r),Rl(e,t,s))}};function j0(t,e,r,s,n,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Yo(r,s)||!Yo(n,i):!0}function Rw(t,e,r){var s=!1,n=Ms,i=e.contextType;return typeof i=="object"&&i!==null?i=Jt(i):(n=Nt(e)?En:dt.current,s=e.contextTypes,i=(s=s!=null)?Ii(t,n):Ms),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zc,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=i),e}function S0(t,e,r,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,s),e.state!==t&&Zc.enqueueReplaceState(e,e.state,null)}function Sh(t,e,r,s){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},rm(t);var i=e.contextType;typeof i=="object"&&i!==null?n.context=Jt(i):(i=Nt(e)?En:dt.current,n.context=Ii(t,i)),n.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jh(t,e,i,r),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Zc.enqueueReplaceState(n,n.state,null),uc(t,r,n,s),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function Ai(t,e){try{var r="",s=e;do r+=c_(s),s=s.return;while(s);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:n,digest:null}}function sd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Eh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Aj=typeof WeakMap=="function"?WeakMap:Map;function Iw(t,e,r){r=Kr(-1,r),r.tag=3,r.payload={element:null};var s=e.value;return r.callback=function(){pc||(pc=!0,Ah=s),Eh(t,e)},r}function Lw(t,e,r){r=Kr(-1,r),r.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var n=e.value;r.payload=function(){return s(n)},r.callback=function(){Eh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Eh(t,e),typeof s!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function E0(t,e,r){var s=t.pingCache;if(s===null){s=t.pingCache=new Aj;var n=new Set;s.set(e,n)}else n=s.get(e),n===void 0&&(n=new Set,s.set(e,n));n.has(r)||(n.add(r),t=Yj.bind(null,t,e,r),e.then(t,t))}function N0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function C0(t,e,r,s,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Kr(-1,1),e.tag=2,Es(r,e,1))),r.lanes|=1),t)}var Dj=is.ReactCurrentOwner,St=!1;function ft(t,e,r,s){e.child=t===null?lw(e,null,r,s):Oi(e,t.child,r,s)}function T0(t,e,r,s,n){r=r.render;var i=e.ref;return _i(e,n),s=am(t,e,r,s,i,n),r=lm(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,Zr(t,e,n)):(Ce&&r&&Jf(e),e.flags|=1,ft(t,e,s,n),e.child)}function P0(t,e,r,s,n){if(t===null){var i=r.type;return typeof i=="function"&&!vm(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Ow(t,e,i,s,n)):(t=Dl(r.type,null,s,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&n)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yo,r(o,s)&&t.ref===e.ref)return Zr(t,e,n)}return e.flags|=1,t=Ts(i,s),t.ref=e.ref,t.return=e,e.child=t}function Ow(t,e,r,s,n){if(t!==null){var i=t.memoizedProps;if(Yo(i,s)&&t.ref===e.ref)if(St=!1,e.pendingProps=s=i,(t.lanes&n)!==0)t.flags&131072&&(St=!0);else return e.lanes=t.lanes,Zr(t,e,n)}return Nh(t,e,r,s,n)}function Mw(t,e,r){var s=e.pendingProps,n=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(mi,Rt),Rt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(mi,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,ye(mi,Rt),Rt|=s}else i!==null?(s=i.baseLanes|r,e.memoizedState=null):s=r,ye(mi,Rt),Rt|=s;return ft(t,e,n,r),e.child}function Aw(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Nh(t,e,r,s,n){var i=Nt(r)?En:dt.current;return i=Ii(e,i),_i(e,n),r=am(t,e,r,s,i,n),s=lm(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,Zr(t,e,n)):(Ce&&s&&Jf(e),e.flags|=1,ft(t,e,r,n),e.child)}function R0(t,e,r,s,n){if(Nt(r)){var i=!0;ic(e)}else i=!1;if(_i(e,n),e.stateNode===null)Ol(t,e),Rw(e,r,s),Sh(e,r,s,n),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=Nt(r)?En:dt.current,u=Ii(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&S0(e,o,s,u),fs=!1;var f=e.memoizedState;o.state=f,uc(e,s,o,n),c=e.memoizedState,l!==s||f!==c||Et.current||fs?(typeof d=="function"&&(jh(e,r,d,s),c=e.memoizedState),(l=fs||j0(e,r,l,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,uw(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:nr(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Jt(c):(c=Nt(r)?En:dt.current,c=Ii(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&S0(e,o,s,c),fs=!1,f=e.memoizedState,o.state=f,uc(e,s,o,n);var p=e.memoizedState;l!==h||f!==p||Et.current||fs?(typeof m=="function"&&(jh(e,r,m,s),p=e.memoizedState),(u=fs||j0(e,r,u,s,f,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),o.props=s,o.state=p,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return Ch(t,e,r,s,i,n)}function Ch(t,e,r,s,n,i){Aw(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return n&&g0(e,r,!1),Zr(t,e,i);s=e.stateNode,Dj.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Oi(e,t.child,null,i),e.child=Oi(e,null,l,i)):ft(t,e,l,i),e.memoizedState=s.state,n&&g0(e,r,!0),e.child}function Dw(t){var e=t.stateNode;e.pendingContext?p0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p0(t,e.context,!1),sm(t,e.containerInfo)}function I0(t,e,r,s,n){return Li(),Qf(n),e.flags|=256,ft(t,e,r,s),e.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Ph(t){return{baseLanes:t,cachePool:null,transitions:null}}function zw(t,e,r){var s=e.pendingProps,n=Re.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(n&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),ye(Re,n&1),t===null)return kh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ru(o,s,0,null),t=jn(t,s,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ph(r),e.memoizedState=Th,t):dm(e,o));if(n=t.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return zj(t,e,o,s,l,n,r);if(i){i=s.fallback,o=e.mode,n=t.child,l=n.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==n?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Ts(n,c),s.subtreeFlags=n.subtreeFlags&14680064),l!==null?i=Ts(l,i):(i=jn(i,o,r,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?Ph(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Th,s}return i=t.child,t=i.sibling,s=Ts(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=r),s.return=e,s.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=s,e.memoizedState=null,s}function dm(t,e){return e=ru({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sl(t,e,r,s){return s!==null&&Qf(s),Oi(e,t.child,null,r),t=dm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zj(t,e,r,s,n,i,o){if(r)return e.flags&256?(e.flags&=-257,s=sd(Error(C(422))),sl(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,n=e.mode,s=ru({mode:"visible",children:s.children},n,0,null),i=jn(i,n,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&Oi(e,t.child,null,o),e.child.memoizedState=Ph(o),e.memoizedState=Th,i);if(!(e.mode&1))return sl(t,e,o,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(C(419)),s=sd(i,s,void 0),sl(t,e,o,s)}if(l=(o&t.childLanes)!==0,St||l){if(s=Ye,s!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Xr(t,n),fr(s,t,n,-1))}return ym(),s=sd(Error(C(421))),sl(t,e,o,s)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=Qj.bind(null,t),n._reactRetry=e,null):(t=i.treeContext,Lt=Ss(n.nextSibling),Ot=e,Ce=!0,cr=null,t!==null&&(Vt[Wt++]=Wr,Vt[Wt++]=qr,Vt[Wt++]=Nn,Wr=t.id,qr=t.overflow,Nn=e),e=dm(e,s.children),e.flags|=4096,e)}function L0(t,e,r){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),_h(t.return,e,r)}function nd(t,e,r,s,n){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=n)}function $w(t,e,r){var s=e.pendingProps,n=s.revealOrder,i=s.tail;if(ft(t,e,s.children,r),s=Re.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L0(t,r,e);else if(t.tag===19)L0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ye(Re,s),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;r!==null;)t=r.alternate,t!==null&&dc(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),nd(e,!1,n,r,i);break;case"backwards":for(r=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&dc(t)===null){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}nd(e,!0,r,null,i);break;case"together":nd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ol(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Tn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,r=Ts(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ts(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function $j(t,e,r){switch(e.tag){case 3:Dw(e),Li();break;case 5:dw(e);break;case 1:Nt(e.type)&&ic(e);break;case 4:sm(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,n=e.memoizedProps.value;ye(lc,s._currentValue),s._currentValue=n;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ye(Re,Re.current&1),e.flags|=128,null):r&e.child.childLanes?zw(t,e,r):(ye(Re,Re.current&1),t=Zr(t,e,r),t!==null?t.sibling:null);ye(Re,Re.current&1);break;case 19:if(s=(r&e.childLanes)!==0,t.flags&128){if(s)return $w(t,e,r);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ye(Re,Re.current),s)break;return null;case 22:case 23:return e.lanes=0,Mw(t,e,r)}return Zr(t,e,r)}var Fw,Rh,Uw,Bw;Fw=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Rh=function(){};Uw=function(t,e,r,s){var n=t.memoizedProps;if(n!==s){t=e.stateNode,wn(Lr.current);var i=null;switch(r){case"input":n=Zd(t,n),s=Zd(t,s),i=[];break;case"select":n=Oe({},n,{value:void 0}),s=Oe({},s,{value:void 0}),i=[];break;case"textarea":n=rh(t,n),s=rh(t,s),i=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=sc)}nh(r,s);var o;r=null;for(u in n)if(!s.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var l=n[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(l=n!=null?n[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&be("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Bw=function(t,e,r,s){r!==s&&(e.flags|=4)};function po(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,s=0;if(e)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=s,t.childLanes=r,e}function Fj(t,e,r){var s=e.pendingProps;switch(Yf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return Nt(e.type)&&nc(),it(e),null;case 3:return s=e.stateNode,Mi(),ke(Et),ke(dt),im(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(tl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&($h(cr),cr=null))),Rh(t,e),it(e),null;case 5:nm(e);var n=wn(ta.current);if(r=e.type,t!==null&&e.stateNode!=null)Uw(t,e,r,s,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(C(166));return it(e),null}if(t=wn(Lr.current),tl(e)){s=e.stateNode,r=e.type;var i=e.memoizedProps;switch(s[Cr]=e,s[Zo]=i,t=(e.mode&1)!==0,r){case"dialog":be("cancel",s),be("close",s);break;case"iframe":case"object":case"embed":be("load",s);break;case"video":case"audio":for(n=0;n<xo.length;n++)be(xo[n],s);break;case"source":be("error",s);break;case"img":case"image":case"link":be("error",s),be("load",s);break;case"details":be("toggle",s);break;case"input":Bp(s,i),be("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},be("invalid",s);break;case"textarea":Wp(s,i),be("invalid",s)}nh(r,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&el(s.textContent,l,t),n=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&el(s.textContent,l,t),n=["children",""+l]):Vo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&be("scroll",s)}switch(r){case"input":Ha(s),Vp(s,i,!0);break;case"textarea":Ha(s),qp(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=sc)}s=n,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(r,{is:s.is}):(t=o.createElement(r),r==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,r),t[Cr]=e,t[Zo]=s,Fw(t,e,!1,!1),e.stateNode=t;e:{switch(o=ih(r,s),r){case"dialog":be("cancel",t),be("close",t),n=s;break;case"iframe":case"object":case"embed":be("load",t),n=s;break;case"video":case"audio":for(n=0;n<xo.length;n++)be(xo[n],t);n=s;break;case"source":be("error",t),n=s;break;case"img":case"image":case"link":be("error",t),be("load",t),n=s;break;case"details":be("toggle",t),n=s;break;case"input":Bp(t,s),n=Zd(t,s),be("invalid",t);break;case"option":n=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},n=Oe({},s,{value:void 0}),be("invalid",t);break;case"textarea":Wp(t,s),n=rh(t,s),be("invalid",t);break;default:n=s}nh(r,n),l=n;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?wv(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yv(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wo(t,c):typeof c=="number"&&Wo(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&be("scroll",t):c!=null&&Mf(t,i,c,o))}switch(r){case"input":Ha(t),Vp(t,s,!1);break;case"textarea":Ha(t),qp(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Os(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?wi(t,!!s.multiple,i,!1):s.defaultValue!=null&&wi(t,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=sc)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)Bw(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(C(166));if(r=wn(ta.current),wn(Lr.current),tl(e)){if(s=e.stateNode,r=e.memoizedProps,s[Cr]=e,(i=s.nodeValue!==r)&&(t=Ot,t!==null))switch(t.tag){case 3:el(s.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&el(s.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Cr]=e,e.stateNode=s}return it(e),null;case 13:if(ke(Re),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&Lt!==null&&e.mode&1&&!(e.flags&128))ow(),Li(),e.flags|=98560,i=!1;else if(i=tl(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Cr]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),i=!1}else cr!==null&&($h(cr),cr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?Ke===0&&(Ke=3):ym())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return Mi(),Rh(t,e),t===null&&Qo(e.stateNode.containerInfo),it(e),null;case 10:return em(e.type._context),it(e),null;case 17:return Nt(e.type)&&nc(),it(e),null;case 19:if(ke(Re),i=e.memoizedState,i===null)return it(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)po(i,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dc(t),o!==null){for(e.flags|=128,po(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=r,r=e.child;r!==null;)i=r,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ye(Re,Re.current&1|2),e.child}t=t.sibling}i.tail!==null&&ze()>Di&&(e.flags|=128,s=!0,po(i,!1),e.lanes=4194304)}else{if(!s)if(t=dc(o),t!==null){if(e.flags|=128,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),po(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ce)return it(e),null}else 2*ze()-i.renderingStartTime>Di&&r!==1073741824&&(e.flags|=128,s=!0,po(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ze(),e.sibling=null,r=Re.current,ye(Re,s?r&1|2:r&1),e):(it(e),null);case 22:case 23:return gm(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Rt&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Uj(t,e){switch(Yf(e),e.tag){case 1:return Nt(e.type)&&nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mi(),ke(Et),ke(dt),im(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nm(e),null;case 13:if(ke(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Re),null;case 4:return Mi(),null;case 10:return em(e.type._context),null;case 22:case 23:return gm(),null;case 24:return null;default:return null}}var nl=!1,ot=!1,Bj=typeof WeakSet=="function"?WeakSet:Set,M=null;function fi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ae(t,e,s)}else r.current=null}function Ih(t,e,r){try{r()}catch(s){Ae(t,e,s)}}var O0=!1;function Vj(t,e){if(ph=ec,t=Gv(),Kf(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==r||n!==0&&h.nodeType!==3||(l=o+n),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++u===n&&(l=o),f===i&&++d===s&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(gh={focusedElem:t,selectionRange:r},ec=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,b=p.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:nr(e.type,v),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(k){Ae(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return p=O0,O0=!1,p}function Lo(t,e,r){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var i=n.destroy;n.destroy=void 0,i!==void 0&&Ih(e,r,i)}n=n.next}while(n!==s)}}function eu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var s=r.create;r.destroy=s()}r=r.next}while(r!==e)}}function Lh(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Vw(t){var e=t.alternate;e!==null&&(t.alternate=null,Vw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cr],delete e[Zo],delete e[wh],delete e[Sj],delete e[Ej])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ww(t){return t.tag===5||t.tag===3||t.tag===4}function M0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ww(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oh(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=sc));else if(s!==4&&(t=t.child,t!==null))for(Oh(t,e,r),t=t.sibling;t!==null;)Oh(t,e,r),t=t.sibling}function Mh(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Mh(t,e,r),t=t.sibling;t!==null;)Mh(t,e,r),t=t.sibling}var et=null,ar=!1;function ds(t,e,r){for(r=r.child;r!==null;)qw(t,e,r),r=r.sibling}function qw(t,e,r){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Hc,r)}catch{}switch(r.tag){case 5:ot||fi(r,e);case 6:var s=et,n=ar;et=null,ds(t,e,r),et=s,ar=n,et!==null&&(ar?(t=et,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):et.removeChild(r.stateNode));break;case 18:et!==null&&(ar?(t=et,r=r.stateNode,t.nodeType===8?Qu(t.parentNode,r):t.nodeType===1&&Qu(t,r),Ko(t)):Qu(et,r.stateNode));break;case 4:s=et,n=ar,et=r.stateNode.containerInfo,ar=!0,ds(t,e,r),et=s,ar=n;break;case 0:case 11:case 14:case 15:if(!ot&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ih(r,e,o),n=n.next}while(n!==s)}ds(t,e,r);break;case 1:if(!ot&&(fi(r,e),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Ae(r,e,l)}ds(t,e,r);break;case 21:ds(t,e,r);break;case 22:r.mode&1?(ot=(s=ot)||r.memoizedState!==null,ds(t,e,r),ot=s):ds(t,e,r);break;default:ds(t,e,r)}}function A0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Bj),e.forEach(function(s){var n=Xj.bind(null,t,s);r.has(s)||(r.add(s),s.then(n,n))})}}function tr(t,e){var r=e.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:et=l.stateNode,ar=!1;break e;case 3:et=l.stateNode.containerInfo,ar=!0;break e;case 4:et=l.stateNode.containerInfo,ar=!0;break e}l=l.return}if(et===null)throw Error(C(160));qw(i,o,n),et=null,ar=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(u){Ae(n,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hw(e,t),e=e.sibling}function Hw(t,e){var r=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),xr(t),s&4){try{Lo(3,t,t.return),eu(3,t)}catch(v){Ae(t,t.return,v)}try{Lo(5,t,t.return)}catch(v){Ae(t,t.return,v)}}break;case 1:tr(e,t),xr(t),s&512&&r!==null&&fi(r,r.return);break;case 5:if(tr(e,t),xr(t),s&512&&r!==null&&fi(r,r.return),t.flags&32){var n=t.stateNode;try{Wo(n,"")}catch(v){Ae(t,t.return,v)}}if(s&4&&(n=t.stateNode,n!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mv(n,i),ih(l,o);var u=ih(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?wv(n,h):d==="dangerouslySetInnerHTML"?yv(n,h):d==="children"?Wo(n,h):Mf(n,d,h,u)}switch(l){case"input":eh(n,i);break;case"textarea":pv(n,i);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?wi(n,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?wi(n,!!i.multiple,i.defaultValue,!0):wi(n,!!i.multiple,i.multiple?[]:"",!1))}n[Zo]=i}catch(v){Ae(t,t.return,v)}}break;case 6:if(tr(e,t),xr(t),s&4){if(t.stateNode===null)throw Error(C(162));n=t.stateNode,i=t.memoizedProps;try{n.nodeValue=i}catch(v){Ae(t,t.return,v)}}break;case 3:if(tr(e,t),xr(t),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Ko(e.containerInfo)}catch(v){Ae(t,t.return,v)}break;case 4:tr(e,t),xr(t);break;case 13:tr(e,t),xr(t),n=t.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(mm=ze())),s&4&&A0(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ot=(u=ot)||d,tr(e,t),ot=u):tr(e,t),xr(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(M=t,d=t.child;d!==null;){for(h=M=d;M!==null;){switch(f=M,m=f.child,f.tag){case 0:case 11:case 14:case 15:Lo(4,f,f.return);break;case 1:fi(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){s=f,r=f.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){Ae(s,r,v)}}break;case 5:fi(f,f.return);break;case 22:if(f.memoizedState!==null){z0(h);continue}}m!==null?(m.return=f,M=m):z0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{n=h.stateNode,u?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vv("display",o))}catch(v){Ae(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ae(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tr(e,t),xr(t),s&4&&A0(t);break;case 21:break;default:tr(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ww(r)){var s=r;break e}r=r.return}throw Error(C(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(Wo(n,""),s.flags&=-33);var i=M0(t);Mh(t,i,n);break;case 3:case 4:var o=s.stateNode.containerInfo,l=M0(t);Oh(t,l,o);break;default:throw Error(C(161))}}catch(c){Ae(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wj(t,e,r){M=t,Gw(t)}function Gw(t,e,r){for(var s=(t.mode&1)!==0;M!==null;){var n=M,i=n.child;if(n.tag===22&&s){var o=n.memoizedState!==null||nl;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||ot;l=nl;var u=ot;if(nl=o,(ot=c)&&!u)for(M=n;M!==null;)o=M,c=o.child,o.tag===22&&o.memoizedState!==null?$0(n):c!==null?(c.return=o,M=c):$0(n);for(;i!==null;)M=i,Gw(i),i=i.sibling;M=n,nl=l,ot=u}D0(t)}else n.subtreeFlags&8772&&i!==null?(i.return=n,M=i):D0(t)}}function D0(t){for(;M!==null;){var e=M;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ot||eu(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!ot)if(r===null)s.componentDidMount();else{var n=e.elementType===e.type?r.memoizedProps:nr(e.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&x0(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}x0(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ko(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}ot||e.flags&512&&Lh(e)}catch(f){Ae(e,e.return,f)}}if(e===t){M=null;break}if(r=e.sibling,r!==null){r.return=e.return,M=r;break}M=e.return}}function z0(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var r=e.sibling;if(r!==null){r.return=e.return,M=r;break}M=e.return}}function $0(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{eu(4,e)}catch(c){Ae(e,r,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var n=e.return;try{s.componentDidMount()}catch(c){Ae(e,n,c)}}var i=e.return;try{Lh(e)}catch(c){Ae(e,i,c)}break;case 5:var o=e.return;try{Lh(e)}catch(c){Ae(e,o,c)}}}catch(c){Ae(e,e.return,c)}if(e===t){M=null;break}var l=e.sibling;if(l!==null){l.return=e.return,M=l;break}M=e.return}}var qj=Math.ceil,mc=is.ReactCurrentDispatcher,hm=is.ReactCurrentOwner,Gt=is.ReactCurrentBatchConfig,ae=0,Ye=null,We=null,rt=0,Rt=0,mi=Fs(0),Ke=0,ia=null,Tn=0,tu=0,fm=0,Oo=null,_t=null,mm=0,Di=1/0,Ur=null,pc=!1,Ah=null,Ns=null,il=!1,bs=null,gc=0,Mo=0,Dh=null,Ml=-1,Al=0;function mt(){return ae&6?ze():Ml!==-1?Ml:Ml=ze()}function Cs(t){return t.mode&1?ae&2&&rt!==0?rt&-rt:Cj.transition!==null?(Al===0&&(Al=Rv()),Al):(t=he,t!==0||(t=window.event,t=t===void 0?16:zv(t.type)),t):1}function fr(t,e,r,s){if(50<Mo)throw Mo=0,Dh=null,Error(C(185));ba(t,r,s),(!(ae&2)||t!==Ye)&&(t===Ye&&(!(ae&2)&&(tu|=r),Ke===4&&ps(t,rt)),Ct(t,s),r===1&&ae===0&&!(e.mode&1)&&(Di=ze()+500,Qc&&Us()))}function Ct(t,e){var r=t.callbackNode;C_(t,e);var s=Zl(t,t===Ye?rt:0);if(s===0)r!==null&&Kp(r),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(r!=null&&Kp(r),e===1)t.tag===0?Nj(F0.bind(null,t)):sw(F0.bind(null,t)),_j(function(){!(ae&6)&&Us()}),r=null;else{switch(Iv(s)){case 1:r=Ff;break;case 4:r=Tv;break;case 16:r=Xl;break;case 536870912:r=Pv;break;default:r=Xl}r=tb(r,Kw.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Kw(t,e){if(Ml=-1,Al=0,ae&6)throw Error(C(327));var r=t.callbackNode;if(ji()&&t.callbackNode!==r)return null;var s=Zl(t,t===Ye?rt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=yc(t,s);else{e=s;var n=ae;ae|=2;var i=Yw();(Ye!==t||rt!==e)&&(Ur=null,Di=ze()+500,_n(t,e));do try{Kj();break}catch(l){Jw(t,l)}while(!0);Zf(),mc.current=i,ae=n,We!==null?e=0:(Ye=null,rt=0,e=Ke)}if(e!==0){if(e===2&&(n=uh(t),n!==0&&(s=n,e=zh(t,n))),e===1)throw r=ia,_n(t,0),ps(t,s),Ct(t,ze()),r;if(e===6)ps(t,s);else{if(n=t.current.alternate,!(s&30)&&!Hj(n)&&(e=yc(t,s),e===2&&(i=uh(t),i!==0&&(s=i,e=zh(t,i))),e===1))throw r=ia,_n(t,0),ps(t,s),Ct(t,ze()),r;switch(t.finishedWork=n,t.finishedLanes=s,e){case 0:case 1:throw Error(C(345));case 2:ln(t,_t,Ur);break;case 3:if(ps(t,s),(s&130023424)===s&&(e=mm+500-ze(),10<e)){if(Zl(t,0)!==0)break;if(n=t.suspendedLanes,(n&s)!==s){mt(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=vh(ln.bind(null,t,_t,Ur),e);break}ln(t,_t,Ur);break;case 4:if(ps(t,s),(s&4194240)===s)break;for(e=t.eventTimes,n=-1;0<s;){var o=31-hr(s);i=1<<o,o=e[o],o>n&&(n=o),s&=~i}if(s=n,s=ze()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*qj(s/1960))-s,10<s){t.timeoutHandle=vh(ln.bind(null,t,_t,Ur),s);break}ln(t,_t,Ur);break;case 5:ln(t,_t,Ur);break;default:throw Error(C(329))}}}return Ct(t,ze()),t.callbackNode===r?Kw.bind(null,t):null}function zh(t,e){var r=Oo;return t.current.memoizedState.isDehydrated&&(_n(t,e).flags|=256),t=yc(t,e),t!==2&&(e=_t,_t=r,e!==null&&$h(e)),t}function $h(t){_t===null?_t=t:_t.push.apply(_t,t)}function Hj(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],i=n.getSnapshot;n=n.value;try{if(!yr(i(),n))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ps(t,e){for(e&=~fm,e&=~tu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-hr(e),s=1<<r;t[r]=-1,e&=~s}}function F0(t){if(ae&6)throw Error(C(327));ji();var e=Zl(t,0);if(!(e&1))return Ct(t,ze()),null;var r=yc(t,e);if(t.tag!==0&&r===2){var s=uh(t);s!==0&&(e=s,r=zh(t,s))}if(r===1)throw r=ia,_n(t,0),ps(t,e),Ct(t,ze()),r;if(r===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ln(t,_t,Ur),Ct(t,ze()),null}function pm(t,e){var r=ae;ae|=1;try{return t(e)}finally{ae=r,ae===0&&(Di=ze()+500,Qc&&Us())}}function Pn(t){bs!==null&&bs.tag===0&&!(ae&6)&&ji();var e=ae;ae|=1;var r=Gt.transition,s=he;try{if(Gt.transition=null,he=1,t)return t()}finally{he=s,Gt.transition=r,ae=e,!(ae&6)&&Us()}}function gm(){Rt=mi.current,ke(mi)}function _n(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,kj(r)),We!==null)for(r=We.return;r!==null;){var s=r;switch(Yf(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&nc();break;case 3:Mi(),ke(Et),ke(dt),im();break;case 5:nm(s);break;case 4:Mi();break;case 13:ke(Re);break;case 19:ke(Re);break;case 10:em(s.type._context);break;case 22:case 23:gm()}r=r.return}if(Ye=t,We=t=Ts(t.current,null),rt=Rt=e,Ke=0,ia=null,fm=tu=Tn=0,_t=Oo=null,vn!==null){for(e=0;e<vn.length;e++)if(r=vn[e],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=n,s.next=o}r.pending=s}vn=null}return t}function Jw(t,e){do{var r=We;try{if(Zf(),Il.current=fc,hc){for(var s=Le.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}hc=!1}if(Cn=0,Je=He=Le=null,Io=!1,ra=0,hm.current=null,r===null||r.return===null){Ke=1,ia=e,We=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=N0(o);if(m!==null){m.flags&=-257,C0(m,o,l,i,e),m.mode&1&&E0(i,u,e),e=m,c=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(c),e.updateQueue=v}else p.add(c);break e}else{if(!(e&1)){E0(i,u,e),ym();break e}c=Error(C(426))}}else if(Ce&&l.mode&1){var b=N0(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),C0(b,o,l,i,e),Qf(Ai(c,l));break e}}i=c=Ai(c,l),Ke!==4&&(Ke=2),Oo===null?Oo=[i]:Oo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Iw(i,c,e);b0(i,y);break e;case 1:l=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ns===null||!Ns.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=Lw(i,l,e);b0(i,k);break e}}i=i.return}while(i!==null)}Xw(r)}catch(j){e=j,We===r&&r!==null&&(We=r=r.return);continue}break}while(!0)}function Yw(){var t=mc.current;return mc.current=fc,t===null?fc:t}function ym(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Ye===null||!(Tn&268435455)&&!(tu&268435455)||ps(Ye,rt)}function yc(t,e){var r=ae;ae|=2;var s=Yw();(Ye!==t||rt!==e)&&(Ur=null,_n(t,e));do try{Gj();break}catch(n){Jw(t,n)}while(!0);if(Zf(),ae=r,mc.current=s,We!==null)throw Error(C(261));return Ye=null,rt=0,Ke}function Gj(){for(;We!==null;)Qw(We)}function Kj(){for(;We!==null&&!w_();)Qw(We)}function Qw(t){var e=eb(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?Xw(t):We=e,hm.current=null}function Xw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Uj(r,e),r!==null){r.flags&=32767,We=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,We=null;return}}else if(r=Fj(r,e,Rt),r!==null){We=r;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Ke===0&&(Ke=5)}function ln(t,e,r){var s=he,n=Gt.transition;try{Gt.transition=null,he=1,Jj(t,e,r,s)}finally{Gt.transition=n,he=s}return null}function Jj(t,e,r,s){do ji();while(bs!==null);if(ae&6)throw Error(C(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(T_(t,i),t===Ye&&(We=Ye=null,rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||il||(il=!0,tb(Xl,function(){return ji(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Gt.transition,Gt.transition=null;var o=he;he=1;var l=ae;ae|=4,hm.current=null,Vj(t,r),Hw(r,t),pj(gh),ec=!!ph,gh=ph=null,t.current=r,Wj(r),b_(),ae=l,he=o,Gt.transition=i}else t.current=r;if(il&&(il=!1,bs=t,gc=n),i=t.pendingLanes,i===0&&(Ns=null),__(r.stateNode),Ct(t,ze()),e!==null)for(s=t.onRecoverableError,r=0;r<e.length;r++)n=e[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(pc)throw pc=!1,t=Ah,Ah=null,t;return gc&1&&t.tag!==0&&ji(),i=t.pendingLanes,i&1?t===Dh?Mo++:(Mo=0,Dh=t):Mo=0,Us(),null}function ji(){if(bs!==null){var t=Iv(gc),e=Gt.transition,r=he;try{if(Gt.transition=null,he=16>t?16:t,bs===null)var s=!1;else{if(t=bs,bs=null,gc=0,ae&6)throw Error(C(331));var n=ae;for(ae|=4,M=t.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(M=u;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Lo(8,d,i)}var h=d.child;if(h!==null)h.return=d,M=h;else for(;M!==null;){d=M;var f=d.sibling,m=d.return;if(Vw(d),d===u){M=null;break}if(f!==null){f.return=m,M=f;break}M=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,M=y;break e}M=i.return}}var g=t.current;for(M=g;M!==null;){o=M;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,M=w;else e:for(o=g;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eu(9,l)}}catch(j){Ae(l,l.return,j)}if(l===o){M=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,M=k;break e}M=l.return}}if(ae=n,Us(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Hc,t)}catch{}s=!0}return s}finally{he=r,Gt.transition=e}}return!1}function U0(t,e,r){e=Ai(r,e),e=Iw(t,e,1),t=Es(t,e,1),e=mt(),t!==null&&(ba(t,1,e),Ct(t,e))}function Ae(t,e,r){if(t.tag===3)U0(t,t,r);else for(;e!==null;){if(e.tag===3){U0(e,t,r);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ns===null||!Ns.has(s))){t=Ai(r,t),t=Lw(e,t,1),e=Es(e,t,1),t=mt(),e!==null&&(ba(e,1,t),Ct(e,t));break}}e=e.return}}function Yj(t,e,r){var s=t.pingCache;s!==null&&s.delete(e),e=mt(),t.pingedLanes|=t.suspendedLanes&r,Ye===t&&(rt&r)===r&&(Ke===4||Ke===3&&(rt&130023424)===rt&&500>ze()-mm?_n(t,0):fm|=r),Ct(t,e)}function Zw(t,e){e===0&&(t.mode&1?(e=Ja,Ja<<=1,!(Ja&130023424)&&(Ja=4194304)):e=1);var r=mt();t=Xr(t,e),t!==null&&(ba(t,e,r),Ct(t,r))}function Qj(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Zw(t,r)}function Xj(t,e){var r=0;switch(t.tag){case 13:var s=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(C(314))}s!==null&&s.delete(e),Zw(t,r)}var eb;eb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Et.current)St=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return St=!1,$j(t,e,r);St=!!(t.flags&131072)}else St=!1,Ce&&e.flags&1048576&&nw(e,ac,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ol(t,e),t=e.pendingProps;var n=Ii(e,dt.current);_i(e,r),n=am(null,e,s,t,n,r);var i=lm();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(s)?(i=!0,ic(e)):i=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,rm(e),n.updater=Zc,e.stateNode=n,n._reactInternals=e,Sh(e,s,t,r),e=Ch(null,e,s,!0,i,r)):(e.tag=0,Ce&&i&&Jf(e),ft(null,e,n,r),e=e.child),e;case 16:s=e.elementType;e:{switch(Ol(t,e),t=e.pendingProps,n=s._init,s=n(s._payload),e.type=s,n=e.tag=eS(s),t=nr(s,t),n){case 0:e=Nh(null,e,s,t,r);break e;case 1:e=R0(null,e,s,t,r);break e;case 11:e=T0(null,e,s,t,r);break e;case 14:e=P0(null,e,s,nr(s.type,t),r);break e}throw Error(C(306,s,""))}return e;case 0:return s=e.type,n=e.pendingProps,n=e.elementType===s?n:nr(s,n),Nh(t,e,s,n,r);case 1:return s=e.type,n=e.pendingProps,n=e.elementType===s?n:nr(s,n),R0(t,e,s,n,r);case 3:e:{if(Dw(e),t===null)throw Error(C(387));s=e.pendingProps,i=e.memoizedState,n=i.element,uw(t,e),uc(e,s,null,r);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){n=Ai(Error(C(423)),e),e=I0(t,e,s,r,n);break e}else if(s!==n){n=Ai(Error(C(424)),e),e=I0(t,e,s,r,n);break e}else for(Lt=Ss(e.stateNode.containerInfo.firstChild),Ot=e,Ce=!0,cr=null,r=lw(e,null,s,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Li(),s===n){e=Zr(t,e,r);break e}ft(t,e,s,r)}e=e.child}return e;case 5:return dw(e),t===null&&kh(e),s=e.type,n=e.pendingProps,i=t!==null?t.memoizedProps:null,o=n.children,yh(s,n)?o=null:i!==null&&yh(s,i)&&(e.flags|=32),Aw(t,e),ft(t,e,o,r),e.child;case 6:return t===null&&kh(e),null;case 13:return zw(t,e,r);case 4:return sm(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Oi(e,null,s,r):ft(t,e,s,r),e.child;case 11:return s=e.type,n=e.pendingProps,n=e.elementType===s?n:nr(s,n),T0(t,e,s,n,r);case 7:return ft(t,e,e.pendingProps,r),e.child;case 8:return ft(t,e,e.pendingProps.children,r),e.child;case 12:return ft(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(s=e.type._context,n=e.pendingProps,i=e.memoizedProps,o=n.value,ye(lc,s._currentValue),s._currentValue=o,i!==null)if(yr(i.value,o)){if(i.children===n.children&&!Et.current){e=Zr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Kr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),_h(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),_h(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ft(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,s=e.pendingProps.children,_i(e,r),n=Jt(n),s=s(n),e.flags|=1,ft(t,e,s,r),e.child;case 14:return s=e.type,n=nr(s,e.pendingProps),n=nr(s.type,n),P0(t,e,s,n,r);case 15:return Ow(t,e,e.type,e.pendingProps,r);case 17:return s=e.type,n=e.pendingProps,n=e.elementType===s?n:nr(s,n),Ol(t,e),e.tag=1,Nt(s)?(t=!0,ic(e)):t=!1,_i(e,r),Rw(e,s,n),Sh(e,s,n,r),Ch(null,e,s,!0,t,r);case 19:return $w(t,e,r);case 22:return Mw(t,e,r)}throw Error(C(156,e.tag))};function tb(t,e){return Cv(t,e)}function Zj(t,e,r,s){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,e,r,s){return new Zj(t,e,r,s)}function vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eS(t){if(typeof t=="function")return vm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Df)return 11;if(t===zf)return 14}return 2}function Ts(t,e){var r=t.alternate;return r===null?(r=qt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Dl(t,e,r,s,n,i){var o=2;if(s=t,typeof t=="function")vm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ni:return jn(r.children,n,i,e);case Af:o=8,n|=8;break;case Jd:return t=qt(12,r,e,n|2),t.elementType=Jd,t.lanes=i,t;case Yd:return t=qt(13,r,e,n),t.elementType=Yd,t.lanes=i,t;case Qd:return t=qt(19,r,e,n),t.elementType=Qd,t.lanes=i,t;case dv:return ru(r,n,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cv:o=10;break e;case uv:o=9;break e;case Df:o=11;break e;case zf:o=14;break e;case hs:o=16,s=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=qt(o,r,e,n),e.elementType=t,e.type=s,e.lanes=i,e}function jn(t,e,r,s){return t=qt(7,t,s,e),t.lanes=r,t}function ru(t,e,r,s){return t=qt(22,t,s,e),t.elementType=dv,t.lanes=r,t.stateNode={isHidden:!1},t}function id(t,e,r){return t=qt(6,t,null,e),t.lanes=r,t}function od(t,e,r){return e=qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tS(t,e,r,s,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fu(0),this.expirationTimes=Fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fu(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function wm(t,e,r,s,n,i,o,l,c){return t=new tS(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rm(i),t}function rS(t,e,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:s==null?null:""+s,children:t,containerInfo:e,implementation:r}}function rb(t){if(!t)return Ms;t=t._reactInternals;e:{if(Un(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var r=t.type;if(Nt(r))return rw(t,r,e)}return e}function sb(t,e,r,s,n,i,o,l,c){return t=wm(r,s,!0,t,n,i,o,l,c),t.context=rb(null),r=t.current,s=mt(),n=Cs(r),i=Kr(s,n),i.callback=e??null,Es(r,i,n),t.current.lanes=n,ba(t,n,s),Ct(t,s),t}function su(t,e,r,s){var n=e.current,i=mt(),o=Cs(n);return r=rb(r),e.context===null?e.context=r:e.pendingContext=r,e=Kr(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Es(n,e,o),t!==null&&(fr(t,n,o,i),Rl(t,n,o)),o}function vc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function bm(t,e){B0(t,e),(t=t.alternate)&&B0(t,e)}function sS(){return null}var nb=typeof reportError=="function"?reportError:function(t){console.error(t)};function xm(t){this._internalRoot=t}nu.prototype.render=xm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));su(t,e,null,null)};nu.prototype.unmount=xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pn(function(){su(null,t,null,null)}),e[Qr]=null}};function nu(t){this._internalRoot=t}nu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ms.length&&e!==0&&e<ms[r].priority;r++);ms.splice(r,0,t),r===0&&Dv(t)}};function km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V0(){}function nS(t,e,r,s,n){if(n){if(typeof s=="function"){var i=s;s=function(){var u=vc(o);i.call(u)}}var o=sb(e,s,t,0,null,!1,!1,"",V0);return t._reactRootContainer=o,t[Qr]=o.current,Qo(t.nodeType===8?t.parentNode:t),Pn(),o}for(;n=t.lastChild;)t.removeChild(n);if(typeof s=="function"){var l=s;s=function(){var u=vc(c);l.call(u)}}var c=wm(t,0,!1,null,null,!1,!1,"",V0);return t._reactRootContainer=c,t[Qr]=c.current,Qo(t.nodeType===8?t.parentNode:t),Pn(function(){su(e,c,r,s)}),c}function ou(t,e,r,s,n){var i=r._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var l=n;n=function(){var c=vc(o);l.call(c)}}su(e,o,t,n)}else o=nS(r,e,t,n,s);return vc(o)}Lv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=bo(e.pendingLanes);r!==0&&(Uf(e,r|1),Ct(e,ze()),!(ae&6)&&(Di=ze()+500,Us()))}break;case 13:Pn(function(){var s=Xr(t,1);if(s!==null){var n=mt();fr(s,t,1,n)}}),bm(t,1)}};Bf=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var r=mt();fr(e,t,134217728,r)}bm(t,134217728)}};Ov=function(t){if(t.tag===13){var e=Cs(t),r=Xr(t,e);if(r!==null){var s=mt();fr(r,t,e,s)}bm(t,e)}};Mv=function(){return he};Av=function(t,e){var r=he;try{return he=t,e()}finally{he=r}};ah=function(t,e,r){switch(e){case"input":if(eh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var s=r[e];if(s!==t&&s.form===t.form){var n=Yc(s);if(!n)throw Error(C(90));fv(s),eh(s,n)}}}break;case"textarea":pv(t,r);break;case"select":e=r.value,e!=null&&wi(t,!!r.multiple,e,!1)}};kv=pm;_v=Pn;var iS={usingClientEntryPoint:!1,Events:[ka,li,Yc,bv,xv,pm]},go={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oS={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ev(t),t===null?null:t.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||sS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{Hc=ol.inject(oS),Ir=ol}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iS;At.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!km(e))throw Error(C(200));return rS(t,e,null,r)};At.createRoot=function(t,e){if(!km(t))throw Error(C(299));var r=!1,s="",n=nb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=wm(t,1,!1,null,null,r,!1,s,n),t[Qr]=e.current,Qo(t.nodeType===8?t.parentNode:t),new xm(e)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Ev(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return Pn(t)};At.hydrate=function(t,e,r){if(!iu(e))throw Error(C(200));return ou(null,t,e,!0,r)};At.hydrateRoot=function(t,e,r){if(!km(t))throw Error(C(405));var s=r!=null&&r.hydratedSources||null,n=!1,i="",o=nb;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=sb(e,null,t,1,r??null,n,!1,i,o),t[Qr]=e.current,Qo(t),s)for(t=0;t<s.length;t++)r=s[t],n=r._getVersion,n=n(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,n]:e.mutableSourceEagerHydrationData.push(r,n);return new nu(e)};At.render=function(t,e,r){if(!iu(e))throw Error(C(200));return ou(null,t,e,!1,r)};At.unmountComponentAtNode=function(t){if(!iu(t))throw Error(C(40));return t._reactRootContainer?(Pn(function(){ou(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};At.unstable_batchedUpdates=pm;At.unstable_renderSubtreeIntoContainer=function(t,e,r,s){if(!iu(r))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return ou(t,e,r,!1,s)};At.version="18.3.1-next-f1338f8080-20240426";function ib(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ib)}catch(t){console.error(t)}}ib(),iv.exports=At;var aS=iv.exports,ob,W0=aS;ob=W0.createRoot,W0.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),T=(t,e)=>{const r=x.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...lS,width:n,height:n,stroke:s,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${cS(t)}`,l].join(" "),...u},[...e.map(([h,f])=>x.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=T("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=T("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=T("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=T("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=T("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=T("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=T("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=T("Bone",[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=T("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=T("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=T("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=T("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=T("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=T("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=T("Candy",[["path",{d:"m9.5 7.5-2 2a4.95 4.95 0 1 0 7 7l2-2a4.95 4.95 0 1 0-7-7Z",key:"ue6khb"}],["path",{d:"M14 6.5v10",key:"5xnk7c"}],["path",{d:"M10 7.5v10",key:"1uew51"}],["path",{d:"m16 7 1-5 1.37.68A3 3 0 0 0 19.7 3H21v1.3c0 .46.1.92.32 1.33L22 7l-5 1",key:"b9cp6k"}],["path",{d:"m8 17-1 5-1.37-.68A3 3 0 0 0 4.3 21H3v-1.3a3 3 0 0 0-.32-1.33L2 17l5-1",key:"5lney8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=T("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=T("Carrot",[["path",{d:"M2.27 21.7s9.87-3.5 12.73-6.36a4.5 4.5 0 0 0-6.36-6.37C5.77 11.84 2.27 21.7 2.27 21.7zM8.64 14l-2.05-2.04M15.34 15l-2.46-2.46",key:"rfqxbe"}],["path",{d:"M22 9s-1.33-2-3.5-2C16.86 7 15 9 15 9s1.33 2 3.5 2S22 9 22 9z",key:"6b25w4"}],["path",{d:"M15 2s-2 1.33-2 3.5S15 9 15 9s2-1.84 2-3.5C17 3.33 15 2 15 2z",key:"fn65lo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=T("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v4",key:"jdggr9"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=T("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=T("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=T("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=T("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=T("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=T("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=T("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=T("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=T("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=T("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=T("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=T("Drama",[["path",{d:"M10 11h.01",key:"d2at3l"}],["path",{d:"M14 6h.01",key:"k028ub"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6.5 13.1h.01",key:"1748ia"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3",key:"172yzv"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0",key:"1obv0w"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7",key:"rqjl8i"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4",key:"1mr6wy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=T("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=T("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=T("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=T("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=T("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=T("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=T("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=T("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=T("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=T("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=T("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=T("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=T("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=T("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=T("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=T("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=T("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=T("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=T("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=T("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=T("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=T("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=T("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=T("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=T("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=T("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=T("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=T("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=T("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=T("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=T("Scroll",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=T("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=T("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=T("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=T("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=T("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=T("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=T("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=T("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=T("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=T("Sparkle",[["path",{d:"m12 3-1.9 5.8a2 2 0 0 1-1.287 1.288L3 12l5.8 1.9a2 2 0 0 1 1.288 1.287L12 21l1.9-5.8a2 2 0 0 1 1.287-1.288L21 12l-5.8-1.9a2 2 0 0 1-1.288-1.287Z",key:"nraa5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=T("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=T("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=T("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=T("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=T("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=T("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=T("Tractor",[["path",{d:"m10 11 11 .9c.6 0 .9.5.8 1.1l-.8 5h-1",key:"2w242w"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h9l1 7.246",key:"d639it"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=T("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=T("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=T("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=T("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=T("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=T("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=T("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=T("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=T("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=T("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=T("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=T("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=T("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=T("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var Im={},_c={},qh=function(t,e){return qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},qh(t,e)};function Pb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qh(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jc=function(){return jc=Object.assign||function(e){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},jc.apply(this,arguments)};function Ki(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r}function Rb(t,e,r,s){var n=arguments.length,i=n<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,s);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(n<3?o(i):n>3?o(e,r,i):o(e,r))||i);return n>3&&i&&Object.defineProperty(e,r,i),i}function Ib(t,e){return function(r,s){e(r,s,t)}}function Lb(t,e,r,s,n,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=s.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?s.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,s.name):{}),h,f=!1,m=r.length-1;m>=0;m--){var p={};for(var v in s)p[v]=v==="access"?{}:s[v];for(var v in s.access)p.access[v]=s.access[v];p.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var b=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],p);if(l==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=o(b.get))&&(d.get=h),(h=o(b.set))&&(d.set=h),(h=o(b.init))&&n.unshift(h)}else(h=o(b))&&(l==="field"?n.unshift(h):d[c]=h)}u&&Object.defineProperty(u,s.name,d),f=!0}function Ob(t,e,r){for(var s=arguments.length>2,n=0;n<e.length;n++)r=s?e[n].call(t,r):e[n].call(t);return s?r:void 0}function Mb(t){return typeof t=="symbol"?t:"".concat(t)}function Ab(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Db(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function A(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})}function zb(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,n,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(s=1,n&&(i=u[0]&2?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],n=0}finally{s=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var au=Object.create?function(t,e,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]};function $b(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&au(e,t,r)}function Sc(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lm(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function Fb(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Lm(arguments[e]));return t}function Ub(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),n=0,e=0;e<r;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,n++)s[n]=i[o];return s}function Bb(t,e,r){if(r||arguments.length===2)for(var s=0,n=e.length,i;s<n;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function $i(t){return this instanceof $i?(this.v=t,this):new $i(t)}function Vb(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),n[Symbol.asyncIterator]=function(){return this},n;function o(m){return function(p){return Promise.resolve(p).then(m,h)}}function l(m,p){s[m]&&(n[m]=function(v){return new Promise(function(b,y){i.push([m,v,b,y])>1||c(m,v)})},p&&(n[m]=p(n[m])))}function c(m,p){try{u(s[m](p))}catch(v){f(i[0][3],v)}}function u(m){m.value instanceof $i?Promise.resolve(m.value.v).then(d,h):f(i[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function f(m,p){m(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Wb(t){var e,r;return e={},s("next"),s("throw",function(n){throw n}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(n,i){e[n]=t[n]?function(o){return(r=!r)?{value:$i(t[n](o)),done:!1}:i?i(o):o}:i}}function qb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Sc=="function"?Sc(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),n(l,c,o.done,o.value)})}}function n(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function Hb(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var KS=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Hh=function(t){return Hh=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Hh(t)};function Gb(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Hh(t),s=0;s<r.length;s++)r[s]!=="default"&&au(e,t,r[s]);return KS(e,t),e}function Kb(t){return t&&t.__esModule?t:{default:t}}function Jb(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function Yb(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r}function Qb(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Xb(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(n=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");n&&(s=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var JS=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function Zb(t){function e(i){t.error=t.hasError?new JS(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,s=0;function n(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(i).then(n,function(o){return e(o),n()})}else s|=1}catch(o){e(o)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function ex(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,n,i,o){return s?e?".jsx":".js":n&&(!i||!o)?r:n+i+"."+o.toLowerCase()+"js"}):t}const YS={__extends:Pb,__assign:jc,__rest:Ki,__decorate:Rb,__param:Ib,__esDecorate:Lb,__runInitializers:Ob,__propKey:Mb,__setFunctionName:Ab,__metadata:Db,__awaiter:A,__generator:zb,__createBinding:au,__exportStar:$b,__values:Sc,__read:Lm,__spread:Fb,__spreadArrays:Ub,__spreadArray:Bb,__await:$i,__asyncGenerator:Vb,__asyncDelegator:Wb,__asyncValues:qb,__makeTemplateObject:Hb,__importStar:Gb,__importDefault:Kb,__classPrivateFieldGet:Jb,__classPrivateFieldSet:Yb,__classPrivateFieldIn:Qb,__addDisposableResource:Xb,__disposeResources:Zb,__rewriteRelativeImportExtension:ex},QS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Xb,get __assign(){return jc},__asyncDelegator:Wb,__asyncGenerator:Vb,__asyncValues:qb,__await:$i,__awaiter:A,__classPrivateFieldGet:Jb,__classPrivateFieldIn:Qb,__classPrivateFieldSet:Yb,__createBinding:au,__decorate:Rb,__disposeResources:Zb,__esDecorate:Lb,__exportStar:$b,__extends:Pb,__generator:zb,__importDefault:Kb,__importStar:Gb,__makeTemplateObject:Hb,__metadata:Db,__param:Ib,__propKey:Mb,__read:Lm,__rest:Ki,__rewriteRelativeImportExtension:ex,__runInitializers:Ob,__setFunctionName:Ab,__spread:Fb,__spreadArray:Bb,__spreadArrays:Ub,__values:Sc,default:YS},Symbol.toStringTag,{value:"Module"})),XS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let lu=class extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}},tx=class extends lu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Gh=class extends lu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Kh=class extends lu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Ec;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ec||(Ec={}));class ZS{constructor(e,{headers:r={},customFetch:s,region:n=Ec.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=XS(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return A(this,arguments,void 0,function*(r,s={}){var n;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=s;let f={},{region:m}=s;m||(m=this.region);const p=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let v;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let b=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v,signal:b}).catch(j=>{throw new tx(j)}),g=y.headers.get("x-relay-error");if(g&&g==="true")throw new Gh(y);if(!y.ok)throw new Kh(y);let w=((n=y.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield y.json():w==="application/octet-stream"||w==="application/pdf"?k=yield y.blob():w==="text/event-stream"?k=y:w==="multipart/form-data"?k=yield y.formData():k=yield y.text(),{data:k,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Kh||l instanceof Gh?l.context:void 0}}finally{i&&clearTimeout(i)}})}}const eE=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ec},FunctionsClient:ZS,FunctionsError:lu,FunctionsFetchError:tx,FunctionsHttpError:Kh,FunctionsRelayError:Gh},Symbol.toStringTag,{value:"Module"})),rx=va(eE);var at={};const Ji=va(QS);var al={},ll={},cl={},ul={},dl={},hl={},K0;function sx(){if(K0)return hl;K0=1,Object.defineProperty(hl,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return hl.default=t,hl}var J0;function nx(){if(J0)return dl;J0=1,Object.defineProperty(dl,"__esModule",{value:!0});const e=Ji.__importDefault(sx());let r=class{constructor(n){var i,o;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(i=n.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=n.signal,this.isMaybeSingle=(o=n.isMaybeSingle)!==null&&o!==void 0?o:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,i){return this.headers=new Headers(this.headers),this.headers.set(n,i),this}then(n,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let m=null,p=null,v=null,b=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=j:p=JSON.parse(j))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&k&&k.length>1&&(v=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(m={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,b=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await c.text();try{m=JSON.parse(w),Array.isArray(m)&&c.status===404&&(p=[],m=null,b=200,y="OK")}catch{c.status===404&&w===""?(b=204,y="No Content"):m={message:w}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,b=200,y="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:p,count:v,status:b,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,f,m,p;let v="";const b=c==null?void 0:c.cause;if(b){const y=(u=b==null?void 0:b.message)!==null&&u!==void 0?u:"",g=(d=b==null?void 0:b.code)!==null&&d!==void 0?d:"";v=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,v+=`

Caused by: ${(f=b==null?void 0:b.name)!==null&&f!==void 0?f:"Error"}: ${y}`,g&&(v+=` (${g})`),b!=null&&b.stack&&(v+=`
${b.stack}`)}else v=(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"FetchError"}: ${c==null?void 0:c.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(n,i)}returns(){return this}overrideTypes(){return this}};return dl.default=r,dl}var Y0;function ix(){if(Y0)return ul;Y0=1,Object.defineProperty(ul,"__esModule",{value:!0});const e=Ji.__importDefault(nx());let r=class extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};return ul.default=r,ul}var Q0;function Om(){if(Q0)return cl;Q0=1,Object.defineProperty(cl,"__esModule",{value:!0});const e=Ji.__importDefault(ix()),r=new RegExp("[,()]");let s=class extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}};return cl.default=s,cl}var X0;function ox(){if(X0)return ll;X0=1,Object.defineProperty(ll,"__esModule",{value:!0});const e=Ji.__importDefault(Om());let r=class{constructor(n,{headers:i={},schema:o,fetch:l}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(n,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(n??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return ll.default=r,ll}var Z0;function tE(){if(Z0)return al;Z0=1,Object.defineProperty(al,"__esModule",{value:!0});const t=Ji,e=t.__importDefault(ox()),r=t.__importDefault(Om());let s=class ax{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new ax(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let m;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{f.searchParams.append(v,b)})):(h="POST",m=o);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return al.default=s,al}Object.defineProperty(at,"__esModule",{value:!0});at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const Yi=Ji,lx=Yi.__importDefault(tE());at.PostgrestClient=lx.default;const cx=Yi.__importDefault(ox());at.PostgrestQueryBuilder=cx.default;const ux=Yi.__importDefault(Om());at.PostgrestFilterBuilder=ux.default;const dx=Yi.__importDefault(ix());at.PostgrestTransformBuilder=dx.default;const hx=Yi.__importDefault(nx());at.PostgrestBuilder=hx.default;const fx=Yi.__importDefault(sx());at.PostgrestError=fx.default;at.default={PostgrestClient:lx.default,PostgrestQueryBuilder:cx.default,PostgrestFilterBuilder:ux.default,PostgrestTransformBuilder:dx.default,PostgrestBuilder:hx.default,PostgrestError:fx.default};class mx{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,n=parseInt(s.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const rE="2.87.1",sE=`realtime-js/${rE}`,px="1.0.0",nE="2.0.0",eg=px,Jh=1e4,iE=1e3,oE=100;var fn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fn||(fn={}));var Ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ue||(Ue={}));var lr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(lr||(lr={}));var Yh;(function(t){t.websocket="websocket"})(Yh||(Yh={}));var mn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(mn||(mn={}));class aE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const n=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var r,s;const n=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,s){var n,i;const o=e.topic,l=(n=e.ref)!==null&&n!==void 0?n:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(m),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,c.length),p.setUint8(v++,l.length),p.setUint8(v++,o.length),p.setUint8(v++,u.length),p.setUint8(v++,h.length),p.setUint8(v++,r),Array.from(c,y=>p.setUint8(v++,y.charCodeAt(0))),Array.from(l,y=>p.setUint8(v++,y.charCodeAt(0))),Array.from(o,y=>p.setUint8(v++,y.charCodeAt(0))),Array.from(u,y=>p.setUint8(v++,y.charCodeAt(0))),Array.from(h,y=>p.setUint8(v++,y.charCodeAt(0)));var b=new Uint8Array(m.byteLength+s.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(s),m.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[n,i,o,l,c]=s;return r({join_ref:n,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),n=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,n)}}_decodeUserBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=s.decode(e.slice(c,c+n));c=c+n;const d=s.decode(e.slice(c,c+i));c=c+i;const h=s.decode(e.slice(c,c+o));c=c+o;const f=e.slice(c,e.byteLength),m=l===this.JSON_ENCODING?JSON.parse(s.decode(f)):f,p={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class gx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pe||(pe={}));const tg=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=lE(o,t,e,n),i),{}):{}},lE=(t,e,r,s)=>{const n=e.find(l=>l.name===t),i=n==null?void 0:n.type,o=r[t];return i&&!s.includes(i)?yx(i,o):Qh(o)},yx=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return hE(e,r)}switch(t){case pe.bool:return cE(e);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return uE(e);case pe.json:case pe.jsonb:return dE(e);case pe.timestamp:return fE(e);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return Qh(e);default:return Qh(e)}},Qh=t=>t,cE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},uE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},dE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},hE=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>yx(e,l))}return t},fE=t=>typeof t=="string"?t.replace(" ","T"):t,vx=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};let ad=class{constructor(e,r,s={},n=Jh){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Xh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Xh||(Xh={}));let wx=class zl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zl.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=zl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=zl.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),p=d.filter(b=>m.indexOf(b.presence_ref)<0),v=h.filter(b=>f.indexOf(b.presence_ref)<0);p.length>0&&(l[u]=p),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[l].unshift(...f)}s(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,n(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Zh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Zh||(Zh={}));var Si;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Si||(Si={}));var Sr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));const mE=Ue;let bx=class ko{constructor(e,r={config:{}},s){var n,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ad(this,lr.join,this.params,this.timeout),this.rejoinTimer=new gx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new wx(this),this.broadcastEndpointURL=vx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(m=>m.filter))!==null&&n!==void 0?n:[],d=!!this.bindings[Si.PRESENCE]&&this.bindings[Si.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Sr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Sr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Sr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(p=v==null?void 0:v.length)!==null&&p!==void 0?p:0,y=[];for(let g=0;g<b;g++){const w=v[g],{filter:{event:k,schema:j,table:_,filter:E}}=w,N=m&&m[g];if(N&&N.event===k&&ko.isFilterValueEqual(N.schema,j)&&ko.isFilterValueEqual(N.table,_)&&ko.isFilterValueEqual(N.filter,E))y.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=Ue.errored,e==null||e(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Sr.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ue.errored,e==null||e(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===Ue.joined&&e===Si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new ad(this,lr.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new ad(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>oE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=lr;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(m=>{var p,v,b;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var p,v,b,y,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const k=m.id,j=(p=m.filter)===null||p===void 0?void 0:p.event;return k&&((v=r.ids)===null||v===void 0?void 0:v.includes(k))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return k==="*"||k===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:v,table:b,commit_timestamp:y,type:g,errors:w}=p;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(f,s)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&ko.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(lr.close,{},e)}_onError(e){this._on(lr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=tg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=tg(e.columns,e.old_record)),r}};const ld=()=>{},fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pE=[1e3,2e3,5e3,1e4],gE=1e4,yE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let vE=class{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jh,this.transport=null,this.heartbeatIntervalMs=fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ld,this.ref=0,this.reconnectTimer=null,this.vsn=eg,this.logger=ld,this.conn=null,this.sendBuffer=[],this.serializer=new aE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Yh.websocket}`,this.httpEndpoint=vx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return mn.Connecting;case fn.open:return mn.Open;case fn.closing:return mn.Closing;default:return mn.Closed}}isConnected(){return this.connectionState()===mn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new bx(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(iE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${n} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===fn.open||this.conn.readyState===fn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(lr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([yE],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:sE};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(lr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new gx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,i,o,l,c,u,d,h,f,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Jh,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:fl.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:ld,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:eg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:p=>pE[p-1]||gE,this.vsn){case px:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(p,v)=>v(JSON.stringify(p)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(p,v)=>v(JSON.parse(p));break;case nE:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const wE=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:mE,get REALTIME_LISTEN_TYPES(){return Si},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Zh},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Xh},get REALTIME_SUBSCRIBE_STATES(){return Sr},RealtimeChannel:bx,RealtimeClient:vE,RealtimePresence:wx,WebSocketFactory:mx},Symbol.toStringTag,{value:"Module"})),xx=va(wE);class ja extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class kx extends ja{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nc extends ja{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Mm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bE=()=>Response,ef=t=>{if(Array.isArray(t))return t.map(r=>ef(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=ef(s)}),e},xE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kE=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),cd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},_E=(t,e,r)=>A(void 0,void 0,void 0,function*(){const s=yield bE();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new kx(cd(n),i,o))}).catch(n=>{e(new Nc(cd(n),n))}):e(new Nc(cd(t),t))}),jE=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?n:(xE(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),r))};function Sa(t,e,r,s,n,i){return A(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,jE(e,s,n,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>_E(c,l,s))})})}function aa(t,e,r,s){return A(this,void 0,void 0,function*(){return Sa(t,"GET",e,r,s)})}function ir(t,e,r,s,n){return A(this,void 0,void 0,function*(){return Sa(t,"POST",e,s,n,r)})}function tf(t,e,r,s,n){return A(this,void 0,void 0,function*(){return Sa(t,"PUT",e,s,n,r)})}function SE(t,e,r,s){return A(this,void 0,void 0,function*(){return Sa(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Am(t,e,r,s,n){return A(this,void 0,void 0,function*(){return Sa(t,"DELETE",e,s,n,r)})}class EE{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return A(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ne(e))return{data:null,error:e};throw e}})}}var _x;class NE{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[_x]="BlobDownloadBuilder",this.promise=null}asStream(){return new EE(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return A(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ne(e))return{data:null,error:e};throw e}})}}_x=Symbol.toStringTag;const CE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TE{constructor(e,r={},s,n){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=Mm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,n){return A(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},rg),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?tf:ir)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}})}upload(e,r,s){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return A(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:rg.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield tf(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ne(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return A(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield ir(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ja("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}update(e,r,s){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return A(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}copy(e,r,s){return A(this,void 0,void 0,function*(){try{return{data:{path:(yield ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return A(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ir(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return A(this,void 0,void 0,function*(){try{const n=yield ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}download(e,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>aa(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new NE(c,this.shouldThrowOnError)}info(e){return A(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield aa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ef(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}exists(e){return A(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield SE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s)&&s instanceof Nc){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(e){return A(this,void 0,void 0,function*(){try{return{data:yield Am(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}list(e,r,s){return A(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},CE),r),{prefix:e||""});return{data:yield ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}listV2(e,r){return A(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield ir(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const jx="2.87.1",Sx={"X-Client-Info":`storage-js/${jx}`};class PE{constructor(e,r={},s,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sx),r),this.fetch=Mm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return A(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield aa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}createBucket(e){return A(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield ir(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return A(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}emptyBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield Am(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var la=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function RE(t,e,r){const s=new URL(e,t);if(r)for(const[n,i]of Object.entries(r))i!==void 0&&s.searchParams.set(n,i);return s.toString()}async function IE(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function LE(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:n,body:i,headers:o}){const l=RE(t.baseUrl,s,n),c=await IE(t.auth),u=await e(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,p=m==null?void 0:m.error;throw new la((p==null?void 0:p.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function ml(t){return t.join("")}var OE=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ml(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ml(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ml(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ml(t.namespace)}`}),!0}catch(e){if(e instanceof la&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof la&&r.status===409)return;throw r}}};function Gn(t){return t.join("")}var ME=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gn(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof la&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof la&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},AE=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=LE({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new OE(this.client,e),this.tableOps=new ME(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Ex{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sx),r),this.fetch=Mm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}listBuckets(e){return A(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),n=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield aa(this.fetch,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield Am(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}from(e){if(!kE(e))throw new ja("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new AE({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>A(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const l=i[o];return typeof l!="function"?l:(...c)=>A(this,void 0,void 0,function*(){try{return{data:yield l.apply(i,c),error:null}}catch(u){if(s)throw u;return{data:null,error:u}}})}})}}const Dm={"X-Client-Info":`storage-js/${jx}`,"Content-Type":"application/json"};class zm extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function jt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class $l extends zm{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nx extends zm{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var rf;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(rf||(rf={}));const cu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),DE=()=>Response,Cx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zE=t=>Array.from(new Float32Array(t)),$E=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},sg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FE=(t,e,r)=>A(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new $l(sg(o),n,l))}).catch(()=>{const o=n+"",l=i.statusText||`HTTP ${n} error`;e(new $l(l,n,o))});else{const o=n+"",l=i.statusText||`HTTP ${n} error`;e(new $l(l,n,o))}}else e(new Nx(sg(t),t))}),UE=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(Cx(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,Object.assign(Object.assign({},n),r)):n};function BE(t,e,r,s,n,i){return A(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,UE(e,s,n,i)).then(c=>{if(!c.ok)throw c;if(s!=null&&s.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>FE(c,l,s))})})}function It(t,e,r,s,n){return A(this,void 0,void 0,function*(){return BE(t,"POST",e,s,n,r)})}class Tx{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dm),r),this.fetch=cu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return A(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return A(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}listIndexes(e){return A(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return A(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}}class Px{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dm),r),this.fetch=cu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return A(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}getVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}listVectors(e){return A(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield It(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}queryVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return A(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}}class Rx{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dm),r),this.fetch=cu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}listBuckets(){return A(this,arguments,void 0,function*(e={}){try{return{data:yield It(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}}class Ix extends Rx{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Lx(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return A(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return A(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return A(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return A(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Lx extends Tx{constructor(e,r,s,n){super(e,r,n),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return A(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return A(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return A(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return A(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Ox(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Ox extends Px{constructor(e,r,s,n,i){super(e,r,i),this.vectorBucketName=s,this.indexName=n}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return A(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return A(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return A(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return A(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return A(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class VE extends PE{constructor(e,r={},s,n){super(e,r,s,n)}from(e){return new TE(this.url,this.headers,e,this.fetch)}get vectors(){return new Ix(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ex(this.url+"/iceberg",this.headers,this.fetch)}}const WE=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Ex,StorageApiError:kx,StorageClient:VE,StorageError:ja,StorageUnknownError:Nc,StorageVectorsApiError:$l,StorageVectorsClient:Ix,StorageVectorsError:zm,get StorageVectorsErrorCode(){return rf},StorageVectorsUnknownError:Nx,VectorBucketApi:Rx,VectorBucketScope:Lx,VectorDataApi:Px,VectorIndexApi:Tx,VectorIndexScope:Ox,isPlainObject:Cx,isStorageError:Ne,isStorageVectorsError:jt,normalizeToFloat32:zE,resolveFetch:cu,resolveResponse:DE,validateVectorDimension:$E},Symbol.toStringTag,{value:"Module"})),qE=va(WE);var Mx={},uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.version=void 0;uu.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=uu;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Mx);var Ax={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=n=>n?(...i)=>n(...i):(...i)=>fetch(...i);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const s=(n,i,o)=>{const l=(0,t.resolveFetch)(o),c=(0,t.resolveHeadersConstructor)();return async(u,d)=>{var h;const f=(h=await i())!==null&&h!==void 0?h:n;let m=new c(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),l(u,Object.assign(Object.assign({},d),{headers:m}))}};t.fetchWithAuth=s})(Ax);var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.isBrowser=void 0;Bs.uuid=HE;Bs.ensureTrailingSlash=Dx;Bs.applySettingDefaults=KE;Bs.validateSupabaseUrl=JE;function HE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function Dx(t){return t.endsWith("/")?t:t+"/"}const GE=()=>typeof window<"u";Bs.isBrowser=GE;function KE(t,e){var r,s;const{db:n,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function JE(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var du={};const zx="2.87.1",ti=30*1e3,sf=3,ud=sf*ti,YE="http://localhost:9999",QE="supabase.auth.token",XE={"X-Client-Info":`gotrue-js/${zx}`},nf="X-Supabase-Api-Version",$x={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e5=10*60*1e3;let Fi=class extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}};function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let Fx=class extends Fi{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}};function Ux(t){return $(t)&&t.name==="AuthApiError"}let gs=class extends Fi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},os=class extends Fi{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}},kt=class extends os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Bx(t){return $(t)&&t.name==="AuthSessionMissingError"}let cn=class extends os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},_o=class extends os{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},jo=class extends os{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Vx(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}let of=class extends os{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Cc=class extends os{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Fl(t){return $(t)&&t.name==="AuthRetryableFetchError"}let af=class extends os{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}};function t5(t){return $(t)&&t.name==="AuthWeakPasswordError"}let Tc=class extends os{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ng=` 	
\r=`.split(""),r5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ng.length;e+=1)t[ng[e].charCodeAt(0)]=-2;for(let e=0;e<Pc.length;e+=1)t[Pc[e].charCodeAt(0)]=e;return t})();function ig(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Pc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Pc[s]),e.queuedBits-=6}}function Wx(t,e,r){const s=r5[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function og(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{i5(o,s,r)};for(let o=0;o<t.length;o+=1)Wx(t.charCodeAt(o),n,i);return e.join("")}function s5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function n5(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}s5(s,e)}}function i5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ei(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Wx(t.charCodeAt(n),r,s);return new Uint8Array(e)}function o5(t){const e=[];return n5(t,r=>e.push(r)),new Uint8Array(e)}function bn(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>ig(n,r,s)),ig(null,r,s),e.join("")}function a5(t){return Math.round(Date.now()/1e3)+t}function l5(){return Symbol("auth-callback")}const Ze=()=>typeof window<"u"&&typeof document<"u",Xs={tested:!1,writable:!1},qx=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xs.tested)return Xs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xs.tested=!0,Xs.writable=!0}catch{Xs.tested=!0,Xs.writable=!1}return Xs.writable};function c5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const Hx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),u5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ri=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Zs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xe=async(t,e)=>{await t.removeItem(e)};let Gx=class Kx{constructor(){this.promise=new Kx.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};Gx.promiseConstructor=Promise;function dd(t){const e=t.split(".");if(e.length!==3)throw new Tc("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!ZE.test(e[s]))throw new Tc("JWT not in base64url format");return{header:JSON.parse(og(e[0])),payload:JSON.parse(og(e[1])),signature:Ei(e[2]),raw:{header:e[0],payload:e[1]}}}async function d5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function h5(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function f5(t){return("0"+t.toString(16)).substr(-2)}function m5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,f5).join("")}async function p5(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function g5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await p5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kn(t,e,r=!1){const s=m5();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await ri(t,`${e}-code-verifier`,n);const i=await g5(s);return[i,s===i?"plain":"s256"]}const y5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function v5(t){const e=t.headers.get(nf);if(!e||!e.match(y5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function w5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function b5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jn(t){if(!x5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hd(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k5(t,e){return new Proxy(t,{get:(r,s,n)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,n)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,n)}})}function ag(t){return JSON.parse(JSON.stringify(t))}const un=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_5=[502,503,504];async function lg(t){var e;if(!u5(t))throw new Cc(un(t),0);if(_5.includes(t.status))throw new Cc(un(t),t.status);let r;try{r=await t.json()}catch(i){throw new gs(un(i),i)}let s;const n=v5(t);if(n&&n.getTime()>=$x["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new af(un(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new af(un(r),t.status,r.weak_password.reasons);throw new Fx(un(r),t.status||500,s)}const j5=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function H(t,e,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[nf]||(i[nf]=$x["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await S5(t,e,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function S5(t,e,r,s,n,i){const o=j5(e,s,n,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Cc(un(c),0)}if(l.ok||await lg(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await lg(c)}}function rr(t){var e;let r=null;C5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=a5(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function cg(t){const e=rr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ys(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function E5(t){return{data:t,error:null}}function N5(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=Ki(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ug(t){return t}function C5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ul=["global","local","others"];let $m=class{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Hx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Ul[0]){if(Ul.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ul.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ys})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Ki(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:N5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ys})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ug});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Jn(e);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ys})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Jn(e);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ys})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Jn(e);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ys})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Jn(e.userId);try{const{data:r,error:s}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Jn(e.userId),Jn(e.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,n,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ug});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await H(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await H(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if($(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await H(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}};function dg(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const dn={debug:!!(globalThis&&qx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let Jx=class extends Fm{};class T5 extends Fm{}async function Yx(t,e,r){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Jx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const hg={};async function P5(t,e,r){var s;const n=(s=hg[t])!==null&&s!==void 0?s:Promise.resolve(),i=Promise.race([n.catch(()=>null),e>=0?new Promise((o,l)=>{setTimeout(()=>{l(new T5(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return hg[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await n,null;throw o}),await i}function R5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function I5(t){return parseInt(t,16)}function L5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function O5(t){var e;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=Qx(t.address),p=d?`${d}://${s}`:s,v=t.statement?`${t.statement}
`:"",b=`${p} wants you to sign in with your Ethereum account:
${m}

${v}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(y+=`
Expiration Time: ${n.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);g+=`
- ${w}`}y+=g}return`${b}
${y}`}class Be extends Error{constructor({message:e,code:r,cause:s,name:n}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Rc extends Be{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function M5({error:t,options:e}){var r,s,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Xx(o)){if(i.rp.id!==o)return new Be({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function A5({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Xx(s)){if(r.rpId!==s)return new Be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class D5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const z5=new D5;function $5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,n=Ki(t,["challenge","user","excludeCredentials"]),i=Ei(e).buffer,o=Object.assign(Object.assign({},r),{id:Ei(r.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const u=s[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ei(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function F5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=Ki(t,["challenge","allowCredentials"]),n=Ei(e).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ei(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function U5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:bn(new Uint8Array(t.response.attestationObject)),clientDataJSON:bn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function B5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bn(new Uint8Array(n.authenticatorData)),clientDataJSON:bn(new Uint8Array(n.clientDataJSON)),signature:bn(new Uint8Array(n.signature)),userHandle:n.userHandle?bn(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Xx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function fg(){var t,e;return!!(Ze()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function V5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rc("Browser returned unexpected credential type",e)}:{data:null,error:new Rc("Empty credential response",e)}}catch(e){return{data:null,error:M5({error:e,options:t})}}}async function W5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rc("Browser returned unexpected credential type",e)}:{data:null,error:new Rc("Empty credential response",e)}}catch(e){return{data:null,error:A5({error:e,options:t})}}}const q5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},H5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ic(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const l=s[i];e(l)?s[i]=Ic(l,o):s[i]=Ic(o)}else s[i]=o}return s}function G5(t,e){return Ic(q5,t,e||{})}function K5(t,e){return Ic(H5,t,e||{})}class J5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:n},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=n??z5.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${s}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=G5(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await V5({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=K5(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await W5(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new gs("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Fi("rpId is required for WebAuthn authentication")};try{if(!fg())return{data:null,error:new gs("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:s,credential_response:c.credential_response}})}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new gs("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Fi("rpId is required for WebAuthn registration")};try{if(!fg())return{data:null,error:new gs("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new gs("Unexpected error in register",o)}}}}R5();const Y5={url:YE,storageKey:QE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function mg(t,e,r){return await r()}const Yn={};let Um=class lf{get jwks(){var e,r;return(r=(e=Yn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Yn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Y5),e);if(this.storageKey=i.storageKey,this.instanceID=(r=lf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,lf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ze()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $m({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Hx(i.fetch),this.lock=i.lock||mg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Ze()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Yx:this.lock=mg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new J5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:qx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=dg(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zx}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(Ze()&&(r=c5(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Ze()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Vx(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?this._returnResult({error:r}):this._returnResult({error:new gs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:rr}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Kn(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:rr})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rr})}else throw new _o("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Xe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cg})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cg})}else throw new _o("You must provide either an email or phone number and a password");const{data:s,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!s||!s.session||!s.user){const i=new cn;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,n,i,o,l,c,u,d,h,f;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:v,wallet:b,statement:y,options:g}=e;let w;if(Ze())if(typeof b=="object")w=b;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")w=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const k=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=Qx(j[0]);let E=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!E){const F=await w.request({method:"eth_chainId"});E=I5(F)}const N={domain:k.host,address:_,statement:y,uri:k.href,version:"1",chainId:E,nonce:(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=O5(N),p=await w.request({method:"personal_sign",params:[L5(m),_]})}try{const{data:v,error:b}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:rr});if(b)throw b;if(!v||!v.session||!v.user){const y=new cn;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if($(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,s,n,i,o,l,c,u,d,h,f,m;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:b,wallet:y,statement:g,options:w}=e;let k;if(Ze())if(typeof y=="object")k=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))k=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const _=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let E;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")E=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)E=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)p=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${j.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(n=(s=w==null?void 0:w.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const _=await k.signMessage(new TextEncoder().encode(p),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:b,error:y}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:bn(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:rr});if(y)throw y;if(!b||!b.session||!b.user){const g=new cn;return this._returnResult({data:{user:null,session:null},error:g})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if($(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await Zs(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:rr});if(await Xe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new cn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,l=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rr}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new cn;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Kn(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new _o("You must provide either an email or phone number.")}catch(l){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),$(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:rr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var r,s,n,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Kn(this.storage,this.storageKey));const u=await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:E5});return!((i=u.data)===null||i===void 0)&&i.url&&Ze()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),$(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new kt;const{error:n}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if($(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await H(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:l}=await H(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new _o("You must provide either an email or phone number and a type")}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<ud:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Zs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=hd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=k5(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ys}):await this._useSession(async r=>{var s,n,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ys})})}catch(r){if($(r))return Bx(r)&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new kt;const o=n.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Kn(this.storage,this.storageKey));const{data:u,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ys});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),$(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kt;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=dd(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if($(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new kt;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ze())throw new jo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new of("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new of("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new jo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(s){if($(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Zs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({error:i});const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Ux(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=l5(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Kn(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return Ze()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if($(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,h=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:rr}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new cn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(n){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),$(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await h5(async n=>(n>0&&await d5(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rr})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Fl(i)&&Date.now()+o-s<ti})}catch(s){if(this._debug(r,"error",s),$(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Ze()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Zs(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Zs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await ri(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:hd()}else if(n&&!n.user&&!n.user){const o=await Zs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Xe(this.storage,this.storageKey+"-user"),await ri(this.storage,this.storageKey,n)):n.user=hd()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ud;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${ud}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Fl(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Gx;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),$(i)){const o={data:null,error:i};return Fl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Xe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await ri(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=ag(n);await ri(this.storage,this.storageKey,i)}else{const n=ag(r);await ri(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xe(this.storage,this.storageKey),await Xe(this.storage,this.storageKey+"-code-verifier"),await Xe(this.storage,this.storageKey+"-user"),this.userStorage&&await Xe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ti}ms, refresh threshold is ${sf} ticks`),n<=sf&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Kn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?U5(e.webauthn.credential_response):B5(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$5(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:F5(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=dd(s.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?await H(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new kt})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new kt});const o=await H(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ze()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if($(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new kt});const o=await H(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ze()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if($(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await H(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new kt})})}catch(e){if($(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?(await H(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new kt})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(l=>l.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(l=>l.kid===e),s&&this.jwks_cached_at+e5>n)return s;const{data:i,error:o}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(l=>l.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:m,error:p}=await this.getSession();if(p||!m.session)return this._returnResult({data:null,error:p});s=m.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:c}}=dd(s);r!=null&&r.allowExpired||w5(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:i,header:n,signature:o},error:null}}const d=b5(n.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,o5(`${l}.${c}`)))throw new Tc("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if($(s))return this._returnResult({data:null,error:s});throw s}}};Um.nextInstanceID={};const Q5=$m,X5=Um,Z5=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Q5,AuthApiError:Fx,AuthClient:X5,AuthError:Fi,AuthImplicitGrantRedirectError:jo,AuthInvalidCredentialsError:_o,AuthInvalidJwtError:Tc,AuthInvalidTokenResponseError:cn,AuthPKCEGrantCodeExchangeError:of,AuthRetryableFetchError:Cc,AuthSessionMissingError:kt,AuthUnknownError:gs,AuthWeakPasswordError:af,CustomAuthError:os,GoTrueAdminApi:$m,GoTrueClient:Um,NavigatorLockAcquireTimeoutError:Jx,SIGN_OUT_SCOPES:Ul,isAuthApiError:Ux,isAuthError:$,isAuthImplicitGrantRedirectError:Vx,isAuthRetryableFetchError:Fl,isAuthSessionMissingError:Bx,isAuthWeakPasswordError:t5,lockInternals:dn,navigatorLock:Yx,processLock:P5},Symbol.toStringTag,{value:"Module"})),Zx=va(Z5);Object.defineProperty(du,"__esModule",{value:!0});du.SupabaseAuthClient=void 0;const eN=Zx;class tN extends eN.AuthClient{constructor(e){super(e)}}du.SupabaseAuthClient=tN;Object.defineProperty(_c,"__esModule",{value:!0});const rN=rx,sN=at,nN=xx,iN=qE,pl=Mx,oN=Ax,pg=Bs,aN=du;let lN=class{constructor(e,r,s){var n,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=(0,pg.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:pl.DEFAULT_DB_OPTIONS,realtime:pl.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},pl.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:pl.DEFAULT_GLOBAL_OPTIONS},d=(0,pg.applySettingDefaults)(s??{},u);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,oN.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new sN.PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new iN.StorageClient(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new rN.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aN.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new nN.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};_c.default=lN;(function(t){var e=qn&&qn.__createBinding||(Object.create?function(d,h,f,m){m===void 0&&(m=f);var p=Object.getOwnPropertyDescriptor(h,f);(!p||("get"in p?!h.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,m,p)}:function(d,h,f,m){m===void 0&&(m=f),d[m]=h[f]}),r=qn&&qn.__exportStar||function(d,h){for(var f in d)f!=="default"&&!Object.prototype.hasOwnProperty.call(h,f)&&e(h,d,f)},s=qn&&qn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const n=s(_c);r(Zx,t);var i=at;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=rx;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(xx,t);var l=_c;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return s(l).default}});const c=(d,h,f)=>new n.default(d,h,f);t.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Im);const e1=Gy(Im),cN=Mk({__proto__:null,default:e1},[Im]),{PostgrestError:HA,FunctionsHttpError:GA,FunctionsFetchError:KA,FunctionsRelayError:JA,FunctionsError:YA,FunctionRegion:QA,SupabaseClient:XA,createClient:uN,GoTrueAdminApi:ZA,GoTrueClient:e8,AuthAdminApi:t8,AuthClient:r8,navigatorLock:s8,NavigatorLockAcquireTimeoutError:n8,lockInternals:i8,processLock:o8,SIGN_OUT_SCOPES:a8,AuthError:l8,AuthApiError:c8,AuthUnknownError:u8,CustomAuthError:d8,AuthSessionMissingError:h8,AuthInvalidTokenResponseError:f8,AuthInvalidCredentialsError:m8,AuthImplicitGrantRedirectError:p8,AuthPKCEGrantCodeExchangeError:g8,AuthRetryableFetchError:y8,AuthWeakPasswordError:v8,AuthInvalidJwtError:w8,isAuthError:b8,isAuthApiError:x8,isAuthSessionMissingError:k8,isAuthImplicitGrantRedirectError:_8,isAuthRetryableFetchError:j8,isAuthWeakPasswordError:S8,RealtimePresence:E8,RealtimeChannel:N8,RealtimeClient:C8,REALTIME_LISTEN_TYPES:T8,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:P8,REALTIME_PRESENCE_LISTEN_EVENTS:R8,REALTIME_SUBSCRIBE_STATES:I8,REALTIME_CHANNEL_STATES:L8}=e1||cN,t1="https://fdlqyqeobwumyjuqgrpl.supabase.co",dN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI";console.log("[Supabase] Initializing client with URL:",t1);const _e=uN(t1,dN,{realtime:{params:{eventsPerSecond:10}}});function mr(){const t=localStorage.getItem("client_id");if(t)return t;const e=crypto.randomUUID();return localStorage.setItem("client_id",e),e}const r1="user_coins",s1="last_daily_at",n1="owned_skins",i1="equipped_skin",Bm="current_level";function Ie(){const t=localStorage.getItem(r1);return t?parseInt(t,10):0}function Vm(t){localStorage.setItem(r1,t.toString())}function Nr(t){const r=Ie()+t;return Vm(r),qm(),r}function Wm(t){const e=Ie();return e<t?!1:(Vm(e-t),qm(),!0)}function o1(){return localStorage.getItem(s1)}function a1(t){localStorage.setItem(s1,t)}function l1(){const t=o1();if(!t)return!0;const e=new Date(t),r=new Date,s=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));return new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate())).getTime()>s.getTime()}function hN(){if(!l1())return 0;const t=new Date,e=`${t.getUTCFullYear()}-${String(t.getUTCMonth()+1).padStart(2,"0")}-${String(t.getUTCDate()).padStart(2,"0")}`;return a1(e),Nr(50)}function fN(){const t=localStorage.getItem(n1);return t?JSON.parse(t):[]}function mN(t){localStorage.setItem(n1,JSON.stringify(t))}function pN(){return localStorage.getItem(i1)}function Ea(){const t=localStorage.getItem(Bm),e=t?parseInt(t,10):1;return console.log("[getCurrentLevel]",e,"from localStorage:",t),e}function gN(t){console.log("[setCurrentLevel] Setting level to:",t),localStorage.setItem(Bm,t.toString()),qm()}async function qm(){try{const t=mr(),e=Ie(),r=fN(),s=pN(),n=o1(),i=Ea(),o=Math.ceil(i/5);console.log("[syncToSupabase] Syncing to DB:",{clientId:t,coins:e,currentLevel:i,currentWorld:o});const l=await _e.from("profiles").upsert({client_id:t,coins:e,owned_skins:r,equipped_skin:s,last_daily_at:n,current_world:o,current_level:i,worlds_completed:Math.max(0,o-1),updated_at:new Date().toISOString()});l.error?console.error("[syncToSupabase] Upsert error:",l.error):console.log("[syncToSupabase] Sync successful")}catch(t){console.error("[syncToSupabase] Error:",t)}}async function hu(){try{console.log("[loadFromSupabase] START");const t=mr();console.log("[loadFromSupabase] Client ID:",t);const{data:e,error:r}=await _e.from("profiles").select("*").eq("client_id",t).maybeSingle();if(r){console.error("[loadFromSupabase] Error:",r);return}console.log("[loadFromSupabase] Data from DB:",e),e?(Vm(e.coins),mN(e.owned_skins||[]),e.equipped_skin&&localStorage.setItem(i1,e.equipped_skin),e.last_daily_at&&a1(e.last_daily_at),e.current_level?(console.log("[loadFromSupabase] Setting current_level from DB:",e.current_level),localStorage.setItem(Bm,e.current_level.toString())):console.log("[loadFromSupabase] No current_level in DB, keeping local value")):console.log("[loadFromSupabase] No profile data in DB"),console.log("[loadFromSupabase] COMPLETE")}catch(t){console.error("[loadFromSupabase] Exception:",t)}}function Na(t){return`/audio/${t}`}function yN(t){return Na(`level_${t}.mp3`)}function vN(){return Na("start_theme.mp3")}function wN(){return Na("match.wav")}function bN(){return Na("win.mp3")}function xN(){return Na("lose.mp3")}let kN=class{constructor(){bt(this,"startMusicTrack",null);bt(this,"currentLevelTrack",null);bt(this,"levelTracks",new Map);bt(this,"matchSfx",null);bt(this,"winSfx",null);bt(this,"loseSfx",null);bt(this,"muted",!1);bt(this,"masterVolume",1);bt(this,"userInteracted",!1);bt(this,"pendingStartMusic",!1);this.loadSettings(),this.preloadAudio(),this.setupUserInteractionListener(),this.setupAppLifecycleListeners()}loadSettings(){try{const e=localStorage.getItem("sound.muted"),r=localStorage.getItem("sound.volume");if(e!==null&&(this.muted=e==="true"),r!==null){const s=parseFloat(r);isNaN(s)||(this.masterVolume=Math.max(0,Math.min(1,s)))}}catch(e){console.warn("Error loading sound settings:",e)}}saveSettings(){try{localStorage.setItem("sound.muted",String(this.muted)),localStorage.setItem("sound.volume",String(this.masterVolume))}catch(e){console.warn("Error saving sound settings:",e)}}setupUserInteractionListener(){const e=()=>{this.userInteracted=!0,this.pendingStartMusic&&this.startMusicTrack&&(this.pendingStartMusic=!1,this.playStartMusic()),document.removeEventListener("click",e),document.removeEventListener("keypress",e),document.removeEventListener("touchstart",e)};document.addEventListener("click",e,{once:!0}),document.addEventListener("keypress",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}setupAppLifecycleListeners(){document.addEventListener("visibilitychange",()=>{document.hidden&&(this.stopLevelMusic(),this.stopStartMusic())}),window.addEventListener("pagehide",()=>{this.stopLevelMusic(),this.stopStartMusic()}),window.addEventListener("beforeunload",()=>{this.stopLevelMusic(),this.stopStartMusic()})}preloadAudio(){try{this.startMusicTrack=new Audio(vN()),this.startMusicTrack.loop=!0,this.startMusicTrack.preload="metadata";for(let e=1;e<=10;e++){const r=new Audio(yN(e));r.loop=!0,r.preload="metadata",this.levelTracks.set(e,r)}this.matchSfx=new Audio(wN()),this.matchSfx.preload="metadata",this.winSfx=new Audio(bN()),this.winSfx.preload="metadata",this.loseSfx=new Audio(xN()),this.loseSfx.preload="metadata",this.applyVolume()}catch(e){console.warn("Error preloading audio:",e)}}applyVolume(){const e=this.muted?0:this.masterVolume;this.startMusicTrack&&(this.startMusicTrack.volume=e),this.levelTracks.forEach(r=>{r.volume=e}),this.matchSfx&&(this.matchSfx.volume=e),this.winSfx&&(this.winSfx.volume=e),this.loseSfx&&(this.loseSfx.volume=e)}async crossFade(e,r){const o=this.muted?0:this.masterVolume;for(let l=20;l>=0;l--)e.volume=l/20*o,await new Promise(c=>setTimeout(c,15));e.pause(),e.currentTime=0,r.volume=0;try{await r.play();for(let l=0;l<=20;l++)r.volume=l/20*o,await new Promise(c=>setTimeout(c,15))}catch(l){console.warn("Error during crossfade:",l)}}async playSfxSafely(e){if(!this.userInteracted){console.warn("Cannot play audio before user interaction");return}try{e.currentTime=0,await e.play()}catch(r){console.warn("Error playing audio:",r)}}playStartMusic(){if(this.startMusicTrack){if(!this.userInteracted){this.pendingStartMusic=!0;return}try{if(!this.startMusicTrack.paused){console.log("Start music already playing, skipping");return}this.startMusicTrack.volume=this.muted?0:this.masterVolume,this.startMusicTrack.currentTime=0,this.startMusicTrack.play().catch(e=>console.warn("Error playing start music:",e))}catch(e){console.warn("Error playing start music:",e)}}}stopStartMusic(){if(this.startMusicTrack)try{this.startMusicTrack.pause(),this.startMusicTrack.currentTime=0,this.pendingStartMusic=!1}catch(e){console.warn("Error stopping start music:",e)}}playLevelMusic(e){if(!this.userInteracted)return;const r=Math.min(Math.floor((e-1)/5)+1,10),s=this.levelTracks.get(r);if(!s){console.warn(`Level ${e} music not found, using track ${r}`);return}try{if(this.currentLevelTrack===s&&!this.currentLevelTrack.paused){console.log(`Level ${e} music already playing, restarting`),s.currentTime=0;return}this.currentLevelTrack&&!this.currentLevelTrack.paused&&(this.currentLevelTrack.pause(),this.currentLevelTrack.currentTime=0),this.currentLevelTrack=s,s.volume=this.muted?0:this.masterVolume,s.currentTime=0,s.play().catch(n=>console.warn("Error playing level music:",n))}catch(n){console.warn(`Error playing level ${e} music:`,n)}}stopLevelMusic(){try{this.currentLevelTrack&&(this.currentLevelTrack.pause(),this.currentLevelTrack.currentTime=0,this.currentLevelTrack=null),this.levelTracks.forEach(e=>{e.paused||(e.pause(),e.currentTime=0)})}catch(e){console.warn("Error stopping level music:",e)}}playMatch(){!this.matchSfx||!this.userInteracted||this.playSfxSafely(this.matchSfx)}playWin(){!this.winSfx||!this.userInteracted||this.playSfxSafely(this.winSfx)}playLose(){!this.loseSfx||!this.userInteracted||this.playSfxSafely(this.loseSfx)}mute(){this.muted=!0,this.applyVolume(),this.saveSettings()}unmute(){this.muted=!1,this.applyVolume(),this.saveSettings()}toggleMute(){this.muted?this.unmute():this.mute()}isMuted(){return this.muted}setMasterVolume(e){this.masterVolume=Math.max(0,Math.min(1,e)),this.applyVolume(),this.saveSettings()}getMasterVolume(){return this.masterVolume}};const me=new kN,c1=()=>{const[t,e]=x.useState(!1),[r,s]=x.useState(!1),[n,i]=x.useState(1),o=x.useRef(null);x.useEffect(()=>{const u=localStorage.getItem("sound.muted"),d=localStorage.getItem("sound.volume"),h=u==="true",f=d?Math.max(0,Math.min(1,parseFloat(d))):1;s(h),i(f);try{h?me.mute():me.unmute(),me.setMasterVolume(f)}catch(m){console.error("Error initializing sound:",m)}},[]),x.useEffect(()=>{if(!t)return;const u=d=>{o.current&&!o.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[t]);const l=()=>{const u=!r;s(u),localStorage.setItem("sound.muted",u?"true":"false");try{u?me.mute():me.unmute()}catch(d){console.error("Error toggling sound:",d)}},c=u=>{const d=Number(u.target.value)/100;i(d),localStorage.setItem("sound.volume",String(d));try{me.setMasterVolume(d)}catch(h){console.error("Error setting volume:",h)}};return a.jsxs("div",{className:"relative select-none",ref:o,children:[a.jsx("button",{type:"button","aria-label":"Ajustes de sonido",onClick:()=>e(u=>!u),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(AS,{size:20,className:"text-gray-700"})}),t&&a.jsxs("div",{className:"absolute right-0 mt-2 rounded-xl shadow-2xl bg-white p-4 z-50 min-w-[200px]",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Sonido"}),a.jsx("button",{type:"button",onClick:l,className:`px-3 py-1 rounded-lg text-sm font-semibold transition-colors ${r?"bg-gray-200 text-gray-600":"bg-green-500 text-white"}`,children:r?"OFF":"ON"})]}),a.jsxs("div",{className:"mt-2",children:[a.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Volumen: ",Math.round(n*100),"%"]}),a.jsx("input",{type:"range",min:0,max:100,value:Math.round(n*100),onChange:c,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500",disabled:r})]})]})]})},_N={es:{common:{back:"Volver",continue:"Continuar",start:"Comenzar",close:"Cerrar",confirm:"Confirmar",cancel:"Cancelar",loading:"Cargando...",coins:"Monedas",level:"Nivel",score:"Puntos",time:"Tiempo",play:"Jugar",pause:"Pausar",resume:"Reanudar",exit:"Salir"},menu:{playDuel:"Jugar Duelo",worldMap:"Mapa de Mundos",shop:"Tienda",dailyChallenge:"Desafo Diario",continueLevel:"Continuar Nivel",claimDaily:"Reclamar Recompensa",privacyPolicy:"Poltica de Privacidad",contact:"Contacto",description:"Memoriza las parejas antes de que se acabe el tiempo"},game:{moves:"Movimientos",timeBonus:"Bonus de Tiempo",finalScore:"Puntuacin Final",youWin:"Ganaste!",tryAgain:"Intntalo de nuevo",levelComplete:"Nivel Completado",gameOver:"Juego Terminado",paused:"Pausado",exitConfirm:"Salir del nivel?",exitMessage:"Perders todo el progreso actual"},duel:{duelMode:"Modo Duelo",createDuel:"Crear Duelo",joinDuel:"Unirse a Duelo",challengePlayers:"Desafa a otros jugadores en tiempo real",howItWorksTitle:"Cmo funciona?",howItWorks1:"Crea una sala y comparte el cdigo con tu rival",howItWorks2:"Ambos juegan el mismo nivel con las mismas cartas",howItWorks3:"El ms rpido en completar el nivel gana!",roomCode:"Cdigo de sala",shareCode:"Compartir cdigo",waitingForOpponent:"Esperando oponente...",opponentJoined:"Oponente unido!",startDuel:"Comenzar Duelo",selectLevel:"Seleccionar Nivel",enterCode:"Ingresa el cdigo",join:"Unirse",youWon:"Ganaste!",youLost:"Perdiste",tie:"Empate",yourScore:"Tu puntuacin",opponentScore:"Puntuacin del oponente",playAgain:"Jugar de nuevo",backToMenu:"Volver al men"},worlds:{nature:"Naturaleza",sports:"Deportes",games:"Juegos",animals:"Animales",space:"Espacio",ocean:"Ocano",food:"Comida",music:"Msica",beauty:"Belleza",technology:"Tecnologa",city:"Ciudad",science:"Ciencia",farm:"Granja",art:"Arte",transport:"Transporte",clothing:"Ropa",dinosaurs:"Dinosaurios",sweets:"Dulces",tshirts:"Camisetas",eyes:"Ojos",professions:"Profesiones",emotions:"Emociones",pirates:"Piratas",jewels:"Joyas",videogames:"Videojuegos",insects:"Insectos",fruits:"Frutas",vegetables:"Verduras",mythology:"Botellas",medieval:"Medieval",jungle:"Jungla",desert:"Desierto",arctic:"rtico",urban:"Urbano",fantasy:"Tazas",scifi:"Ciencia Ficcin",summer:"Verano",spring:"Primavera",autumn:"Otoo",winter:"Invierno",cinema:"Cine",history:"Historia",superheroes:"Superhroes",robots:"Robots",aliens:"Astronautas",castles:"Castillos",treasures:"Tesoros",volcano:"Volcn",worldLocked:"Mundo Bloqueado",unlockWorld:"Desbloquear Mundo",completeWorld:"Completa el mundo anterior",purchase:"Comprar",worldUnlocked:"Mundo Desbloqueado"},shop:{title:"Tienda",themes:"Temas",powerups:"Power-ups",purchased:"Comprado",buy:"Comprar",equipped:"Equipado",equip:"Equipar",notEnoughCoins:"No tienes suficientes monedas"},powerups:{hint:"Pista",hintDesc:"Resalta una pareja disponible",shuffle:"Mezclar",shuffleDesc:"Reordena todas las cartas",freeze:"Congelar",freezeDesc:"Pausa el tiempo por 10 segundos"},themes:{cat:"Tema Gato",tiger:"Tema Tigre",fox:"Tema Zorro",eagle:"Tema guila",brazil:"Tema Brasil",italy:"Tema Italia",croatia:"Tema Croacia",ecuador:"Tema Ecuador",spain:"Tema Espaa",france:"Tema Francia",netherlands:"Tema Holanda",apple:"Tema Manzana",germany:"Tema Alemania",argentina:"Tema Argentina",chocolate:"Tema Chocolate",greenEye:"Tema Ojo Verde",venezuela:"Tema Venezuela",blue:"Tema Azul",purple:"Tema Lila",brown:"Tema Marrn"},obstacles:{stone:"Piedra",ice:"Hielo",chain:"Cadena",fog:"Niebla",lock:"Candado"},difficulty:{selectDifficulty:"Selecciona Dificultad",easy:"Fcil",medium:"Medio",hard:"Difcil",easyDesc:"Ms tiempo y menos cartas",mediumDesc:"Tiempo normal y cartas normales",hardDesc:"Menos tiempo y ms cartas"}},en:{common:{back:"Back",continue:"Continue",start:"Start",close:"Close",confirm:"Confirm",cancel:"Cancel",loading:"Loading...",coins:"Coins",level:"Level",score:"Score",time:"Time",play:"Play",pause:"Pause",resume:"Resume",exit:"Exit"},menu:{playDuel:"Play Duel",worldMap:"World Map",shop:"Shop",dailyChallenge:"Daily Challenge",continueLevel:"Continue Level",claimDaily:"Claim Reward",privacyPolicy:"Privacy Policy",contact:"Contact",description:"Memorize the pairs before time runs out"},game:{moves:"Moves",timeBonus:"Time Bonus",finalScore:"Final Score",youWin:"You Win!",tryAgain:"Try Again",levelComplete:"Level Complete",gameOver:"Game Over",paused:"Paused",exitConfirm:"Exit level?",exitMessage:"You will lose all current progress"},duel:{duelMode:"Duel Mode",createDuel:"Create Duel",joinDuel:"Join Duel",challengePlayers:"Challenge other players in real-time",howItWorksTitle:"How it works?",howItWorks1:"Create a room and share the code with your rival",howItWorks2:"Both play the same level with the same cards",howItWorks3:"The fastest to complete the level wins!",roomCode:"Room code",shareCode:"Share code",waitingForOpponent:"Waiting for opponent...",opponentJoined:"Opponent joined!",startDuel:"Start Duel",selectLevel:"Select Level",enterCode:"Enter the code",join:"Join",youWon:"You Won!",youLost:"You Lost",tie:"Tie",yourScore:"Your score",opponentScore:"Opponent score",playAgain:"Play Again",backToMenu:"Back to Menu"},worlds:{nature:"Nature",sports:"Sports",games:"Games",animals:"Animals",space:"Space",ocean:"Ocean",food:"Food",music:"Music",beauty:"Beauty",technology:"Technology",city:"City",science:"Science",farm:"Farm",art:"Art",transport:"Transport",clothing:"Clothing",dinosaurs:"Dinosaurs",sweets:"Sweets",tshirts:"T-shirts",eyes:"Eyes",professions:"Professions",emotions:"Emotions",pirates:"Pirates",jewels:"Jewels",videogames:"Video Games",insects:"Insects",fruits:"Fruits",vegetables:"Vegetables",mythology:"Bottles",medieval:"Medieval",jungle:"Jungle",desert:"Desert",arctic:"Arctic",urban:"Urban",fantasy:"Cups",scifi:"Sci-Fi",summer:"Summer",spring:"Spring",autumn:"Autumn",winter:"Winter",cinema:"Cinema",history:"History",superheroes:"Superheroes",robots:"Robots",aliens:"Astronauts",castles:"Castles",treasures:"Treasures",volcano:"Volcano",worldLocked:"World Locked",unlockWorld:"Unlock World",completeWorld:"Complete the previous world",purchase:"Purchase",worldUnlocked:"World Unlocked"},shop:{title:"Shop",themes:"Themes",powerups:"Power-ups",purchased:"Purchased",buy:"Buy",equipped:"Equipped",equip:"Equip",notEnoughCoins:"Not enough coins"},powerups:{hint:"Hint",hintDesc:"Highlights an available pair",shuffle:"Shuffle",shuffleDesc:"Rearranges all cards",freeze:"Freeze",freezeDesc:"Pauses time for 10 seconds"},themes:{cat:"Cat Theme",tiger:"Tiger Theme",fox:"Fox Theme",eagle:"Eagle Theme",brazil:"Brazil Theme",italy:"Italy Theme",croatia:"Croatia Theme",ecuador:"Ecuador Theme",spain:"Spain Theme",france:"France Theme",netherlands:"Netherlands Theme",apple:"Apple Theme",germany:"Germany Theme",argentina:"Argentina Theme",chocolate:"Chocolate Theme",greenEye:"Green Eye Theme",venezuela:"Venezuela Theme",blue:"Blue Theme",purple:"Purple Theme",brown:"Brown Theme"},obstacles:{stone:"Stone",ice:"Ice",chain:"Chain",fog:"Fog",lock:"Lock"},difficulty:{selectDifficulty:"Select Difficulty",easy:"Easy",medium:"Medium",hard:"Hard",easyDesc:"More time and fewer cards",mediumDesc:"Normal time and normal cards",hardDesc:"Less time and more cards"}},"pt-BR":{common:{back:"Voltar",continue:"Continuar",start:"Comear",close:"Fechar",confirm:"Confirmar",cancel:"Cancelar",loading:"Carregando...",coins:"Moedas",level:"Nvel",score:"Pontos",time:"Tempo",play:"Jogar",pause:"Pausar",resume:"Retomar",exit:"Sair"},menu:{playDuel:"Jogar Duelo",worldMap:"Mapa de Mundos",shop:"Loja",dailyChallenge:"Desafio Dirio",continueLevel:"Continuar Nvel",claimDaily:"Resgatar Recompensa",privacyPolicy:"Poltica de Privacidade",contact:"Contato",description:"Memorize os pares antes que o tempo acabe"},game:{moves:"Movimentos",timeBonus:"Bnus de Tempo",finalScore:"Pontuao Final",youWin:"Voc Ganhou!",tryAgain:"Tente novamente",levelComplete:"Nvel Completo",gameOver:"Fim de Jogo",paused:"Pausado",exitConfirm:"Sair do nvel?",exitMessage:"Voc perder todo o progresso atual"},duel:{duelMode:"Modo Duelo",createDuel:"Criar Duelo",joinDuel:"Entrar no Duelo",challengePlayers:"Desafie outros jogadores em tempo real",howItWorksTitle:"Como funciona?",howItWorks1:"Crie uma sala e compartilhe o cdigo com seu rival",howItWorks2:"Ambos jogam o mesmo nvel com as mesmas cartas",howItWorks3:"O mais rpido a completar o nvel vence!",roomCode:"Cdigo da sala",shareCode:"Compartilhar cdigo",waitingForOpponent:"Aguardando oponente...",opponentJoined:"Oponente entrou!",startDuel:"Comear Duelo",selectLevel:"Selecionar Nvel",enterCode:"Digite o cdigo",join:"Entrar",youWon:"Voc Ganhou!",youLost:"Voc Perdeu",tie:"Empate",yourScore:"Sua pontuao",opponentScore:"Pontuao do oponente",playAgain:"Jogar novamente",backToMenu:"Voltar ao menu"},worlds:{nature:"Natureza",sports:"Esportes",games:"Jogos",animals:"Animais",space:"Espao",ocean:"Oceano",food:"Comida",music:"Msica",beauty:"Beleza",technology:"Tecnologia",city:"Cidade",science:"Cincia",farm:"Fazenda",art:"Arte",transport:"Transporte",clothing:"Roupas",dinosaurs:"Dinossauros",sweets:"Doces",tshirts:"Camisetas",eyes:"Olhos",professions:"Profisses",emotions:"Emoes",pirates:"Piratas",jewels:"Joias",videogames:"Videogames",insects:"Insetos",fruits:"Frutas",vegetables:"Vegetais",mythology:"Garrafas",medieval:"Medieval",jungle:"Selva",desert:"Deserto",arctic:"rtico",urban:"Urbano",fantasy:"Xcaras",scifi:"Fico Cientfica",summer:"Vero",spring:"Primavera",autumn:"Outono",winter:"Inverno",cinema:"Cinema",history:"Histria",superheroes:"Super-heris",robots:"Robs",aliens:"Astronautas",castles:"Castelos",treasures:"Tesouros",volcano:"Vulco",worldLocked:"Mundo Bloqueado",unlockWorld:"Desbloquear Mundo",completeWorld:"Complete o mundo anterior",purchase:"Comprar",worldUnlocked:"Mundo Desbloqueado"},shop:{title:"Loja",themes:"Temas",powerups:"Power-ups",purchased:"Comprado",buy:"Comprar",equipped:"Equipado",equip:"Equipar",notEnoughCoins:"Moedas insuficientes"},powerups:{hint:"Dica",hintDesc:"Destaca um par disponvel",shuffle:"Embaralhar",shuffleDesc:"Reorganiza todas as cartas",freeze:"Congelar",freezeDesc:"Pausa o tempo por 10 segundos"},themes:{cat:"Tema Gato",tiger:"Tema Tigre",fox:"Tema Raposa",eagle:"Tema guia",brazil:"Tema Brasil",italy:"Tema Itlia",croatia:"Tema Crocia",ecuador:"Tema Equador",spain:"Tema Espanha",france:"Tema Frana",netherlands:"Tema Holanda",apple:"Tema Ma",germany:"Tema Alemanha",argentina:"Tema Argentina",chocolate:"Tema Chocolate",greenEye:"Tema Olho Verde",venezuela:"Tema Venezuela",blue:"Tema Azul",purple:"Tema Lils",brown:"Tema Marrom"},obstacles:{stone:"Pedra",ice:"Gelo",chain:"Corrente",fog:"Neblina",lock:"Cadeado"},difficulty:{selectDifficulty:"Selecione a Dificuldade",easy:"Fcil",medium:"Mdio",hard:"Difcil",easyDesc:"Mais tempo e menos cartas",mediumDesc:"Tempo normal e cartas normais",hardDesc:"Menos tempo e mais cartas"}}};function jN(){const t=navigator.language.toLowerCase();return t.startsWith("pt")?"pt-BR":t.startsWith("es")?"es":"en"}function SN(){const t=localStorage.getItem("gameLanguage");return t&&(t==="es"||t==="en"||t==="pt-BR")?t:jN()}function EN(t){localStorage.setItem("gameLanguage",t)}const u1=x.createContext(null);function Ca(){const t=x.useContext(u1);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t}function NN(){const[t,e]=x.useState(SN()),r=n=>{e(n),EN(n)},s=_N[t];return{language:t,setLanguage:r,t:s}}const fu=()=>{var c;const{language:t,setLanguage:e}=Ca(),[r,s]=x.useState(!1),n=x.useRef(null),i=[{code:"es",label:"ES"},{code:"en",label:"EN"},{code:"pt-BR",label:"PT"}];x.useEffect(()=>{const u=d=>{n.current&&!n.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const o=u=>{e(u),s(!1)},l=((c=i.find(u=>u.code===t))==null?void 0:c.label)||"ES";return a.jsxs("div",{ref:n,className:"fixed top-4 right-4 z-50",children:[a.jsxs("button",{onClick:()=>s(!r),className:"bg-white/90 backdrop-blur-sm hover:bg-white shadow-lg hover:shadow-xl rounded-full px-4 py-2 flex items-center gap-2 transition-all font-bold text-gray-800",children:[a.jsx(ES,{size:20}),a.jsx("span",{className:"text-sm",children:l})]}),r&&a.jsx("div",{className:"absolute top-full mt-2 right-0 bg-white rounded-lg shadow-xl overflow-hidden min-w-[80px]",children:i.map(u=>a.jsx("button",{onClick:()=>o(u.code),className:`w-full px-4 py-2 text-left hover:bg-blue-50 transition-colors font-bold text-sm ${t===u.code?"bg-blue-100 text-blue-700":"text-gray-700"}`,children:u.label},u.code))})]})},CN=({onStartLevel1:t,onContinueLevel:e,onStartDuel:r})=>{const{t:s}=Ca(),[n,i]=x.useState(1),[o,l]=x.useState(!0);return x.useEffect(()=>{hu().then(()=>{const c=Ea();i(c),l(!1),me.playStartMusic()})},[]),o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-400 via-blue-500 to-indigo-600 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-400 mx-auto mb-4"}),a.jsx("p",{className:"text-white text-xl font-bold",children:s.common.loading})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-400 via-blue-500 to-indigo-600 flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsx(fu,{}),a.jsx("div",{className:"absolute top-4 right-16 z-50 bg-white rounded-full shadow-lg",children:a.jsx(c1,{})}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-visible z-0",children:[a.jsx("div",{className:"absolute top-4 left-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-16 left-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-4 right-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-16 right-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 right-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-16 right-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 left-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-16 left-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/3 left-2 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/2 left-10 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/3 right-2 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/2 right-10 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})})]}),a.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-3xl shadow-2xl p-8 max-w-md w-full relative z-10",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:"/chatgpt_image_15_dic_2025,_11_02_21.png",alt:"Twin Clash",style:{width:"75%",maxWidth:"420px",margin:"0 auto"}})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{type:"button",onClick:t,className:"w-full bg-gradient-to-r from-blue-500 to-cyan-600 text-white py-5 rounded-xl font-bold text-2xl shadow-lg hover:shadow-xl transition-all hover:scale-105",children:s.common.play.toUpperCase()}),n>1&&a.jsxs("button",{type:"button",onClick:()=>e(n),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[s.common.level.toUpperCase()," ",n]}),a.jsxs("button",{type:"button",onClick:r,className:"w-full bg-gradient-to-r from-red-500 to-pink-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[a.jsx(Nb,{size:24}),a.jsx("span",{children:s.menu.playDuel.toUpperCase()})]})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-white/30",children:a.jsxs("div",{className:"flex justify-center gap-6 text-sm",children:[a.jsx("a",{href:"/terms",className:"text-white/90 hover:text-white font-semibold transition-colors",children:s.menu.privacyPolicy}),a.jsx("a",{href:"mailto:service@productionsbardi.com",className:"text-white/90 hover:text-white font-semibold transition-colors",children:s.menu.contact})]})})]})]})},TN=[{id:"small",coins:1e3,price:.99,priceLabel:"0,99"},{id:"medium",coins:1550,price:3.99,priceLabel:"3,99",popular:!0,bonus:50},{id:"large",coins:2400,price:7.99,priceLabel:"7,99",bonus:200},{id:"xlarge",coins:4e3,price:14.99,priceLabel:"14,99",bonus:700}];function d1({onClose:t}){const[e,r]=x.useState(null),[s,n]=x.useState(!1),[i,o]=x.useState(Ie());x.useEffect(()=>{const d=new URLSearchParams(window.location.search).get("payment");if(d==="success"){hu().then(()=>{o(Ie()),alert("Pago exitoso! Tus monedas han sido aadidas a tu cuenta.")});const h=new URL(window.location.href);h.searchParams.delete("payment"),window.history.replaceState({},"",h.toString())}else if(d==="cancelled"){const h=new URL(window.location.href);h.searchParams.delete("payment"),window.history.replaceState({},"",h.toString())}},[]);const l=u=>{r(u)},c=async()=>{if(e){n(!0);try{const u=localStorage.getItem("client_id");if(!u){alert("Error: No se pudo obtener el ID del cliente"),n(!1);return}console.log("=== INICIO DE COMPRA ==="),console.log("Paquete seleccionado:",e),console.log("Client ID:",u),console.log("URL:","https://fdlqyqeobwumyjuqgrpl.supabase.co"),console.log("Anon Key:","Presente"),console.log("========================");const d=await fetch("https://fdlqyqeobwumyjuqgrpl.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI","Content-Type":"application/json"},body:JSON.stringify({packageId:e.id,coins:e.coins+(e.bonus||0),price:Math.round(e.price*100),clientId:u})}),h=await d.json();if(console.log("=== DIAGNSTICO DE PAGO ==="),console.log("Status:",d.status),console.log("Response:",h),console.log("==========================="),!d.ok){console.error("Error response:",h),alert(`Error: ${h.error||"Error al procesar el pago"}

Revisa la consola para ms detalles.`);return}h.url?window.location.href=h.url:alert("Error al procesar el pago. Por favor, intenta de nuevo.")}catch(u){console.error("Error al crear checkout:",u),alert("Error al conectar con el servidor de pagos.")}finally{n(!1)}}};return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 overflow-y-auto",children:[a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-3xl p-6 max-w-2xl w-full shadow-2xl animate-scale-in relative my-auto max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors",children:a.jsx(In,{size:28})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("div",{className:"inline-block relative mb-4",children:[a.jsx("div",{className:"text-6xl",children:""}),a.jsx(Qt,{className:"absolute -top-2 -right-2 text-yellow-500 animate-pulse",size:24})]}),a.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-2",children:"Tienda de Monedas"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Mejora tu experiencia con monedas adicionales"}),a.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-md",children:[a.jsx(wr,{className:"text-yellow-500",size:20}),a.jsxs("span",{className:"font-bold text-gray-800",children:["Saldo actual: ",i]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:TN.map(u=>a.jsxs("button",{onClick:()=>l(u),className:`relative p-6 rounded-2xl transition-all transform ${(e==null?void 0:e.id)===u.id?"bg-gradient-to-br from-yellow-400 to-orange-500 scale-105 shadow-2xl":"bg-white hover:scale-105 shadow-lg"}`,children:[u.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"MS POPULAR"}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:`text-5xl font-black ${(e==null?void 0:e.id)===u.id?"text-white":"text-yellow-500"}`,children:u.coins.toLocaleString()}),u.bonus&&a.jsxs("div",{className:`text-sm font-semibold ${(e==null?void 0:e.id)===u.id?"text-yellow-100":"text-green-600"}`,children:["+",u.bonus," BONUS"]})]}),a.jsxs("div",{className:`flex items-center justify-center gap-1 mb-2 ${(e==null?void 0:e.id)===u.id?"text-white":"text-gray-600"}`,children:[a.jsx(wr,{size:20}),a.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]}),a.jsx("div",{className:`text-3xl font-black ${(e==null?void 0:e.id)===u.id?"text-white":"text-gray-800"}`,children:u.priceLabel}),(e==null?void 0:e.id)===u.id&&a.jsx("div",{className:"mt-3 text-white text-sm font-semibold",children:" Seleccionado"})]},u.id))}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-4",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[a.jsx(Qt,{className:"text-yellow-500",size:20}),"Por qu comprar monedas?"]}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsx("li",{children:" Desbloquea skins exclusivos para tus cartas"}),a.jsx("li",{children:" Usa power-ups para ayuda adicional en niveles difciles"}),a.jsx("li",{children:" Personaliza tu experiencia de juego"}),a.jsx("li",{children:" Progresa ms rpido en tu aventura"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:t,className:"px-6 py-4 rounded-2xl font-bold text-lg shadow-lg transition-all bg-gray-200 text-gray-700 hover:bg-gray-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[a.jsx(vr,{size:20}),"Volver"]}),a.jsx("button",{onClick:c,disabled:!e||s,className:`flex-1 py-4 rounded-2xl font-black text-xl shadow-lg transition-all ${e&&!s?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Procesando..."]}):a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(wS,{size:24}),e?`Pagar ${e.priceLabel}`:"Selecciona un paquete"]})})]}),a.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:"Pago seguro procesado por Stripe"})]}),a.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const gg=["world-1","world-2","world-3","world-4","world-5","world-6","world-7","world-8","world-9","world-10","world-11","world-12","world-13","world-14","world-15","world-16","world-17","world-18","world-19","world-20","world-21","world-22","world-23","world-24","world-25","world-26","world-27","world-28","world-29","world-30","world-31","world-32","world-33","world-34","world-35","world-36","world-37","world-38","world-39","world-40","world-41","world-42","world-43","world-44","world-45","world-46","world-47","world-48","world-49","world-50"];async function PN(t){try{const e=mr(),{data:r,error:s}=await _e.from("world_progress").select("purchased, levels").eq("client_id",e).eq("world_id",t).maybeSingle();if(s)throw s;return r?{purchased:!!r.purchased,levels:r.levels||[]}:null}catch(e){return console.error("Error reading world from Supabase:",e),IN(t)}}async function RN(t,e){try{const r=mr(),{error:s}=await _e.from("world_progress").upsert({client_id:r,world_id:t,purchased:e.purchased,levels:e.levels,updated_at:new Date().toISOString()},{onConflict:"client_id,world_id"});if(s)throw s;yg(t,e)}catch(r){console.error("Error writing world to Supabase:",r),yg(t,e)}}function IN(t){const e=localStorage.getItem(`progress.${t}`);return e?JSON.parse(e):null}function yg(t,e){localStorage.setItem(`progress.${t}`,JSON.stringify(e))}async function Vs(t){return await PN(t)}async function Ui(t,e){await RN(t,e)}async function h1(t,e){var o;console.log("[ensureWorld] ===================================="),console.log("[ensureWorld] START",{worldId:t,totalLevels:e});const r=await Vs(t);if(console.log("[ensureWorld] Existing state from DB:",JSON.stringify(r,null,2)),r&&((o=r.levels)==null?void 0:o.length)>=e){console.log("[ensureWorld]  World already has",r.levels.length,"levels (need",e,"), skipping"),console.log("[ensureWorld] Current levels state:",r.levels.map((l,c)=>`L${c+1}: ${l.unlocked?"":""} ${l.completed?"":""}`).join(" | ")),console.log("[ensureWorld] ====================================");return}const s=(r==null?void 0:r.purchased)??t==="world-1";if(r&&r.levels&&r.levels.length>0){for(console.log("[ensureWorld]  Extending existing levels from",r.levels.length,"to",e),console.log("[ensureWorld]  PRESERVING existing progress!");r.levels.length<e;)r.levels.push({unlocked:!1,completed:!1,stars:0});console.log("[ensureWorld] Extended state:",JSON.stringify(r,null,2)),await Ui(t,r),console.log("[ensureWorld]  COMPLETE (extended)"),console.log("[ensureWorld] ====================================");return}console.log("[ensureWorld]  Creating new world state (no existing data)");const n=Array.from({length:e},(l,c)=>({unlocked:s&&c===0,completed:!1,stars:0})),i={purchased:s,levels:n};console.log("[ensureWorld] New state:",JSON.stringify(i,null,2)),await Ui(t,i),console.log("[ensureWorld]  COMPLETE (new)"),console.log("[ensureWorld] ====================================")}async function Hm(t){const e=await Vs(t);return!!(e!=null&&e.purchased)}async function f1(t){const e=await Vs(t);return e?e.levels.length>0&&e.levels.every(r=>r.completed===!0):!1}async function LN(t){if(t==="world-1"||await Hm(t))return!0;const e=gg.indexOf(t);if(e<=0)return!0;const r=gg[e-1];return await f1(r)}async function m1(t,e){const r=await Vs(t)??{purchased:!1,levels:[]};return r.purchased?{ok:!0}:Wm(e)?(r.purchased=!0,r.levels.length?r.levels[0].unlocked=!0:r.levels=[{unlocked:!0,completed:!1,stars:0}],await Ui(t,r),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function ON(t,e,r){if(e<1)return{ok:!1,reason:"Nivel invlido"};if(e===1)return{ok:!0};const s=await Vs(t);if(!s)return{ok:!1,reason:"Mundo no encontrado"};const n=e-1;if(n>=s.levels.length)return{ok:!1,reason:"Nivel inexistente"};const i=s.levels[n];return i.unlocked?{ok:!0}:Wm(r)?(i.unlocked=!0,await Ui(t,s),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function MN(t,e,r=0){console.log("[completeWorldLevel] ===================================="),console.log("[completeWorldLevel] START",{worldId:t,level:e,stars:r});const s=await Vs(t);if(console.log("[completeWorldLevel] Current state from DB:",JSON.stringify(s,null,2)),!s)throw console.error("[completeWorldLevel]  World not found!",t),new Error("World not found");const n=e-1,i=s.levels[n];if(!i)throw console.error("[completeWorldLevel]  Level not found!",{worldId:t,level:e,idx:n,levelsLength:s.levels.length}),new Error("Level not found");console.log("[completeWorldLevel]  Target Level:",e,"(array index:",n,")"),console.log("[completeWorldLevel]  Before update:",{completed:i.completed,unlocked:i.unlocked,stars:i.stars}),i.completed=!0,i.stars=Math.max(i.stars,Math.max(0,Math.min(3,r))),console.log("[completeWorldLevel]  Marked level",e,"as completed");const o=s.levels[n+1];o&&!o.unlocked?(console.log("[completeWorldLevel]  Unlocking next level:",n+2),o.unlocked=!0):console.log(o?"[completeWorldLevel]  Next level already unlocked":"[completeWorldLevel]  No next level (end of world)"),console.log("[completeWorldLevel]  Writing state to DB..."),console.log("[completeWorldLevel] State to write:",JSON.stringify(s,null,2)),await Ui(t,s),console.log("[completeWorldLevel]  COMPLETE"),console.log("[completeWorldLevel] ====================================")}async function AN(t){return await Vs(t)??{purchased:!1,levels:[]}}function DN(t){return`world-${Math.ceil(t/5)}`}function zN(t){return(t-1)%5+1}const Lc={"world-1":0,"world-2":300,"world-3":500,"world-4":700,"world-5":1e3,"world-6":1500,"world-7":2e3,"world-8":2500,"world-9":3e3,"world-10":4e3,"world-11":5e3,"world-12":6e3,"world-13":7e3,"world-14":8e3,"world-15":9e3,"world-16":1e4,"world-17":11e3,"world-18":12e3,"world-19":13e3,"world-20":14e3,"world-21":15e3,"world-22":16e3,"world-23":17e3,"world-24":18e3,"world-25":19e3,"world-26":2e4,"world-27":21e3,"world-28":22e3,"world-29":23e3,"world-30":24e3,"world-31":25e3,"world-32":26e3,"world-33":27e3,"world-34":28e3,"world-35":29e3,"world-36":3e4,"world-37":31e3,"world-38":32e3,"world-39":33e3,"world-40":34e3,"world-41":35e3,"world-42":36e3,"world-43":37e3,"world-44":38e3,"world-45":39e3,"world-46":4e4,"world-47":41e3,"world-48":42e3,"world-49":43e3,"world-50":44e3},vg=100;async function fd(t){const e=`world-${t}`,r=await Vs(e),s={purchased:!0,levels:(r==null?void 0:r.levels)||[{unlocked:!0,completed:!1,stars:0}]};s.levels.length===0?s.levels=[{unlocked:!0,completed:!1,stars:0}]:s.levels[0].unlocked=!0,await Ui(e,s)}async function $N(){const t=[];for(let e=1;e<=28;e++){const r=`world-${e}`;await Hm(r)&&t.push(e)}return t}const FN=[bc,Em,wc,Nm,kc,Pm,Cm,xc,Qt,Sm],UN=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],BN=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}],VN=({onClose:t,onSkinChanged:e})=>{const[r,s]=x.useState(Ie()),[n,i]=x.useState({1:!0}),[o,l]=x.useState(!0),[c,u]=x.useState(null),[d,h]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const v={1:!0};for(let b=2;b<=10;b++){const y=await Hm(`world-${b}`);v[b]=y}i(v)}catch(v){console.error("Error loading worlds:",v)}finally{l(!1)}})()},[]);const f=async p=>{if(c)return;const v=`world-${p}`,b=Lc[v];if(r<b){alert("No tienes suficientes monedas");return}u(p);try{const y=await m1(v,b);y.ok?(s(Ie()),i({...n,[p]:!0})):alert(y.reason)}catch(y){console.error("Error en compra:",y)}finally{u(null)}},m=Object.values(n).filter(Boolean).length;return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[a.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Tienda de Mundos"}),a.jsx("button",{type:"button",onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(In,{size:24})})]}),a.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-3 mb-4",children:[a.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Desbloquea mundos para acceder a nuevos niveles y desafos."}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Al comprar un mundo, solo se desbloquea el nivel 1. Los dems niveles se desbloquean jugando."})]}),a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[a.jsx(wr,{size:20,className:"text-white"}),a.jsx("span",{className:"text-xl font-bold text-white",children:r})]}),a.jsxs("div",{className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-3 flex items-center justify-center gap-2",children:[a.jsx(Qt,{size:20,className:"text-white"}),a.jsxs("span",{className:"text-xl font-bold text-white",children:[m,"/10"]})]})]}),a.jsxs("button",{onClick:()=>h(!0),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold shadow-lg hover:scale-105 active:scale-95 transition-all mb-4 flex items-center justify-center gap-2",children:[a.jsx(_b,{size:20}),"Comprar Monedas"]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6,7,8,9,10].map(p=>{const v=n[p]??!1,b=FN[p-1],y=BN[p-1],g=`world-${p}`,w=Lc[g];return a.jsx("div",{className:`border-2 rounded-xl p-4 transition-all ${v?"border-green-500 bg-green-50":"border-gray-200"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${y.from} ${y.to}`,children:a.jsx(b,{size:32,className:"text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h3",{className:"font-bold text-lg",children:["Mundo ",p]}),v&&a.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-0.5 rounded-full font-bold",children:"Desbloqueado"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:UN[p-1]}),p===1&&a.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Gratis  5 niveles desbloqueados"}),p>1&&!v&&a.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Al comprar se desbloquea el nivel 1"}),!v&&p>1&&a.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[a.jsx(wr,{size:16,className:"text-yellow-500"}),a.jsx("span",{className:"font-semibold",children:w})]}),a.jsx("div",{className:"mt-2",children:v?a.jsxs("div",{className:"text-sm text-green-600 font-semibold flex items-center gap-1",children:[a.jsx(As,{size:16}),"Desbloqueado"]}):a.jsxs("button",{type:"button",onClick:()=>f(p),disabled:r<w||c===p,className:"bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[a.jsx(Rn,{size:16}),c===p?"Comprando...":"Desbloquear"]})})]})]})},p)})})}),a.jsx("button",{type:"button",onClick:t,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]}),d&&a.jsx(d1,{onClose:()=>{h(!1),s(Ie())}})]})},WN=({onClose:t})=>{const[e,r]=x.useState(!1),[s,n]=x.useState(!0),[i,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(""),[h,f]=x.useState(""),[m,p]=x.useState("worlds"),[v,b]=x.useState(""),[y,g]=x.useState(""),[w,k]=x.useState("https://twinclash.org/"),[j,_]=x.useState(""),[E,N]=x.useState(!1),[F,I]=x.useState(null),[V,z]=x.useState(null),Fe="admin2024";x.useEffect(()=>{const O=localStorage.getItem("push_admin_key");O&&_(O)},[]),x.useEffect(()=>{je()},[]);const je=async()=>{try{const O=mr(),{data:Te,error:ht}=await _e.from("profiles").select("is_admin").eq("client_id",O).maybeSingle();!ht&&(Te!=null&&Te.is_admin)&&r(!0)}catch(O){console.error("Error checking admin status:",O)}finally{n(!1)}},zt=async()=>{const O=await $N();o(O)},Y=()=>{u===Fe?(c(!1),zt(),f("")):(f("Contrasea incorrecta"),d(""))},ve=async O=>{i.includes(O)?await R(O):await fd(O),await zt()},R=async O=>{const Te=mr();await _e.from("world_progress").delete().eq("client_id",Te).eq("world_id",`world-${O}`)},D=async()=>{for(let O=1;O<=10;O++)await fd(O);await zt()},U=async()=>{const O=mr();await _e.from("world_progress").delete().eq("client_id",O),await fd(1),await zt()},de=async()=>{if(!v.trim()||!y.trim()||!j.trim()){z("Title, body, and admin key are required");return}N(!0),z(null),I(null);try{localStorage.setItem("push_admin_key",j);const O=await fetch("/.netlify/functions/send-push",{method:"POST",headers:{"Content-Type":"application/json","x-admin-key":j},body:JSON.stringify({title:v,body:y,url:w})}),Te=await O.json();if(!O.ok)throw new Error(Te.error||"Failed to send notifications");I(Te),b(""),g(""),k("https://twinclash.org/")}catch(O){z(O.message||"Failed to send notifications")}finally{N(!1)}};return s?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:a.jsx("div",{className:"text-center",children:"Verificando permisos..."})})}):e?l?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Contrasea Admin"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(In,{size:20})})]}),a.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-4",children:a.jsx("p",{className:"text-sm text-yellow-800",children:" Ingresa la contrasea de administrador para acceder al panel"})}),a.jsx("input",{type:"password",value:u,onChange:O=>d(O.target.value),onKeyPress:O=>O.key==="Enter"&&Y(),placeholder:"Contrasea",className:"w-full px-4 py-3 border border-gray-300 rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),h&&a.jsx("p",{className:"text-sm text-red-600 mb-4",children:h}),a.jsx("button",{onClick:Y,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Acceder"})]})}):a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Panel Admin"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(In,{size:20})})]}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("button",{onClick:()=>p("worlds"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${m==="worlds"?"bg-gradient-to-r from-purple-500 to-pink-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Mundos"}),a.jsxs("button",{onClick:()=>p("push"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ${m==="push"?"bg-gradient-to-r from-purple-500 to-pink-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(_m,{size:16}),"Push"]})]}),m==="worlds"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-4 mb-4",children:[a.jsx("div",{className:"text-sm font-semibold text-purple-800 mb-2",children:"Gestionar Mundos"}),a.jsx("p",{className:"text-xs text-purple-600",children:"Toca un mundo para bloquearlo/desbloquearlo"})]}),a.jsx("div",{className:"space-y-2 mb-4",children:[1,2,3,4,5,6,7,8,9,10].map(O=>{const Te=i.includes(O);return a.jsxs("button",{onClick:()=>ve(O),className:`w-full flex items-center justify-between p-3 rounded-xl font-semibold transition-all ${Te?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[a.jsxs("span",{children:["Mundo ",O]}),Te?a.jsx(BS,{size:18,className:"text-green-600"}):a.jsx(Rn,{size:18,className:"text-red-600"})]},O)})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("button",{onClick:D,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Desbloquear Todos"}),a.jsx("button",{onClick:U,className:"bg-gradient-to-r from-red-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Bloquear Todos"})]})]}),m==="push"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-cyan-100 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Enviar Notificaciones Push"}),a.jsx("p",{className:"text-xs text-blue-600",children:"Enva notificaciones a todos los usuarios registrados"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Key"}),a.jsx("input",{type:"password",value:j,onChange:O=>_(O.target.value),placeholder:"Enter admin key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),a.jsx("input",{type:"text",value:v,onChange:O=>b(O.target.value),placeholder:"Notification title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),a.jsx("textarea",{value:y,onChange:O=>g(O.target.value),placeholder:"Notification message",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:w,onChange:O=>k(O.target.value),placeholder:"https://twinclash.org/",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),a.jsxs("button",{onClick:de,disabled:E,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all hover:shadow-lg",children:[a.jsx(Bh,{className:"w-4 h-4"}),E?"Enviando...":"Enviar a Todos"]}),V&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 text-sm text-red-800",children:V}),F&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-3 text-sm text-green-800",children:[a.jsx("div",{className:"font-semibold mb-1",children:"Enviado Exitosamente!"}),a.jsxs("div",{children:["Enviados: ",F.sent]}),a.jsxs("div",{children:["Fallidos: ",F.failed]})]})]})]})}):a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Acceso Denegado"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"No tienes permisos de administrador"}),a.jsx("button",{onClick:t,className:"w-full bg-gray-200 text-gray-800 py-3 rounded-xl font-bold hover:bg-gray-300 transition-colors",children:"Cerrar"})]})})})},qN=()=>{};var wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=function(t){const e=[];let r=0;for(let s=0;s<t.length;s++){let n=t.charCodeAt(s);n<128?e[r++]=n:n<2048?(e[r++]=n>>6|192,e[r++]=n&63|128):(n&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++s)&1023),e[r++]=n>>18|240,e[r++]=n>>12&63|128,e[r++]=n>>6&63|128,e[r++]=n&63|128):(e[r++]=n>>12|224,e[r++]=n>>6&63|128,e[r++]=n&63|128)}return e},HN=function(t){const e=[];let r=0,s=0;for(;r<t.length;){const n=t[r++];if(n<128)e[s++]=String.fromCharCode(n);else if(n>191&&n<224){const i=t[r++];e[s++]=String.fromCharCode((n&31)<<6|i&63)}else if(n>239&&n<365){const i=t[r++],o=t[r++],l=t[r++],c=((n&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[r++],o=t[r++];e[s++]=String.fromCharCode((n&15)<<12|(i&63)<<6|o&63)}}return e.join("")},g1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let n=0;n<t.length;n+=3){const i=t[n],o=n+1<t.length,l=o?t[n+1]:0,c=n+2<t.length,u=c?t[n+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;c||(m=64,o||(f=64)),s.push(r[d],r[h],r[f],r[m])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let n=0;n<t.length;){const i=r[t.charAt(n++)],l=n<t.length?r[t.charAt(n)]:0;++n;const u=n<t.length?r[t.charAt(n)]:64;++n;const h=n<t.length?r[t.charAt(n)]:64;if(++n,i==null||l==null||u==null||h==null)throw new GN;const f=i<<2|l>>4;if(s.push(f),u!==64){const m=l<<4&240|u>>2;if(s.push(m),h!==64){const p=u<<6&192|h;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KN=function(t){const e=p1(t);return g1.encodeByteArray(e,!0)},y1=function(t){return KN(t).replace(/\./g,"")},JN=function(t){try{return g1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=()=>YN().__FIREBASE_DEFAULTS__,XN=()=>{if(typeof process>"u"||typeof wg>"u")return;const t=wg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JN(t[1]);return e&&JSON.parse(e)},eC=()=>{try{return qN()||QN()||XN()||ZN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v1=()=>{var t;return(t=eC())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}function w1(){try{return typeof indexedDB=="object"}catch{return!1}}function b1(){return new Promise((t,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(s);n.onsuccess=()=>{n.result.close(),r||self.indexedDB.deleteDatabase(s),t(!0)},n.onupgradeneeded=()=>{r=!1},n.onerror=()=>{var i;e(((i=n.error)==null?void 0:i.message)||"")}}catch(r){e(r)}})}function rC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="FirebaseError";class Qi extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=sC,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},n=`${this.service}/${e}`,i=this.errors[e],o=i?nC(i,s):"Error",l=`${this.serviceName}: ${o} (${n}).`;return new Qi(n,l,s)}}function nC(t,e){return t.replace(iC,(r,s)=>{const n=e[s];return n!=null?String(n):`<${s}?>`})}const iC=/\{\$([^}]+)}/g;function cf(t,e){if(t===e)return!0;const r=Object.keys(t),s=Object.keys(e);for(const n of r){if(!s.includes(n))return!1;const i=t[n],o=e[n];if(bg(i)&&bg(o)){if(!cf(i,o))return!1}else if(i!==o)return!1}for(const n of s)if(!r.includes(n))return!1;return!0}function bg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new tC;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:r});n&&s.resolve(n)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(n){if(s)return null;throw n}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lC(e))try{this.getOrInitializeService({instanceIdentifier:hn})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:n});s.resolve(i)}catch{}}}}clearInstance(e=hn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hn){return this.instances.has(e)}getOptions(e=hn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(n)}return n}onInit(e,r){const s=this.normalizeInstanceIdentifier(r),n=this.onInitCallbacks.get(s)??new Set;n.add(e),this.onInitCallbacks.set(s,n);const i=this.instances.get(s);return i&&e(i,s),()=>{n.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const n of s)try{n(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aC(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hn){return this.component?this.component.multipleInstances?e:hn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aC(t){return t===hn?void 0:t}function lC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new oC(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const uC={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},dC=xe.INFO,hC={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},fC=(t,e,...r)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),n=hC[e];if(n)console[n](`[${s}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mC{constructor(e){this.name=e,this._logLevel=dC,this._logHandler=fC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const pC=(t,e)=>e.some(r=>t instanceof r);let xg,kg;function gC(){return xg||(xg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yC(){return kg||(kg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k1=new WeakMap,uf=new WeakMap,_1=new WeakMap,md=new WeakMap,Gm=new WeakMap;function vC(t){const e=new Promise((r,s)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Jr(t.result)),n()},o=()=>{s(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&k1.set(r,t)}).catch(()=>{}),Gm.set(e,t),e}function wC(t){if(uf.has(t))return;const e=new Promise((r,s)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),n()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});uf.set(t,e)}let df={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return uf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_1.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Jr(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bC(t){df=t(df)}function xC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=t.call(pd(this),e,...r);return _1.set(s,e.sort?e.sort():[e]),Jr(s)}:yC().includes(t)?function(...e){return t.apply(pd(this),e),Jr(k1.get(this))}:function(...e){return Jr(t.apply(pd(this),e))}}function kC(t){return typeof t=="function"?xC(t):(t instanceof IDBTransaction&&wC(t),pC(t,gC())?new Proxy(t,df):t)}function Jr(t){if(t instanceof IDBRequest)return vC(t);if(md.has(t))return md.get(t);const e=kC(t);return e!==t&&(md.set(t,e),Gm.set(e,t)),e}const pd=t=>Gm.get(t);function pu(t,e,{blocked:r,upgrade:s,blocking:n,terminated:i}={}){const o=indexedDB.open(t,e),l=Jr(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Jr(o.result),c.oldVersion,c.newVersion,Jr(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),n&&c.addEventListener("versionchange",u=>n(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function gd(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",s=>e(s.oldVersion,s)),Jr(r).then(()=>{})}const _C=["get","getKey","getAll","getAllKeys","count"],jC=["put","add","delete","clear"],yd=new Map;function _g(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yd.get(e))return yd.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,n=jC.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(n||_C.includes(r)))return;const i=async function(o,...l){const c=this.transaction(o,n?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),n&&c.done]))[0]};return yd.set(e,i),i}bC(t=>({...t,get:(e,r,s)=>_g(e,r)||t.get(e,r,s),has:(e,r)=>!!_g(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(EC(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function EC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hf="@firebase/app",jg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new mC("@firebase/app"),NC="@firebase/app-compat",CC="@firebase/analytics-compat",TC="@firebase/analytics",PC="@firebase/app-check-compat",RC="@firebase/app-check",IC="@firebase/auth",LC="@firebase/auth-compat",OC="@firebase/database",MC="@firebase/data-connect",AC="@firebase/database-compat",DC="@firebase/functions",zC="@firebase/functions-compat",$C="@firebase/installations",FC="@firebase/installations-compat",UC="@firebase/messaging",BC="@firebase/messaging-compat",VC="@firebase/performance",WC="@firebase/performance-compat",qC="@firebase/remote-config",HC="@firebase/remote-config-compat",GC="@firebase/storage",KC="@firebase/storage-compat",JC="@firebase/firestore",YC="@firebase/ai",QC="@firebase/firestore-compat",XC="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="[DEFAULT]",ZC={[hf]:"fire-core",[NC]:"fire-core-compat",[TC]:"fire-analytics",[CC]:"fire-analytics-compat",[RC]:"fire-app-check",[PC]:"fire-app-check-compat",[IC]:"fire-auth",[LC]:"fire-auth-compat",[OC]:"fire-rtdb",[MC]:"fire-data-connect",[AC]:"fire-rtdb-compat",[DC]:"fire-fn",[zC]:"fire-fn-compat",[$C]:"fire-iid",[FC]:"fire-iid-compat",[UC]:"fire-fcm",[BC]:"fire-fcm-compat",[VC]:"fire-perf",[WC]:"fire-perf-compat",[qC]:"fire-rc",[HC]:"fire-rc-compat",[GC]:"fire-gcs",[KC]:"fire-gcs-compat",[JC]:"fire-fst",[QC]:"fire-fst-compat",[YC]:"fire-vertex","fire-js":"fire-js",[XC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new Map,e3=new Map,mf=new Map;function Sg(t,e){try{t.container.addComponent(e)}catch(r){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ln(t){const e=t.name;if(mf.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;mf.set(e,t);for(const r of Oc.values())Sg(r,t);for(const r of e3.values())Sg(r,t);return!0}function Km(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new mu("app","Firebase",t3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,r,s){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}function j1(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const s={name:ff,automaticDataCollectionEnabled:!0,...e},n=s.name;if(typeof n!="string"||!n)throw Ps.create("bad-app-name",{appName:String(n)});if(r||(r=v1()),!r)throw Ps.create("no-options");const i=Oc.get(n);if(i){if(cf(r,i.options)&&cf(s,i.config))return i;throw Ps.create("duplicate-app",{appName:n})}const o=new cC(n);for(const c of mf.values())o.addComponent(c);const l=new r3(r,s,o);return Oc.set(n,l),l}function s3(t=ff){const e=Oc.get(t);if(!e&&t===ff&&v1())return j1();if(!e)throw Ps.create("no-app",{appName:t});return e}function Rs(t,e,r){let s=ZC[t]??t;r&&(s+=`-${r}`);const n=s.match(/\s|\//),i=e.match(/\s|\//);if(n||i){const o=[`Unable to register library "${s}" with version "${e}":`];n&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),n&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(o.join(" "));return}Ln(new Ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="firebase-heartbeat-database",i3=1,ca="firebase-heartbeat-store";let vd=null;function S1(){return vd||(vd=pu(n3,i3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ca)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),vd}async function o3(t){try{const r=(await S1()).transaction(ca),s=await r.objectStore(ca).get(E1(t));return await r.done,s}catch(e){if(e instanceof Qi)es.warn(e.message);else{const r=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(r.message)}}}async function Eg(t,e){try{const s=(await S1()).transaction(ca,"readwrite");await s.objectStore(ca).put(e,E1(t)),await s.done}catch(r){if(r instanceof Qi)es.warn(r.message);else{const s=Ps.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});es.warn(s.message)}}}function E1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=1024,l3=30;class c3{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new d3(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ng();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>l3){const o=h3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){es.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ng(),{heartbeatsToSend:s,unsentEntries:n}=u3(this._heartbeatsCache.heartbeats),i=y1(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return es.warn(r),""}}}function Ng(){return new Date().toISOString().substring(0,10)}function u3(t,e=a3){const r=[];let s=t.slice();for(const n of t){const i=r.find(o=>o.agent===n.agent);if(i){if(i.dates.push(n.date),Cg(r)>e){i.dates.pop();break}}else if(r.push({agent:n.agent,dates:[n.date]}),Cg(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class d3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w1()?b1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await o3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Eg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Eg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Cg(t){return y1(JSON.stringify({version:2,heartbeats:t})).length}function h3(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let s=1;s<t.length;s++)t[s].date<r&&(r=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){Ln(new Ds("platform-logger",e=>new SC(e),"PRIVATE")),Ln(new Ds("heartbeat",e=>new c3(e),"PRIVATE")),Rs(hf,jg,t),Rs(hf,jg,"esm2020"),Rs("fire-js","")}f3("");const N1="@firebase/installations",Jm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=1e4,T1=`w:${Jm}`,P1="FIS_v2",m3="https://firebaseinstallations.googleapis.com/v1",p3=60*60*1e3,g3="installations",y3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},On=new mu(g3,y3,v3);function R1(t){return t instanceof Qi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1({projectId:t}){return`${m3}/projects/${t}/installations`}function L1(t){return{token:t.token,requestStatus:2,expiresIn:b3(t.expiresIn),creationTime:Date.now()}}async function O1(t,e){const s=(await e.json()).error;return On.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function M1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function w3(t,{refreshToken:e}){const r=M1(t);return r.append("Authorization",x3(e)),r}async function A1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function b3(t){return Number(t.replace("s","000"))}function x3(t){return`${P1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const s=I1(t),n=M1(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&n.append("x-firebase-client",u)}const o={fid:r,authVersion:P1,appId:t.appId,sdkVersion:T1},l={method:"POST",headers:n,body:JSON.stringify(o)},c=await A1(()=>fetch(s,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:L1(u.authToken)}}else throw await O1("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=/^[cdef][\w-]{21}$/,pf="";function S3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=E3(t);return j3.test(r)?r:pf}catch{return pf}}function E3(t){return _3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Map;function $1(t,e){const r=gu(t);F1(r,e),N3(r,e)}function F1(t,e){const r=z1.get(t);if(r)for(const s of r)s(e)}function N3(t,e){const r=C3();r&&r.postMessage({key:t,fid:e}),T3()}let xn=null;function C3(){return!xn&&"BroadcastChannel"in self&&(xn=new BroadcastChannel("[Firebase] FID Change"),xn.onmessage=t=>{F1(t.data.key,t.data.fid)}),xn}function T3(){z1.size===0&&xn&&(xn.close(),xn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="firebase-installations-database",R3=1,Mn="firebase-installations-store";let wd=null;function Ym(){return wd||(wd=pu(P3,R3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Mn)}}})),wd}async function Mc(t,e){const r=gu(t),n=(await Ym()).transaction(Mn,"readwrite"),i=n.objectStore(Mn),o=await i.get(r);return await i.put(e,r),await n.done,(!o||o.fid!==e.fid)&&$1(t,e.fid),e}async function U1(t){const e=gu(t),s=(await Ym()).transaction(Mn,"readwrite");await s.objectStore(Mn).delete(e),await s.done}async function yu(t,e){const r=gu(t),n=(await Ym()).transaction(Mn,"readwrite"),i=n.objectStore(Mn),o=await i.get(r),l=e(o);return l===void 0?await i.delete(r):await i.put(l,r),await n.done,l&&(!o||o.fid!==l.fid)&&$1(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qm(t){let e;const r=await yu(t.appConfig,s=>{const n=I3(s),i=L3(t,n);return e=i.registrationPromise,i.installationEntry});return r.fid===pf?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function I3(t){const e=t||{fid:S3(),registrationStatus:0};return B1(e)}function L3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(On.create("app-offline"));return{installationEntry:e,registrationPromise:n}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=O3(t,r);return{installationEntry:r,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:M3(t)}:{installationEntry:e}}async function O3(t,e){try{const r=await k3(t,e);return Mc(t.appConfig,r)}catch(r){throw R1(r)&&r.customData.serverCode===409?await U1(t.appConfig):await Mc(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function M3(t){let e=await Tg(t.appConfig);for(;e.registrationStatus===1;)await D1(100),e=await Tg(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await Qm(t);return s||r}return e}function Tg(t){return yu(t,e=>{if(!e)throw On.create("installation-not-found");return B1(e)})}function B1(t){return A3(t)?{fid:t.fid,registrationStatus:0}:t}function A3(t){return t.registrationStatus===1&&t.registrationTime+C1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3({appConfig:t,heartbeatServiceProvider:e},r){const s=z3(t,r),n=w3(t,r),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&n.append("x-firebase-client",u)}const o={installation:{sdkVersion:T1,appId:t.appId}},l={method:"POST",headers:n,body:JSON.stringify(o)},c=await A1(()=>fetch(s,l));if(c.ok){const u=await c.json();return L1(u)}else throw await O1("Generate Auth Token",c)}function z3(t,{fid:e}){return`${I1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xm(t,e=!1){let r;const s=await yu(t.appConfig,i=>{if(!V1(i))throw On.create("not-registered");const o=i.authToken;if(!e&&U3(o))return i;if(o.requestStatus===1)return r=$3(t,e),i;{if(!navigator.onLine)throw On.create("app-offline");const l=V3(i);return r=F3(t,l),l}});return r?await r:s.authToken}async function $3(t,e){let r=await Pg(t.appConfig);for(;r.authToken.requestStatus===1;)await D1(100),r=await Pg(t.appConfig);const s=r.authToken;return s.requestStatus===0?Xm(t,e):s}function Pg(t){return yu(t,e=>{if(!V1(e))throw On.create("not-registered");const r=e.authToken;return W3(r)?{...e,authToken:{requestStatus:0}}:e})}async function F3(t,e){try{const r=await D3(t,e),s={...e,authToken:r};return await Mc(t.appConfig,s),r}catch(r){if(R1(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await U1(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Mc(t.appConfig,s)}throw r}}function V1(t){return t!==void 0&&t.registrationStatus===2}function U3(t){return t.requestStatus===2&&!B3(t)}function B3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+p3}function V3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function W3(t){return t.requestStatus===1&&t.requestTime+C1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t){const e=t,{installationEntry:r,registrationPromise:s}=await Qm(e);return s?s.catch(console.error):Xm(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e=!1){const r=t;return await G3(r),(await Xm(r,e)).token}async function G3(t){const{registrationPromise:e}=await Qm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){if(!t||!t.options)throw bd("App Configuration");if(!t.name)throw bd("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw bd(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function bd(t){return On.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="installations",J3="installations-internal",Y3=t=>{const e=t.getProvider("app").getImmediate(),r=K3(e),s=Km(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Q3=t=>{const e=t.getProvider("app").getImmediate(),r=Km(e,W1).getImmediate();return{getId:()=>q3(r),getToken:n=>H3(r,n)}};function X3(){Ln(new Ds(W1,Y3,"PUBLIC")),Ln(new Ds(J3,Q3,"PRIVATE"))}X3();Rs(N1,Jm);Rs(N1,Jm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="/firebase-messaging-sw.js",e4="/firebase-cloud-messaging-push-scope",q1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",t4="https://fcmregistrations.googleapis.com/v1",H1="google.c.a.c_id",r4="google.c.a.c_l",s4="google.c.a.ts",n4="google.c.a.e",Rg=1e4;var Ig;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Ig||(Ig={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ua;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ua||(ua={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function i4(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(r),n=new Uint8Array(s.length);for(let i=0;i<s.length;++i)n[i]=s.charCodeAt(i);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="fcm_token_details_db",o4=5,Lg="fcm_token_object_Store";async function a4(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(xd))return null;let e=null;return(await pu(xd,o4,{upgrade:async(s,n,i,o)=>{if(n<2||!s.objectStoreNames.contains(Lg))return;const l=o.objectStore(Lg),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(n===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:u.createTime??Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Br(u.vapidKey)}}}else if(n===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Br(u.auth),p256dh:Br(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Br(u.vapidKey)}}}else if(n===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Br(u.auth),p256dh:Br(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Br(u.vapidKey)}}}}}})).close(),await gd(xd),await gd("fcm_vapid_details_db"),await gd("undefined"),l4(e)?e:null}function l4(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="firebase-messaging-database",u4=1,da="firebase-messaging-store";let kd=null;function G1(){return kd||(kd=pu(c4,u4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(da)}}})),kd}async function d4(t){const e=K1(t),s=await(await G1()).transaction(da).objectStore(da).get(e);if(s)return s;{const n=await a4(t.appConfig.senderId);if(n)return await Zm(t,n),n}}async function Zm(t,e){const r=K1(t),n=(await G1()).transaction(da,"readwrite");return await n.objectStore(da).put(e,r),await n.done,e}function K1({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},pt=new mu("messaging","Messaging",h4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e){const r=await tp(t),s=J1(e),n={method:"POST",headers:r,body:JSON.stringify(s)};let i;try{i=await(await fetch(ep(t.appConfig),n)).json()}catch(o){throw pt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw pt.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw pt.create("token-subscribe-no-token");return i.token}async function m4(t,e){const r=await tp(t),s=J1(e.subscriptionOptions),n={method:"PATCH",headers:r,body:JSON.stringify(s)};let i;try{i=await(await fetch(`${ep(t.appConfig)}/${e.token}`,n)).json()}catch(o){throw pt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw pt.create("token-update-failed",{errorInfo:o})}if(!i.token)throw pt.create("token-update-no-token");return i.token}async function p4(t,e){const s={method:"DELETE",headers:await tp(t)};try{const i=await(await fetch(`${ep(t.appConfig)}/${e}`,s)).json();if(i.error){const o=i.error.message;throw pt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(n){throw pt.create("token-unsubscribe-failed",{errorInfo:n==null?void 0:n.toString()})}}function ep({projectId:t}){return`${t4}/projects/${t}/registrations`}async function tp({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function J1({p256dh:t,auth:e,endpoint:r,vapidKey:s}){const n={web:{endpoint:r,auth:e,p256dh:t}};return s!==q1&&(n.web.applicationPubKey=s),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=7*24*60*60*1e3;async function y4(t){const e=await w4(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Br(e.getKey("auth")),p256dh:Br(e.getKey("p256dh"))},s=await d4(t.firebaseDependencies);if(s){if(b4(s.subscriptionOptions,r))return Date.now()>=s.createTime+g4?v4(t,{token:s.token,createTime:Date.now(),subscriptionOptions:r}):s.token;try{await p4(t.firebaseDependencies,s.token)}catch(n){console.warn(n)}return Og(t.firebaseDependencies,r)}else return Og(t.firebaseDependencies,r)}async function v4(t,e){try{const r=await m4(t.firebaseDependencies,e),s={...e,token:r,createTime:Date.now()};return await Zm(t.firebaseDependencies,s),r}catch(r){throw r}}async function Og(t,e){const s={token:await f4(t,e),createTime:Date.now(),subscriptionOptions:e};return await Zm(t,s),s.token}async function w4(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:i4(e)})}function b4(t,e){const r=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,n=e.auth===t.auth,i=e.p256dh===t.p256dh;return r&&s&&n&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return x4(e,t),k4(e,t),_4(e,t),e}function x4(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const s=e.notification.body;s&&(t.notification.body=s);const n=e.notification.image;n&&(t.notification.image=n);const i=e.notification.icon;i&&(t.notification.icon=i)}function k4(t,e){e.data&&(t.data=e.data)}function _4(t,e){var n,i,o,l;if(!e.fcmOptions&&!((n=e.notification)!=null&&n.click_action))return;t.fcmOptions={};const r=((i=e.fcmOptions)==null?void 0:i.link)??((o=e.notification)==null?void 0:o.click_action);r&&(t.fcmOptions.link=r);const s=(l=e.fcmOptions)==null?void 0:l.analytics_label;s&&(t.fcmOptions.analyticsLabel=s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){return typeof t=="object"&&!!t&&H1 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){if(!t||!t.options)throw _d("App Configuration Object");if(!t.name)throw _d("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const s of e)if(!r[s])throw _d(s);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function _d(t){return pt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,r,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=S4(e);this.firebaseDependencies={app:e,appConfig:n,installations:r,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t){try{t.swRegistration=await navigator.serviceWorker.register(Z3,{scope:e4}),t.swRegistration.update().catch(()=>{}),await C4(t.swRegistration)}catch(e){throw pt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function C4(t){return new Promise((e,r)=>{const s=setTimeout(()=>r(new Error(`Service worker not registered after ${Rg} ms`)),Rg),n=t.installing||t.waiting;t.active?(clearTimeout(s),e()):n?n.onstatechange=i=>{var o;((o=i.target)==null?void 0:o.state)==="activated"&&(n.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e){if(!e&&!t.swRegistration&&await N4(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw pt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=q1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(t,e){if(!navigator)throw pt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw pt.create("permission-blocked");return await P4(t,e==null?void 0:e.vapidKey),await T4(t,e==null?void 0:e.serviceWorkerRegistration),y4(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e,r){const s=I4(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:r[H1],message_name:r[r4],message_time:r[s4],message_device_time:Math.floor(Date.now()/1e3)})}function I4(t){switch(t){case ua.NOTIFICATION_CLICKED:return"notification_open";case ua.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===ua.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Mg(r)):t.onMessageHandler.next(Mg(r)));const s=r.data;j4(s)&&s[n4]==="1"&&await R4(t,r.messageType,s)}const Ag="@firebase/messaging",Dg="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=t=>{const e=new E4(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>L4(e,r)),e},M4=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:s=>Y1(e,s)}};function A4(){Ln(new Ds("messaging",O4,"PUBLIC")),Ln(new Ds("messaging-internal",M4,"PRIVATE")),Rs(Ag,Dg),Rs(Ag,Dg,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(){try{await b1()}catch{return!1}return typeof window<"u"&&w1()&&rC()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t=s3()){return D4().then(e=>{if(!e)throw pt.create("unsupported-browser")},e=>{throw pt.create("indexed-db-unsupported")}),Km(x1(t),"messaging").getImmediate()}async function X1(t,e){return t=x1(t),Y1(t,e)}A4();var z4="firebase",$4="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(z4,$4,"app");const F4={apiKey:"AIzaSyAw4bFf4JssC0FWFD12-ImaJpDC8dg",authDomain:"twinclash-c6eac.firebaseapp.com",projectId:"twinclash-c6eac",storageBucket:"twinclash-c6eac.appspot.com",messagingSenderId:"189939875668",appId:"1:189939875668:web:6330e6e16d82051fb18c1"},Z1=j1(F4);function U4(){const[t,e]=x.useState("default"),[r,s]=x.useState(!1),[n,i]=x.useState(!1),[o,l]=x.useState(""),[c,u]=x.useState("success");x.useEffect(()=>{d()},[]);const d=()=>{if(!("Notification"in window)||!("serviceWorker"in navigator)){e("denied"),localStorage.setItem("push_status","denied");return}const m=localStorage.getItem("push_status");m?e(m):Notification.permission==="granted"?(e("granted"),localStorage.setItem("push_status","granted")):Notification.permission==="denied"?(e("denied"),localStorage.setItem("push_status","denied")):e("default")},h=(m,p)=>{l(m),u(p),i(!0),setTimeout(()=>i(!1),4e3)},f=async()=>{if(!("Notification"in window)||!("serviceWorker"in navigator)){h("Tu navegador no soporta notificaciones","error"),e("denied"),localStorage.setItem("push_status","denied");return}if(t!=="granted"){s(!0);try{const m=await Notification.requestPermission();if(m==="granted"){console.log("[PUSH] Permiso concedido");const p="PEGA_TU_VAPID_KEY_AQUI",v=Q1(Z1),b=await navigator.serviceWorker.ready,y=await X1(v,{vapidKey:p,serviceWorkerRegistration:b});if(!y){console.error("[PUSH] No se pudo obtener el token"),h("Error al obtener token. Intenta de nuevo.","error"),s(!1);return}console.log("[PUSH] Token obtenido:",y.substring(0,20)+"..."),(await fetch("/.netlify/functions/register-push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:y,platform:"web",locale:navigator.language})})).ok?(console.log("[PUSH] Token guardado en Supabase"),e("granted"),localStorage.setItem("push_status","granted"),h("Notificaciones activadas! ","success")):(console.error("[PUSH] Error al guardar token"),h("Error al registrar. Intenta de nuevo.","error"))}else m==="denied"?(console.log("[PUSH] Permiso denegado"),e("denied"),localStorage.setItem("push_status","denied"),h("Notificaciones bloqueadas ","error")):(console.log("[PUSH] Permiso no concedido (default)"),h("Debes aceptar el permiso de notificaciones","error"))}catch(m){console.error("[PUSH] Error al activar notificaciones:",m),h("Error al activar notificaciones","error")}finally{s(!1)}}};return t==="denied"&&!("Notification"in window)?null:a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:f,disabled:t==="granted"||r,className:`fixed bottom-6 right-6 z-50 flex items-center gap-3 px-5 py-4 rounded-full shadow-2xl transition-all duration-300 font-semibold text-sm ${t==="granted"?"bg-gradient-to-r from-green-500 to-emerald-600 text-white cursor-default":t==="denied"?"bg-gray-400 text-gray-100 cursor-not-allowed opacity-60":"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-purple-500/50 hover:scale-105 animate-pulse-slow"}`,style:{animation:t==="default"&&!r?"pulse-slow 2s ease-in-out infinite":"none"},children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.jsx("span",{className:"hidden sm:inline",children:"Activando..."})]}):t==="granted"?a.jsxs(a.Fragment,{children:[a.jsx(As,{size:20,className:"animate-bounce"}),a.jsx("span",{className:"hidden sm:inline",children:"Notificaciones activadas"})]}):t==="denied"?a.jsxs(a.Fragment,{children:[a.jsx(dS,{size:20}),a.jsx("span",{className:"hidden sm:inline",children:"Bloqueado"})]}):a.jsxs(a.Fragment,{children:[a.jsx(_m,{size:20,className:"animate-wiggle"}),a.jsx("span",{className:"hidden sm:inline",children:"Activar notificaciones"})]})}),n&&a.jsxs("div",{className:`fixed bottom-24 right-6 z-50 flex items-center gap-3 px-5 py-4 rounded-xl shadow-2xl animate-slide-in ${c==="success"?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":"bg-gradient-to-r from-red-500 to-pink-600 text-white"}`,children:[c==="success"?a.jsx(As,{size:20}):a.jsx(In,{size:20}),a.jsx("span",{className:"font-semibold text-sm",children:o})]}),a.jsx("style",{children:`
        @keyframes pulse-slow {
          0%, 100% { transform: scale(1); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
          50% { transform: scale(1.05); box-shadow: 0 25px 50px -12px rgba(147, 51, 234, 0.5); }
        }

        @keyframes wiggle {
          0%, 100% { transform: rotate(0deg); }
          25% { transform: rotate(-15deg); }
          75% { transform: rotate(15deg); }
        }

        @keyframes slide-in {
          from { transform: translateX(400px); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }

        .animate-wiggle {
          animation: wiggle 1s ease-in-out infinite;
        }

        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }

        .animate-pulse-slow {
          animation: pulse-slow 2s ease-in-out infinite;
        }
      `})]})}const zg={zap:{name:"Electric Zap",url:"/sounds/zap.wav",volume:.6},flipPop:{name:"Card Flip",url:"/sounds/flip_pop.wav",volume:.4},countdownClick:{name:"Countdown Tick",url:"/sounds/countdown_click.wav",volume:.5},confetti:{name:"Victory Confetti",url:"/sounds/confetti.wav",volume:.7},loop:{name:"Background Loop",url:"/sounds/loop_150bpm.wav",volume:.3}};class B4{constructor(){bt(this,"sounds",new Map);bt(this,"enabled",!0);bt(this,"bgmLoop",null);this.preloadSounds()}preloadSounds(){Object.entries(zg).forEach(([e,r])=>{try{const s=new Audio(r.url);s.volume=r.volume||.5,s.preload="metadata",this.sounds.set(e,s)}catch(s){console.warn(`Failed to preload sound: ${r.name}`,s)}})}play(e){if(!this.enabled)return;const r=this.sounds.get(e);if(r)try{r.currentTime=0,r.play().catch(s=>{console.warn(`Failed to play sound: ${e}`,s)})}catch(s){console.warn(`Error playing sound: ${e}`,s)}}playZap(){this.play("zap")}playFlipPop(){this.play("flipPop")}playCountdownClick(){this.play("countdownClick")}playConfetti(){this.play("confetti")}startBackgroundLoop(){if(!this.enabled)return;const e=this.sounds.get("loop");if(e&&!this.bgmLoop)try{e.loop=!0,e.volume=.2,e.play().catch(r=>{console.warn("Failed to play background loop",r)}),this.bgmLoop=e}catch(r){console.warn("Error starting background loop",r)}}stopBackgroundLoop(){if(this.bgmLoop)try{this.bgmLoop.pause(),this.bgmLoop.currentTime=0,this.bgmLoop=null}catch(e){console.warn("Error stopping background loop",e)}}setEnabled(e){this.enabled=e,e||this.stopBackgroundLoop()}isEnabled(){return this.enabled}setVolume(e,r){const s=this.sounds.get(e);s&&(s.volume=Math.max(0,Math.min(1,r)))}setMasterVolume(e){const r=Math.max(0,Math.min(1,e));this.sounds.forEach(s=>{const n=Object.entries(zg).find(([,i])=>i.url===s.src.split("/").pop());n&&(s.volume=(n[1].volume||.5)*r)})}}const rp=new B4,V4=()=>rp.playZap(),W4=()=>rp.playFlipPop(),q4=()=>rp.playConfetti(),H4=({onStartGame:t,onStartDailyChallenge:e,onStartDuel:r,onShowWorldMap:s,onContinueGame:n})=>{const{t:i}=Ca(),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,h]=x.useState(0),[f,m]=x.useState(!1),[p,v]=x.useState(1),b=x.useRef(!1),y=x.useRef(0),g=x.useRef(null);x.useEffect(()=>{hu().then(()=>{h(Ie()),v(Ea()),l1()&&m(!0)}),b.current||(setTimeout(()=>{V4()},300),b.current=!0)},[]);const w=()=>{const _=hN();h(_),m(!1)},k=()=>{l(!1),h(Ie())},j=()=>{y.current+=1,g.current&&clearTimeout(g.current),y.current>=7?(u(!0),y.current=0):g.current=window.setTimeout(()=>{y.current=0},1500)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-400 via-blue-500 to-indigo-600 flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsx(fu,{}),a.jsx("div",{className:"fixed top-0 left-0 w-32 h-32 z-40",onClick:j}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-visible z-0",children:[a.jsx("div",{className:"absolute top-4 left-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-16 left-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-4 right-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-16 right-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 right-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-16 right-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 left-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-16 left-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/3 left-2 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/2 left-10 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/3 right-2 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/2 right-10 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})})]}),a.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-3xl shadow-2xl p-8 max-w-md w-full relative z-10",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:"/chatgpt_image_15_dic_2025,_11_02_21.png",alt:"Twin Clash",style:{width:"75%",maxWidth:"420px",margin:"0 auto"}})}),a.jsx("p",{className:"text-center text-gray-600 mb-6 text-sm font-medium",children:i.menu.description}),a.jsxs("div",{className:"flex gap-3 mb-6",children:[a.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[a.jsx(wr,{size:20,className:"text-white"}),a.jsx("span",{className:"text-lg font-bold text-white",children:d})]}),a.jsxs("button",{type:"button",onClick:()=>l(!0),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-3 flex items-center justify-center gap-2 hover:shadow-lg transition-all cursor-pointer",children:[a.jsx(_b,{size:20,className:"text-white"}),a.jsx("span",{className:"text-sm font-bold text-white",children:i.menu.shop})]})]}),a.jsxs("div",{className:"space-y-4",children:[p>1&&n&&a.jsxs("button",{type:"button",onClick:()=>n(p),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[" ",i.menu.continueLevel," ",p]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{type:"button",onClick:t,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[" ",i.common.start]}),s&&a.jsxs("button",{type:"button",onClick:s,className:"flex-1 bg-gradient-to-r from-purple-500 to-indigo-600 text-white py-4 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[a.jsx(PS,{size:20}),a.jsx("span",{className:"text-sm",children:i.menu.worldMap})]})]}),a.jsxs("button",{type:"button",onClick:e,className:"w-full bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-xl p-3 font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[a.jsx(mS,{size:20}),a.jsx("span",{className:"text-sm",children:i.menu.dailyChallenge})]}),a.jsxs("button",{type:"button",onClick:r,className:"w-full bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-xl p-3 font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[a.jsx(Nb,{size:20}),a.jsx("span",{className:"text-sm",children:i.menu.playDuel})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(U4,{})})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-300",children:a.jsxs("div",{className:"flex justify-center gap-6 text-sm",children:[a.jsx("a",{href:"/terms",className:"text-gray-700 hover:text-gray-900 font-semibold transition-colors",children:i.menu.privacyPolicy}),a.jsx("a",{href:"mailto:service@productionsbardi.com",className:"text-gray-700 hover:text-gray-900 font-semibold transition-colors",children:i.menu.contact})]})})]}),o&&a.jsx(VN,{onClose:k,onSkinChanged:()=>{}}),c&&a.jsx(WN,{onClose:()=>u(!1)}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:a.jsx(SS,{size:64,className:"mx-auto text-yellow-500"})}),a.jsxs("h3",{className:"text-3xl font-bold text-yellow-600 mb-2",children:[i.menu.claimDaily,"!"]}),a.jsx("p",{className:"text-gray-600 mb-4",children:i.common.coins}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(wr,{size:32,className:"text-white"}),a.jsx("span",{className:"text-4xl font-bold text-white",children:"+50"})]})}),a.jsx("button",{type:"button",onClick:w,className:"w-full bg-gradient-to-r from-yellow-500 to-amber-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:i.menu.claimDaily})]})})]})},e2=[{id:"default",name:"Clsico",price:0,cardBackColor:"bg-gradient-to-br from-blue-400 to-blue-600",cardBorderColor:"border-blue-300",description:"El diseo original"},{id:"gold",name:"Dorado",price:100,cardBackColor:"bg-gradient-to-br from-yellow-400 to-amber-600",cardBorderColor:"border-yellow-300",description:"Lujo y elegancia"},{id:"emerald",name:"Esmeralda",price:150,cardBackColor:"bg-gradient-to-br from-green-400 to-emerald-600",cardBorderColor:"border-green-300",description:"Naturaleza y frescura"},{id:"ruby",name:"Rub",price:180,cardBackColor:"bg-gradient-to-br from-red-400 to-rose-600",cardBorderColor:"border-red-300",description:"Pasin y energa"},{id:"midnight",name:"Medianoche",price:220,cardBackColor:"bg-gradient-to-br from-indigo-600 to-purple-800",cardBorderColor:"border-indigo-400",description:"Misterio nocturno"}];function G4(t){return e2.find(e=>e.id===t)}function $g(){return e2[0]}async function K4(){const t=mr(),{data:e,error:r}=await _e.from("user_themes").select("owned_themes, equipped_theme").eq("client_id",t).maybeSingle();if(r)return console.error("Error fetching themes:",r),{owned_themes:["default"],equipped_theme:"default"};if(!e){const{data:s,error:n}=await _e.from("user_themes").upsert({client_id:t,owned_themes:["default"],equipped_theme:"default"},{onConflict:"client_id"}).select("owned_themes, equipped_theme").maybeSingle();return n&&console.error("Error upserting themes:",n),s||{owned_themes:["default"],equipped_theme:"default"}}return e}async function J4(){return(await K4()).equipped_theme||"default"}const Y4=({card:t,isBreaking:e=!1})=>{const[r,s]=x.useState(!1),[n,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(t.obstacleHealth);x.useEffect(()=>{c!==void 0&&c>0&&(t.obstacleHealth??0)<=0&&(t.obstacle==="ice"?(s(!0),setTimeout(()=>s(!1),500)):t.obstacle==="stone"?(i(!0),setTimeout(()=>i(!1),600)):t.obstacle==="iron"&&(l(!0),setTimeout(()=>l(!1),600))),u(t.obstacleHealth)},[t.obstacle,t.obstacleHealth,c]);const d=t.obstacle&&(t.obstacle==="fire"||t.obstacle==="bomb"||t.obstacle==="virus"||(t.obstacleHealth??0)>0||(t.blockedHealth??0)>0);if(!d&&!r&&!n&&!o)return null;if(t.obstacle==="ice"||r)return a.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[d&&t.obstacle==="ice"&&a.jsxs("div",{className:`absolute inset-0 rounded-xl ice-overlay ${r?"ice-breaking":""}`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-200/80 via-sky-300/80 to-sky-400/80 backdrop-blur-sm border-2 border-cyan-100/80 rounded-xl"}),a.jsxs("div",{className:"absolute inset-0 rounded-xl overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/40 to-transparent"}),a.jsx("div",{className:"absolute top-1/4 left-0 w-1/3 h-1/3 bg-white/20 blur-xl rounded-full"})]}),a.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full animate-ping opacity-60"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-5xl animate-pulse",children:""})})]}),r&&a.jsx("div",{className:"absolute inset-0",children:[0,1,2,3,4].map(h=>a.jsx("div",{className:"ice-particle",style:{left:"50%",top:"50%","--angle":`${h*72}deg`}},h))})]});if(t.obstacle==="stone"||n){const h=t.obstacleHealth??0;return a.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[d&&t.obstacle==="stone"&&a.jsxs("div",{className:`absolute inset-0 rounded-xl ${n?"rock-breaking":""}`,children:[h===2&&a.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 50%, #4b5563 100%)",boxShadow:"inset 0 3px 10px rgba(255,255,255,0.4), inset 0 -6px 16px rgba(0,0,0,0.6), 0 8px 24px rgba(0,0,0,0.5)",border:"4px solid #52525b"},children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-slate-600/80 to-transparent"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-gradient-to-t from-slate-800/80 to-transparent"}),a.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-slate-600/80 to-transparent"}),a.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-slate-600/80 to-transparent"})]}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[a.jsx("path",{d:"M 8 8 L 15 12 L 12 18",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 8 8 L 12 15 L 18 12",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 92 8 L 85 12 L 88 18",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 92 8 L 88 15 L 82 12",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 8 92 L 15 88 L 12 82",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 8 92 L 12 85 L 18 88",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 92 92 L 85 88 L 88 82",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 92 92 L 88 85 L 82 88",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 35 5 L 38 10",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),a.jsx("path",{d:"M 65 5 L 62 10",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),a.jsx("path",{d:"M 5 35 L 10 38",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),a.jsx("path",{d:"M 5 65 L 10 62",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),a.jsx("div",{className:"absolute inset-8 bg-gradient-to-br from-slate-300/30 to-transparent rounded-lg"}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-40",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[a.jsx("ellipse",{cx:"70",cy:"65",rx:"8",ry:"6",fill:"rgba(0,0,0,0.3)"}),a.jsx("ellipse",{cx:"30",cy:"55",rx:"6",ry:"5",fill:"rgba(0,0,0,0.25)"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-5xl filter drop-shadow-lg",children:""})}),a.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 bg-gradient-to-br from-slate-500 to-slate-700 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-xl border-2 border-slate-300",children:"2"})]}),h===1&&a.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #cbd5e1 0%, #94a3b8 50%, #64748b 100%)",boxShadow:"inset 0 2px 8px rgba(255,255,255,0.5), inset 0 -4px 12px rgba(0,0,0,0.5), 0 6px 20px rgba(0,0,0,0.4)",border:"4px solid #71717a"},children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-slate-400/70 to-transparent"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-gradient-to-t from-slate-700/70 to-transparent"}),a.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-slate-400/70 to-transparent"}),a.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-slate-400/70 to-transparent"})]}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[a.jsx("path",{d:"M 5 5 L 18 15 L 12 25",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 5 5 L 15 18 L 25 12",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 95 5 L 82 15 L 88 25",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 95 5 L 85 18 L 75 12",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 5 95 L 18 85 L 12 75",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 5 95 L 15 82 L 25 88",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 95 95 L 82 85 L 88 75",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 95 95 L 85 82 L 75 88",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 30 20 L 40 35 L 35 50",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 70 30 L 60 45 L 65 60",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M 45 55 L 50 70 L 55 85",stroke:"rgba(255,255,255,0.6)",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),a.jsx("div",{className:"absolute inset-10 bg-gradient-to-br from-slate-200/40 to-transparent rounded-lg"}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-30",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[a.jsx("ellipse",{cx:"65",cy:"60",rx:"7",ry:"5",fill:"rgba(0,0,0,0.25)"}),a.jsx("ellipse",{cx:"35",cy:"50",rx:"5",ry:"4",fill:"rgba(0,0,0,0.2)"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-5xl opacity-80 filter drop-shadow-md",children:""})}),a.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 bg-gradient-to-br from-slate-400 to-slate-600 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg border-2 border-slate-200",children:"1"})]})]}),n&&a.jsx("div",{className:"absolute inset-0",children:[0,1,2,3,4].map(f=>a.jsx("div",{className:"rock-particle",style:{left:"50%",top:"50%","--angle":`${f*72}deg`}},f))})]})}if(t.obstacle==="iron"||o){const h=t.obstacleHealth??0;return a.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[d&&t.obstacle==="iron"&&a.jsxs("div",{className:`absolute inset-0 rounded-xl ${o?"rock-breaking":""}`,children:[h===2&&a.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #b45309 0%, #92400e 50%, #78350f 100%)",boxShadow:"inset 0 3px 10px rgba(251,191,36,0.3), inset 0 -6px 16px rgba(0,0,0,0.7), 0 8px 24px rgba(0,0,0,0.6)",border:"4px solid #854d0e"},children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"absolute top-2 left-3 w-4 h-4 bg-orange-800/60 rounded-full blur-sm"}),a.jsx("div",{className:"absolute top-5 right-4 w-3 h-3 bg-orange-900/50 rounded-full blur-sm"}),a.jsx("div",{className:"absolute bottom-3 left-5 w-5 h-5 bg-amber-900/50 rounded-full blur-sm"}),a.jsx("div",{className:"absolute bottom-6 right-3 w-3 h-3 bg-orange-800/60 rounded-full blur-sm"})]}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[a.jsx("path",{d:"M 10 10 L 20 18 L 15 28",stroke:"rgba(217,119,6,0.6)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),a.jsx("path",{d:"M 90 12 L 80 20 L 85 30",stroke:"rgba(217,119,6,0.6)",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-5xl filter drop-shadow-lg",children:""})}),a.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 bg-gradient-to-br from-orange-600 to-orange-900 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-xl border-2 border-amber-700",children:"2"})]}),h===1&&a.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #d97706 0%, #b45309 50%, #92400e 100%)",boxShadow:"inset 0 2px 8px rgba(251,191,36,0.4), inset 0 -4px 12px rgba(0,0,0,0.6), 0 6px 20px rgba(0,0,0,0.5)",border:"4px solid #a16207"},children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"absolute top-1 left-2 w-6 h-6 bg-orange-700/70 rounded-full blur-md"}),a.jsx("div",{className:"absolute top-4 right-2 w-5 h-5 bg-orange-800/60 rounded-full blur-md"}),a.jsx("div",{className:"absolute bottom-2 left-4 w-7 h-7 bg-amber-800/60 rounded-full blur-md"}),a.jsx("div",{className:"absolute bottom-5 right-2 w-4 h-4 bg-orange-900/70 rounded-full blur-md"}),a.jsx("div",{className:"absolute top-1/2 left-1/3 w-5 h-5 bg-orange-800/50 rounded-full blur-md"})]}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[a.jsx("path",{d:"M 8 8 L 22 20 L 18 35",stroke:"rgba(217,119,6,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),a.jsx("path",{d:"M 92 10 L 78 22 L 82 37",stroke:"rgba(217,119,6,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),a.jsx("path",{d:"M 10 90 L 24 78 L 20 63",stroke:"rgba(217,119,6,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),a.jsx("path",{d:"M 90 88 L 76 76 L 80 61",stroke:"rgba(217,119,6,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),a.jsx("path",{d:"M 40 25 L 50 40 L 45 55",stroke:"rgba(217,119,6,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),a.jsx("path",{d:"M 60 30 L 50 45 L 55 60",stroke:"rgba(217,119,6,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-5xl opacity-80 filter drop-shadow-md",children:""})}),a.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 bg-gradient-to-br from-orange-500 to-orange-800 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg border-2 border-amber-600",children:"1"})]})]}),o&&a.jsx("div",{className:"absolute inset-0",children:[0,1,2,3,4].map(f=>a.jsx("div",{className:"rock-particle",style:{left:"50%",top:"50%","--angle":`${f*72}deg`}},f))})]})}return t.obstacle==="fire"?a.jsx("div",{className:"absolute inset-0 pointer-events-none z-10",children:a.jsxs("div",{className:"absolute inset-0 rounded-xl obstacle-fire overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-400/90 via-orange-500/90 to-yellow-500/90 backdrop-blur-sm border-2 border-red-300 rounded-xl"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-5xl animate-pulse",children:""})})]})}):t.obstacle==="bomb"?a.jsx("div",{className:"absolute inset-0 pointer-events-none z-10",children:a.jsxs("div",{className:"absolute inset-0 rounded-xl obstacle-bomb overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800/90 via-gray-700/90 to-gray-900/90 backdrop-blur-sm border-2 border-gray-600 rounded-xl"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-5xl",children:""})})]})}):t.obstacle==="virus"?a.jsx("div",{className:"absolute inset-0 pointer-events-none z-10",children:a.jsxs("div",{className:"absolute inset-0 rounded-xl obstacle-virus overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400/90 via-emerald-500/90 to-teal-500/90 backdrop-blur-sm border-2 border-green-300 rounded-xl"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-5xl animate-pulse",children:""})})]})}):null},Q4=({card:t,image:e,onClick:r,disabled:s,showHint:n=!1,isBreaking:i=!1})=>{const[o,l]=x.useState($g());x.useEffect(()=>{const f=async()=>{const p=await J4(),v=G4(p)||$g();l(v)};f();const m=()=>{f()};return window.addEventListener("themeChanged",m),()=>window.removeEventListener("themeChanged",m)},[]);const c=()=>{!s&&!t.isFlipped&&!t.isMatched&&!t.bombCountdown&&(W4(),r(t.id))};t.obstacle&&((t.obstacleHealth??0)>0||(t.blockedHealth??0)>0||t.obstacle==="fire"||t.obstacle==="bomb"||t.obstacle==="virus"||t.isInfected||t.isWildcard);const u=typeof e=="string"&&e?e:"",d=u.length>0&&(u.startsWith("/")||u.startsWith("http")),h=u.length>0&&!d;return a.jsx("div",{className:"relative aspect-square cursor-pointer perspective-1000",onClick:c,children:a.jsxs("div",{className:`relative w-full h-full transition-transform duration-300 transform-style-3d ${t.isFlipped||t.isMatched?"rotate-y-180":""}`,children:[a.jsxs("div",{className:"absolute w-full h-full backface-hidden",children:[a.jsx("div",{className:`w-full h-full ${o.cardBackColor} rounded-xl shadow-lg flex items-center justify-center border-4 ${o.cardBorderColor} relative overflow-hidden ${n?"hint-pulse":""}`,children:a.jsx("div",{className:"text-4xl text-white font-bold",children:"?"})}),a.jsx(Y4,{card:t,isBreaking:i})]}),a.jsx("div",{className:"absolute w-full h-full backface-hidden rotate-y-180",children:a.jsx("div",{className:`w-full h-full bg-white rounded-xl shadow-lg flex items-center justify-center border-4 ${o.cardBorderColor} overflow-hidden`,children:u===""?a.jsx("div",{className:"w-full h-full bg-gray-300 flex items-center justify-center",children:a.jsx("div",{className:"text-6xl text-gray-500 font-bold",children:"?"})}):d?a.jsx("img",{src:u,alt:"card",className:"w-3/4 h-3/4 object-contain",onError:f=>{const m=f.target;m.style.display="none";const p=m.parentElement;p&&(p.innerHTML='<div class="text-6xl text-gray-500 font-bold">?</div>')}}):h?a.jsx("div",{className:"text-5xl sm:text-6xl md:text-7xl",children:u}):a.jsx("div",{className:"w-full h-full bg-gray-300 flex items-center justify-center",children:a.jsx("div",{className:"text-6xl text-gray-500 font-bold",children:"?"})})})})]})})};function t2(){return typeof window>"u"?null:new URLSearchParams(window.location.search).get("crew")}function X4(t){if(typeof window>"u")return;const e=new URL(window.location.href);e.searchParams.set("crew",t),window.history.replaceState({},"",e.toString())}async function Z4(t){try{const{data:e,error:r}=await _e.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);return r?(console.error("[checkIfPioneer] Error:",r),!1):((e==null?void 0:e.length)??0)===0}catch(e){return console.error("[checkIfPioneer] Exception:",e),!1}}async function eT(t){try{const{data:e,error:r}=await _e.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);if(r){console.error("[seedBotsIfEmpty] Error checking:",r);return}if(((e==null?void 0:e.length)??0)>0)return;const n=[23e3,27e3,31e3,35e3,4e4].map((o,l)=>({seed:t,time_ms:o,moves:10+l,client_id:`bot-${t}-${l}`,display_name:`CPU Kiwi #${l+1}`,is_bot:!0})),{error:i}=await _e.from("scores").insert(n);i&&console.error("[seedBotsIfEmpty] Error inserting bots:",i)}catch(e){console.error("[seedBotsIfEmpty] Exception:",e)}}async function Fg({seed:t,timeMs:e,moves:r,crewId:s=null,displayName:n=null,levelId:i=null}){try{const o=await Z4(t),l=mr(),c=Math.floor(1e4/(e/1e3+r)),{error:u}=await _e.from("scores").insert({seed:t,time_ms:e,moves:r,client_id:l,crew_id:s,display_name:n,is_bot:!1,level_id:i,score:c});return u?(console.error("[submitScoreAndReward] Error:",u),{success:!1,isPioneer:!1}):(o&&Nr(20),{success:!0,isPioneer:o})}catch(o){return console.error("[submitScoreAndReward] Exception:",o),{success:!1,isPioneer:!1}}}async function tT({seed:t,limit:e=20}){try{await eT(t);const{data:r,error:s}=await _e.from("scores").select("*").eq("seed",t).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(e);return s?(console.error("[getTop] Error:",s),[]):r||[]}catch(r){return console.error("[getTop] Exception:",r),[]}}async function rT({seed:t,crewId:e,limit:r=20}){try{if(!e)return[];const{data:s,error:n}=await _e.from("scores").select("*").eq("seed",t).eq("crew_id",e).eq("is_bot",!1).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(r);return n?(console.error("[getCrewTop] Error:",n),[]):s||[]}catch(s){return console.error("[getCrewTop] Exception:",s),[]}}const sT=({seed:t,onClose:e,onPlayNow:r})=>{const[s,n]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),h=mr(),f=t2();x.useEffect(()=>{(async()=>{c(!0);const b=await tT({seed:t,limit:20});if(n(b),f){const y=await rT({seed:t,crewId:f,limit:20});o(y)}c(!1)})()},[t,f]);const m=u&&f?i:s,p=s.some(v=>!v.is_bot);return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(lt,{className:"text-yellow-500",size:28}),u?"Top Amigos":"Top Diario"]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(In,{size:24})})]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Reto: ",t]}),f&&a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsxs("button",{onClick:()=>d(!1),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${u?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-yellow-500 text-white"}`,children:[a.jsx(lt,{size:16,className:"inline mr-1"}),"Global"]}),a.jsxs("button",{onClick:()=>d(!0),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${u?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(Tb,{size:16,className:"inline mr-1"}),"Amigos"]})]}),l?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"Cargando..."})}):m.length===0?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-6",children:[a.jsx(lt,{size:64,className:"mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:u?"Sin marcas de amigos":"Sin marcas para hoy"}),a.jsx("p",{className:"text-gray-600 mb-4",children:u?"Comparte el enlace con tu crew para competir juntos":"S el primero y desbloquea la medalla Pionero! (+20 monedas)"}),r&&!u&&a.jsx("button",{onClick:()=>{e(),r()},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Jugar ahora"})]})}):a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!p&&!u&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[a.jsx(Qt,{size:16}),a.jsx("span",{className:"font-semibold",children:"Marcas de prueba"})]}),a.jsx("p",{className:"text-blue-600 text-xs",children:"S el primero en jugar hoy y gana +20 monedas con la medalla Pionero!"})]}),a.jsx("div",{className:"space-y-2",children:m.map((v,b)=>{const y=v.client_id===h,g=v.is_bot,w=b+1,k=w===1?"text-yellow-500":w===2?"text-gray-400":w===3?"text-amber-600":"text-gray-400";return a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${y?"bg-blue-50 border-2 border-blue-300":g?"bg-gray-50 opacity-75":"bg-gray-50"}`,children:[a.jsx("div",{className:`text-2xl font-bold ${k} w-8 text-center`,children:w<=3?a.jsx(lt,{size:24,className:"inline"}):w}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[g&&a.jsx("span",{className:"text-xs",children:""}),v.display_name&&a.jsx("span",{className:"text-xs text-gray-600 font-medium",children:v.display_name}),g&&a.jsx("span",{className:"text-xs text-gray-500",children:"(Prueba)"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Uh,{size:14,className:"text-blue-500"}),a.jsxs("span",{className:"font-semibold",children:[(v.time_ms/1e3).toFixed(1),"s"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(IS,{size:14,className:"text-purple-500"}),a.jsx("span",{className:"font-semibold",children:v.moves})]})]}),y&&a.jsx("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:"T!"})]}),!g&&a.jsx("div",{className:"text-xs text-gray-400",children:new Date(v.created_at).toLocaleTimeString("es",{hour:"2-digit",minute:"2-digit"})})]},v.id)})})]}),a.jsx("button",{onClick:e,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]})})};function nT({onPowerUpUsed:t,onFreezeTime:e,disabled:r,hasObstacles:s=!1,onModalStateChange:n,timeRemaining:i}){const[o,l]=x.useState(Ie()),[c,u]=x.useState(null),d=i!==void 0&&i<=10&&i>0,h=p=>{u(p),n==null||n(!0)},f=(p,v)=>{Wm(v)?(l(Ie()),p==="freeze10"?e==null||e(10):p==="freeze15"?e==null||e(15):t(p),u(null),n==null||n(!1)):alert("No tienes suficientes monedas!")},m=()=>{u(null),n==null||n(!1)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsxs("button",{onClick:()=>h(20),disabled:r||o<600,className:`w-14 h-14 rounded-full font-bold text-xs shadow-lg transition-all flex flex-col items-center justify-center ${r||o<600?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-110 active:scale-95"} ${d&&!(r||o<600)?"animate-heartbeat":""}`,title:"Revelar 20% - 600 monedas",children:[a.jsx(Rm,{size:14}),a.jsx("span",{className:"text-[10px] leading-none mt-0.5",children:"20%"})]}),a.jsxs("button",{onClick:()=>h(40),disabled:r||o<1e3,className:`w-14 h-14 rounded-full font-bold text-xs shadow-lg transition-all flex flex-col items-center justify-center ${r||o<1e3?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-600 text-white hover:scale-110 active:scale-95"} ${d&&!(r||o<1e3)?"animate-heartbeat":""}`,title:"Revelar 40% - 1000 monedas",children:[a.jsx(Qt,{size:14}),a.jsx("span",{className:"text-[10px] leading-none mt-0.5",children:"40%"})]}),e&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>h("freeze10"),disabled:r||o<1e3,className:`w-14 h-14 rounded-full font-bold text-xs shadow-lg transition-all flex flex-col items-center justify-center ${r||o<1e3?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-cyan-600 text-white hover:scale-110 active:scale-95"} ${d&&!(r||o<1e3)?"animate-heartbeat":""}`,title:"Congelar +10s - 1000 monedas",children:[a.jsx(Uh,{size:14}),a.jsx("span",{className:"text-[10px] leading-none mt-0.5",children:"+10s"})]}),a.jsxs("button",{onClick:()=>h("freeze15"),disabled:r||o<1400,className:`w-14 h-14 rounded-full font-bold text-xs shadow-lg transition-all flex flex-col items-center justify-center ${r||o<1400?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:scale-110 active:scale-95"} ${d&&!(r||o<1400)?"animate-heartbeat":""}`,title:"Congelar +15s - 1400 monedas",children:[a.jsx(Uh,{size:14}),a.jsx("span",{className:"text-[10px] leading-none mt-0.5",children:"+15s"})]})]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full text-center shadow-2xl animate-scale-in",children:[a.jsx("div",{className:"text-6xl mb-4",children:c===20?"":c===40?"":""}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:c==="freeze10"||c==="freeze15"?`Congelar Tiempo ${c==="freeze10"?"10":"15"} segundos`:s?`Desbloquear ${c}% de Obstculos`:`Revelar ${c}% de Parejas`}),a.jsx("p",{className:"text-gray-600 mb-4",children:c==="freeze10"||c==="freeze15"?"El tiempo se detendr durante los segundos comprados para que puedas terminar la partida":s?"Esta ayuda eliminar obstculos (hielo/piedra) dejando las cartas disponibles pero boca abajo":"Esta ayuda revelar automticamente algunas parejas de cartas"}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-3 mb-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[a.jsx(wr,{size:24}),a.jsx("span",{className:"text-2xl font-black",children:c===20?"600":c===40||c==="freeze10"?"1000":"1400"}),a.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:m,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-bold hover:bg-gray-600 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:()=>f(c,c===20?600:c===40||c==="freeze10"?1e3:1400),className:`flex-1 py-3 rounded-xl font-bold text-white transition-all ${c===20?"bg-gradient-to-r from-green-500 to-emerald-600 hover:scale-105":c===40?"bg-gradient-to-r from-yellow-500 to-orange-600 hover:scale-105":c==="freeze10"?"bg-gradient-to-r from-blue-500 to-cyan-600 hover:scale-105":"bg-gradient-to-r from-purple-500 to-pink-600 hover:scale-105"}`,children:"Confirmar"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Tu saldo actual: ",o," monedas"]})]})}),a.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        @keyframes heartbeat {
          0%, 100% {
            transform: scale(1);
          }
          10%, 30% {
            transform: scale(1.15);
          }
          20%, 40% {
            transform: scale(1);
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }

        .animate-heartbeat {
          animation: heartbeat 1.5s ease-in-out infinite;
        }
      `})]})}const iT=({open:t,onStay:e,onExit:r})=>{const s=x.useRef(null);return x.useEffect(()=>{var n;t&&((n=s.current)==null||n.focus())},[t]),x.useEffect(()=>{if(!t)return;const n=i=>{i.key==="Escape"&&(i.preventDefault(),e())};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t,e]),t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Quieres salir del nivel?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{ref:s,type:"button",onClick:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Seguir Jugando"}),a.jsx("button",{type:"button",onClick:r,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"})]})]})}):null},oT=({open:t,onClose:e,shareText:r,shareUrl:s})=>{const[n,i]=x.useState(!1);if(!t)return null;const o=async()=>{try{await navigator.clipboard.writeText(`${r}
${s}`),i(!0),setTimeout(()=>i(!1),2e3)}catch(h){console.error("Error copying to clipboard:",h)}},l=()=>{const h=`https://wa.me/?text=${encodeURIComponent(`${r}
${s}`)}`;window.open(h,"_blank")},c=()=>{window.open("https://www.tiktok.com/","_blank")},u=()=>{window.open("https://www.instagram.com/","_blank")},d=async()=>{if(navigator.share)try{await navigator.share({title:"TwinClash",text:r,url:s}),e()}catch(h){console.error("Error sharing:",h)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Compartir"}),a.jsx("button",{type:"button",onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(In,{size:24})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("button",{type:"button",onClick:l,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-green-500 flex items-center justify-center text-white text-2xl",children:""}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"WhatsApp"})]}),a.jsxs("button",{type:"button",onClick:u,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 flex items-center justify-center text-white text-2xl",children:""}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Instagram"})]}),a.jsxs("button",{type:"button",onClick:c,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-black flex items-center justify-center text-white text-2xl",children:""}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"TikTok"})]})]}),a.jsx("button",{type:"button",onClick:o,className:"w-full bg-blue-500 text-white py-4 rounded-xl font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 mb-3",children:n?a.jsxs(a.Fragment,{children:[a.jsx(As,{size:20}),"Copiado!"]}):a.jsxs(a.Fragment,{children:[a.jsx(jm,{size:20}),"Copiar enlace"]})}),navigator.share&&a.jsx("button",{type:"button",onClick:d,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Ms opciones..."})]})})},Do="generated",aT="pointerdown",lT="pointerup",Ug="pointerleave",cT="pointerout",Bg="pointermove",uT="touchstart",Vg="touchend",dT="touchmove",hT="touchcancel",fT="resize",mT="visibilitychange",An="tsParticles - Error";let gf=class kr{constructor(e,r,s){if(this._updateFromAngle=(n,i)=>{this.x=Math.cos(n)*i,this.y=Math.sin(n)*i},!pr(e)&&e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}else if(e!==void 0&&r!==void 0)this.x=e,this.y=r,this.z=s??0;else throw new Error(`${An} Vector3d not initialized correctly`)}static get origin(){return kr.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return kr.create(e.x,e.y,e.z)}static create(e,r,s){return new kr(e,r,s)}add(e){return kr.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return kr.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return kr.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return kr.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return kr.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}sub(e){return kr.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}},r2=class Bl extends gf{constructor(e,r){super(e,r,0)}static get origin(){return Bl.create(0,0)}static clone(e){return Bl.create(e.x,e.y)}static create(e,r){return new Bl(e,r)}},pT=Math.random;function ts(){return s2(pT(),0,1-1e-16)}function s2(t,e,r){return Math.min(Math.max(t,e),r)}function Ni(t){const e=np(t);let r=sp(t);return e===r&&(r=0),ts()*(e-r)+r}function ge(t){return pr(t)?t:Ni(t)}function sp(t){return pr(t)?t:t.min}function np(t){return pr(t)?t:t.max}function le(t,e){if(t===e||e===void 0&&pr(t))return t;const r=sp(t),s=np(t);return e!==void 0?{min:Math.min(r,e),max:Math.max(s,e)}:le(r,s)}function gT(t){const e=t.random,{enable:r,minimumValue:s}=Is(e)?{enable:e,minimumValue:0}:e;return ge(r?le(t.value,s):t.value)}function yT(t,e){const r=t.x-e.x,s=t.y-e.y;return{dx:r,dy:s,distance:Math.sqrt(r**2+s**2)}}function ip(t,e){return yT(t,e).distance}function vT(t,e,r){if(pr(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(r.y-e.y,r.x-e.x);case"outside":return Math.atan2(e.y-r.y,e.x-r.x);default:return ts()*Math.PI*2}}function wT(t){const e=r2.origin;return e.length=1,e.angle=t,e}function bT(t){var e,r;return{x:((e=t.position)==null?void 0:e.x)??ts()*t.size.width,y:((r=t.position)==null?void 0:r.y)??ts()*t.size.height}}function n2(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const xT={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function ha(){return xT}function vu(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function kT(){return!vu()&&typeof matchMedia<"u"}function i2(t){if(kT())return matchMedia(t)}function _T(t){if(!(vu()||typeof MutationObserver>"u"))return new MutationObserver(t)}function jT(t,e){return t===e||Mr(e)&&e.indexOf(t)>-1}function ST(t){return Math.floor(ts()*t.length)}function op(t,e,r=!0){return t[e!==void 0&&r?e%t.length:ST(t)]}function ct(t,...e){for(const r of e){if(r==null)continue;if(!So(r)){t=r;continue}const s=Array.isArray(r);s&&(So(t)||!t||!Array.isArray(t))?t=[]:!s&&(So(t)||!t||Array.isArray(t))&&(t={});for(const n in r){if(n==="__proto__")continue;const i=r,o=i[n],l=t;l[n]=So(o)&&Array.isArray(o)?o.map(c=>ct(l[n],c)):ct(l[n],o)}}return t}function Dn(t,e){return Mr(t)?t.map((r,s)=>e(r,s)):e(t,0)}function zo(t,e,r){return Mr(t)?op(t,e,r):t}function ET(t,e){const r=t.value,s=t.animation,n={delayTime:ge(s.delay)*1e3,enable:s.enable,value:ge(t.value)*e,max:np(r)*e,min:sp(r)*e,loops:0,maxLoops:ge(s.count),time:0};if(s.enable){switch(n.decay=1-ge(s.decay),s.mode){case"increase":n.status="increasing";break;case"decrease":n.status="decreasing";break;case"random":n.status=ts()>=.5?"increasing":"decreasing";break}const i=s.mode==="auto";switch(s.startValue){case"min":n.value=n.min,i&&(n.status="increasing");break;case"max":n.value=n.max,i&&(n.status="decreasing");break;case"random":default:n.value=Ni(n),i&&(n.status=ts()>=.5?"increasing":"decreasing");break}}return n.initialValue=n.value,n}function NT(t,e){if(!(t.mode==="percent")){const{mode:n,...i}=t;return i}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function o2(t,e){return NT(t,e)}function Is(t){return typeof t=="boolean"}function Or(t){return typeof t=="string"}function pr(t){return typeof t=="number"}function a2(t){return typeof t=="function"}function So(t){return typeof t=="object"&&t!==null}function Mr(t){return Array.isArray(t)}const CT="random",wu=new Map;function Wg(t){wu.set(t.key,t)}function jd(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function TT(t){for(const[,i]of wu)if(t.startsWith(i.stringPrefix))return i.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,r=t.replace(e,(i,o,l,c,u)=>o+o+l+l+c+c+(u!==void 0?u+u:"")),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,n=s.exec(r);return n?{a:n[4]!==void 0?parseInt(n[4],16)/255:1,b:parseInt(n[3],16),g:parseInt(n[2],16),r:parseInt(n[1],16)}:void 0}function Ci(t,e,r=!0){if(!t)return;const s=Or(t)?{value:t}:t;if(Or(s.value))return l2(s.value,e,r);if(Mr(s.value))return Ci({value:op(s.value,e,r)});for(const[,n]of wu){const i=n.handleRangeColor(s);if(i)return i}}function l2(t,e,r=!0){if(!t)return;const s=Or(t)?{value:t}:t;if(Or(s.value))return s.value===CT?LT():RT(s.value);if(Mr(s.value))return l2({value:op(s.value,e,r)});for(const[,n]of wu){const i=n.handleColor(s);if(i)return i}}function qg(t,e,r=!0){const s=Ci(t,e,r);return s?PT(s):void 0}function PT(t){const e=t.r/255,r=t.g/255,s=t.b/255,n=Math.max(e,r,s),i=Math.min(e,r,s),o={h:0,l:(n+i)/2,s:0};return n!==i&&(o.s=o.l<.5?(n-i)/(n+i):(n-i)/(2-n-i),o.h=e===n?(r-s)/(n-i):o.h=r===n?2+(s-e)/(n-i):4+(e-r)/(n-i)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function RT(t){return TT(t)}function yf(t){const e={b:0,g:0,r:0},r={h:t.h/360,l:t.l/100,s:t.s/100};if(!r.s)e.r=e.g=e.b=r.l;else{const s=r.l<.5?r.l*(1+r.s):r.l+r.s-r.l*r.s,n=2*r.l-s;e.r=jd(n,s,r.h+1/3),e.g=jd(n,s,r.h),e.b=jd(n,s,r.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function IT(t){const e=yf(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function LT(t){return{b:Math.floor(Ni(le(0,256))),g:Math.floor(Ni(le(0,256))),r:Math.floor(Ni(le(0,256)))}}function Vl(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function Hg(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function Gg(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function OT(t,e,r){t.fillStyle=r??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function MT(t,e,r,s){r&&(t.globalAlpha=s,t.drawImage(r,0,0,e.width,e.height),t.globalAlpha=1)}function Sd(t,e){t.clearRect(0,0,e.width,e.height)}function AT(t){const{container:e,context:r,particle:s,delta:n,colorStyles:i,backgroundMask:o,composite:l,radius:c,opacity:u,shadow:d,transform:h}=t,f=s.getPosition(),m=s.rotation+(s.pathRotation?s.velocity.angle:0),p={sin:Math.sin(m),cos:Math.cos(m)},v={a:p.cos*(h.a??1),b:p.sin*(h.b??1),c:-p.sin*(h.c??1),d:p.cos*(h.d??1)};r.setTransform(v.a,v.b,v.c,v.d,f.x,f.y),r.beginPath(),o&&(r.globalCompositeOperation=l);const b=s.shadowColor;d.enable&&b&&(r.shadowBlur=d.blur,r.shadowColor=Vl(b),r.shadowOffsetX=d.offset.x,r.shadowOffsetY=d.offset.y),i.fill&&(r.fillStyle=i.fill);const y=s.strokeWidth??0;r.lineWidth=y,i.stroke&&(r.strokeStyle=i.stroke),DT(e,r,s,c,u,n),y>0&&r.stroke(),s.close&&r.closePath(),s.fill&&r.fill(),zT(e,r,s,c,u,n),r.globalCompositeOperation="source-over",r.setTransform(1,0,0,1,0,0)}function DT(t,e,r,s,n,i){if(!r.shape)return;const o=t.drawers.get(r.shape);o&&o.draw(e,r,s,n,i,t.retina.pixelRatio)}function zT(t,e,r,s,n,i){if(!r.shape)return;const o=t.drawers.get(r.shape);!o||!o.afterEffect||o.afterEffect(e,r,s,n,i,t.retina.pixelRatio)}function $T(t,e,r){e.draw&&e.draw(t,r)}function FT(t,e,r,s){e.drawParticle&&e.drawParticle(t,r,s)}function UT(t,e,r){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*r}}function BT(t,e,r){const s=e[r];s!==void 0&&(t[r]=(t[r]??1)*s)}class VT{constructor(e){this.container=e,this._applyPostDrawUpdaters=r=>{for(const s of this._postDrawUpdaters)s.afterDraw&&s.afterDraw(r)},this._applyPreDrawUpdaters=(r,s,n,i,o,l)=>{for(const c of this._preDrawUpdaters){if(c.getColorStyles){const{fill:u,stroke:d}=c.getColorStyles(s,r,n,i);u&&(o.fill=u),d&&(o.stroke=d)}if(c.getTransformValues){const u=c.getTransformValues(s);for(const d in u)BT(l,u,d)}c.beforeDraw&&c.beforeDraw(s)}},this._applyResizePlugins=()=>{for(const r of this._resizePlugins)r.resize&&r.resize()},this._getPluginParticleColors=r=>{let s,n;for(const i of this._colorPlugins)if(!s&&i.particleFillColor&&(s=qg(i.particleFillColor(r))),!n&&i.particleStrokeColor&&(n=qg(i.particleStrokeColor(r))),s&&n)break;return[s,n]},this._initCover=()=>{const r=this.container.actualOptions,s=r.backgroundMask.cover,n=s.color,i=Ci(n);if(i){const o={...i,a:s.opacity};this._coverColorStyle=Vl(o,o.a)}},this._initStyle=()=>{const r=this.element,s=this.container.actualOptions;if(r){this._fullScreen?(this._originalStyle=ct({},r.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const n in s.style){if(!n||!s.style)continue;const i=s.style[n];i&&r.style.setProperty(n,i,"important")}}},this._initTrail=async()=>{const r=this.container.actualOptions,s=r.particles.move.trail,n=s.fill;if(s.enable)if(n.color){const i=Ci(n.color);if(!i)return;const o=r.particles.move.trail;this._trailFill={color:{...i},opacity:1/o.length}}else await new Promise((i,o)=>{if(!n.image)return;const l=document.createElement("img");l.addEventListener("load",()=>{this._trailFill={image:l,opacity:1/s.length},i()}),l.addEventListener("error",c=>{o(c.error)}),l.src=n.image})},this._paintBase=r=>{this.draw(s=>OT(s,this.size,r))},this._paintImage=(r,s)=>{this.draw(n=>MT(n,this.size,r,s))},this._repairStyle=()=>{const r=this.element;r&&(this._safeMutationObserver(s=>s.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(s=>s.observe(r,{attributes:!0})))},this._resetOriginalStyle=()=>{const r=this.element,s=this._originalStyle;if(!(r&&s))return;const n=r.style;n.position=s.position,n.zIndex=s.zIndex,n.top=s.top,n.left=s.left,n.width=s.width,n.height=s.height},this._safeMutationObserver=r=>{this._mutationObserver&&r(this._mutationObserver)},this._setFullScreenStyle=()=>{const r=this.element;if(!r)return;const s="important",n=r.style;n.setProperty("position","fixed",s),n.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),s),n.setProperty("top","0",s),n.setProperty("left","0",s),n.setProperty("width","100%",s),n.setProperty("height","100%",s)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,r=e.particles.move.trail,s=this._trailFill;e.backgroundMask.enable?this.paint():r.enable&&r.length>0&&s?s.color?this._paintBase(Vl(s.color,s.opacity)):s.image&&this._paintImage(s.image,s.opacity):this.draw(n=>{Sd(n,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const r=this._context;if(r)return e(r)}drawParticle(e,r){if(e.spawning||e.destroyed)return;const s=e.getRadius();if(s<=0)return;const n=e.getFillColor(),i=e.getStrokeColor()??n;let[o,l]=this._getPluginParticleColors(e);o||(o=n),l||(l=i),!(!o&&!l)&&this.draw(c=>{var w;const u=this.container,d=u.actualOptions,h=e.options.zIndex,f=(1-e.zIndexFactor)**h.opacityRate,m=e.bubble.opacity??((w=e.opacity)==null?void 0:w.value)??1,p=e.strokeOpacity??m,v=m*f,b=p*f,y={},g={fill:o?Hg(o,v):void 0};g.stroke=l?Hg(l,b):g.fill,this._applyPreDrawUpdaters(c,e,s,v,g,y),AT({container:u,context:c,particle:e,delta:r,colorStyles:g,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:s*(1-e.zIndexFactor)**h.sizeRate,opacity:v,shadow:e.options.shadow,transform:y}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,r,s){this.draw(n=>FT(n,e,r,s))}drawPlugin(e,r){this.draw(s=>$T(s,e,r))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=_T(e=>{for(const r of e)r.type==="attributes"&&r.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){ha().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,r=e.background,s=this.element;if(!s)return;const n=s.style;if(n){if(r.color){const i=Ci(r.color);n.backgroundColor=i?Vl(i,r.opacity):""}else n.backgroundColor="";n.backgroundImage=r.image||"",n.backgroundPosition=r.position||"",n.backgroundRepeat=r.repeat||"",n.backgroundSize=r.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Do in e.dataset?e.dataset[Do]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=ct({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(r=>{this.element&&r.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(r=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Sd(r,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,r=e.retina.pixelRatio,s=e.canvas.size,n={width:this.element.offsetWidth*r,height:this.element.offsetHeight*r};if(n.height===s.height&&n.width===s.width&&n.height===this.element.height&&n.width===this.element.width)return!1;const i={...s};return this.element.width=s.width=this.element.offsetWidth*r,this.element.height=s.height=this.element.offsetHeight*r,this.container.started&&(this.resizeFactor={width:s.width/i.width,height:s.height/i.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Sd(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,r=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),r&&await e.refresh()}}function Bt(t,e,r,s,n){if(s){let i={passive:!0};Is(n)?i.capture=n:n!==void 0&&(i=n),t.addEventListener(e,r,i)}else{const i=n;t.removeEventListener(e,r,i)}}class WT{constructor(e){this.container=e,this._doMouseTouchClick=r=>{const s=this.container,n=s.actualOptions;if(this._canPush){const i=s.interactivity.mouse,o=i.position;if(!o)return;i.clickPosition={...o},i.clickTime=new Date().getTime();const l=n.interactivity.events.onClick;Dn(l.mode,c=>this.container.handleClickMode(c))}r.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=r=>{const s=r,n=this.container,i=n.options,o=i.defaultThemes,l=s.matches?o.dark:o.light,c=i.themes.find(u=>u.name===l);c&&c.default.auto&&n.loadTheme(l)},this._handleVisibilityChange=()=>{const r=this.container,s=r.actualOptions;this._mouseTouchFinish(),s.pauseOnBlur&&(document&&document.hidden?(r.pageHidden=!0,r.pause()):(r.pageHidden=!1,r.getAnimationStatus()?r.play(!0):r.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const r=this.container.canvas;r&&await r.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(r,s)=>{const n=this._handlers,i=this.container,o=i.actualOptions,l=i.interactivity.element;if(!l)return;const c=l,u=i.canvas.element;u&&(u.style.pointerEvents=c===u?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(Bt(l,Bg,n.mouseMove,s),Bt(l,uT,n.touchStart,s),Bt(l,dT,n.touchMove,s),o.interactivity.events.onClick.enable?(Bt(l,Vg,n.touchEndClick,s),Bt(l,lT,n.mouseUp,s),Bt(l,aT,n.mouseDown,s)):Bt(l,Vg,n.touchEnd,s),Bt(l,r,n.mouseLeave,s),Bt(l,hT,n.touchCancel,s))},this._manageListeners=r=>{const s=this._handlers,n=this.container,i=n.actualOptions,o=i.interactivity.detectsOn,l=n.canvas.element;let c=Ug;o==="window"?(n.interactivity.element=window,c=cT):o==="parent"&&l?n.interactivity.element=l.parentElement??l.parentNode:n.interactivity.element=l,this._manageMediaMatch(r),this._manageResize(r),this._manageInteractivityListeners(c,r),document&&Bt(document,mT,s.visibilityChange,r,!1)},this._manageMediaMatch=r=>{const s=this._handlers,n=i2("(prefers-color-scheme: dark)");if(n){if(n.addEventListener!==void 0){Bt(n,"change",s.themeChange,r);return}n.addListener!==void 0&&(r?n.addListener(s.oldThemeChange):n.removeListener(s.oldThemeChange))}},this._manageResize=r=>{const s=this._handlers,n=this.container;if(!n.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Bt(window,fT,s.resize,r);return}const o=n.canvas.element;this._resizeObserver&&!r?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&r&&o&&(this._resizeObserver=new ResizeObserver(async l=>{l.find(u=>u.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:r}=this.container;if(!r)return;const{mouse:s}=r;s.clicking=!0,s.downPosition=s.position},this._mouseTouchClick=r=>{const s=this.container,n=s.actualOptions,{mouse:i}=s.interactivity;i.inside=!0;let o=!1;const l=i.position;if(!(!l||!n.interactivity.events.onClick.enable)){for(const[,c]of s.plugins)if(c.clickPositionValid&&(o=c.clickPositionValid(l),o))break;o||this._doMouseTouchClick(r),i.clicking=!1}},this._mouseTouchFinish=()=>{const r=this.container.interactivity;if(!r)return;const s=r.mouse;delete s.position,delete s.clickPosition,delete s.downPosition,r.status=Ug,s.inside=!1,s.clicking=!1},this._mouseTouchMove=r=>{const s=this.container,n=s.actualOptions,i=s.interactivity,o=s.canvas.element;if(!i||!i.element)return;i.mouse.inside=!0;let l;if(r.type.startsWith("pointer")){this._canPush=!0;const u=r;if(i.element===window){if(o){const d=o.getBoundingClientRect();l={x:u.clientX-d.left,y:u.clientY-d.top}}}else if(n.interactivity.detectsOn==="parent"){const d=u.target,h=u.currentTarget;if(d&&h&&o){const f=d.getBoundingClientRect(),m=h.getBoundingClientRect(),p=o.getBoundingClientRect();l={x:u.offsetX+2*f.left-(m.left+p.left),y:u.offsetY+2*f.top-(m.top+p.top)}}else l={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===o&&(l={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=r.type!=="touchmove",o){const u=r,d=u.touches[u.touches.length-1],h=o.getBoundingClientRect();l={x:d.clientX-(h.left??0),y:d.clientY-(h.top??0)}}const c=s.retina.pixelRatio;l&&(l.x*=c,l.y*=c),i.mouse.position=l,i.status=Bg},this._touchEnd=r=>{const s=r,n=Array.from(s.changedTouches);for(const i of n)this._touches.delete(i.identifier);this._mouseTouchFinish()},this._touchEndClick=r=>{const s=r,n=Array.from(s.changedTouches);for(const i of n)this._touches.delete(i.identifier);this._mouseTouchClick(r)},this._touchStart=r=>{const s=r,n=Array.from(s.changedTouches);for(const i of n)this._touches.set(i.identifier,performance.now());this._mouseTouchMove(r)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:r=>this._mouseTouchMove(r),mouseUp:r=>this._mouseTouchClick(r),touchStart:r=>this._touchStart(r),touchMove:r=>this._mouseTouchMove(r),touchEnd:r=>this._touchEnd(r),touchCancel:r=>this._touchEnd(r),touchEndClick:r=>this._touchEndClick(r),visibilityChange:()=>this._handleVisibilityChange(),themeChange:r=>this._handleThemeChange(r),oldThemeChange:r=>this._handleThemeChange(r),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}let zs=class c2{constructor(){this.value=""}static create(e,r){const s=new c2;return s.load(e),r!==void 0&&(Or(r)||Mr(r)?s.load({value:r}):s.load(r)),s}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}};class qT{constructor(){this.color=new zs,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=zs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class HT{constructor(){this.color=new zs,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=zs.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class GT{constructor(){this.composite="destination-out",this.cover=new HT,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const r=e.cover,s=Or(e.cover)?{color:e.cover}:e.cover;this.cover.load(r.color!==void 0?r:{color:s})}e.enable!==void 0&&(this.enable=e.enable)}}}class KT{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class JT{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class Kg{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Dn(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Dn(e,r=>`#${r}`)}load(e){if(!e)return;const r=e.ids??e.elementId??e.el;r!==void 0&&(this.ids=r),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class YT{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class QT{constructor(){this.enable=!1,this.mode=[],this.parallax=new YT}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class XT{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class ZT{constructor(){this.onClick=new JT,this.onDiv=new Kg,this.onHover=new QT,this.resize=new XT}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const r=e.onDiv??e.ondiv;r!==void 0&&(this.onDiv=Dn(r,s=>{const n=new Kg;return n.load(s),n})),this.onHover.load(e.onHover??e.onhover),Is(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class e6{constructor(e,r){this._engine=e,this._container=r}load(e){if(!e||!this._container)return;const r=this._engine.plugins.interactors.get(this._container);if(r)for(const s of r)s.loadModeOptions&&s.loadModeOptions(this,e)}}class u2{constructor(e,r){this.detectsOn="window",this.events=new ZT,this.modes=new e6(e,r)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const r=e.detectsOn??e.detect_on;r!==void 0&&(this.detectsOn=r),this.events.load(e.events),this.modes.load(e.modes)}}class t6{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=ct({},e.options)))}}class r6{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=ct({},e.options)))}}class s6{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class n6{constructor(){this.name="",this.default=new s6}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=ct({},e.options)))}}class Ed{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=le(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=le(e.offset)),e.speed!==void 0&&(this.speed=le(e.speed)),e.decay!==void 0&&(this.decay=le(e.decay)),e.delay!==void 0&&(this.delay=le(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class i6{constructor(){this.h=new Ed,this.s=new Ed,this.l=new Ed}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class fa extends zs{constructor(){super(),this.animation=new i6}static create(e,r){const s=new fa;return s.load(e),r!==void 0&&(Or(r)||Mr(r)?s.load({value:r}):s.load(r)),s}load(e){if(super.load(e),!e)return;const r=e.animation;r!==void 0&&(r.enable!==void 0?this.animation.h.load(r):this.animation.load(e.animation))}}class o6{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class a6{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class l6{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=le(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=le(e.speed)),e.decay!==void 0&&(this.decay=le(e.decay)),e.delay!==void 0&&(this.delay=le(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class d2 extends l6{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class c6{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}let Ta=class{constructor(){this.random=new c6,this.value=0}load(e){e&&(Is(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=le(e.value,this.random.enable?this.random.minimumValue:void 0)))}};class Jg extends Ta{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class h2{constructor(){this.horizontal=new Jg,this.vertical=new Jg}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class u6{constructor(){this.absorb=new o6,this.bounce=new h2,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new a6}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=le(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class d6{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=le(e.offset)),e.value!==void 0&&(this.value=le(e.value)))}}class h6{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var n,i;if(!e)return;e.distance!==void 0&&(this.distance=le(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const r=((n=e.rotate)==null?void 0:n.x)??e.rotateX;r!==void 0&&(this.rotate.x=r);const s=((i=e.rotate)==null?void 0:i.y)??e.rotateY;s!==void 0&&(this.rotate.y=s)}}class f6{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class m6{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=le(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=le(e.maxSpeed)))}}class p6{constructor(){this.clamp=!0,this.delay=new Ta,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=ct(this.options,e.options)))}}class g6{load(e){e&&(e.color!==void 0&&(this.color=zs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class y6{constructor(){this.enable=!1,this.length=10,this.fill=new g6}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class v6{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class w6{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=le(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=ct({},e.position)))}}class b6{constructor(){this.angle=new d6,this.attract=new h6,this.center=new f6,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new m6,this.path=new p6,this.outModes=new v6,this.random=!1,this.size=!1,this.speed=2,this.spin=new w6,this.straight=!1,this.trail=new y6,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(pr(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=le(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=pr(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=le(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const r=e.outModes??e.outMode??e.out_mode;r!==void 0&&(So(r)?this.outModes.load(r):this.outModes.load({default:r})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=le(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class x6 extends d2{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class k6 extends Ta{constructor(){super(),this.animation=new x6,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const r=e.animation??e.anim;r!==void 0&&(this.animation.load(r),this.value=le(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class _6{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const r=e.width??e.area??e.value_area;r!==void 0&&(this.width=r);const s=e.height??e.factor;s!==void 0&&(this.height=s)}}class j6{constructor(){this.density=new _6,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const r=e.limit??e.max;r!==void 0&&(this.limit=r),e.value!==void 0&&(this.value=e.value)}}class S6{constructor(){this.blur=0,this.color=new zs,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=zs.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Nd="character",Cd="char",Td="image",Pd="images",Rd="polygon",Id="star";class E6{constructor(){this.loadShape=(e,r,s,n)=>{if(!e)return;const i=Mr(e),o=i?[]:{},l=i!==Mr(this.options[r]),c=i!==Mr(this.options[s]);l&&(this.options[r]=o),c&&n&&(this.options[s]=o),this.options[r]=ct(this.options[r]??o,e),(!this.options[s]||n)&&(this.options[s]=ct(this.options[s]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Nd]??this.options[Cd]}set character(e){this.options[Cd]=this.options[Nd]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Td]??this.options[Pd]}set image(e){this.options[Pd]=this.options[Td]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Rd]??this.options[Id]}set polygon(e){this.options[Id]=this.options[Rd]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const r=e.options??e.custom;if(r!==void 0)for(const s in r){const n=r[s];n&&(this.options[s]=ct(this.options[s]??{},n))}this.loadShape(e.character,Nd,Cd,!0),this.loadShape(e.polygon,Rd,Id,!1),this.loadShape(e.image??e.images,Td,Pd,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class N6 extends d2{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class C6 extends Ta{constructor(){super(),this.animation=new N6,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const r=e.animation??e.anim;r!==void 0&&(this.animation.load(r),this.value=le(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Yg{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=fa.create(this.color,e.color)),e.width!==void 0&&(this.width=le(e.width)),e.opacity!==void 0&&(this.opacity=le(e.opacity)))}}class T6 extends Ta{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class P6{constructor(e,r){this._engine=e,this._container=r,this.bounce=new h2,this.collisions=new u6,this.color=new fa,this.color.value="#fff",this.groups={},this.move=new b6,this.number=new j6,this.opacity=new k6,this.reduceDuplicates=!1,this.shadow=new S6,this.shape=new E6,this.size=new C6,this.stroke=new Yg,this.zIndex=new T6}load(e){var n,i,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(fa.create(this.color,e.color)),e.groups!==void 0)for(const l in e.groups){const c=e.groups[l];c!==void 0&&(this.groups[l]=ct(this.groups[l]??{},c))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const r=((n=e.move)==null?void 0:n.collisions)??((i=e.move)==null?void 0:i.bounce);r!==void 0&&(this.collisions.enable=r),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=ct({},e.interactivity));const s=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(s&&(this.stroke=Dn(s,l=>{const c=new Yg;return c.load(l),c})),this._container){const l=this._engine.plugins.updaters.get(this._container);if(l)for(const u of l)u.loadOptions&&u.loadOptions(this,e);const c=this._engine.plugins.interactors.get(this._container);if(c)for(const u of c)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}}function f2(t,...e){for(const r of e)t.load(r)}function m2(t,e,...r){const s=new P6(t,e);return f2(s,...r),s}class R6{constructor(e,r){this._findDefaultTheme=s=>this.themes.find(n=>n.default.value&&n.default.mode===s)??this.themes.find(n=>n.default.value&&n.default.mode==="any"),this._importPreset=s=>{this.load(this._engine.plugins.getPreset(s))},this._engine=e,this._container=r,this.autoPlay=!0,this.background=new qT,this.backgroundMask=new GT,this.defaultThemes={},this.delay=0,this.fullScreen=new KT,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new u2(e,r),this.manualParticles=[],this.particles=m2(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,l;if(!e)return;e.preset!==void 0&&Dn(e.preset,c=>this._importPreset(c)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=le(e.delay));const r=e.detectRetina??e.retina_detect;r!==void 0&&(this.detectRetina=r),e.duration!==void 0&&(this.duration=le(e.duration));const s=e.fpsLimit??e.fps_limit;s!==void 0&&(this.fpsLimit=s),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const n=e.fullScreen??e.backgroundMode;Is(n)?this.fullScreen.enable=n:this.fullScreen.load(n),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(c=>{const u=new t6;return u.load(c),u})),this.particles.load(e.particles),this.style=ct(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const i=this._engine.plugins.interactors.get(this._container);if(i)for(const c of i)c.loadOptions&&c.loadOptions(this,e);if(e.responsive!==void 0)for(const c of e.responsive){const u=new r6;u.load(c),this.responsive.push(u)}if(this.responsive.sort((c,u)=>c.maxWidth-u.maxWidth),e.themes!==void 0)for(const c of e.themes){const u=this.themes.find(d=>d.name===c.name);if(u)u.load(c);else{const d=new n6;d.load(c),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(l=this._findDefaultTheme("light"))==null?void 0:l.name}setResponsive(e,r,s){this.load(s);const n=this.responsive.find(i=>i.mode==="screen"&&screen?i.maxWidth>screen.availWidth:i.maxWidth*r>e);return this.load(n==null?void 0:n.options),n==null?void 0:n.maxWidth}setTheme(e){if(e){const r=this.themes.find(s=>s.name===e);r&&this.load(r.options)}else{const r=i2("(prefers-color-scheme: dark)"),s=r&&r.matches,n=this._findDefaultTheme(s?"dark":"light");n&&this.load(n.options)}}}class I6{constructor(e,r){this.container=r,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const r of this._externalInteractors)r.isEnabled()&&await r.interact(e)}handleClickMode(e){for(const r of this._externalInteractors)r.handleClickMode&&r.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,r){for(const s of this._externalInteractors)s.clear(e,r);for(const s of this._particleInteractors)s.isEnabled(e)&&await s.interact(e,r)}async reset(e){for(const r of this._externalInteractors)r.isEnabled()&&r.reset(e);for(const r of this._particleInteractors)r.isEnabled(e)&&r.reset(e)}}const Qg=t=>{if(!jT(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class L6{constructor(e,r,s,n,i,o){this.container=s,this._calcPosition=(l,c,u,d=0)=>{for(const[,g]of l.plugins){const w=g.particlePosition!==void 0?g.particlePosition(c,this):void 0;if(w)return gf.create(w.x,w.y,u)}const h=l.canvas.size,f=bT({size:h,position:c}),m=gf.create(f.x,f.y,u),p=this.getRadius(),v=this.options.move.outModes,b=g=>{Qg({outMode:g,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:l.canvas.size.width,setCb:w=>m.x+=w,radius:p})},y=g=>{Qg({outMode:g,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:l.canvas.size.height,setCb:w=>m.y+=w,radius:p})};return b(v.left??v.default),b(v.right??v.default),y(v.top??v.default),y(v.bottom??v.default),this._checkOverlap(m,d)?this._calcPosition(l,void 0,u,d+1):m},this._calculateVelocity=()=>{const l=wT(this.direction),c=l.copy(),u=this.options.move;if(u.direction==="inside"||u.direction==="outside")return c;const d=Math.PI/180*ge(u.angle.value),h=Math.PI/180*ge(u.angle.offset),f={left:h-d/2,right:h+d/2};return u.straight||(c.angle+=Ni(le(f.left,f.right))),u.random&&typeof u.speed=="number"&&(c.length*=ts()),c},this._checkOverlap=(l,c=0)=>{const u=this.options.collisions,d=this.getRadius();if(!u.enable)return!1;const h=u.overlap;if(h.enable)return!1;const f=h.retries;if(f>=0&&c>f)throw new Error(`${An} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>ip(l,m.position)<d+m.getRadius())},this._getRollColor=l=>{if(!l||!this.roll||!this.backColor&&!this.roll.alter)return l;const c=this.roll.horizontal&&this.roll.vertical?2:1,u=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+u)/(Math.PI/c))%2?this.backColor?this.backColor:this.roll.alter?UT(l,this.roll.alter.type,this.roll.alter.value):l:l},this._initPosition=l=>{const c=this.container,u=ge(this.options.zIndex.value);this.position=this._calcPosition(c,l,s2(u,0,c.zLayers)),this.initialPosition=this.position.copy();const d=c.canvas.size;switch(this.moveCenter={...o2(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=vT(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=r2.origin},this._loadShapeData=(l,c)=>{const u=l.options[this.shape];if(u)return ct({close:l.close,fill:l.fill},zo(u,this.id,c))},this._engine=e,this.init(r,n,i,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const r=this.container,s=this.pathGenerator;for(const[,n]of r.plugins)n.particleDestroyed&&n.particleDestroyed(this,e);for(const n of r.particles.updaters)n.particleDestroyed&&n.particleDestroyed(this,e);s&&s.reset(this)}draw(e){const r=this.container;for(const[,s]of r.plugins)r.canvas.drawParticlePlugin(s,this,e);r.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??Gg(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??Gg(this.strokeColor))}init(e,r,s,n){const i=this.container,o=this._engine;this.id=e,this.group=n,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const l=i.retina.pixelRatio,c=i.actualOptions,u=m2(this._engine,i,c.particles),d=u.shape.type,{reduceDuplicates:h}=u;this.shape=zo(d,this.id,h);const f=u.shape;if(s&&s.shape&&s.shape.type){const w=s.shape.type,k=zo(w,this.id,h);k&&(this.shape=k,f.load(s.shape))}this.shapeData=this._loadShapeData(f,h),u.load(s);const m=this.shapeData;m&&u.load(m.particles);const p=new u2(o,i);p.load(i.actualOptions.interactivity),p.load(u.interactivity),this.interactivity=p,this.fill=(m==null?void 0:m.fill)??u.shape.fill,this.close=(m==null?void 0:m.close)??u.shape.close,this.options=u;const v=this.options.move.path;this.pathDelay=gT(v.delay)*1e3,v.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(v.generator),this.pathGenerator&&i.addPath(v.generator,this.pathGenerator)&&this.pathGenerator.init(i)),i.retina.initParticle(this),this.size=ET(this.options.size,l),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(r),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-ge(this.options.move.decay);const b=i.particles;b.needsSort=b.needsSort||b.lastZIndex<this.position.z,b.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/i.zLayers,this.sides=24;let y=i.drawers.get(this.shape);y||(y=this._engine.plugins.getShapeDrawer(this.shape),y&&i.drawers.set(this.shape,y)),y&&y.loadShape&&y.loadShape(this);const g=y==null?void 0:y.getSidesCount;g&&(this.sides=g(this)),this.spawning=!1,this.shadowColor=Ci(this.options.shadow.color);for(const w of i.particles.updaters)w.init(this);for(const w of i.particles.movers)w.init&&w.init(this);y&&y.particleInit&&y.particleInit(i,this);for(const[,w]of i.plugins)w.particleCreated&&w.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),r=this.container.canvas.size,s=this.position;return s.x>=-e&&s.y>=-e&&s.y<=r.height+e&&s.x<=r.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class O6{constructor(e,r){this.position=e,this.particle=r}}class p2{constructor(e,r){this.position={x:e,y:r}}}let Ac=class g2 extends p2{constructor(e,r,s,n){super(e,r),this.size={height:n,width:s}}contains(e){const r=this.size.width,s=this.size.height,n=this.position;return e.x>=n.x&&e.x<=n.x+r&&e.y>=n.y&&e.y<=n.y+s}intersects(e){e instanceof y2&&e.intersects(this);const r=this.size.width,s=this.size.height,n=this.position,i=e.position,o=e instanceof g2?e.size:{width:0,height:0},l=o.width,c=o.height;return i.x<n.x+r&&i.x+l>n.x&&i.y<n.y+s&&i.y+c>n.y}},y2=class v2 extends p2{constructor(e,r,s){super(e,r),this.radius=s}contains(e){return ip(e,this.position)<=this.radius}intersects(e){const r=this.position,s=e.position,n={x:Math.abs(s.x-r.x),y:Math.abs(s.y-r.y)},i=this.radius;if(e instanceof v2){const o=i+e.radius,l=Math.sqrt(n.x**2+n.y**2);return o>l}else if(e instanceof Ac){const{width:o,height:l}=e.size;return Math.pow(n.x-o,2)+Math.pow(n.y-l,2)<=i**2||n.x<=i+o&&n.y<=i+l||n.x<=o||n.y<=l}return!1}};class Dc{constructor(e,r){this.rectangle=e,this.capacity=r,this._subdivide=()=>{const{x:s,y:n}=this.rectangle.position,{width:i,height:o}=this.rectangle.size,{capacity:l}=this;for(let c=0;c<4;c++)this._subs.push(new Dc(new Ac(s+i/2*(c%2),n+o/2*(Math.round(c/2)-c%2),i/2,o/2),l));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(r=>r.insert(e))):!1}query(e,r,s){const n=s||[];if(!e.intersects(this.rectangle))return[];for(const i of this._points)!e.contains(i.position)&&ip(e.position,i.position)>i.particle.getRadius()&&(!r||r(i.particle))||n.push(i.particle);if(this._divided)for(const i of this._subs)i.query(e,r,n);return n}queryCircle(e,r,s){return this.query(new y2(e.x,e.y,r),s)}queryRectangle(e,r,s){return this.query(new Ac(e.x,e.y,r.width,r.height),s)}}const Xg=4,Zg=t=>new Ac(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let M6=class{constructor(e,r){this._applyDensity=(n,i,o)=>{var m;if(!((m=n.number.density)!=null&&m.enable))return;const l=n.number,c=this._initDensityFactor(l.density),u=l.value,d=l.limit>0?l.limit:u,h=Math.min(u,d)*c+i,f=Math.min(this.count,this.filter(p=>p.group===o).length);this.limit=l.limit*c,f<h?this.push(Math.abs(h-f),void 0,n,o):f>h&&this.removeQuantity(f-h,o)},this._initDensityFactor=n=>{const i=this._container;if(!i.canvas.element||!n.enable)return 1;const o=i.canvas.element,l=i.retina.pixelRatio;return o.width*o.height/(n.factor*l**2*n.area)},this._pushParticle=(n,i,o,l)=>{try{let c=this.pool.pop();c?c.init(this._nextId,n,i,o):c=new L6(this._engine,this._nextId,this._container,n,i,o);let u=!0;return l&&(u=l(c)),u?(this._array.push(c),this._zArray.push(c),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:c}}),c):void 0}catch(c){ha().warning(`${An} adding particle: ${c}`);return}},this._removeParticle=(n,i,o)=>{const l=this._array[n];if(!l||l.group!==i)return!1;l.destroy(o);const c=this._zArray.indexOf(l);return this._array.splice(n,1),this._zArray.splice(c,1),this.pool.push(l),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:l}}),!0},this._engine=e,this._container=r,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new I6(e,r);const s=r.canvas.size;this.quadTree=new Dc(Zg(s),Xg),this.movers=this._engine.plugins.getMovers(r,!0),this.updaters=this._engine.plugins.getUpdaters(r,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,r=e.actualOptions;for(const s of r.manualParticles)this.addParticle(s.position?o2(s.position,e.canvas.size):void 0,s.options)}addParticle(e,r,s,n){const i=this._container,o=i.actualOptions,l=o.particles.number.limit;if(l>0){const c=this.count+1-l;c>0&&this.removeQuantity(c)}return this._pushParticle(e,r,s,n)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const r=this._container;r.canvas.clear(),await this.update(e);for(const[,s]of r.plugins)r.canvas.drawPlugin(s,e);for(const s of this._zArray)s.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var n;const e=this._container,r=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let s=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,i]of e.plugins)if(i.particlesInitialization!==void 0&&(s=i.particlesInitialization()),s)break;this._interactionManager.init();for(const[,i]of e.pathGenerators)i.init(e);if(this.addManualParticles(),!s){for(const i in r.particles.groups){const o=r.particles.groups[i];for(let l=this.count,c=0;c<((n=o.number)==null?void 0:n.value)&&l<r.particles.number.value;l++,c++)this.addParticle(void 0,o,i)}for(let i=this.count;i<r.particles.number.value;i++)this.addParticle()}}push(e,r,s,n){this.pushing=!0;for(let i=0;i<e;i++)this.addParticle(r==null?void 0:r.position,s,n);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,r,s){this.removeAt(this._array.indexOf(e),void 0,r,s)}removeAt(e,r=1,s,n){if(e<0||e>this.count)return;let i=0;for(let o=e;i<r&&o<this.count;o++)this._removeParticle(o--,s,n)&&i++}removeQuantity(e,r){this.removeAt(0,e,r)}setDensity(){const e=this._container.actualOptions,r=e.particles.groups;for(const s in r)this._applyDensity(r[s],0,s);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const r=this._container,s=new Set;this.quadTree=new Dc(Zg(r.canvas.size),Xg);for(const[,n]of r.pathGenerators)n.update();for(const[,n]of r.plugins)n.update&&n.update(e);for(const n of this._array){const i=r.canvas.resizeFactor;i&&!n.ignoresResizeRatio&&(n.position.x*=i.width,n.position.y*=i.height,n.initialPosition.x*=i.width,n.initialPosition.y*=i.height),n.ignoresResizeRatio=!1,await this._interactionManager.reset(n);for(const[,o]of this._container.plugins){if(n.destroyed)break;o.particleUpdate&&o.particleUpdate(n,e)}for(const o of this.movers)o.isEnabled(n)&&o.move(n,e);if(n.destroyed){s.add(n);continue}this.quadTree.insert(new O6(n.getPosition(),n))}if(s.size){const n=i=>!s.has(i);this._array=this.filter(n),this._zArray=this._zArray.filter(n),this.pool.push(...s)}await this._interactionManager.externalInteract(e);for(const n of this._array){for(const i of this.updaters)i.update(n,e);!n.destroyed&&!n.spawning&&await this._interactionManager.particlesInteract(n,e)}if(delete r.canvas.resizeFactor,this.needsSort){const n=this._zArray;n.sort((i,o)=>o.position.z-i.position.z||i.id-o.id),this.lastZIndex=n[n.length-1].position.z,this.needsSort=!1}}};class A6{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,r=e.actualOptions;this.pixelRatio=!r.detectRetina||vu()?1:window.devicePixelRatio,this.reduceFactor=1;const s=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*s,e.canvas.size.height=o.offsetHeight*s}const n=r.particles,i=n.move;this.attractDistance=ge(i.attract.distance)*s,this.maxSpeed=ge(i.gravity.maxSpeed)*s,this.sizeAnimationSpeed=ge(n.size.animation.speed)*s}initParticle(e){const r=e.options,s=this.pixelRatio,n=r.move,i=n.distance,o=e.retina;o.attractDistance=ge(n.attract.distance)*s,o.moveDrift=ge(n.drift)*s,o.moveSpeed=ge(n.speed)*s,o.sizeAnimationSpeed=ge(r.size.animation.speed)*s;const l=o.maxDistance;l.horizontal=i.horizontal!==void 0?i.horizontal*s:void 0,l.vertical=i.vertical!==void 0?i.vertical*s:void 0,o.maxSpeed=ge(n.gravity.maxSpeed)*s}}function Pe(t){return t&&!t.destroyed}function D6(t,e=60,r=!1){return{value:t,factor:r?60/e:60*t/1e3}}function Qn(t,e,...r){const s=new R6(t,e);return f2(s,...r),s}const z6="default",ey={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class $6{constructor(e,r,s){this.id=r,this._intersectionManager=n=>{if(!(!Pe(this)||!this.actualOptions.pauseOnOutsideViewport))for(const i of n)i.target===this.interactivity.element&&(i.isIntersecting?this.play:this.pause)()},this._nextFrame=async n=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&n<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=n);const i=D6(n-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(i.value),this.lastFrameTime=n,i.value>1e3){this.draw(!1);return}if(await this.particles.draw(i),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(i){ha().error(`${An} in animation loop`,i)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=s,this._initialSourceOptions=s,this.retina=new A6(this),this.canvas=new VT(this),this.particles=new M6(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Qn(this._engine,this),this.actualOptions=Qn(this._engine,this),this._eventListeners=new WT(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(n=>this._intersectionManager(n))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Pe(this))return;const r=this.interactivity.element;if(!r)return;const s=(h,f,m)=>{if(!Pe(this))return;const p=this.retina.pixelRatio,v={x:f.x*p,y:f.y*p},b=this.particles.quadTree.queryCircle(v,m*p);e(h,b)},n=h=>{if(!Pe(this))return;const f=h,m={x:f.offsetX||f.clientX,y:f.offsetY||f.clientY};s(h,m,1)},i=()=>{Pe(this)&&(u=!0,d=!1)},o=()=>{Pe(this)&&(d=!0)},l=h=>{if(Pe(this)){if(u&&!d){const f=h;let m=f.touches[f.touches.length-1];if(!m&&(m=f.changedTouches[f.changedTouches.length-1],!m))return;const p=this.canvas.element,v=p?p.getBoundingClientRect():void 0,b={x:m.clientX-(v?v.left:0),y:m.clientY-(v?v.top:0)};s(h,b,Math.max(m.radiusX,m.radiusY))}u=!1,d=!1}},c=()=>{Pe(this)&&(u=!1,d=!1)};let u=!1,d=!1;r.addEventListener("click",n),r.addEventListener("touchstart",i),r.addEventListener("touchmove",o),r.addEventListener("touchend",l),r.addEventListener("touchcancel",c)}addLifeTime(e){this._lifeTime+=e}addPath(e,r,s=!1){return!Pe(this)||!s&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,r??ey),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!Pe(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,s]of this.drawers)s.destroy&&s.destroy(this);for(const s of this.drawers.keys())this.drawers.delete(s);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),r=e.findIndex(s=>s===this);r>=0&&e.splice(r,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!Pe(this))return;let r=e;this._drawAnimationFrame=requestAnimationFrame(async s=>{r&&(this.lastFrameTime=void 0,r=!1),await this._nextFrame(s)})}async export(e,r={}){for(const[,s]of this.plugins){if(!s.export)continue;const n=await s.export(e,r);if(n.supported)return n.blob}ha().error(`${An} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&Pe(this)}handleClickMode(e){if(Pe(this)){this.particles.handleClickMode(e);for(const[,r]of this.plugins)r.handleClickMode&&r.handleClickMode(e)}}async init(){if(!Pe(this))return;const e=this._engine.plugins.getSupportedShapes();for(const s of e){const n=this._engine.plugins.getShapeDrawer(s);n&&this.drawers.set(s,n)}this._options=Qn(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Qn(this._engine,this,this._options);const r=this._engine.plugins.getAvailablePlugins(this);for(const[s,n]of r)this.plugins.set(s,n);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=ge(this.actualOptions.duration)*1e3,this._delay=ge(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,s]of this.drawers)s.init&&await s.init(this);for(const[,s]of this.plugins)s.init&&await s.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,s]of this.plugins)s.particlesSetup&&s.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){Pe(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(Pe(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!Pe(this))return;const r=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),r)for(const[,s]of this.plugins)s.play&&s.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(r||!1)}async refresh(){if(Pe(this))return this.stop(),this.start()}async reset(){if(Pe(this))return this._initialSourceOptions=void 0,this._options=Qn(this._engine,this),this.actualOptions=Qn(this._engine,this,this._options),this.refresh()}setNoise(e,r,s){Pe(this)&&this.setPath(e,r,s)}setPath(e,r,s){if(!e||!Pe(this))return;const n={...ey};if(a2(e))n.generate=e,r&&(n.init=r),s&&(n.update=s);else{const i=n;n.generate=e.generate||i.generate,n.init=e.init||i.init,n.update=e.update||i.update}this.addPath(z6,n,!0)}async start(){!Pe(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,r]of this.plugins)r.start&&await r.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!Pe(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class F6{constructor(){this._listeners=new Map}addEventListener(e,r){this.removeEventListener(e,r);let s=this._listeners.get(e);s||(s=[],this._listeners.set(e,s)),s.push(r)}dispatchEvent(e,r){const s=this._listeners.get(e);s&&s.forEach(n=>n(r))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,r){const s=this._listeners.get(e);if(!s)return;const n=s.length,i=s.indexOf(r);i<0||(n===1?this._listeners.delete(e):s.splice(i,1))}}function Ld(t,e,r,s=!1){let n=e.get(t);return(!n||s)&&(n=[...r.values()].map(i=>i(t)),e.set(t,n)),n}class U6{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,r){this._initializers.interactors.set(e,r)}addParticleMover(e,r){this._initializers.movers.set(e,r)}addParticleUpdater(e,r){this._initializers.updaters.set(e,r)}addPathGenerator(e,r){!this.getPathGenerator(e)&&this.pathGenerators.set(e,r)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,r,s=!1){(s||!this.getPreset(e))&&this.presets.set(e,r)}addShapeDrawer(e,r){Dn(e,s=>{!this.getShapeDrawer(s)&&this.drawers.set(s,r)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const r=new Map;for(const s of this.plugins)s.needsPlugin(e.actualOptions)&&r.set(s.id,s.getPlugin(e));return r}getInteractors(e,r=!1){return Ld(e,this.interactors,this._initializers.interactors,r)}getMovers(e,r=!1){return Ld(e,this.movers,this._initializers.movers,r)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(r=>r.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,r=!1){return Ld(e,this.updaters,this._initializers.updaters,r)}loadOptions(e,r){for(const s of this.plugins)s.loadOptions(e,r)}loadParticlesOptions(e,r,...s){const n=this.updaters.get(e);if(n)for(const i of n)i.loadOptions&&i.loadOptions(r,...s)}}async function B6(t){const e=zo(t.url,t.index);if(!e)return t.fallback;const r=await fetch(e);return r.ok?r.json():(ha().error(`${An} ${r.status} while retrieving config file`),t.fallback)}function V6(t){return!t.id&&!t.element&&!t.url&&!t.options}function W6(t){return!V6(t)}class q6{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new F6,this._initialized=!1,this.plugins=new U6(this)}get configs(){const e={};for(const[r,s]of this._configs)e[r]=s;return e}get version(){return"2.12.0"}addConfig(e,r){Or(e)?r&&(r.name=e,this._configs.set(e,r)):this._configs.set(e.name??"default",e)}addEventListener(e,r){this._eventDispatcher.addEventListener(e,r)}async addInteractor(e,r,s=!0){this.plugins.addInteractor(e,r),await this.refresh(s)}async addMover(e,r,s=!0){this.plugins.addParticleMover(e,r),await this.refresh(s)}async addParticleUpdater(e,r,s=!0){this.plugins.addParticleUpdater(e,r),await this.refresh(s)}async addPathGenerator(e,r,s=!0){this.plugins.addPathGenerator(e,r),await this.refresh(s)}async addPlugin(e,r=!0){this.plugins.addPlugin(e),await this.refresh(r)}async addPreset(e,r,s=!1,n=!0){this.plugins.addPreset(e,r,s),await this.refresh(n)}async addShape(e,r,s,n,i,o=!0){let l,c=o,u,d,h;Is(s)?(c=s,u=void 0):u=s,Is(n)?(c=n,d=void 0):d=n,Is(i)?(c=i,h=void 0):h=i,a2(r)?l={afterEffect:d,destroy:h,draw:r,init:u}:l=r,this.plugins.addShapeDrawer(e,l),await this.refresh(c)}dispatchEvent(e,r){this._eventDispatcher.dispatchEvent(e,r)}dom(){return this._domArray}domItem(e){const r=this.dom(),s=r[e];if(!s||s.destroyed){r.splice(e,1);return}return s}init(){this._initialized||(this._initialized=!0)}async load(e,r){return this.loadFromArray(e,r)}async loadFromArray(e,r,s){let n;return W6(e)?n=e:(n={},Or(e)?n.id=e:n.options=e,pr(r)?n.index=r:n.options=r??n.options,n.index=s??n.index),this._loadParams(n)}async loadJSON(e,r,s){let n,i;return pr(r)||r===void 0?n=e:(i=e,n=r),this._loadParams({id:i,url:n,index:s})}async refresh(e=!0){e&&this.dom().forEach(r=>r.refresh())}removeEventListener(e,r){this._eventDispatcher.removeEventListener(e,r)}async set(e,r,s,n){const i={index:n};return Or(e)?i.id=e:i.element=e,r instanceof HTMLElement?i.element=r:i.options=r,pr(s)?i.index=s:i.options=s??i.options,this._loadParams(i)}async setJSON(e,r,s,n){const i={};return e instanceof HTMLElement?(i.element=e,i.url=r,i.index=s):(i.id=e,i.element=r,i.url=s,i.index=n),this._loadParams(i)}setOnClickHandler(e){const r=this.dom();if(!r.length)throw new Error(`${An} can only set click handlers after calling tsParticles.load()`);for(const s of r)s.addClickHandler(e)}async _loadParams(e){const r=e.id??`tsparticles${Math.floor(ts()*1e4)}`,{index:s,url:n}=e,i=n?await B6({fallback:e.options,url:n,index:s}):e.options;let o=e.element??document.getElementById(r);o||(o=document.createElement("div"),o.id=r,document.body.append(o));const l=zo(i,s),c=this.dom(),u=c.findIndex(f=>f.id===r);if(u>=0){const f=this.domItem(u);f&&!f.destroyed&&(f.destroy(),c.splice(u,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[Do]="false";else{const f=o.getElementsByTagName("canvas");f.length?(d=f[0],d.dataset[Do]="false"):(d=document.createElement("canvas"),d.dataset[Do]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const h=new $6(this,r,l);return u>=0?c.splice(u,0,h):c.push(h),h.canvas.loadCanvas(d),await h.start(),h}}let H6=class{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const r=e.value,s=r.hsl??e.value;if(s.h!==void 0&&s.s!==void 0&&s.l!==void 0)return yf(s)}handleRangeColor(e){const r=e.value,s=r.hsl??e.value;if(s.h!==void 0&&s.l!==void 0)return yf({h:ge(s.h),l:ge(s.l),s:ge(s.s)})}parseString(e){if(!e.startsWith("hsl"))return;const r=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,s=r.exec(e);return s?IT({a:s.length>4?n2(s[5]):1,h:parseInt(s[1],10),l:parseInt(s[3],10),s:parseInt(s[2],10)}):void 0}},G6=class{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const r=e.value,s=r.rgb??e.value;if(s.r!==void 0)return s}handleRangeColor(e){const r=e.value,s=r.rgb??e.value;if(s.r!==void 0)return{r:ge(s.r),g:ge(s.g),b:ge(s.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const r=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,s=r.exec(e);return s?{a:s.length>4?n2(s[5]):1,b:parseInt(s[3],10),g:parseInt(s[2],10),r:parseInt(s[1],10)}:void 0}};function K6(){const t=new G6,e=new H6;Wg(t),Wg(e);const r=new q6;return r.init(),r}const vf=K6();vu()||(window.tsParticles=vf);const pi=t=>typeof t=="object"&&t!==null;function zc(t,e,r=()=>!1){if(!pi(t)||!pi(e))return t===e;const s=Object.keys(t).filter(i=>!r(i)),n=Object.keys(e).filter(i=>!r(i));if(s.length!==n.length)return!1;for(const i of s){const o=t[i],l=e[i];if(pi(o)&&pi(l)){if(o===e&&l===t)continue;if(!zc(o,l,r))return!1}else if(Array.isArray(o)&&Array.isArray(l)){if(!w2(o,l,r))return!1}else if(o!==l)return!1}return!0}function w2(t,e,r){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++){const n=t[s],i=e[s];if(Array.isArray(n)&&Array.isArray(i)){if(!w2(n,i,r))return!1}else if(pi(n)&&pi(i)){if(!zc(n,i,r))return!1}else if(n!==i)return!1}return!0}const b2="tsparticles";class bu extends x.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const r=e.options??e.params,s=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!zc(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!zc(r,s,n=>n.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(vf),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:r,className:s,canvasClassName:n,id:i}=this.props;return zp.createElement("div",{className:s,id:i},zp.createElement("canvas",{className:n,style:{...this.props.style,width:e,height:r}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??bu.defaultProps.id??b2,r=await vf.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=r),this.setState({library:r}),this.props.loaded&&await this.props.loaded(r)}}bu.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:b2};const J6="pointerleave",Pa="pointermove",Bi="tsParticles - Error",xu=100,zn=.5,rs=1e3,Er={x:0,y:0,z:0},$c="random",Wl="mid",Hr=2,pn=2,Y6=1,ql=255,kn=360,wf=100,bf=100,ty=0,xf=0,Q6=60,ry=0,x2=1,X6=0,Z6=1,eP=1,tP=0,en=255,Od=3,Md=6,rP=1,sP=1,nP=0,iP=0,oP=0,aP=0;var sy;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(sy||(sy={}));function Vi(t){return typeof t=="string"}function Ra(t){return typeof t=="number"}function Eo(t){return typeof t=="object"&&t!==null}function as(t){return Array.isArray(t)}function fe(t){return t==null}class sr{constructor(e,r,s){if(this._updateFromAngle=(n,i)=>{this.x=Math.cos(n)*i,this.y=Math.sin(n)*i},!Ra(e)&&e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:Er.z}else if(e!==void 0&&r!==void 0)this.x=e,this.y=r,this.z=s??Er.z;else throw new Error(`${Bi} Vector3d not initialized correctly`)}static get origin(){return sr.create(Er.x,Er.y,Er.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return sr.create(e.x,e.y,e.z)}static create(e,r,s){return new sr(e,r,s)}add(e){return sr.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return sr.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return sr.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**pn+this.y**pn}mult(e){return sr.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=X6&&this.multTo(Y6/e)}rotate(e){return sr.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),Er.z)}setTo(e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:Er.z}sub(e){return sr.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class ut extends sr{constructor(e,r){super(e,r,Er.z)}static get origin(){return ut.create(Er.x,Er.y)}static clone(e){return ut.create(e.x,e.y)}static create(e,r){return new ut(e,r)}}let lP=Math.random;function $e(){return br(lP(),0,1-Number.EPSILON)}function br(t,e,r){return Math.min(Math.max(t,e),r)}function Ad(t,e,r,s){return Math.floor((t*r+e*s)/(r+s))}function Ht(t){const e=Pr(t),r=0;let s=ku(t);return e===s&&(s=r),$e()*(e-s)+s}function J(t){return Ra(t)?t:Ht(t)}function ku(t){return Ra(t)?t:t.min}function Pr(t){return Ra(t)?t:t.max}function Kt(t,e){if(t===e||e===void 0&&Ra(t))return t;const r=ku(t),s=Pr(t);return e!==void 0?{min:Math.min(r,e),max:Math.max(s,e)}:Kt(r,s)}function gt(t,e){const r=t.x-e.x,s=t.y-e.y,n=2;return{dx:r,dy:s,distance:Math.sqrt(r**n+s**n)}}function gr(t,e){return gt(t,e).distance}function $o(t){return t*Math.PI/180}function ny(t,e,r,s){return ut.create(t.x*(r-s)/(r+s)+e.x*Hr*s/(r+s),t.y)}function k2(t){return t?t.endsWith("%")?parseFloat(t)/xu:parseFloat(t):1}var gi;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(gi||(gi={}));var Ve;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(Ve||(Ve={}));var ma;(function(t){t.none="none",t.max="max",t.min="min"})(ma||(ma={}));var ie;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(ie||(ie={}));var iy;(function(t){t.precise="precise",t.percent="percent"})(iy||(iy={}));var Fo;(function(t){t.max="max",t.min="min",t.random="random"})(Fo||(Fo={}));const cP={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function _2(){return cP}function oy(t){const e={bounced:!1},{pSide:r,pOtherSide:s,rectSide:n,rectOtherSide:i,velocity:o,factor:l}=t;return s.min<i.min||s.min>i.max||s.max<i.min||s.max>i.max||(r.max>=n.min&&r.max<=(n.max+n.min)*zn&&o>ry||r.min<=n.max&&r.min>(n.max+n.min)*zn&&o<ry)&&(e.velocity=o*-l,e.bounced=!0),e}function uP(t,e){const r=Ws(e,s=>t.matches(s));return as(r)?r.some(s=>s):r}function ay(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function qe(t,e){return t===e||as(e)&&e.indexOf(t)>-1}async function ly(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function dP(t){return Math.floor($e()*t.length)}function _u(t,e,r=!0){return t[e!==void 0&&r?e%t.length:dP(t)]}function ap(t,e,r,s,n){return hP(Ia(t,s??0),e,r,n)}function hP(t,e,r,s){let n=!0;return(!s||s===ie.bottom)&&(n=t.top<e.height+r.x),n&&(!s||s===ie.left)&&(n=t.right>r.x),n&&(!s||s===ie.right)&&(n=t.left<e.width+r.y),n&&(!s||s===ie.top)&&(n=t.bottom>r.y),n}function Ia(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Fc(t,...e){for(const r of e){if(r==null)continue;if(!Eo(r)){t=r;continue}const s=Array.isArray(r);s&&(Eo(t)||!t||!Array.isArray(t))?t=[]:!s&&(Eo(t)||!t||Array.isArray(t))&&(t={});for(const n in r){if(n==="__proto__")continue;const i=r,o=i[n],l=t;l[n]=Eo(o)&&Array.isArray(o)?o.map(c=>Fc(l[n],c)):Fc(l[n],o)}}return t}function lp(t,e){return!!E2(e,r=>r.enable&&qe(t,r.mode))}function cp(t,e,r){Ws(e,s=>{const n=s.mode;s.enable&&qe(t,n)&&fP(s,r)})}function fP(t,e){const r=t.selectors;Ws(r,s=>{e(s,t)})}function j2(t,e){if(!(!e||!t))return E2(t,r=>uP(e,r.selectors))}function kf(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:ut.create(J(t.options.bounce.horizontal.value),J(t.options.bounce.vertical.value))}}function S2(t,e){const{x:r,y:s}=t.velocity.sub(e.velocity),[n,i]=[t.position,e.position],{dx:o,dy:l}=gt(i,n);if(r*o+s*l<0)return;const u=-Math.atan2(l,o),d=t.mass,h=e.mass,f=t.velocity.rotate(u),m=e.velocity.rotate(u),p=ny(f,m,d,h),v=ny(m,f,d,h),b=p.rotate(-u),y=v.rotate(-u);t.velocity.x=b.x*t.factor.x,t.velocity.y=b.y*t.factor.y,e.velocity.x=y.x*e.factor.x,e.velocity.y=y.y*e.factor.y}function mP(t,e){const r=t.getPosition(),s=t.getRadius(),n=Ia(r,s),i=t.options.bounce,o=oy({pSide:{min:n.left,max:n.right},pOtherSide:{min:n.top,max:n.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:J(i.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(t.velocity.x=o.velocity),o.position!==void 0&&(t.position.x=o.position));const l=oy({pSide:{min:n.top,max:n.bottom},pOtherSide:{min:n.left,max:n.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:J(i.vertical.value)});l.bounced&&(l.velocity!==void 0&&(t.velocity.y=l.velocity),l.position!==void 0&&(t.position.y=l.position))}function Ws(t,e){return as(t)?t.map((s,n)=>e(s,n)):e(t,0)}function ju(t,e,r){return as(t)?_u(t,e,r):t}function E2(t,e){return as(t)?t.find((s,n)=>e(s,n)):e(t,0)?t:void 0}function pP(t,e){const r=t.value,s=t.animation,n={delayTime:J(s.delay)*rs,enable:s.enable,value:J(t.value)*e,max:Pr(r)*e,min:ku(r)*e,loops:0,maxLoops:J(s.count),time:0},i=1;if(s.enable){switch(n.decay=i-J(s.decay),s.mode){case gi.increase:n.status=Ve.increasing;break;case gi.decrease:n.status=Ve.decreasing;break;case gi.random:n.status=$e()>=zn?Ve.increasing:Ve.decreasing;break}const o=s.mode===gi.auto;switch(s.startValue){case Fo.min:n.value=n.min,o&&(n.status=Ve.increasing);break;case Fo.max:n.value=n.max,o&&(n.status=Ve.decreasing);break;case Fo.random:default:n.value=Ht(n),o&&(n.status=$e()>=zn?Ve.increasing:Ve.decreasing);break}}return n.initialValue=n.value,n}function gP(t,e,r,s,n){switch(e){case ma.max:r>=n&&t.destroy();break;case ma.min:r<=s&&t.destroy();break}}function up(t,e,r,s,n){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const d=(e.velocity??0)*n.factor,h=e.min,f=e.max,m=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case Ve.increasing:e.value>=f?(r?e.status=Ve.decreasing:e.value-=f,e.loops||(e.loops=0),e.loops++):e.value+=d;break;case Ve.decreasing:e.value<=h?(r?e.status=Ve.increasing:e.value+=f,e.loops||(e.loops=0),e.loops++):e.value-=d}e.velocity&&m!==1&&(e.velocity*=m),gP(t,s,e.value,h,f),t.destroyed||(e.value=br(e.value,h,f))}}var cy;(function(t){t.darken="darken",t.enlighten="enlighten"})(cy||(cy={}));function yP(t,e){if(e){for(const r of t.colorManagers.values())if(e.startsWith(r.stringPrefix))return r.parseString(e)}}function $n(t,e,r,s=!0){if(!e)return;const n=Vi(e)?{value:e}:e;if(Vi(n.value))return N2(t,n.value,r,s);if(as(n.value))return $n(t,{value:_u(n.value,r,s)});for(const i of t.colorManagers.values()){const o=i.handleRangeColor(n);if(o)return o}}function N2(t,e,r,s=!0){if(!e)return;const n=Vi(e)?{value:e}:e;if(Vi(n.value))return n.value===$c?T2():vP(t,n.value);if(as(n.value))return N2(t,{value:_u(n.value,r,s)});for(const i of t.colorManagers.values()){const o=i.handleColor(n);if(o)return o}}function dp(t,e,r,s=!0){const n=$n(t,e,r,s);return n?C2(n):void 0}function C2(t){const e=t.r/ql,r=t.g/ql,s=t.b/ql,n=Math.max(e,r,s),i=Math.min(e,r,s),o={h:ty,l:(n+i)*zn,s:xf};return n!==i&&(o.s=o.l<zn?(n-i)/(n+i):(n-i)/(Hr-n-i),o.h=e===n?(r-s)/(n-i):o.h=r===n?Hr+(s-e)/(n-i):Hr*Hr+(e-r)/(n-i)),o.l*=bf,o.s*=wf,o.h*=Q6,o.h<ty&&(o.h+=kn),o.h>=kn&&(o.h-=kn),o}function vP(t,e){return yP(t,e)}function Wi(t){const e=(t.h%kn+kn)%kn,r=Math.max(xf,Math.min(wf,t.s)),s=Math.max(tP,Math.min(bf,t.l)),n=e/kn,i=r/wf,o=s/bf;if(r===xf){const p=Math.round(o*en);return{r:p,g:p,b:p}}const l=(p,v,b)=>{if(b<0&&b++,b>1&&b--,b*Md<1)return p+(v-p)*Md*b;if(b*Hr<1)return v;if(b*Od<1*Hr){const w=Hr/Od;return p+(v-p)*(w-b)*Md}return p},c=o<zn?o*(rP+i):o+i-o*i,u=Hr*o-c,d=sP/Od,h=Math.min(en,en*l(u,c,n+d)),f=Math.min(en,en*l(u,c,n)),m=Math.min(en,en*l(u,c,n-d));return{r:Math.round(h),g:Math.round(f),b:Math.round(m)}}function wP(t){const e=Wi(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function T2(t){const e=nP,r=ql+eP;return{b:Math.floor(Ht(Kt(e,r))),g:Math.floor(Ht(Kt(e,r))),r:Math.floor(Ht(Kt(e,r)))}}function pa(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??x2})`}function _f(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??x2})`}function hp(t,e,r,s){let n=t,i=e;return n.r===void 0&&(n=Wi(t)),i.r===void 0&&(i=Wi(e)),{b:Ad(n.b,i.b,r,s),g:Ad(n.g,i.g,r,s),r:Ad(n.r,i.r,r,s)}}function jf(t,e,r){if(r===$c)return T2();if(r===Wl){const s=t.getFillColor()??t.getStrokeColor(),n=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(s&&n&&e)return hp(s,n,t.getRadius(),e.getRadius());{const i=s??n;if(i)return Wi(i)}}else return r}function P2(t,e,r,s){const n=Vi(e)?e:e.value;return n===$c?s?$n(t,{value:n}):r?$c:Wl:n===Wl?Wl:$n(t,{value:n})}function R2(t,e,r){const s={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Dd(s.h,e.h,r),Dd(s.s,e.s,r),Dd(s.l,e.l,r)),s}function Dd(t,e,r){t.enable=e.enable,t.enable?(t.velocity=J(e.speed)/xu*r,t.decay=Z6-J(e.decay),t.status=Ve.increasing,t.loops=oP,t.maxLoops=J(e.count),t.time=aP,t.delayTime=J(e.delay)*rs,e.sync||(t.velocity*=$e(),t.value*=$e()),t.initialValue=t.value,t.offset=Kt(e.offset)):t.velocity=iP}function zd(t,e,r,s){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=s.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const d=t.offset?Ht(t.offset):0,h=(t.velocity??0)*s.factor+d*3.6,f=t.decay??1,m=Pr(e),p=ku(e);!r||t.status===Ve.increasing?(t.value+=h,t.value>m&&(t.loops||(t.loops=0),t.loops++,r?t.status=Ve.decreasing:t.value-=m)):(t.value-=h,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=Ve.increasing)),t.velocity&&f!==1&&(t.velocity*=f),t.value=br(t.value,p,m)}function I2(t,e){if(!t)return;const{h:r,s,l:n}=t,i={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};r&&zd(r,i.h,!1,e),s&&zd(s,i.s,!0,e),n&&zd(n,i.l,!0,e)}function Uo(t,e,r){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(r.x,r.y),t.closePath()}class ss{constructor(){this.value=""}static create(e,r){const s=new ss;return s.load(e),r!==void 0&&(Vi(r)||as(r)?s.load({value:r}):s.load(r)),s}load(e){fe(e)||fe(e.value)||(this.value=e.value)}}var ga;(function(t){t.circle="circle",t.rectangle="rectangle"})(ga||(ga={}));var Bo;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Bo||(Bo={}));class fp{constructor(){this.value=0}load(e){fe(e)||fe(e.value)||(this.value=Kt(e.value))}}var tt;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(tt||(tt={}));var Uc;(function(t){t.external="external",t.particles="particles"})(Uc||(Uc={}));var Ls;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(Ls||(Ls={}));var Ti;(function(t){t.circle="circle",t.rectangle="rectangle"})(Ti||(Ti={}));class L2{constructor(e,r,s){this.position={x:e,y:r},this.type=s}}class yt extends L2{constructor(e,r,s){super(e,r,Ti.circle),this.radius=s}contains(e){return gr(e,this.position)<=this.radius}intersects(e){const r=this.position,s=e.position,n={x:Math.abs(s.x-r.x),y:Math.abs(s.y-r.y)},i=this.radius;if(e instanceof yt||e.type===Ti.circle){const o=e,l=i+o.radius,c=Math.sqrt(n.x**pn+n.y**pn);return l>c}else if(e instanceof qs||e.type===Ti.rectangle){const o=e,{width:l,height:c}=o.size;return Math.pow(n.x-l,pn)+Math.pow(n.y-c,pn)<=i**pn||n.x<=i+l&&n.y<=i+c||n.x<=l||n.y<=c}return!1}}class qs extends L2{constructor(e,r,s,n){super(e,r,Ti.rectangle),this.size={height:n,width:s}}contains(e){const r=this.size.width,s=this.size.height,n=this.position;return e.x>=n.x&&e.x<=n.x+r&&e.y>=n.y&&e.y<=n.y+s}intersects(e){if(e instanceof yt)return e.intersects(this);const r=this.size.width,s=this.size.height,n=this.position,i=e.position,o=e instanceof qs?e.size:{width:0,height:0},l=o.width,c=o.height;return i.x<n.x+r&&i.x+l>n.x&&i.y<n.y+s&&i.y+c>n.y}}class Ar{constructor(e){this.type=Uc.external,this.container=e}}class mp{constructor(e){this.type=Uc.particles,this.container=e}}var ur;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(ur||(ur={}));var Sn;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(Sn||(Sn={}));const Sf=.5,bP=2,xs=0,dr=1,uy=60,dy=0,xP=.01,kP=Math.PI*bP;function _P(t){const e=t.initialPosition,{dx:r,dy:s}=gt(e,t.position),n=Math.abs(r),i=Math.abs(s),{maxDistance:o}=t.retina,l=o.horizontal,c=o.vertical;if(!l&&!c)return;const u=(l&&n>=l)??!1,d=(c&&i>=c)??!1;if((u||d)&&!t.misplaced)t.misplaced=!!l&&n>l||!!c&&i>c,l&&(t.velocity.x=t.velocity.y*Sf-t.velocity.x),c&&(t.velocity.y=t.velocity.x*Sf-t.velocity.y);else if((!l||n<l)&&(!c||i<c)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const h=t.position,f=t.velocity;l&&(h.x<e.x&&f.x<xs||h.x>e.x&&f.x>xs)&&(f.x*=-$e()),c&&(h.y<e.y&&f.y<xs||h.y>e.y&&f.y>xs)&&(f.y*=-$e())}}function jP(t,e,r,s,n,i,o){EP(t,o);const l=t.gravity,c=l!=null&&l.enable&&l.inverse?-dr:dr;n&&r&&(t.velocity.x+=n*o.factor/(uy*r)),l!=null&&l.enable&&r&&(t.velocity.y+=c*(l.acceleration*o.factor)/(uy*r));const u=t.moveDecay;t.velocity.multTo(u);const d=t.velocity.mult(r);l!=null&&l.enable&&s>xs&&(!l.inverse&&d.y>=xs&&d.y>=s||l.inverse&&d.y<=xs&&d.y<=-s)&&(d.y=c*s,r&&(t.velocity.y=d.y/r));const h=t.options.zIndex,f=(dr-t.zIndexFactor)**h.velocityRate;d.multTo(f),d.multTo(i);const{position:m}=t;m.addTo(d),e.vibrate&&(m.x+=Math.sin(m.x*Math.cos(m.y))*i,m.y+=Math.cos(m.y*Math.sin(m.x))*i)}function SP(t,e,r){const s=t.container;if(!t.spin)return;const n=t.spin.direction===ur.clockwise,i={x:n?Math.cos:Math.sin,y:n?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle)*r,t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle)*r,t.spin.radius+=t.spin.acceleration*r;const o=Math.max(s.canvas.size.width,s.canvas.size.height),l=o*Sf;t.spin.radius>l?(t.spin.radius=l,t.spin.acceleration*=-dr):t.spin.radius<dy&&(t.spin.radius=dy,t.spin.acceleration*=-dr),t.spin.angle+=e*xP*(dr-t.spin.radius/o)}function EP(t,e){var o;const r=t.options,s=r.move.path;if(!s.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const i=(o=t.pathGenerator)==null?void 0:o.generate(t,e);i&&t.velocity.addTo(i),s.clamp&&(t.velocity.x=br(t.velocity.x,-dr,dr),t.velocity.y=br(t.velocity.y,-dr,dr)),t.lastPathTime-=t.pathDelay}function NP(t){return t.slow.inRange?t.slow.factor:dr}function CP(t){const e=t.container,r=t.options,s=r.move.spin;if(!s.enable)return;const n=s.position??{x:50,y:50},i=.01,o={x:n.x*i*e.canvas.size.width,y:n.y*i*e.canvas.size.height},l=t.getPosition(),c=gr(l,o),u=J(s.acceleration);t.retina.spinAcceleration=u*e.retina.pixelRatio,t.spin={center:o,direction:t.velocity.x>=xs?ur.clockwise:ur.counterClockwise,angle:$e()*kP,radius:c,acceleration:t.retina.spinAcceleration}}const TP=2,PP=1,RP=1;class IP{init(e){const r=e.options,s=r.move.gravity;e.gravity={enable:s.enable,acceleration:J(s.acceleration),inverse:s.inverse},CP(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,r){var b,y;const s=e.options,n=s.move;if(!n.enable)return;const i=e.container,o=i.retina.pixelRatio;(b=e.retina).moveSpeed??(b.moveSpeed=J(n.speed)*o),(y=e.retina).moveDrift??(y.moveDrift=J(e.options.move.drift)*o);const l=NP(e),c=i.retina.reduceFactor,u=e.retina.moveSpeed,d=e.retina.moveDrift,h=Pr(s.size.value)*o,f=n.size?e.getRadius()/h:PP,m=r.factor||RP,p=u*f*l*m/TP,v=e.retina.maxSpeed??i.retina.maxSpeed;n.spin.enable?SP(e,p,c):jP(e,n,p,v,d,c,r),_P(e)}}async function LP(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new IP),e)}const OP=2,MP=Math.PI*OP,AP=0,hy={x:0,y:0};function DP(t){const{context:e,particle:r,radius:s}=t;r.circleRange||(r.circleRange={min:AP,max:MP});const n=r.circleRange;e.arc(hy.x,hy.y,s,n.min,n.max,!1)}const zP=12,$P=360,fy=0;class FP{constructor(){this.validTypes=["circle"]}draw(e){DP(e)}getSidesCount(){return zP}particleInit(e,r){const s=r.shapeData,n=(s==null?void 0:s.angle)??{max:$P,min:fy};r.circleRange=Eo(n)?{min:$o(n.min),max:$o(n.max)}:{min:fy,max:$o(n)}}}async function UP(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new FP,e)}class BP{constructor(e,r){this._container=e,this._engine=r}init(e){const r=dp(this._engine,e.options.color,e.id,e.options.reduceDuplicates);r&&(e.color=R2(r,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:r,s,l:n}=e.options.color.animation,{color:i}=e;return!e.destroyed&&!e.spawning&&((i==null?void 0:i.h.value)!==void 0&&r.enable||(i==null?void 0:i.s.value)!==void 0&&s.enable||(i==null?void 0:i.l.value)!==void 0&&n.enable)}update(e,r){I2(e.color,r)}}async function VP(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",r=>Promise.resolve(new BP(r,t)),e)}var gn;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(gn||(gn={}));const WP=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,qP=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,gl=16,HP=1,GP=255;class KP{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const r=e.replace(WP,(n,i,o,l,c)=>i+i+o+o+l+l+(c!==void 0?c+c:"")),s=qP.exec(r);return s?{a:s[gn.a]!==void 0?parseInt(s[gn.a],gl)/GP:HP,b:parseInt(s[gn.b],gl),g:parseInt(s[gn.g],gl),r:parseInt(s[gn.r],gl)}:void 0}}async function JP(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new KP,e)}var yi;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(yi||(yi={}));class YP{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const r=e.value,s=r.hsl??e.value;if(s.h!==void 0&&s.s!==void 0&&s.l!==void 0)return Wi(s)}handleRangeColor(e){const r=e.value,s=r.hsl??e.value;if(s.h!==void 0&&s.l!==void 0)return Wi({h:J(s.h),l:J(s.l),s:J(s.s)})}parseString(e){if(!e.startsWith("hsl"))return;const r=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,s=r.exec(e),n=4,i=1,o=10;return s?wP({a:s.length>n?k2(s[yi.a]):i,h:parseInt(s[yi.h],o),l:parseInt(s[yi.l],o),s:parseInt(s[yi.s],o)}):void 0}}async function QP(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new YP,e)}class XP{constructor(e){this.container=e}init(e){const r=e.options.opacity,s=1;e.opacity=pP(r,s);const n=r.animation;n.enable&&(e.opacity.velocity=J(n.speed)/xu*this.container.retina.reduceFactor,n.sync||(e.opacity.velocity*=$e()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,r){!this.isEnabled(e)||!e.opacity||up(e,e.opacity,!0,e.options.opacity.animation.destroy,r)}}async function ZP(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",r=>Promise.resolve(new XP(r)),e)}const Bc=0,Pi=0;function eR(t){if(t.outMode!==tt.bounce&&t.outMode!==tt.split||t.direction!==ie.left&&t.direction!==ie.right)return;t.bounds.right<Pi&&t.direction===ie.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===ie.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let r=!1;if(t.direction===ie.right&&t.bounds.right>=t.canvasSize.width&&e>Bc||t.direction===ie.left&&t.bounds.left<=Pi&&e<Bc){const n=J(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-n,r=!0}if(!r)return;const s=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===ie.right?t.particle.position.x=t.canvasSize.width-s:t.bounds.left<=Pi&&t.direction===ie.left&&(t.particle.position.x=s),t.outMode===tt.split&&t.particle.destroy()}function tR(t){if(t.outMode!==tt.bounce&&t.outMode!==tt.split||t.direction!==ie.bottom&&t.direction!==ie.top)return;t.bounds.bottom<Pi&&t.direction===ie.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===ie.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let r=!1;if(t.direction===ie.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>Bc||t.direction===ie.top&&t.bounds.top<=Pi&&e<Bc){const n=J(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-n,r=!0}if(!r)return;const s=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===ie.bottom?t.particle.position.y=t.canvasSize.height-s:t.bounds.top<=Pi&&t.direction===ie.top&&(t.particle.position.y=s),t.outMode===tt.split&&t.particle.destroy()}class rR{constructor(e){this.container=e,this.modes=[tt.bounce,tt.split]}update(e,r,s,n){if(!this.modes.includes(n))return;const i=this.container;let o=!1;for(const f of i.plugins.values())if(f.particleBounce!==void 0&&(o=f.particleBounce(e,s,r)),o)break;if(o)return;const l=e.getPosition(),c=e.offset,u=e.getRadius(),d=Ia(l,u),h=i.canvas.size;eR({particle:e,outMode:n,direction:r,bounds:d,canvasSize:h,offset:c,size:u}),tR({particle:e,outMode:n,direction:r,bounds:d,canvasSize:h,offset:c,size:u})}}const yl=0;class sR{constructor(e){this.container=e,this.modes=[tt.destroy]}update(e,r,s,n){if(!this.modes.includes(n))return;const i=this.container;switch(e.outType){case Ls.normal:case Ls.outside:if(ap(e.position,i.canvas.size,ut.origin,e.getRadius(),r))return;break;case Ls.inside:{const{dx:o,dy:l}=gt(e.position,e.moveCenter),{x:c,y:u}=e.velocity;if(c<yl&&o>e.moveCenter.radius||u<yl&&l>e.moveCenter.radius||c>=yl&&o<-e.moveCenter.radius||u>=yl&&l<-e.moveCenter.radius)return;break}}i.particles.remove(e,e.group,!0)}}const vl=0;class nR{constructor(e){this.container=e,this.modes=[tt.none]}update(e,r,s,n){if(!this.modes.includes(n)||((e.options.move.distance.horizontal&&(r===ie.left||r===ie.right))??(e.options.move.distance.vertical&&(r===ie.top||r===ie.bottom))))return;const i=e.options.move.gravity,o=this.container,l=o.canvas.size,c=e.getRadius();if(i.enable){const u=e.position;(!i.inverse&&u.y>l.height+c&&r===ie.bottom||i.inverse&&u.y<-c&&r===ie.top)&&o.particles.remove(e)}else{if(e.velocity.y>vl&&e.position.y<=l.height+c||e.velocity.y<vl&&e.position.y>=-c||e.velocity.x>vl&&e.position.x<=l.width+c||e.velocity.x<vl&&e.position.x>=-c)return;ap(e.position,o.canvas.size,ut.origin,c,r)||o.particles.remove(e)}}}const wl=0,bl=0;class iR{constructor(e){this.container=e,this.modes=[tt.out]}update(e,r,s,n){if(!this.modes.includes(n))return;const i=this.container;switch(e.outType){case Ls.inside:{const{x:o,y:l}=e.velocity,c=ut.origin;c.length=e.moveCenter.radius,c.angle=e.velocity.angle+Math.PI,c.addTo(ut.create(e.moveCenter));const{dx:u,dy:d}=gt(e.position,c);if(o<=wl&&u>=bl||l<=wl&&d>=bl||o>=wl&&u<=bl||l>=wl&&d<=bl)return;e.position.x=Math.floor(Ht({min:0,max:i.canvas.size.width})),e.position.y=Math.floor(Ht({min:0,max:i.canvas.size.height}));const{dx:h,dy:f}=gt(e.position,e.moveCenter);e.direction=Math.atan2(-f,-h),e.velocity.angle=e.direction;break}default:{if(ap(e.position,i.canvas.size,ut.origin,e.getRadius(),r))return;switch(e.outType){case Ls.outside:{e.position.x=Math.floor(Ht({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Ht({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:l}=gt(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(l,o),e.velocity.angle=e.direction);break}case Ls.normal:{const o=e.options.move.warp,l=i.canvas.size,c={bottom:l.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:l.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),d=Ia(e.position,u);r===ie.right&&d.left>l.width+e.offset.x?(e.position.x=c.left,e.initialPosition.x=e.position.x,o||(e.position.y=$e()*l.height,e.initialPosition.y=e.position.y)):r===ie.left&&d.right<-e.offset.x&&(e.position.x=c.right,e.initialPosition.x=e.position.x,o||(e.position.y=$e()*l.height,e.initialPosition.y=e.position.y)),r===ie.bottom&&d.top>l.height+e.offset.y?(o||(e.position.x=$e()*l.width,e.initialPosition.x=e.position.x),e.position.y=c.top,e.initialPosition.y=e.position.y):r===ie.top&&d.bottom<-e.offset.y&&(o||(e.position.x=$e()*l.width,e.initialPosition.x=e.position.x),e.position.y=c.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const oR=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class aR{constructor(e){this._addUpdaterIfMissing=(r,s,n)=>{const i=r.options.move.outModes;!this.updaters.has(s)&&oR(i,s)&&this.updaters.set(s,n(this.container))},this._updateOutMode=(r,s,n,i)=>{for(const o of this.updaters.values())o.update(r,i,s,n)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,tt.bounce,r=>new rR(r)),this._addUpdaterIfMissing(e,tt.out,r=>new iR(r)),this._addUpdaterIfMissing(e,tt.destroy,r=>new sR(r)),this._addUpdaterIfMissing(e,tt.none,r=>new nR(r))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,r){const s=e.options.move.outModes;this._updateOutMode(e,r,s.bottom??s.default,ie.bottom),this._updateOutMode(e,r,s.left??s.default,ie.left),this._updateOutMode(e,r,s.right??s.default,ie.right),this._updateOutMode(e,r,s.top??s.default,ie.top)}}async function lR(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",r=>Promise.resolve(new aR(r)),e)}var vi;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(vi||(vi={}));class cR{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const r=e.value,s=r.rgb??e.value;if(s.r!==void 0)return s}handleRangeColor(e){const r=e.value,s=r.rgb??e.value;if(s.r!==void 0)return{r:J(s.r),g:J(s.g),b:J(s.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const r=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,s=r.exec(e),n=10;return s?{a:s.length>4?k2(s[vi.a]):1,b:parseInt(s[vi.b],n),g:parseInt(s[vi.g],n),r:parseInt(s[vi.r],n)}:void 0}}async function uR(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new cR,e)}const tn=0;class dR{init(e){const r=e.container,s=e.options.size,n=s.animation;n.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??r.retina.sizeAnimationSpeed)/xu*r.retina.reduceFactor,n.sync||(e.size.velocity*=$e()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??tn)<=tn||(e.size.maxLoops??tn)>tn&&(e.size.loops??tn)<(e.size.maxLoops??tn))}reset(e){e.size.loops=tn}update(e,r){this.isEnabled(e)&&up(e,e.size,!0,e.options.size.animation.destroy,r)}}async function hR(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new dR),e)}async function fR(t,e=!0){t.checkVersion("3.9.1"),await JP(t,!1),await QP(t,!1),await uR(t,!1),await LP(t,!1),await UP(t,!1),await VP(t,!1),await ZP(t,!1),await lR(t,!1),await hR(t,!1),await t.refresh(e)}async function mR(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing(Sn.easeInQuad,r=>r**2,!1),await t.addEasing(Sn.easeOutQuad,r=>1-(1-r)**2,!1),await t.addEasing(Sn.easeInOutQuad,r=>r<.5?2*r**2:1-(-2*r+2)**2/2,!1),await t.refresh(e)}function pR(t,e){const{context:r,opacity:s}=t,n=.5,i=r.globalAlpha;if(!e)return;const o=e.width,l=o*n;r.globalAlpha=s,r.drawImage(e,-l,-l,o,o),r.globalAlpha=i}const $d='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',my=0;class gR{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,r]of this._emojiShapeDict)r instanceof ImageBitmap&&(r==null||r.close()),this._emojiShapeDict.delete(e)}draw(e){const r=e.particle.emojiDataKey;if(!r)return;const s=this._emojiShapeDict.get(r);s&&pR(e,s)}async init(e){const r=e.actualOptions,{validTypes:s}=this;if(!s.find(o=>qe(o,r.particles.shape.type)))return;const n=[ly($d)],i=s.map(o=>r.particles.shape.options[o]).find(o=>!!o);i&&Ws(i,o=>{o.font&&n.push(ly(o.font))}),await Promise.all(n)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,r){const n=r.shapeData;if(!(n!=null&&n.value))return;const i=ju(n.value,r.randomIndexData);if(!i)return;const o=typeof i=="string"?{font:n.font??$d,padding:n.padding??my,value:i}:{font:$d,padding:my,...n,...i},l=o.font,c=o.value,u=`${c}_${l}`;if(this._emojiShapeDict.has(u)){r.emojiDataKey=u;return}const d=o.padding*2,h=Pr(r.size.value),f=h+d,m=f*2;let p;if(typeof OffscreenCanvas<"u"){const v=new OffscreenCanvas(m,m),b=v.getContext("2d");if(!b)return;b.font=`400 ${h*2}px ${l}`,b.textBaseline="middle",b.textAlign="center",b.fillText(c,f,f),p=v.transferToImageBitmap()}else{const v=document.createElement("canvas");v.width=m,v.height=m;const b=v.getContext("2d");if(!b)return;b.font=`400 ${h*2}px ${l}`,b.textBaseline="middle",b.textAlign="center",b.fillText(c,f,f),p=v}this._emojiShapeDict.set(u,p),r.emojiDataKey=u}}async function yR(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new gR,e)}const vR=1,wR=1,O2=0;function M2(t,e,r,s,n,i){const o=e.actualOptions.interactivity.modes.attract;if(!o)return;const l=e.particles.quadTree.query(n,i);for(const c of l){const{dx:u,dy:d,distance:h}=gt(c.position,r),f=o.speed*o.factor,m=br(t.getEasing(o.easing)(wR-h/s)*f,vR,o.maxSpeed),p=ut.create(h?u/h*m:f,h?d/h*m:f);c.position.subFrom(p)}}function bR(t,e,r){e.attract||(e.attract={particles:[]});const{attract:s}=e;if(s.finish||(s.count||(s.count=0),s.count++,s.count===e.particles.count&&(s.finish=!0)),s.clicking){const n=e.interactivity.mouse.clickPosition,i=e.retina.attractModeDistance;if(!i||i<O2||!n)return;M2(t,e,n,i,new yt(n.x,n.y,i),o=>r(o))}else s.clicking===!1&&(s.particles=[])}function xR(t,e,r){const s=e.interactivity.mouse.position,n=e.retina.attractModeDistance;!n||n<O2||!s||M2(t,e,s,n,new yt(s.x,s.y,n),i=>r(i))}class kR{constructor(){this.distance=200,this.duration=.4,this.easing=Sn.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){fe(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const yo="attract";let _R=class extends Ar{constructor(e,r){super(r),this._engine=e,r.attract||(r.attract={particles:[]}),this.handleClickMode=s=>{const n=this.container.actualOptions,i=n.interactivity.modes.attract;if(!(!i||s!==yo)){r.attract||(r.attract={particles:[]}),r.attract.clicking=!0,r.attract.count=0;for(const o of r.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);r.attract.particles=[],r.attract.finish=!1,setTimeout(()=>{r.destroyed||(r.attract||(r.attract={particles:[]}),r.attract.clicking=!1)},i.duration*rs)}}}clear(){}init(){const e=this.container,r=e.actualOptions.interactivity.modes.attract;r&&(e.retina.attractModeDistance=r.distance*e.retina.pixelRatio)}interact(){const e=this.container,r=e.actualOptions,s=e.interactivity.status===Pa,n=r.interactivity.events,{enable:i,mode:o}=n.onHover,{enable:l,mode:c}=n.onClick;s&&i&&qe(yo,o)?xR(this._engine,this.container,u=>this.isEnabled(u)):l&&qe(yo,c)&&bR(this._engine,this.container,u=>this.isEnabled(u))}isEnabled(e){const r=this.container,s=r.actualOptions,n=r.interactivity.mouse,i=((e==null?void 0:e.interactivity)??s.interactivity).events;if((!n.position||!i.onHover.enable)&&(!n.clickPosition||!i.onClick.enable))return!1;const o=i.onHover.mode,l=i.onClick.mode;return qe(yo,o)||qe(yo,l)}loadModeOptions(e,...r){e.attract||(e.attract=new kR);for(const s of r)e.attract.load(s==null?void 0:s.attract)}reset(){}};async function jR(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",r=>Promise.resolve(new _R(t,r)),e)}const SR=2,Hl=.5,ER=Math.PI*Hl,py=2,A2=10,NR=0;function D2(t,e,r,s,n){const i=t.particles.quadTree.query(s,n);for(const o of i)s instanceof yt?S2(kf(o),{position:e,mass:r**SR*ER,velocity:ut.origin,factor:ut.origin}):s instanceof qs&&mP(o,Ia(e,r))}function CR(t,e,r,s){const n=document.querySelectorAll(e);n.length&&n.forEach(i=>{const o=i,l=t.retina.pixelRatio,c={x:(o.offsetLeft+o.offsetWidth*Hl)*l,y:(o.offsetTop+o.offsetHeight*Hl)*l},u=o.offsetWidth*Hl*l,d=A2*l,h=r.type===ga.circle?new yt(c.x,c.y,u+d):new qs(o.offsetLeft*l-d,o.offsetTop*l-d,o.offsetWidth*l+d*py,o.offsetHeight*l+d*py);s(c,u,h)})}function TR(t,e,r,s){cp(r,e,(n,i)=>CR(t,n,i,(o,l,c)=>D2(t,o,l,c,s)))}function PR(t,e){const r=t.retina.pixelRatio,s=A2*r,n=t.interactivity.mouse.position,i=t.retina.bounceModeDistance;!i||i<NR||!n||D2(t,n,i,new yt(n.x,n.y,i+s),e)}class RR{constructor(){this.distance=200}load(e){fe(e)||e.distance!==void 0&&(this.distance=e.distance)}}const xl="bounce";class IR extends Ar{constructor(e){super(e)}clear(){}init(){const e=this.container,r=e.actualOptions.interactivity.modes.bounce;r&&(e.retina.bounceModeDistance=r.distance*e.retina.pixelRatio)}interact(){const e=this.container,r=e.actualOptions,s=r.interactivity.events,n=e.interactivity.status===Pa,i=s.onHover.enable,o=s.onHover.mode,l=s.onDiv;n&&i&&qe(xl,o)?PR(this.container,c=>this.isEnabled(c)):TR(this.container,l,xl,c=>this.isEnabled(c))}isEnabled(e){const r=this.container,s=r.actualOptions,n=r.interactivity.mouse,i=((e==null?void 0:e.interactivity)??s.interactivity).events,o=i.onDiv;return!!n.position&&i.onHover.enable&&qe(xl,i.onHover.mode)||lp(xl,o)}loadModeOptions(e,...r){e.bounce||(e.bounce=new RR);for(const s of r)e.bounce.load(s==null?void 0:s.bounce)}reset(){}}async function LR(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",r=>Promise.resolve(new IR(r)),e)}class z2{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!fe(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const r=as(this.color)?void 0:this.color;this.color=Ws(e.color,s=>ss.create(r,s))}e.size!==void 0&&(this.size=e.size)}}}class OR extends z2{constructor(){super(),this.selectors=[]}load(e){super.load(e),!fe(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class MR extends z2{load(e){super.load(e),!fe(e)&&(this.divs=Ws(e.divs,r=>{const s=new OR;return s.load(r),s}))}}var jr;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(jr||(jr={}));function gy(t,e,r,s){if(e>=r){const n=t+(e-r)*s;return br(n,t,e)}else if(e<r){const n=t-(r-e)*s;return br(n,e,t)}}const rn="bubble",Fd=0,AR=0,DR=2,yy=1,vy=1,zR=0,$R=0,Ud=.5,Bd=1;class FR extends Ar{constructor(e,r){super(e),this._clickBubble=()=>{var d;const s=this.container,n=s.actualOptions,i=s.interactivity.mouse.clickPosition,o=n.interactivity.modes.bubble;if(!o||!i)return;s.bubble||(s.bubble={});const l=s.retina.bubbleModeDistance;if(!l||l<Fd)return;const c=s.particles.quadTree.queryCircle(i,l,h=>this.isEnabled(h)),{bubble:u}=s;for(const h of c){if(!u.clicking)continue;h.bubble.inRange=!u.durationEnd;const f=h.getPosition(),m=gr(f,i),p=(new Date().getTime()-(s.interactivity.mouse.clickTime??AR))/rs;p>o.duration&&(u.durationEnd=!0),p>o.duration*DR&&(u.clicking=!1,u.durationEnd=!1);const v={bubbleObj:{optValue:s.retina.bubbleModeSize,value:h.bubble.radius},particlesObj:{optValue:Pr(h.options.size.value)*s.retina.pixelRatio,value:h.size.value},type:jr.size};this._process(h,m,p,v);const b={bubbleObj:{optValue:o.opacity,value:h.bubble.opacity},particlesObj:{optValue:Pr(h.options.opacity.value),value:((d=h.opacity)==null?void 0:d.value)??yy},type:jr.opacity};this._process(h,m,p,b),!u.durationEnd&&m<=l?this._hoverBubbleColor(h,m):delete h.bubble.color}},this._hoverBubble=()=>{const s=this.container,n=s.interactivity.mouse.position,i=s.retina.bubbleModeDistance;if(!i||i<Fd||!n)return;const o=s.particles.quadTree.queryCircle(n,i,l=>this.isEnabled(l));for(const l of o){l.bubble.inRange=!0;const c=l.getPosition(),u=gr(c,n),d=vy-u/i;u<=i?d>=$R&&s.interactivity.status===Pa&&(this._hoverBubbleSize(l,d),this._hoverBubbleOpacity(l,d),this._hoverBubbleColor(l,d)):this.reset(l),s.interactivity.status===J6&&this.reset(l)}},this._hoverBubbleColor=(s,n,i)=>{const o=this.container.actualOptions,l=i??o.interactivity.modes.bubble;if(l){if(!s.bubble.finalColor){const c=l.color;if(!c)return;const u=ju(c);s.bubble.finalColor=dp(this._engine,u)}if(s.bubble.finalColor)if(l.mix){s.bubble.color=void 0;const c=s.getFillColor();s.bubble.color=c?C2(hp(c,s.bubble.finalColor,vy-n,n)):s.bubble.finalColor}else s.bubble.color=s.bubble.finalColor}},this._hoverBubbleOpacity=(s,n,i)=>{var f,m;const o=this.container,l=o.actualOptions,c=(i==null?void 0:i.opacity)??((f=l.interactivity.modes.bubble)==null?void 0:f.opacity);if(!c)return;const u=s.options.opacity.value,d=((m=s.opacity)==null?void 0:m.value)??yy,h=gy(d,c,Pr(u),n);h!==void 0&&(s.bubble.opacity=h)},this._hoverBubbleSize=(s,n,i)=>{const o=this.container,l=i!=null&&i.size?i.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(l===void 0)return;const c=Pr(s.options.size.value)*o.retina.pixelRatio,u=s.size.value,d=gy(u,l,c,n);d!==void 0&&(s.bubble.radius=d)},this._process=(s,n,i,o)=>{const l=this.container,c=o.bubbleObj.optValue,u=l.actualOptions,d=u.interactivity.modes.bubble;if(!d||c===void 0)return;const h=d.duration,f=l.retina.bubbleModeDistance,m=o.particlesObj.optValue,p=o.bubbleObj.value,v=o.particlesObj.value??zR,b=o.type;if(!(!f||f<Fd||c===m))if(l.bubble||(l.bubble={}),l.bubble.durationEnd)p&&(b===jr.size&&delete s.bubble.radius,b===jr.opacity&&delete s.bubble.opacity);else if(n<=f){if((p??v)!==c){const g=v-i*(v-c)/h;b===jr.size&&(s.bubble.radius=g),b===jr.opacity&&(s.bubble.opacity=g)}}else b===jr.size&&delete s.bubble.radius,b===jr.opacity&&delete s.bubble.opacity},this._singleSelectorHover=(s,n,i)=>{const o=this.container,l=document.querySelectorAll(n),c=o.actualOptions.interactivity.modes.bubble;!c||!l.length||l.forEach(u=>{const d=u,h=o.retina.pixelRatio,f={x:(d.offsetLeft+d.offsetWidth*Ud)*h,y:(d.offsetTop+d.offsetHeight*Ud)*h},m=d.offsetWidth*Ud*h,p=i.type===ga.circle?new yt(f.x,f.y,m):new qs(d.offsetLeft*h,d.offsetTop*h,d.offsetWidth*h,d.offsetHeight*h),v=o.particles.quadTree.query(p,b=>this.isEnabled(b));for(const b of v){if(!p.contains(b.getPosition()))continue;b.bubble.inRange=!0;const y=c.divs,g=j2(y,d);(!b.bubble.div||b.bubble.div!==d)&&(this.clear(b,s,!0),b.bubble.div=d),this._hoverBubbleSize(b,Bd,g),this._hoverBubbleOpacity(b,Bd,g),this._hoverBubbleColor(b,Bd,g)}})},this._engine=r,e.bubble||(e.bubble={}),this.handleClickMode=s=>{s===rn&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,r,s){e.bubble.inRange&&!s||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,r=e.actualOptions.interactivity.modes.bubble;r&&(e.retina.bubbleModeDistance=r.distance*e.retina.pixelRatio,r.size!==void 0&&(e.retina.bubbleModeSize=r.size*e.retina.pixelRatio))}interact(e){const r=this.container.actualOptions,s=r.interactivity.events,n=s.onHover,i=s.onClick,o=n.enable,l=n.mode,c=i.enable,u=i.mode,d=s.onDiv;o&&qe(rn,l)?this._hoverBubble():c&&qe(rn,u)?this._clickBubble():cp(rn,d,(h,f)=>this._singleSelectorHover(e,h,f))}isEnabled(e){const r=this.container,s=r.actualOptions,n=r.interactivity.mouse,i=((e==null?void 0:e.interactivity)??s.interactivity).events,{onClick:o,onDiv:l,onHover:c}=i,u=lp(rn,l);return u||c.enable&&n.position||o.enable&&n.clickPosition?qe(rn,c.mode)||qe(rn,o.mode)||u:!1}loadModeOptions(e,...r){e.bubble||(e.bubble=new MR);for(const s of r)e.bubble.load(s==null?void 0:s.bubble)}reset(e){e.bubble.inRange=!1}}async function UR(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",r=>Promise.resolve(new FR(r,t)),e)}class BR{constructor(){this.opacity=.5}load(e){fe(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class VR{constructor(){this.distance=80,this.links=new BR,this.radius=60}load(e){fe(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const wy=0,by=1,WR=0;function qR(t,e,r,s){const n=Math.floor(r.getRadius()/e.getRadius()),i=e.getFillColor(),o=r.getFillColor();if(!i||!o)return;const l=e.getPosition(),c=r.getPosition(),u=hp(i,o,e.getRadius(),r.getRadius()),d=t.createLinearGradient(l.x,l.y,c.x,c.y);return d.addColorStop(wy,_f(i,s)),d.addColorStop(br(n,wy,by),pa(u,s)),d.addColorStop(by,_f(o,s)),d}function HR(t,e,r,s,n){Uo(t,s,n),t.lineWidth=e,t.strokeStyle=r,t.stroke()}function GR(t,e,r,s){const n=t.actualOptions,i=n.interactivity.modes.connect;if(i)return qR(e,r,s,i.links.opacity)}function KR(t,e,r){t.canvas.draw(s=>{const n=GR(t,s,e,r);if(!n)return;const i=e.getPosition(),o=r.getPosition();HR(s,e.retina.linksWidth??WR,n,i,o)})}const JR="connect",xy=0;class YR extends Ar{constructor(e){super(e)}clear(){}init(){const e=this.container,r=e.actualOptions.interactivity.modes.connect;r&&(e.retina.connectModeDistance=r.distance*e.retina.pixelRatio,e.retina.connectModeRadius=r.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const s=e.interactivity.mouse.position,{connectModeDistance:n,connectModeRadius:i}=e.retina;if(!n||n<xy||!i||i<xy||!s)return;const o=Math.abs(i),l=e.particles.quadTree.queryCircle(s,o,c=>this.isEnabled(c));l.forEach((c,u)=>{const d=c.getPosition(),h=1;for(const f of l.slice(u+h)){const m=f.getPosition(),p=Math.abs(n),v=Math.abs(d.x-m.x),b=Math.abs(d.y-m.y);v<p&&b<p&&KR(e,c,f)}})}}isEnabled(e){const r=this.container,s=r.interactivity.mouse,n=((e==null?void 0:e.interactivity)??r.actualOptions.interactivity).events;return n.onHover.enable&&s.position?qe(JR,n.onHover.mode):!1}loadModeOptions(e,...r){e.connect||(e.connect=new VR);for(const s of r)e.connect.load(s==null?void 0:s.connect)}reset(){}}async function QR(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",r=>Promise.resolve(new YR(r)),e)}class XR{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){fe(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=ss.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class ZR{constructor(){this.distance=100,this.links=new XR}load(e){fe(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const eI=0;function tI(t,e,r,s,n,i){Uo(t,r,s),t.strokeStyle=pa(n,i),t.lineWidth=e,t.stroke()}function rI(t,e,r,s,n){t.canvas.draw(i=>{const o=e.getPosition();tI(i,e.retina.linksWidth??eI,o,n,r,s)})}const sI="grab",nI=0,iI=0;class oI extends Ar{constructor(e,r){super(e),this._engine=r}clear(){}init(){const e=this.container,r=e.actualOptions.interactivity.modes.grab;r&&(e.retina.grabModeDistance=r.distance*e.retina.pixelRatio)}interact(){var l;const e=this.container,r=e.actualOptions,s=r.interactivity;if(!s.modes.grab||!s.events.onHover.enable||e.interactivity.status!==Pa)return;const n=e.interactivity.mouse.position;if(!n)return;const i=e.retina.grabModeDistance;if(!i||i<nI)return;const o=e.particles.quadTree.queryCircle(n,i,c=>this.isEnabled(c));for(const c of o){const u=c.getPosition(),d=gr(u,n);if(d>i)continue;const h=s.modes.grab.links,f=h.opacity,m=f-d*f/i;if(m<=iI)continue;const p=h.color??((l=c.options.links)==null?void 0:l.color);if(!e.particles.grabLineColor&&p){const b=s.modes.grab.links;e.particles.grabLineColor=P2(this._engine,p,b.blink,b.consent)}const v=jf(c,void 0,e.particles.grabLineColor);v&&rI(e,c,v,m,n)}}isEnabled(e){const r=this.container,s=r.interactivity.mouse,n=((e==null?void 0:e.interactivity)??r.actualOptions.interactivity).events;return n.onHover.enable&&!!s.position&&qe(sI,n.onHover.mode)}loadModeOptions(e,...r){e.grab||(e.grab=new ZR);for(const s of r)e.grab.load(s==null?void 0:s.grab)}reset(){}}async function aI(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",r=>Promise.resolve(new oI(r,t)),e)}const lI="pause";class cI extends Ar{constructor(e){super(e),this.handleClickMode=r=>{if(r!==lI)return;const s=this.container;s.animationStatus?s.pause():s.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function uI(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",r=>Promise.resolve(new cI(r)),e)}class dI{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(fe(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(s=>s)),this.groups.length||(this.default=!0);const r=e.quantity;r!==void 0&&(this.quantity=Kt(r)),this.particles=Ws(e.particles,s=>Fc({},s))}}const hI="push",fI=0;class mI extends Ar{constructor(e){super(e),this.handleClickMode=r=>{if(r!==hI)return;const s=this.container,n=s.actualOptions,i=n.interactivity.modes.push;if(!i)return;const o=J(i.quantity);if(o<=fI)return;const l=_u([void 0,...i.groups]),c=l!==void 0?s.actualOptions.particles.groups[l]:void 0,u=ju(i.particles),d=Fc(c,u);s.particles.push(o,s.interactivity.mouse,d,l)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...r){e.push||(e.push=new dI);for(const s of r)e.push.load(s==null?void 0:s.push)}reset(){}}async function pI(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",r=>Promise.resolve(new mI(r)),e)}class gI{constructor(){this.quantity=2}load(e){if(fe(e))return;const r=e.quantity;r!==void 0&&(this.quantity=Kt(r))}}const yI="remove";class vI extends Ar{constructor(e){super(e),this.handleClickMode=r=>{const s=this.container,n=s.actualOptions;if(!n.interactivity.modes.remove||r!==yI)return;const i=J(n.interactivity.modes.remove.quantity);s.particles.removeQuantity(i)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...r){e.remove||(e.remove=new gI);for(const s of r)e.remove.load(s==null?void 0:s.remove)}reset(){}}async function wI(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",r=>Promise.resolve(new vI(r)),e)}class $2{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=Sn.easeOutQuad}load(e){fe(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class bI extends $2{constructor(){super(),this.selectors=[]}load(e){super.load(e),!fe(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class xI extends $2{load(e){super.load(e),!fe(e)&&(this.divs=Ws(e.divs,r=>{const s=new bI;return s.load(r),s}))}}const sn="repulse",kI=0,_I=6,jI=3,SI=2,EI=0,NI=0,CI=1,Vd=.5;class TI extends Ar{constructor(e,r){super(r),this._clickRepulse=()=>{const s=this.container,n=s.actualOptions.interactivity.modes.repulse;if(!n)return;const i=s.repulse??{particles:[]};if(i.finish||(i.count||(i.count=0),i.count++,i.count===s.particles.count&&(i.finish=!0)),i.clicking){const o=s.retina.repulseModeDistance;if(!o||o<kI)return;const l=Math.pow(o/_I,jI),c=s.interactivity.mouse.clickPosition;if(c===void 0)return;const u=new yt(c.x,c.y,l),d=s.particles.quadTree.query(u,h=>this.isEnabled(h));for(const h of d){const{dx:f,dy:m,distance:p}=gt(c,h.position),v=p**SI,b=n.speed,y=-l*b/v;if(v<=l){i.particles.push(h);const g=ut.create(f,m);g.length=y,h.velocity.setTo(g)}}}else if(i.clicking===!1){for(const o of i.particles)o.velocity.setTo(o.initialVelocity);i.particles=[]}},this._hoverRepulse=()=>{const s=this.container,n=s.interactivity.mouse.position,i=s.retina.repulseModeDistance;!i||i<EI||!n||this._processRepulse(n,i,new yt(n.x,n.y,i))},this._processRepulse=(s,n,i,o)=>{const l=this.container,c=l.particles.quadTree.query(i,b=>this.isEnabled(b)),u=l.actualOptions.interactivity.modes.repulse;if(!u)return;const{easing:d,speed:h,factor:f,maxSpeed:m}=u,p=this._engine.getEasing(d),v=((o==null?void 0:o.speed)??h)*f;for(const b of c){const{dx:y,dy:g,distance:w}=gt(b.position,s),k=br(p(CI-w/n)*v,NI,m),j=ut.create(w?y/w*k:v,w?g/w*k:v);b.position.addTo(j)}},this._singleSelectorRepulse=(s,n)=>{const i=this.container,o=i.actualOptions.interactivity.modes.repulse;if(!o)return;const l=document.querySelectorAll(s);l.length&&l.forEach(c=>{const u=c,d=i.retina.pixelRatio,h={x:(u.offsetLeft+u.offsetWidth*Vd)*d,y:(u.offsetTop+u.offsetHeight*Vd)*d},f=u.offsetWidth*Vd*d,m=n.type===ga.circle?new yt(h.x,h.y,f):new qs(u.offsetLeft*d,u.offsetTop*d,u.offsetWidth*d,u.offsetHeight*d),p=o.divs,v=j2(p,u);this._processRepulse(h,f,m,v)})},this._engine=e,r.repulse||(r.repulse={particles:[]}),this.handleClickMode=s=>{const n=this.container.actualOptions,i=n.interactivity.modes.repulse;if(!i||s!==sn)return;r.repulse||(r.repulse={particles:[]});const o=r.repulse;o.clicking=!0,o.count=0;for(const l of r.repulse.particles)this.isEnabled(l)&&l.velocity.setTo(l.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{r.destroyed||(o.clicking=!1)},i.duration*rs)}}clear(){}init(){const e=this.container,r=e.actualOptions.interactivity.modes.repulse;r&&(e.retina.repulseModeDistance=r.distance*e.retina.pixelRatio)}interact(){const e=this.container,r=e.actualOptions,s=e.interactivity.status===Pa,n=r.interactivity.events,i=n.onHover,o=i.enable,l=i.mode,c=n.onClick,u=c.enable,d=c.mode,h=n.onDiv;s&&o&&qe(sn,l)?this._hoverRepulse():u&&qe(sn,d)?this._clickRepulse():cp(sn,h,(f,m)=>this._singleSelectorRepulse(f,m))}isEnabled(e){const r=this.container,s=r.actualOptions,n=r.interactivity.mouse,i=((e==null?void 0:e.interactivity)??s.interactivity).events,o=i.onDiv,l=i.onHover,c=i.onClick,u=lp(sn,o);if(!(u||l.enable&&n.position||c.enable&&n.clickPosition))return!1;const d=l.mode,h=c.mode;return qe(sn,d)||qe(sn,h)||u}loadModeOptions(e,...r){e.repulse||(e.repulse=new xI);for(const s of r)e.repulse.load(s==null?void 0:s.repulse)}reset(){}}async function PI(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",r=>Promise.resolve(new TI(t,r)),e)}class RI{constructor(){this.factor=3,this.radius=200}load(e){fe(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const II="slow",LI=0;class OI extends Ar{constructor(e){super(e)}clear(e,r,s){e.slow.inRange&&!s||(e.slow.factor=1)}init(){const e=this.container,r=e.actualOptions.interactivity.modes.slow;r&&(e.retina.slowModeRadius=r.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const r=this.container,s=r.interactivity.mouse,n=((e==null?void 0:e.interactivity)??r.actualOptions.interactivity).events;return n.onHover.enable&&!!s.position&&qe(II,n.onHover.mode)}loadModeOptions(e,...r){e.slow||(e.slow=new RI);for(const s of r)e.slow.load(s==null?void 0:s.slow)}reset(e){e.slow.inRange=!1;const r=this.container,s=r.actualOptions,n=r.interactivity.mouse.position,i=r.retina.slowModeRadius,o=s.interactivity.modes.slow;if(!o||!i||i<LI||!n)return;const l=e.getPosition(),c=gr(n,l),u=c/i,d=o.factor,{slow:h}=e;c>i||(h.inRange=!0,h.factor=u/d)}}async function MI(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",r=>Promise.resolve(new OI(r)),e)}const AI=0,DI=1,zI=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function $I(t,e,r){const{svgData:s}=t;if(!s)return"";const n=_f(e,r);if(s.includes("fill"))return s.replace(zI,()=>n);const i=s.indexOf(">");return`${s.substring(AI,i)} fill="${n}"${s.substring(i)}`}async function Su(t){return new Promise(e=>{t.loading=!0;const r=new Image;t.element=r,r.addEventListener("load",()=>{t.loading=!1,e()}),r.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,_2().error(`${Bi} loading image: ${t.source}`),e()}),r.src=t.source})}async function FI(t){if(t.type!=="svg"){await Su(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(_2().error(`${Bi} Image not found`),t.error=!0),t.loading=!1}function UI(t,e,r,s){var o;const n=$I(t,r,((o=s.opacity)==null?void 0:o.value)??DI),i={color:r,gif:e.gif,data:{...t,svgData:n},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(l=>{const c=new Blob([n],{type:"image/svg+xml"}),u=URL||window.URL||window.webkitURL||window,d=u.createObjectURL(c),h=new Image;h.addEventListener("load",()=>{i.loaded=!0,i.element=h,l(i),u.revokeObjectURL(d)});const f=async()=>{u.revokeObjectURL(d);const m={...t,error:!1,loading:!0};await Su(m),i.loaded=!0,i.element=m.element,l(i)};h.addEventListener("error",()=>void f()),h.src=d})}const Wd=[0,4,2,1],ky=[8,8,4,2];class BI{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const r=this.data.slice(this.pos,this.pos+e);return this.pos+=r.length,r.reduce((s,n)=>s+String.fromCharCode(n),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",r=0;const s=0,n=0;do{r=this.data[this.pos++];for(let i=r;--i>=s;e+=String.fromCharCode(this.data[this.pos++]));}while(r!==n);return e}readSubBlocksBin(){let e=this.data[this.pos],r=0;const s=0,n=1;for(let o=0;e!==s;o+=e+n,e=this.data[this.pos+o])r+=e;const i=new Uint8Array(r);e=this.data[this.pos++];for(let o=0;e!==s;e=this.data[this.pos++])for(let l=e;--l>=s;i[o++]=this.data[this.pos++]);return i}skipSubBlocks(){for(const e=1,r=0;this.data[this.pos]!==r;this.pos+=this.data[this.pos]+e);this.pos++}}var or;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(or||(or={}));var Gr;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(Gr||(Gr={}));const xt={x:0,y:0},VI=0,_y=.5,WI=0,jy=0,Ef=0;function F2(t,e){const r=[];for(let s=0;s<e;s++)r.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return r}function qI(t,e,r,s){switch(t.nextByte()){case Gr.GraphicsControlExtension:{const n=e.frames[r(!1)];t.pos++;const i=t.nextByte();n.GCreserved=(i&224)>>>5,n.disposalMethod=(i&28)>>>2,n.userInputDelayFlag=(i&2)===2;const o=(i&1)===1;n.delayTime=t.nextTwoBytes()*10;const l=t.nextByte();o&&s(l),t.pos++;break}case Gr.ApplicationExtension:{t.pos++;const n={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(n);break}case Gr.CommentExtension:{e.comments.push([r(!1),t.readSubBlocks()]);break}case Gr.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[r(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function HI(t,e,r,s,n,i){const o=e.frames[s(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const l=t.nextByte(),c=(l&128)===128,u=(l&64)===64;o.sortFlag=(l&32)===32,o.reserved=(l&24)>>>3;const d=1<<(l&7)+1;c&&(o.localColorTable=F2(t,d));const h=y=>{const{r:g,g:w,b:k}=(c?o.localColorTable:e.globalColorTable)[y];return y!==n(null)?{r:g,g:w,b:k,a:255}:{r:g,g:w,b:k,a:r?~~((g+w+k)/3):0}},f=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(y){if(y instanceof DOMException&&y.name==="IndexSizeError")return null;throw y}})();if(f==null)throw new EvalError("GIF frame size is to large");const m=t.nextByte(),p=t.readSubBlocksBin(),v=1<<m,b=(y,g)=>{const w=y>>>3,k=y&7;return(p[w]+(p[w+1]<<8)+(p[w+2]<<16)&(1<<g)-1<<k)>>>k};if(u){for(let y=0,g=m+1,w=0,k=[[0]],j=0;j<4;j++)if(Wd[j]<o.height){let _=0,E=0,N=!1;for(;!N;){const F=y;if(y=b(w,g),w+=g+1,y===v){g=m+1,k.length=v+2;for(let I=0;I<k.length;I++)k[I]=I<v?[I]:[]}else{y>=k.length?k.push(k[F].concat(k[F][0])):F!==v&&k.push(k[F].concat(k[y][0]));for(const I of k[y]){const{r:V,g:z,b:Fe,a:je}=h(I);f.data.set([V,z,Fe,je],Wd[j]*o.width+ky[j]*E+_%(o.width*4)),_+=4}k.length===1<<g&&g<12&&g++}_===o.width*4*(E+1)&&(E++,Wd[j]+ky[j]*E>=o.height&&(N=!0))}}o.image=f,o.bitmap=await createImageBitmap(f)}else{let y=0,g=m+1,w=0,k=-4,j=!1;const _=[[0]];for(;!j;){const E=y;if(y=b(w,g),w+=g,y===v){g=m+1,_.length=v+2;for(let N=0;N<_.length;N++)_[N]=N<v?[N]:[]}else{if(y===v+1){j=!0;break}y>=_.length?_.push(_[E].concat(_[E][0])):E!==v&&_.push(_[E].concat(_[y][0]));for(const N of _[y]){const{r:F,g:I,b:V,a:z}=h(N);f.data.set([F,I,V,z],k+=4)}_.length>=1<<g&&g<12&&g++}}o.image=f,o.bitmap=await createImageBitmap(f)}}async function GI(t,e,r,s,n,i){switch(t.nextByte()){case Gr.EndOfFile:return!0;case Gr.Image:await HI(t,e,r,s,n);break;case Gr.Extension:qI(t,e,s,n);break;default:throw new EvalError("undefined block found")}return!1}function KI(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function JI(t,e,r){r||(r=!1);const s=await fetch(t);if(!s.ok&&s.status===404)throw new EvalError("file not found");const n=await s.arrayBuffer(),i={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new BI(new Uint8ClampedArray(n));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");i.width=o.nextTwoBytes(),i.height=o.nextTwoBytes();const l=o.nextByte(),c=(l&128)===128;i.colorRes=(l&112)>>>4,i.sortFlag=(l&8)===8;const u=1<<(l&7)+1,d=o.nextByte();i.pixelAspectRatio=o.nextByte(),i.pixelAspectRatio!==0&&(i.pixelAspectRatio=(i.pixelAspectRatio+15)/64),c&&(i.globalColorTable=F2(o,u));const h=(()=>{try{return new ImageData(i.width,i.height,{colorSpace:"srgb"})}catch(k){if(k instanceof DOMException&&k.name==="IndexSizeError")return null;throw k}})();if(h==null)throw new Error("GIF frame size is to large");const{r:f,g:m,b:p}=i.globalColorTable[d];h.data.set(c?[f,m,p,255]:[0,0,0,0]);for(let k=4;k<h.data.length;k*=2)h.data.copyWithin(k,0,k);i.backgroundImage=h;let v=-1,b=!0,y=-1;const g=k=>(k&&(b=!0),v),w=k=>(k!=null&&(y=k),y);try{do b&&(i.frames.push({left:0,top:0,width:0,height:0,disposalMethod:or.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),v++,y=-1,b=!1);while(!await GI(o,i,r,g,w,e));i.frames.length--;for(const k of i.frames){if(k.userInputDelayFlag&&k.delayTime===0){i.totalTime=1/0;break}i.totalTime+=k.delayTime}return i}catch(k){throw k instanceof EvalError?new Error(`error while parsing frame ${v} "${k.message}"`):k}}function YI(t){const{context:e,radius:r,particle:s,delta:n}=t,i=s.image;if(!(i!=null&&i.gifData)||!i.gif)return;const o=new OffscreenCanvas(i.gifData.width,i.gifData.height),l=o.getContext("2d");if(!l)throw new Error("could not create offscreen canvas context");l.imageSmoothingQuality="low",l.imageSmoothingEnabled=!1,l.clearRect(xt.x,xt.y,o.width,o.height),s.gifLoopCount===void 0&&(s.gifLoopCount=i.gifLoopCount??Ef);let c=s.gifFrame??VI;const u={x:-i.gifData.width*_y,y:-i.gifData.height*_y},d=i.gifData.frames[c];if(s.gifTime===void 0&&(s.gifTime=WI),!!d.bitmap){switch(e.scale(r/i.gifData.width,r/i.gifData.height),d.disposalMethod){case or.UndefinedA:case or.UndefinedB:case or.UndefinedC:case or.UndefinedD:case or.Replace:l.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,u.x,u.y),l.clearRect(xt.x,xt.y,o.width,o.height);break;case or.Combine:l.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,u.x,u.y);break;case or.RestoreBackground:l.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,u.x,u.y),l.clearRect(xt.x,xt.y,o.width,o.height),i.gifData.globalColorTable.length?l.putImageData(i.gifData.backgroundImage,u.x,u.y):l.putImageData(i.gifData.frames[jy].image,u.x+d.left,u.y+d.top);break;case or.RestorePrevious:{const h=l.getImageData(xt.x,xt.y,o.width,o.height);l.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,u.x,u.y),l.clearRect(xt.x,xt.y,o.width,o.height),l.putImageData(h,xt.x,xt.y)}break}if(s.gifTime+=n.value,s.gifTime>d.delayTime){if(s.gifTime-=d.delayTime,++c>=i.gifData.frames.length){if(--s.gifLoopCount<=Ef)return;c=jy,l.clearRect(xt.x,xt.y,o.width,o.height)}s.gifFrame=c}e.scale(i.gifData.width/r,i.gifData.height/r)}}async function QI(t){if(t.type!=="gif"){await Su(t);return}t.loading=!0;try{t.gifData=await JI(t.source),t.gifLoopCount=KI(t.gifData)??Ef,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const XI=2,ZI=1,eL=12,tL=1;class rL{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async r=>{if(!this._engine.loadImage)throw new Error(`${Bi} image shape not initialized`);await this._engine.loadImage({gif:r.gif,name:r.name,replaceColor:r.replaceColor??!1,src:r.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:r,radius:s,particle:n,opacity:i}=e,o=n.image,l=o==null?void 0:o.element;if(o){if(r.globalAlpha=i,o.gif&&o.gifData)YI(e);else if(l){const c=o.ratio,u={x:-s,y:-s},d=s*XI;r.drawImage(l,u.x,u.y,d,d/c)}r.globalAlpha=ZI}}getSidesCount(){return eL}async init(e){const r=e.actualOptions;if(!(!r.preload||!this._engine.loadImage))for(const s of r.preload)await this._engine.loadImage(s)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const r=e.shapeData;if(!r)return;this._engine.images.find(n=>n.name===r.name||n.source===r.src)||this.loadImageShape(r).then(()=>{this.loadShape(e)})}particleInit(e,r){if(r.shape!=="image"&&r.shape!=="images")return;this._engine.images||(this._engine.images=[]);const s=this._engine.images,n=r.shapeData;if(!n)return;const i=r.getFillColor(),o=s.find(c=>c.name===n.name||c.source===n.src);if(!o)return;const l=n.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,r)});return}(async()=>{let c;o.svgData&&i?c=await UI(o,n,i,r):c={color:i,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:n.width&&n.height?n.width/n.height:o.ratio??tL,replaceColor:l,source:n.src},c.ratio||(c.ratio=1);const u=n.fill??r.shapeFill,d=n.close??r.shapeClose,h={image:c,fill:u,close:d};r.image=h.image,r.shapeFill=h.fill,r.shapeClose=h.close})()}}class sL{constructor(){this.src="",this.gif=!1}load(e){fe(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class nL{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,r){if(!(r!=null&&r.preload))return;e.preload||(e.preload=[]);const s=e.preload;for(const n of r.preload){const i=s.find(o=>o.name===n.name||o.src===n.src);if(i)i.load(n);else{const o=new sL;o.load(n),s.push(o)}}}needsPlugin(){return!0}}const iL=3;function oL(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Bi} no image source provided`);if(t.images||(t.images=[]),!t.images.find(r=>r.name===e.name||r.source===e.src))try{const r={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-iL),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(r);let s;e.gif?s=QI:s=e.replaceColor?FI:Su,await s(r)}catch{throw new Error(`${Bi} ${e.name??e.src} not found`)}})}async function aL(t,e=!0){t.checkVersion("3.9.1"),oL(t);const r=new nL(t);await t.addPlugin(r,e),await t.addShape(new rL(t),e)}class lL extends fp{constructor(){super(),this.sync=!1}load(e){fe(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class cL extends fp{constructor(){super(),this.sync=!1}load(e){fe(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class uL{constructor(){this.count=0,this.delay=new lL,this.duration=new cL}load(e){fe(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const Xn=0,dL=-1,Sy=0,Ey=0;function hL(t,e,r){if(!t.life)return;const s=t.life;let n=!1;if(t.spawning)if(s.delayTime+=e.value,s.delayTime>=t.life.delay)n=!0,t.spawning=!1,s.delayTime=Xn,s.time=Xn;else return;if(s.duration===dL||t.spawning||(n?s.time=Xn:s.time+=e.value,s.time<s.duration))return;if(s.time=Xn,t.life.count>Sy&&t.life.count--,t.life.count===Sy){t.destroy();return}const i=Kt(Ey,r.width),o=Kt(Ey,r.width);t.position.x=Ht(i),t.position.y=Ht(o),t.spawning=!0,s.delayTime=Xn,s.time=Xn,t.reset();const l=t.options.life;l&&(s.delay=J(l.delay.value)*rs,s.duration=J(l.duration.value)*rs)}const nn=0,Ny=1,Cy=-1;class fL{constructor(e){this.container=e}init(e){const r=this.container,s=e.options,n=s.life;n&&(e.life={delay:r.retina.reduceFactor?J(n.delay.value)*(n.delay.sync?Ny:$e())/r.retina.reduceFactor*rs:nn,delayTime:nn,duration:r.retina.reduceFactor?J(n.duration.value)*(n.duration.sync?Ny:$e())/r.retina.reduceFactor*rs:nn,time:nn,count:n.count},e.life.duration<=nn&&(e.life.duration=Cy),e.life.count<=nn&&(e.life.count=Cy),e.life&&(e.spawning=e.life.delay>nn))}isEnabled(e){return!e.destroyed}loadOptions(e,...r){e.life||(e.life=new uL);for(const s of r)e.life.load(s==null?void 0:s.life)}update(e,r){!this.isEnabled(e)||!e.life||hL(e,r,this.container.canvas.size)}}async function mL(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async r=>Promise.resolve(new fL(r)),e)}function pL(t){const{context:e,particle:r,radius:s}=t,n=r.shapeData,i=0;e.moveTo(-s,i),e.lineTo(s,i),e.lineCap=(n==null?void 0:n.cap)??"butt"}const gL=1;class yL{constructor(){this.validTypes=["line"]}draw(e){pL(e)}getSidesCount(){return gL}}async function vL(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new yL,e)}const Ty=.5;class wL{init(){}isEnabled(e){return!ay()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const r=e.container,s=r.actualOptions,n=s.interactivity.events.onHover.parallax;if(ay()||!n.enable)return;const i=n.force,o=r.interactivity.mouse.position;if(!o)return;const l=r.canvas.size,c={x:l.width*Ty,y:l.height*Ty},u=n.smooth,d=e.getRadius()/i,h={x:(o.x-c.x)*d,y:(o.y-c.y)*d},{offset:f}=e;f.x+=(h.x-f.x)/u,f.y+=(h.y-f.y)/u}}async function bL(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new wL),e)}const Py=1e3,xL=1;class kL extends mp{constructor(e){super(e)}clear(){}init(){}interact(e){const r=this.container;e.attractDistance===void 0&&(e.attractDistance=J(e.options.move.attract.distance)*r.retina.pixelRatio);const s=e.attractDistance,n=e.getPosition(),i=r.particles.quadTree.queryCircle(n,s);for(const o of i){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const l=o.getPosition(),{dx:c,dy:u}=gt(n,l),d=e.options.move.attract.rotate,h=c/(d.x*Py),f=u/(d.y*Py),m=o.size.value/e.size.value,p=xL/m;e.velocity.x-=h*m,e.velocity.y-=f*m,o.velocity.x+=h*p,o.velocity.y+=f*p}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function _L(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",r=>Promise.resolve(new kL(r)),e)}const jL=.5,SL=10,EL=0;function Ry(t,e,r,s,n,i){const o=br(t.options.collisions.absorb.speed*n.factor/SL,EL,s);t.size.value+=o*jL,r.size.value-=o,s<=i&&(r.size.value=0,r.destroy())}function NL(t,e,r,s){const n=t.getRadius(),i=e.getRadius();n===void 0&&i!==void 0?t.destroy():n!==void 0&&i===void 0?e.destroy():n!==void 0&&i!==void 0&&(n>=i?Ry(t,n,e,i,r,s):Ry(e,i,t,n,r,s))}const Iy=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=J(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function U2(t,e){S2(kf(t),kf(e)),Iy(t),Iy(e)}function CL(t,e){!t.unbreakable&&!e.unbreakable&&U2(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function TL(t,e,r,s){switch(t.options.collisions.mode){case Bo.absorb:{NL(t,e,r,s);break}case Bo.bounce:{U2(t,e);break}case Bo.destroy:{CL(t,e);break}}}const PL=2;class RL extends mp{constructor(e){super(e)}clear(){}init(){}interact(e,r){if(e.destroyed||e.spawning)return;const s=this.container,n=e.getPosition(),i=e.getRadius(),o=s.particles.quadTree.queryCircle(n,i*PL);for(const l of o){if(e===l||!l.options.collisions.enable||e.options.collisions.mode!==l.options.collisions.mode||l.destroyed||l.spawning)continue;const c=l.getPosition(),u=l.getRadius();if(Math.abs(Math.round(n.z)-Math.round(c.z))>i+u)continue;const d=gr(n,c),h=i+u;d>h||TL(e,l,r,s.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function IL(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",r=>Promise.resolve(new RL(r)),e)}const qd=2;class LL extends yt{constructor(e,r,s,n){super(e,r,s),this.canvasSize=n,this.canvasSize={...n}}contains(e){const{width:r,height:s}=this.canvasSize,{x:n,y:i}=e;return super.contains(e)||super.contains({x:n-r,y:i})||super.contains({x:n-r,y:i-s})||super.contains({x:n,y:i-s})}intersects(e){if(super.intersects(e))return!0;const r=e,s=e,n={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(s.radius!==void 0){const i=new yt(n.x,n.y,s.radius*qd);return super.intersects(i)}else if(r.size!==void 0){const i=new qs(n.x,n.y,r.size.width*qd,r.size.height*qd);return super.intersects(i)}return!1}}class OL{constructor(){this.blur=5,this.color=new ss,this.color.value="#000",this.enable=!1}load(e){fe(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=ss.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class ML{constructor(){this.enable=!1,this.frequency=1}load(e){fe(e)||(e.color!==void 0&&(this.color=ss.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class AL{constructor(){this.blink=!1,this.color=new ss,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new OL,this.triangles=new ML,this.width=1,this.warp=!1}load(e){fe(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=ss.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const Ly=2,DL=1,kl={x:0,y:0},zL=0;function $L(t,e,r,s,n){const{dx:i,dy:o,distance:l}=gt(t,e);if(!n||l<=r)return l;const c={x:Math.abs(i),y:Math.abs(o)},u={x:Math.min(c.x,s.width-c.x),y:Math.min(c.y,s.height-c.y)};return Math.sqrt(u.x**Ly+u.y**Ly)}class FL extends mp{constructor(e,r){super(e),this._setColor=s=>{if(!s.options.links)return;const n=this._linkContainer,i=s.options.links;let o=i.id===void 0?n.particles.linksColor:n.particles.linksColors.get(i.id);if(o)return;const l=i.color;o=P2(this._engine,l,i.blink,i.consent),i.id===void 0?n.particles.linksColor=o:n.particles.linksColors.set(i.id,o)},this._linkContainer=e,this._engine=r}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const r=e.getPosition(),s=this.container,n=s.canvas.size;if(r.x<kl.x||r.y<kl.y||r.x>n.width||r.y>n.height)return;const i=e.options.links,o=i.opacity,l=e.retina.linksDistance??zL,c=i.warp;let u;c?u=new LL(r.x,r.y,l,n):u=new yt(r.x,r.y,l);const d=s.particles.quadTree.query(u);for(const h of d){const f=h.options.links;if(e===h||!(f!=null&&f.enable)||i.id!==f.id||h.spawning||h.destroyed||!h.links||e.links.some(b=>b.destination===h)||h.links.some(b=>b.destination===e))continue;const m=h.getPosition();if(m.x<kl.x||m.y<kl.y||m.x>n.width||m.y>n.height)continue;const p=$L(r,m,l,n,c&&f.warp);if(p>l)continue;const v=(DL-p/l)*o;this._setColor(e),e.links.push({destination:h,opacity:v})}}isEnabled(e){var r;return!!((r=e.options.links)!=null&&r.enable)}loadParticlesOptions(e,...r){e.links||(e.links=new AL);for(const s of r)e.links.load(s==null?void 0:s.links)}reset(){}}async function UL(t,e=!0){await t.addInteractor("particlesLinks",async r=>Promise.resolve(new FL(r,t)),e)}function BL(t,e,r,s){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(r.x,r.y),t.lineTo(s.x,s.y),t.closePath()}function VL(t){let e=!1;const{begin:r,end:s,engine:n,maxDistance:i,context:o,canvasSize:l,width:c,backgroundMask:u,colorLine:d,opacity:h,links:f}=t;if(gr(r,s)<=i)Uo(o,r,s),e=!0;else if(f.warp){let p,v;const b={x:s.x-l.width,y:s.y},y=gt(r,b);if(y.distance<=i){const g=r.y-y.dy/y.dx*r.x;p={x:0,y:g},v={x:l.width,y:g}}else{const g={x:s.x,y:s.y-l.height},w=gt(r,g);if(w.distance<=i){const j=-(r.y-w.dy/w.dx*r.x)/(w.dy/w.dx);p={x:j,y:0},v={x:j,y:l.height}}else{const k={x:s.x-l.width,y:s.y-l.height},j=gt(r,k);if(j.distance<=i){const _=r.y-j.dy/j.dx*r.x;p={x:-_/(j.dy/j.dx),y:_},v={x:p.x+l.width,y:p.y+l.height}}}}p&&v&&(Uo(o,r,p),Uo(o,s,v),e=!0)}if(!e)return;o.lineWidth=c,u.enable&&(o.globalCompositeOperation=u.composite),o.strokeStyle=pa(d,h);const{shadow:m}=f;if(m.enable){const p=$n(n,m.color);p&&(o.shadowBlur=m.blur,o.shadowColor=pa(p))}o.stroke()}function WL(t){const{context:e,pos1:r,pos2:s,pos3:n,backgroundMask:i,colorTriangle:o,opacityTriangle:l}=t;BL(e,r,s,n),i.enable&&(e.globalCompositeOperation=i.composite),e.fillStyle=pa(o,l),e.fill()}function qL(t){return t.sort((e,r)=>e-r),t.join("_")}function Oy(t,e){const r=qL(t.map(n=>n.id));let s=e.get(r);return s===void 0&&(s=$e(),e.set(r,s)),s}const My=0,Hd=0,Ay=0,HL=.5,GL=1;class KL{constructor(e,r){this._drawLinkLine=(s,n)=>{const i=s.options.links;if(!(i!=null&&i.enable))return;const o=this._container,l=o.actualOptions,c=n.destination,u=s.getPosition(),d=c.getPosition();let h=n.opacity;o.canvas.draw(f=>{var g;let m;const p=(g=s.options.twinkle)==null?void 0:g.lines;if(p!=null&&p.enable){const w=p.frequency,k=$n(this._engine,p.color);$e()<w&&k&&(m=k,h=J(p.opacity))}if(!m){const w=i.id!==void 0?o.particles.linksColors.get(i.id):o.particles.linksColor;m=jf(s,c,w)}if(!m)return;const v=s.retina.linksWidth??Hd,b=s.retina.linksDistance??Ay,{backgroundMask:y}=l;VL({context:f,width:v,begin:u,end:d,engine:this._engine,maxDistance:b,canvasSize:o.canvas.size,links:i,backgroundMask:y,colorLine:m,opacity:h})})},this._drawLinkTriangle=(s,n,i)=>{const o=s.options.links;if(!(o!=null&&o.enable))return;const l=o.triangles;if(!l.enable)return;const c=this._container,u=c.actualOptions,d=n.destination,h=i.destination,f=l.opacity??(n.opacity+i.opacity)*HL;f<=My||c.canvas.draw(m=>{const p=s.getPosition(),v=d.getPosition(),b=h.getPosition(),y=s.retina.linksDistance??Ay;if(gr(p,v)>y||gr(b,v)>y||gr(b,p)>y)return;let g=$n(this._engine,l.color);if(!g){const w=o.id!==void 0?c.particles.linksColors.get(o.id):c.particles.linksColor;g=jf(s,d,w)}g&&WL({context:m,pos1:p,pos2:v,pos3:b,backgroundMask:u.backgroundMask,colorTriangle:g,opacityTriangle:f})})},this._drawTriangles=(s,n,i,o)=>{var u,d,h;const l=i.destination;if(!((u=s.links)!=null&&u.triangles.enable&&((d=l.options.links)!=null&&d.triangles.enable)))return;const c=(h=l.links)==null?void 0:h.filter(f=>{const m=this._getLinkFrequency(l,f.destination);return l.options.links&&m<=l.options.links.frequency&&o.findIndex(v=>v.destination===f.destination)>=0});if(c!=null&&c.length)for(const f of c){const m=f.destination;this._getTriangleFrequency(n,l,m)>s.links.triangles.frequency||this._drawLinkTriangle(n,i,f)}},this._getLinkFrequency=(s,n)=>Oy([s,n],this._freqs.links),this._getTriangleFrequency=(s,n,i)=>Oy([s,n,i],this._freqs.triangles),this._container=e,this._engine=r,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,r){const{links:s,options:n}=r;if(!(s!=null&&s.length))return;const i=s.filter(o=>n.links&&(n.links.frequency>=GL||this._getLinkFrequency(r,o.destination)<=n.links.frequency));for(const o of i)this._drawTriangles(n,r,o,i),o.opacity>My&&(r.retina.linksWidth??Hd)>Hd&&this._drawLinkLine(r,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const r=this._container.retina.pixelRatio,{retina:s}=e,{distance:n,width:i}=e.options.links;s.linksDistance=n*r,s.linksWidth=i*r}particleDestroyed(e){e.links=[]}}class JL{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new KL(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function YL(t,e=!0){const r=new JL(t);await t.addPlugin(r,e)}async function QL(t,e=!0){t.checkVersion("3.9.1"),await UL(t,e),await YL(t,e)}const XL=180,_l={x:0,y:0},ZL=2;function eO(t,e,r){const{context:s}=t,n=r.count.numerator*r.count.denominator,i=r.count.numerator/r.count.denominator,o=XL*(i-ZL)/i,l=Math.PI-$o(o);if(s){s.beginPath(),s.translate(e.x,e.y),s.moveTo(_l.x,_l.y);for(let c=0;c<n;c++)s.lineTo(r.length,_l.y),s.translate(r.length,_l.y),s.rotate(l)}}const tO=5;class B2{draw(e){const{particle:r,radius:s}=e,n=this.getCenter(r,s),i=this.getSidesData(r,s);eO(e,n,i)}getSidesCount(e){const r=e.shapeData;return Math.round(J((r==null?void 0:r.sides)??tO))}}const Dy=3.5,zy=2.66,rO=3;class sO extends B2{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,r){return{x:-r/(e.sides/Dy),y:-r/(zy/Dy)}}getSidesData(e,r){const s=e.sides;return{count:{denominator:1,numerator:s},length:r*zy/(s/rO)}}}const nO=1.66,iO=3,oO=2;class aO extends B2{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,r){return{x:-r,y:r/nO}}getSidesCount(){return iO}getSidesData(e,r){const s=r*oO;return{count:{denominator:2,numerator:3},length:s}}}async function lO(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new sO,e)}async function cO(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new aO,e)}async function uO(t,e=!0){t.checkVersion("3.9.1"),await lO(t,e),await cO(t,e)}class dO{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){fe(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Kt(e.speed)),e.decay!==void 0&&(this.decay=Kt(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class hO extends fp{constructor(){super(),this.animation=new dO,this.direction=ur.clockwise,this.path=!1,this.value=0}load(e){fe(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const V2=2,fO=Math.PI*V2,mO=1,pO=360;class gO{constructor(e){this.container=e}init(e){const r=e.options.rotate;if(!r)return;e.rotate={enable:r.animation.enable,value:$o(J(r.value)),min:0,max:fO},e.pathRotation=r.path;let s=r.direction;switch(s===ur.random&&(s=Math.floor($e()*V2)>0?ur.counterClockwise:ur.clockwise),s){case ur.counterClockwise:case"counterClockwise":e.rotate.status=Ve.decreasing;break;case ur.clockwise:e.rotate.status=Ve.increasing;break}const n=r.animation;n.enable&&(e.rotate.decay=mO-J(n.decay),e.rotate.velocity=J(n.speed)/pO*this.container.retina.reduceFactor,n.sync||(e.rotate.velocity*=$e())),e.rotation=e.rotate.value}isEnabled(e){const r=e.options.rotate;return r?!e.destroyed&&!e.spawning&&(!!r.value||r.animation.enable||r.path):!1}loadOptions(e,...r){e.rotate||(e.rotate=new hO);for(const s of r)e.rotate.load(s==null?void 0:s.rotate)}update(e,r){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(up(e,e.rotate,!1,ma.none,r),e.rotation=e.rotate.value))}}async function yO(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",r=>Promise.resolve(new gO(r)),e)}const vO=2,wO=Math.sqrt(vO),bO=2;function xO(t){const{context:e,radius:r}=t,s=r/wO,n=s*bO;e.rect(-s,-s,n,n)}const kO=4;class _O{constructor(){this.validTypes=["edge","square"]}draw(e){xO(e)}getSidesCount(){return kO}}async function jO(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new _O,e)}const SO=2,Zn={x:0,y:0};function EO(t){const{context:e,particle:r,radius:s}=t,n=r.sides,i=r.starInset??SO;e.moveTo(Zn.x,Zn.y-s);for(let o=0;o<n;o++)e.rotate(Math.PI/n),e.lineTo(Zn.x,Zn.y-s*i),e.rotate(Math.PI/n),e.lineTo(Zn.x,Zn.y-s)}const NO=2,CO=5;class TO{constructor(){this.validTypes=["star"]}draw(e){EO(e)}getSidesCount(e){const r=e.shapeData;return Math.round(J((r==null?void 0:r.sides)??CO))}particleInit(e,r){const s=r.shapeData;r.starInset=J((s==null?void 0:s.inset)??NO)}}async function PO(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new TO,e)}const RO=1;class IO{constructor(e,r){this._container=e,this._engine=r}init(e){var o;const r=this._container,s=e.options,n=ju(s.stroke,e.id,s.reduceDuplicates);e.strokeWidth=J(n.width)*r.retina.pixelRatio,e.strokeOpacity=J(n.opacity??RO),e.strokeAnimation=(o=n.color)==null?void 0:o.animation;const i=dp(this._engine,n.color)??e.getFillColor();i&&(e.strokeColor=R2(i,e.strokeAnimation,r.retina.reduceFactor))}isEnabled(e){const r=e.strokeAnimation,{strokeColor:s}=e;return!e.destroyed&&!e.spawning&&!!r&&((s==null?void 0:s.h.value)!==void 0&&s.h.enable||(s==null?void 0:s.s.value)!==void 0&&s.s.enable||(s==null?void 0:s.l.value)!==void 0&&s.l.enable)}update(e,r){this.isEnabled(e)&&I2(e.strokeColor,r)}}async function LO(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",r=>Promise.resolve(new IO(r,t)),e)}async function OO(t,e=!0){t.checkVersion("3.9.1"),await bL(t,!1),await jR(t,!1),await LR(t,!1),await UR(t,!1),await QR(t,!1),await aI(t,!1),await uI(t,!1),await pI(t,!1),await wI(t,!1),await PI(t,!1),await MI(t,!1),await _L(t,!1),await IL(t,!1),await QL(t,!1),await mR(t,!1),await yR(t,!1),await aL(t,!1),await vL(t,!1),await uO(t,!1),await jO(t,!1),await PO(t,!1),await mL(t,!1),await yO(t,!1),await LO(t,!1),await fR(t,e)}const MO={ice:["#00d4ff","#0099cc","#66e0ff","#3399ff"],stone:["#8b6f47","#a0826d","#6b5c4d","#8b7355"],chocolate:["#d2691e","#ff8c42","#ff6f3c","#ffa500"]},AO=({trigger:t,theme:e,onComplete:r})=>{const[s,n]=x.useState(!1),[i,o]=x.useState(0),l=x.useCallback(async c=>{await OO(c)},[]);return x.useEffect(()=>{if(t){n(!0),o(u=>u+1);const c=setTimeout(()=>{n(!1),r==null||r()},2e3);return()=>clearTimeout(c)}},[t,r]),s?a.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:a.jsx(bu,{id:`shatter-${e}-${i}`,init:l,options:{particles:{number:{value:30},color:{value:MO[e]},shape:{type:["circle","square"]},opacity:{value:{min:.3,max:1},animation:{enable:!0,speed:1,minimumValue:0,sync:!1,destroy:"min"}},size:{value:{min:3,max:8}},move:{enable:!0,speed:{min:3,max:8},direction:"none",random:!0,straight:!1,outModes:{default:"destroy"},gravity:{enable:!0,acceleration:9.81}},rotate:{value:{min:0,max:360},animation:{enable:!0,speed:30,sync:!1}},life:{duration:{value:2}}},emitters:{position:{x:50,y:50},rate:{quantity:30,delay:0},life:{duration:.1,count:1}},detectRetina:!0}},i)}):null},DO=({initialCount:t,onComplete:e})=>{const[r,s]=x.useState(t);return x.useEffect(()=>{if(r===0){setTimeout(e,100);return}const n=setTimeout(()=>{s(r-1)},1e3);return()=>clearTimeout(n)},[r,e]),a.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 pointer-events-none",children:a.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-2xl px-8 py-4 shadow-2xl animate-scale-pulse",children:a.jsx("div",{className:"text-7xl font-black",children:r})},r)})},W2={1:{world:1,level:1,pairs:6,timeLimit:60,theme:"nature",unlockReward:10,difficulty:"very_easy"},2:{world:1,level:2,pairs:7,timeLimit:55,theme:"nature",unlockReward:12,difficulty:"easy"},3:{world:1,level:3,pairs:8,timeLimit:52,theme:"nature",unlockReward:15,difficulty:"hard"},4:{world:1,level:4,pairs:9,timeLimit:48,theme:"nature",unlockReward:18,difficulty:"very_hard"},5:{world:1,level:5,pairs:10,timeLimit:45,theme:"nature",unlockReward:100,difficulty:"expert"},6:{world:2,level:1,pairs:8,timeLimit:55,theme:"sports",unlockReward:15,difficulty:"very_easy"},7:{world:2,level:2,pairs:9,timeLimit:52,theme:"sports",unlockReward:18,difficulty:"easy"},8:{world:2,level:3,pairs:10,timeLimit:48,theme:"sports",unlockReward:20,difficulty:"hard"},9:{world:2,level:4,pairs:10,timeLimit:44,theme:"sports",unlockReward:25,difficulty:"very_hard"},10:{world:2,level:5,pairs:10,timeLimit:40,theme:"sports",unlockReward:120,difficulty:"expert"},11:{world:3,level:1,pairs:10,timeLimit:50,theme:"arcade",unlockReward:20,difficulty:"very_easy"},12:{world:3,level:2,pairs:10,timeLimit:47,theme:"arcade",unlockReward:22,difficulty:"easy"},13:{world:3,level:3,pairs:10,timeLimit:44,theme:"arcade",unlockReward:25,difficulty:"hard"},14:{world:3,level:4,pairs:10,timeLimit:40,theme:"arcade",unlockReward:30,difficulty:"very_hard"},15:{world:3,level:5,pairs:10,timeLimit:35,theme:"arcade",unlockReward:150,difficulty:"expert"},16:{world:4,level:1,pairs:10,timeLimit:45,theme:"animals",unlockReward:30,obstacles:{ice:3},difficulty:"very_easy"},17:{world:4,level:2,pairs:10,timeLimit:42,theme:"animals",unlockReward:35,obstacles:{ice:4},difficulty:"easy"},18:{world:4,level:3,pairs:10,timeLimit:38,theme:"animals",unlockReward:40,obstacles:{ice:4,stone:2},difficulty:"hard"},19:{world:4,level:4,pairs:10,timeLimit:34,theme:"animals",unlockReward:45,obstacles:{ice:5,stone:2},difficulty:"very_hard"},20:{world:4,level:5,pairs:10,timeLimit:30,theme:"animals",unlockReward:200,obstacles:{ice:5,stone:3},difficulty:"expert"},21:{world:5,level:1,pairs:10,timeLimit:40,theme:"space",unlockReward:50,obstacles:{ice:4,stone:2},difficulty:"very_easy"},22:{world:5,level:2,pairs:10,timeLimit:36,theme:"space",unlockReward:60,obstacles:{ice:5,stone:2},difficulty:"easy"},23:{world:5,level:3,pairs:10,timeLimit:32,theme:"space",unlockReward:70,obstacles:{ice:6,stone:3},difficulty:"hard"},24:{world:5,level:4,pairs:10,timeLimit:28,theme:"space",unlockReward:80,obstacles:{ice:6,stone:4},difficulty:"very_hard"},25:{world:5,level:5,pairs:10,timeLimit:25,theme:"space",unlockReward:500,obstacles:{ice:7,stone:4},difficulty:"expert"},26:{world:6,level:1,pairs:10,timeLimit:50,theme:"ocean",unlockReward:70,obstacles:{ice:5,stone:3},difficulty:"very_easy"},27:{world:6,level:2,pairs:10,timeLimit:46,theme:"ocean",unlockReward:80,obstacles:{ice:6,stone:3},difficulty:"easy"},28:{world:6,level:3,pairs:10,timeLimit:42,theme:"ocean",unlockReward:90,obstacles:{ice:7,stone:4},difficulty:"hard"},29:{world:6,level:4,pairs:10,timeLimit:38,theme:"ocean",unlockReward:100,obstacles:{ice:7,stone:5},difficulty:"very_hard"},30:{world:6,level:5,pairs:10,timeLimit:35,theme:"ocean",unlockReward:600,obstacles:{ice:8,stone:5},difficulty:"expert"},31:{world:7,level:1,pairs:10,timeLimit:48,theme:"food",unlockReward:90,obstacles:{ice:6,stone:4},difficulty:"very_easy"},32:{world:7,level:2,pairs:10,timeLimit:45,theme:"food",unlockReward:100,obstacles:{ice:7,stone:4},difficulty:"easy"},33:{world:7,level:3,pairs:10,timeLimit:42,theme:"food",unlockReward:110,obstacles:{ice:7,stone:5},difficulty:"hard"},34:{world:7,level:4,pairs:10,timeLimit:38,theme:"food",unlockReward:120,obstacles:{ice:8,stone:5},difficulty:"very_hard"},35:{world:7,level:5,pairs:10,timeLimit:35,theme:"food",unlockReward:700,obstacles:{ice:8,stone:6},difficulty:"expert"},36:{world:8,level:1,pairs:10,timeLimit:45,theme:"music",unlockReward:110,obstacles:{ice:7,stone:5},difficulty:"very_easy"},37:{world:8,level:2,pairs:10,timeLimit:42,theme:"music",unlockReward:120,obstacles:{ice:8,stone:5},difficulty:"easy"},38:{world:8,level:3,pairs:10,timeLimit:38,theme:"music",unlockReward:130,obstacles:{ice:8,stone:6},difficulty:"hard"},39:{world:8,level:4,pairs:10,timeLimit:35,theme:"music",unlockReward:140,obstacles:{ice:9,stone:6},difficulty:"very_hard"},40:{world:8,level:5,pairs:10,timeLimit:32,theme:"music",unlockReward:800,obstacles:{ice:9,stone:7},difficulty:"expert"},41:{world:9,level:1,pairs:10,timeLimit:42,theme:"beauty",unlockReward:130,obstacles:{ice:8,stone:6},difficulty:"very_easy"},42:{world:9,level:2,pairs:10,timeLimit:38,theme:"beauty",unlockReward:140,obstacles:{ice:8,stone:7},difficulty:"easy"},43:{world:9,level:3,pairs:10,timeLimit:35,theme:"beauty",unlockReward:150,obstacles:{ice:9,stone:7},difficulty:"hard"},44:{world:9,level:4,pairs:10,timeLimit:32,theme:"beauty",unlockReward:160,obstacles:{ice:9,stone:8},difficulty:"very_hard"},45:{world:9,level:5,pairs:10,timeLimit:30,theme:"beauty",unlockReward:900,obstacles:{ice:10,stone:8},difficulty:"expert"},46:{world:10,level:1,pairs:10,timeLimit:40,theme:"tech",unlockReward:150,obstacles:{ice:8,stone:7},difficulty:"very_easy"},47:{world:10,level:2,pairs:10,timeLimit:36,theme:"tech",unlockReward:160,obstacles:{ice:9,stone:7},difficulty:"easy"},48:{world:10,level:3,pairs:10,timeLimit:33,theme:"tech",unlockReward:170,obstacles:{ice:9,stone:8},difficulty:"hard"},49:{world:10,level:4,pairs:10,timeLimit:30,theme:"tech",unlockReward:180,obstacles:{ice:10,stone:8},difficulty:"very_hard"},50:{world:10,level:5,pairs:10,timeLimit:28,theme:"tech",unlockReward:1e3,obstacles:{ice:10,stone:8},difficulty:"expert"},51:{world:11,level:1,pairs:10,timeLimit:38,theme:"city",unlockReward:170,obstacles:{ice:9},difficulty:"very_easy"},52:{world:11,level:2,pairs:10,timeLimit:35,theme:"city",unlockReward:180,obstacles:{ice:10},difficulty:"easy"},53:{world:11,level:3,pairs:10,timeLimit:32,theme:"city",unlockReward:190,obstacles:{ice:10},difficulty:"hard"},54:{world:11,level:4,pairs:10,timeLimit:30,theme:"city",unlockReward:200,obstacles:{ice:11},difficulty:"very_hard"},55:{world:11,level:5,pairs:10,timeLimit:28,theme:"city",unlockReward:1100,obstacles:{ice:11},difficulty:"expert"},56:{world:12,level:1,pairs:10,timeLimit:36,theme:"science",unlockReward:190,obstacles:{ice:10},difficulty:"very_easy"},57:{world:12,level:2,pairs:10,timeLimit:33,theme:"science",unlockReward:200,obstacles:{ice:11},difficulty:"easy"},58:{world:12,level:3,pairs:10,timeLimit:30,theme:"science",unlockReward:210,obstacles:{ice:11},difficulty:"hard"},59:{world:12,level:4,pairs:10,timeLimit:28,theme:"science",unlockReward:220,obstacles:{ice:12},difficulty:"very_hard"},60:{world:12,level:5,pairs:10,timeLimit:26,theme:"science",unlockReward:1200,obstacles:{ice:12},difficulty:"expert"},61:{world:13,level:1,pairs:10,timeLimit:38,theme:"farm",unlockReward:210,obstacles:{ice:11},difficulty:"very_easy"},62:{world:13,level:2,pairs:10,timeLimit:35,theme:"farm",unlockReward:220,obstacles:{ice:12},difficulty:"easy"},63:{world:13,level:3,pairs:10,timeLimit:32,theme:"farm",unlockReward:230,obstacles:{ice:12},difficulty:"hard"},64:{world:13,level:4,pairs:10,timeLimit:30,theme:"farm",unlockReward:240,obstacles:{ice:13},difficulty:"very_hard"},65:{world:13,level:5,pairs:10,timeLimit:28,theme:"farm",unlockReward:1300,obstacles:{ice:13},difficulty:"expert"},66:{world:14,level:1,pairs:10,timeLimit:36,theme:"art",unlockReward:230,obstacles:{ice:12},difficulty:"very_easy"},67:{world:14,level:2,pairs:10,timeLimit:33,theme:"art",unlockReward:240,obstacles:{ice:13},difficulty:"easy"},68:{world:14,level:3,pairs:10,timeLimit:30,theme:"art",unlockReward:250,obstacles:{ice:13},difficulty:"hard"},69:{world:14,level:4,pairs:10,timeLimit:28,theme:"art",unlockReward:260,obstacles:{ice:14},difficulty:"very_hard"},70:{world:14,level:5,pairs:10,timeLimit:26,theme:"art",unlockReward:1400,obstacles:{ice:14},difficulty:"expert"},71:{world:15,level:1,pairs:10,timeLimit:35,theme:"transport",unlockReward:250,obstacles:{ice:13},difficulty:"very_easy"},72:{world:15,level:2,pairs:10,timeLimit:32,theme:"transport",unlockReward:260,obstacles:{ice:14},difficulty:"easy"},73:{world:15,level:3,pairs:10,timeLimit:30,theme:"transport",unlockReward:270,obstacles:{ice:14},difficulty:"hard"},74:{world:15,level:4,pairs:10,timeLimit:28,theme:"transport",unlockReward:280,obstacles:{ice:15},difficulty:"very_hard"},75:{world:15,level:5,pairs:10,timeLimit:25,theme:"transport",unlockReward:1500,obstacles:{ice:15},difficulty:"expert"},76:{world:16,level:1,pairs:10,timeLimit:45,theme:"clothing",unlockReward:270,obstacles:{ice:4,iron:2},difficulty:"very_easy"},77:{world:16,level:2,pairs:10,timeLimit:42,theme:"clothing",unlockReward:280,obstacles:{ice:5,iron:2},difficulty:"easy"},78:{world:16,level:3,pairs:10,timeLimit:38,theme:"clothing",unlockReward:290,obstacles:{ice:5,iron:3},difficulty:"hard"},79:{world:16,level:4,pairs:10,timeLimit:35,theme:"clothing",unlockReward:300,obstacles:{ice:6,iron:3},difficulty:"very_hard"},80:{world:16,level:5,pairs:10,timeLimit:32,theme:"clothing",unlockReward:1600,obstacles:{ice:6,iron:4},difficulty:"expert"},81:{world:17,level:1,pairs:10,timeLimit:42,theme:"dinosaurs",unlockReward:290,obstacles:{ice:5,iron:3},difficulty:"very_easy"},82:{world:17,level:2,pairs:10,timeLimit:38,theme:"dinosaurs",unlockReward:300,obstacles:{ice:6,iron:3},difficulty:"easy"},83:{world:17,level:3,pairs:10,timeLimit:35,theme:"dinosaurs",unlockReward:310,obstacles:{ice:6,iron:4},difficulty:"hard"},84:{world:17,level:4,pairs:10,timeLimit:32,theme:"dinosaurs",unlockReward:320,obstacles:{ice:7,iron:4},difficulty:"very_hard"},85:{world:17,level:5,pairs:10,timeLimit:30,theme:"dinosaurs",unlockReward:1700,obstacles:{ice:7,iron:5},difficulty:"expert"},86:{world:18,level:1,pairs:10,timeLimit:40,theme:"sweets",unlockReward:310,obstacles:{ice:6,iron:4},difficulty:"very_easy"},87:{world:18,level:2,pairs:10,timeLimit:36,theme:"sweets",unlockReward:320,obstacles:{ice:7,iron:4},difficulty:"easy"},88:{world:18,level:3,pairs:10,timeLimit:33,theme:"sweets",unlockReward:330,obstacles:{ice:7,iron:5},difficulty:"hard"},89:{world:18,level:4,pairs:10,timeLimit:30,theme:"sweets",unlockReward:340,obstacles:{ice:8,iron:5},difficulty:"very_hard"},90:{world:18,level:5,pairs:10,timeLimit:28,theme:"sweets",unlockReward:1800,obstacles:{ice:8,iron:6},difficulty:"expert"},91:{world:19,level:1,pairs:10,timeLimit:38,theme:"jerseys",unlockReward:330,obstacles:{ice:7,iron:5},difficulty:"very_easy"},92:{world:19,level:2,pairs:10,timeLimit:35,theme:"jerseys",unlockReward:340,obstacles:{ice:8,iron:5},difficulty:"easy"},93:{world:19,level:3,pairs:10,timeLimit:32,theme:"jerseys",unlockReward:350,obstacles:{ice:8,iron:6},difficulty:"hard"},94:{world:19,level:4,pairs:10,timeLimit:30,theme:"jerseys",unlockReward:360,obstacles:{ice:9,iron:6},difficulty:"very_hard"},95:{world:19,level:5,pairs:10,timeLimit:28,theme:"jerseys",unlockReward:1900,obstacles:{ice:9,iron:7},difficulty:"expert"},96:{world:20,level:1,pairs:10,timeLimit:36,theme:"eyes",unlockReward:350,obstacles:{ice:8,iron:6},difficulty:"very_easy"},97:{world:20,level:2,pairs:10,timeLimit:33,theme:"eyes",unlockReward:360,obstacles:{ice:9,iron:6},difficulty:"easy"},98:{world:20,level:3,pairs:10,timeLimit:30,theme:"eyes",unlockReward:370,obstacles:{ice:9,iron:7},difficulty:"hard"},99:{world:20,level:4,pairs:10,timeLimit:28,theme:"eyes",unlockReward:380,obstacles:{ice:10,iron:7},difficulty:"very_hard"},100:{world:20,level:5,pairs:10,timeLimit:25,theme:"eyes",unlockReward:2e3,obstacles:{ice:10,iron:8},difficulty:"expert"},101:{world:21,level:1,pairs:4,timeLimit:40,theme:"professions",unlockReward:50,difficulty:"very_easy"},102:{world:21,level:2,pairs:6,timeLimit:38,theme:"professions",unlockReward:60,difficulty:"easy"},103:{world:21,level:3,pairs:8,timeLimit:42,theme:"professions",unlockReward:70,obstacles:{ice:3,stone:2},difficulty:"hard"},104:{world:21,level:4,pairs:10,timeLimit:40,theme:"professions",unlockReward:80,obstacles:{ice:4,stone:2,iron:1},difficulty:"very_hard"},105:{world:21,level:5,pairs:10,timeLimit:38,theme:"professions",unlockReward:2100,obstacles:{ice:5,stone:3,iron:2},difficulty:"expert"},106:{world:22,level:1,pairs:4,timeLimit:38,theme:"emotions",unlockReward:60,difficulty:"very_easy"},107:{world:22,level:2,pairs:6,timeLimit:36,theme:"emotions",unlockReward:70,difficulty:"easy"},108:{world:22,level:3,pairs:8,timeLimit:40,theme:"emotions",unlockReward:80,obstacles:{ice:3,stone:2},difficulty:"hard"},109:{world:22,level:4,pairs:10,timeLimit:38,theme:"emotions",unlockReward:90,obstacles:{ice:4,stone:3,iron:1},difficulty:"very_hard"},110:{world:22,level:5,pairs:10,timeLimit:36,theme:"emotions",unlockReward:2200,obstacles:{ice:5,stone:3,iron:2},difficulty:"expert"},111:{world:23,level:1,pairs:4,timeLimit:40,theme:"pirates",unlockReward:70,difficulty:"very_easy"},112:{world:23,level:2,pairs:6,timeLimit:38,theme:"pirates",unlockReward:80,difficulty:"easy"},113:{world:23,level:3,pairs:8,timeLimit:42,theme:"pirates",unlockReward:90,obstacles:{ice:4,stone:2},difficulty:"hard"},114:{world:23,level:4,pairs:10,timeLimit:40,theme:"pirates",unlockReward:100,obstacles:{ice:5,stone:3,iron:1},difficulty:"very_hard"},115:{world:23,level:5,pairs:10,timeLimit:38,theme:"pirates",unlockReward:2300,obstacles:{ice:6,stone:3,iron:2},difficulty:"expert"},116:{world:24,level:1,pairs:4,timeLimit:38,theme:"jewels",unlockReward:80,difficulty:"very_easy"},117:{world:24,level:2,pairs:6,timeLimit:36,theme:"jewels",unlockReward:90,difficulty:"easy"},118:{world:24,level:3,pairs:8,timeLimit:40,theme:"jewels",unlockReward:100,obstacles:{ice:4,stone:2},difficulty:"hard"},119:{world:24,level:4,pairs:10,timeLimit:38,theme:"jewels",unlockReward:110,obstacles:{ice:5,stone:3,iron:1},difficulty:"very_hard"},120:{world:24,level:5,pairs:10,timeLimit:36,theme:"jewels",unlockReward:2400,obstacles:{ice:6,stone:3,iron:2},difficulty:"expert"},121:{world:25,level:1,pairs:4,timeLimit:36,theme:"videogames",unlockReward:90,difficulty:"very_easy"},122:{world:25,level:2,pairs:6,timeLimit:34,theme:"videogames",unlockReward:100,difficulty:"easy"},123:{world:25,level:3,pairs:8,timeLimit:38,theme:"videogames",unlockReward:110,obstacles:{ice:4,stone:3},difficulty:"hard"},124:{world:25,level:4,pairs:10,timeLimit:36,theme:"videogames",unlockReward:120,obstacles:{ice:5,stone:3,iron:2},difficulty:"very_hard"},125:{world:25,level:5,pairs:10,timeLimit:34,theme:"videogames",unlockReward:2500,obstacles:{ice:6,stone:4,iron:2},difficulty:"expert"},126:{world:26,level:1,pairs:4,timeLimit:38,theme:"insects",unlockReward:100,difficulty:"very_easy"},127:{world:26,level:2,pairs:6,timeLimit:36,theme:"insects",unlockReward:110,difficulty:"easy"},128:{world:26,level:3,pairs:8,timeLimit:40,theme:"insects",unlockReward:120,obstacles:{ice:5,stone:3},difficulty:"hard"},129:{world:26,level:4,pairs:10,timeLimit:38,theme:"insects",unlockReward:130,obstacles:{ice:6,stone:3,iron:2},difficulty:"very_hard"},130:{world:26,level:5,pairs:10,timeLimit:36,theme:"insects",unlockReward:2600,obstacles:{ice:7,stone:4,iron:2},difficulty:"expert"},131:{world:27,level:1,pairs:4,timeLimit:36,theme:"fruits",unlockReward:110,difficulty:"very_easy"},132:{world:27,level:2,pairs:6,timeLimit:34,theme:"fruits",unlockReward:120,difficulty:"easy"},133:{world:27,level:3,pairs:8,timeLimit:38,theme:"fruits",unlockReward:130,obstacles:{ice:5,stone:3},difficulty:"hard"},134:{world:27,level:4,pairs:10,timeLimit:36,theme:"fruits",unlockReward:140,obstacles:{ice:6,stone:4,iron:2},difficulty:"very_hard"},135:{world:27,level:5,pairs:10,timeLimit:34,theme:"fruits",unlockReward:2700,obstacles:{ice:7,stone:4,iron:3},difficulty:"expert"},136:{world:28,level:1,pairs:4,timeLimit:38,theme:"vegetables",unlockReward:120,difficulty:"very_easy"},137:{world:28,level:2,pairs:6,timeLimit:36,theme:"vegetables",unlockReward:130,difficulty:"easy"},138:{world:28,level:3,pairs:8,timeLimit:40,theme:"vegetables",unlockReward:140,obstacles:{ice:5,stone:3},difficulty:"hard"},139:{world:28,level:4,pairs:10,timeLimit:38,theme:"vegetables",unlockReward:150,obstacles:{ice:6,stone:4,iron:2},difficulty:"very_hard"},140:{world:28,level:5,pairs:10,timeLimit:36,theme:"vegetables",unlockReward:2800,obstacles:{ice:7,stone:4,iron:3},difficulty:"expert"},141:{world:29,level:1,pairs:8,timeLimit:120,theme:"bottles",unlockReward:130,difficulty:"very_easy"},142:{world:29,level:2,pairs:10,timeLimit:100,theme:"bottles",unlockReward:140,obstacles:{virus:2},difficulty:"easy"},143:{world:29,level:3,pairs:10,timeLimit:80,theme:"bottles",unlockReward:150,obstacles:{virus:3,fire:1},difficulty:"hard"},144:{world:29,level:4,pairs:10,timeLimit:60,theme:"bottles",unlockReward:160,obstacles:{virus:3,fire:2},difficulty:"very_hard"},145:{world:29,level:5,pairs:10,timeLimit:45,theme:"bottles",unlockReward:2900,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},146:{world:30,level:1,pairs:8,timeLimit:120,theme:"castle",unlockReward:140,difficulty:"very_easy"},147:{world:30,level:2,pairs:10,timeLimit:100,theme:"castle",unlockReward:150,obstacles:{virus:2},difficulty:"easy"},148:{world:30,level:3,pairs:10,timeLimit:80,theme:"castle",unlockReward:160,obstacles:{virus:3,fire:1},difficulty:"hard"},149:{world:30,level:4,pairs:10,timeLimit:60,theme:"castle",unlockReward:170,obstacles:{virus:3,fire:2},difficulty:"very_hard"},150:{world:30,level:5,pairs:10,timeLimit:45,theme:"castle",unlockReward:3e3,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},151:{world:31,level:1,pairs:8,timeLimit:120,theme:"forest",unlockReward:150,difficulty:"very_easy"},152:{world:31,level:2,pairs:10,timeLimit:100,theme:"forest",unlockReward:160,obstacles:{virus:2},difficulty:"easy"},153:{world:31,level:3,pairs:10,timeLimit:80,theme:"forest",unlockReward:170,obstacles:{virus:3,fire:1},difficulty:"hard"},154:{world:31,level:4,pairs:10,timeLimit:60,theme:"forest",unlockReward:180,obstacles:{virus:3,fire:2},difficulty:"very_hard"},155:{world:31,level:5,pairs:10,timeLimit:45,theme:"forest",unlockReward:3100,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},156:{world:32,level:1,pairs:8,timeLimit:120,theme:"mountains",unlockReward:160,difficulty:"very_easy"},157:{world:32,level:2,pairs:10,timeLimit:100,theme:"mountains",unlockReward:170,obstacles:{virus:2},difficulty:"easy"},158:{world:32,level:3,pairs:10,timeLimit:80,theme:"mountains",unlockReward:180,obstacles:{virus:3,fire:1},difficulty:"hard"},159:{world:32,level:4,pairs:10,timeLimit:60,theme:"mountains",unlockReward:190,obstacles:{virus:3,fire:2},difficulty:"very_hard"},160:{world:32,level:5,pairs:10,timeLimit:45,theme:"mountains",unlockReward:3200,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},161:{world:33,level:1,pairs:8,timeLimit:120,theme:"snow",unlockReward:170,difficulty:"very_easy"},162:{world:33,level:2,pairs:10,timeLimit:100,theme:"snow",unlockReward:180,obstacles:{virus:2},difficulty:"easy"},163:{world:33,level:3,pairs:10,timeLimit:80,theme:"snow",unlockReward:190,obstacles:{virus:3,fire:1},difficulty:"hard"},164:{world:33,level:4,pairs:10,timeLimit:60,theme:"snow",unlockReward:200,obstacles:{virus:3,fire:2},difficulty:"very_hard"},165:{world:33,level:5,pairs:10,timeLimit:45,theme:"snow",unlockReward:3300,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},166:{world:34,level:1,pairs:8,timeLimit:120,theme:"locations",unlockReward:180,difficulty:"very_easy"},167:{world:34,level:2,pairs:10,timeLimit:100,theme:"locations",unlockReward:190,obstacles:{virus:2},difficulty:"easy"},168:{world:34,level:3,pairs:10,timeLimit:80,theme:"locations",unlockReward:200,obstacles:{virus:3,fire:1},difficulty:"hard"},169:{world:34,level:4,pairs:10,timeLimit:60,theme:"locations",unlockReward:210,obstacles:{virus:3,fire:2},difficulty:"very_hard"},170:{world:34,level:5,pairs:10,timeLimit:45,theme:"locations",unlockReward:3400,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},171:{world:35,level:1,pairs:8,timeLimit:120,theme:"cups",unlockReward:190,difficulty:"very_easy"},172:{world:35,level:2,pairs:10,timeLimit:100,theme:"cups",unlockReward:200,obstacles:{virus:2},difficulty:"easy"},173:{world:35,level:3,pairs:10,timeLimit:80,theme:"cups",unlockReward:210,obstacles:{virus:3,fire:1},difficulty:"hard"},174:{world:35,level:4,pairs:10,timeLimit:60,theme:"cups",unlockReward:220,obstacles:{virus:3,fire:2},difficulty:"very_hard"},175:{world:35,level:5,pairs:10,timeLimit:45,theme:"cups",unlockReward:3500,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},176:{world:36,level:1,pairs:8,timeLimit:120,theme:"energy",unlockReward:200,difficulty:"very_easy"},177:{world:36,level:2,pairs:10,timeLimit:100,theme:"energy",unlockReward:210,obstacles:{virus:2},difficulty:"easy"},178:{world:36,level:3,pairs:10,timeLimit:80,theme:"energy",unlockReward:220,obstacles:{virus:3,fire:1},difficulty:"hard"},179:{world:36,level:4,pairs:10,timeLimit:60,theme:"energy",unlockReward:230,obstacles:{virus:3,fire:2},difficulty:"very_hard"},180:{world:36,level:5,pairs:10,timeLimit:45,theme:"energy",unlockReward:3600,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},181:{world:37,level:1,pairs:8,timeLimit:120,theme:"dinosaurs",unlockReward:210,difficulty:"very_easy"},182:{world:37,level:2,pairs:10,timeLimit:100,theme:"dinosaurs",unlockReward:220,obstacles:{virus:2},difficulty:"easy"},183:{world:37,level:3,pairs:10,timeLimit:80,theme:"dinosaurs",unlockReward:230,obstacles:{virus:3,fire:1},difficulty:"hard"},184:{world:37,level:4,pairs:10,timeLimit:60,theme:"dinosaurs",unlockReward:240,obstacles:{virus:3,fire:2},difficulty:"very_hard"},185:{world:37,level:5,pairs:10,timeLimit:45,theme:"dinosaurs",unlockReward:3700,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},186:{world:38,level:1,pairs:8,timeLimit:120,theme:"music",unlockReward:220,difficulty:"very_easy"},187:{world:38,level:2,pairs:10,timeLimit:100,theme:"music",unlockReward:230,obstacles:{virus:2},difficulty:"easy"},188:{world:38,level:3,pairs:10,timeLimit:80,theme:"music",unlockReward:240,obstacles:{virus:3,fire:1},difficulty:"hard"},189:{world:38,level:4,pairs:10,timeLimit:60,theme:"music",unlockReward:250,obstacles:{virus:3,fire:2},difficulty:"very_hard"},190:{world:38,level:5,pairs:10,timeLimit:45,theme:"music",unlockReward:3800,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},191:{world:39,level:1,pairs:8,timeLimit:120,theme:"summer",unlockReward:230,difficulty:"very_easy"},192:{world:39,level:2,pairs:10,timeLimit:100,theme:"summer",unlockReward:240,obstacles:{virus:2},difficulty:"easy"},193:{world:39,level:3,pairs:10,timeLimit:80,theme:"summer",unlockReward:250,obstacles:{virus:3,fire:1},difficulty:"hard"},194:{world:39,level:4,pairs:10,timeLimit:60,theme:"summer",unlockReward:260,obstacles:{virus:3,fire:2},difficulty:"very_hard"},195:{world:39,level:5,pairs:10,timeLimit:45,theme:"summer",unlockReward:3900,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},196:{world:40,level:1,pairs:8,timeLimit:120,theme:"spring",unlockReward:240,difficulty:"very_easy"},197:{world:40,level:2,pairs:10,timeLimit:100,theme:"spring",unlockReward:250,obstacles:{virus:2},difficulty:"easy"},198:{world:40,level:3,pairs:10,timeLimit:80,theme:"spring",unlockReward:260,obstacles:{virus:3,fire:1},difficulty:"hard"},199:{world:40,level:4,pairs:10,timeLimit:60,theme:"spring",unlockReward:270,obstacles:{virus:3,fire:2},difficulty:"very_hard"},200:{world:40,level:5,pairs:10,timeLimit:45,theme:"spring",unlockReward:4e3,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},201:{world:41,level:1,pairs:8,timeLimit:120,theme:"autumn",unlockReward:250,difficulty:"very_easy"},202:{world:41,level:2,pairs:10,timeLimit:100,theme:"autumn",unlockReward:260,obstacles:{virus:2},difficulty:"easy"},203:{world:41,level:3,pairs:10,timeLimit:80,theme:"autumn",unlockReward:270,obstacles:{virus:3,fire:1},difficulty:"hard"},204:{world:41,level:4,pairs:10,timeLimit:60,theme:"autumn",unlockReward:280,obstacles:{virus:3,fire:2},difficulty:"very_hard"},205:{world:41,level:5,pairs:10,timeLimit:45,theme:"autumn",unlockReward:4100,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},206:{world:42,level:1,pairs:8,timeLimit:120,theme:"winter",unlockReward:260,difficulty:"very_easy"},207:{world:42,level:2,pairs:10,timeLimit:100,theme:"winter",unlockReward:270,obstacles:{virus:2},difficulty:"easy"},208:{world:42,level:3,pairs:10,timeLimit:80,theme:"winter",unlockReward:280,obstacles:{virus:3,fire:1},difficulty:"hard"},209:{world:42,level:4,pairs:10,timeLimit:60,theme:"winter",unlockReward:290,obstacles:{virus:3,fire:2},difficulty:"very_hard"},210:{world:42,level:5,pairs:10,timeLimit:45,theme:"winter",unlockReward:4200,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},211:{world:43,level:1,pairs:8,timeLimit:120,theme:"cinema",unlockReward:270,difficulty:"very_easy"},212:{world:43,level:2,pairs:10,timeLimit:100,theme:"cinema",unlockReward:280,obstacles:{virus:2},difficulty:"easy"},213:{world:43,level:3,pairs:10,timeLimit:80,theme:"cinema",unlockReward:290,obstacles:{virus:3,fire:1},difficulty:"hard"},214:{world:43,level:4,pairs:10,timeLimit:60,theme:"cinema",unlockReward:300,obstacles:{virus:3,fire:2},difficulty:"very_hard"},215:{world:43,level:5,pairs:10,timeLimit:45,theme:"cinema",unlockReward:4300,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},216:{world:44,level:1,pairs:8,timeLimit:120,theme:"history",unlockReward:280,difficulty:"very_easy"},217:{world:44,level:2,pairs:10,timeLimit:100,theme:"history",unlockReward:290,obstacles:{virus:2},difficulty:"easy"},218:{world:44,level:3,pairs:10,timeLimit:80,theme:"history",unlockReward:300,obstacles:{virus:3,fire:1},difficulty:"hard"},219:{world:44,level:4,pairs:10,timeLimit:60,theme:"history",unlockReward:310,obstacles:{virus:3,fire:2},difficulty:"very_hard"},220:{world:44,level:5,pairs:10,timeLimit:45,theme:"history",unlockReward:4400,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},221:{world:45,level:1,pairs:8,timeLimit:120,theme:"superheroes",unlockReward:290,difficulty:"very_easy"},222:{world:45,level:2,pairs:10,timeLimit:100,theme:"superheroes",unlockReward:300,obstacles:{virus:2},difficulty:"easy"},223:{world:45,level:3,pairs:10,timeLimit:80,theme:"superheroes",unlockReward:310,obstacles:{virus:3,fire:1},difficulty:"hard"},224:{world:45,level:4,pairs:10,timeLimit:60,theme:"superheroes",unlockReward:320,obstacles:{virus:3,fire:2},difficulty:"very_hard"},225:{world:45,level:5,pairs:10,timeLimit:45,theme:"superheroes",unlockReward:4500,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},226:{world:46,level:1,pairs:8,timeLimit:120,theme:"robots",unlockReward:300,difficulty:"very_easy"},227:{world:46,level:2,pairs:10,timeLimit:100,theme:"robots",unlockReward:310,obstacles:{virus:2},difficulty:"easy"},228:{world:46,level:3,pairs:10,timeLimit:80,theme:"robots",unlockReward:320,obstacles:{virus:3,fire:1},difficulty:"hard"},229:{world:46,level:4,pairs:10,timeLimit:60,theme:"robots",unlockReward:330,obstacles:{virus:3,fire:2},difficulty:"very_hard"},230:{world:46,level:5,pairs:10,timeLimit:45,theme:"robots",unlockReward:4600,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},231:{world:47,level:1,pairs:8,timeLimit:120,theme:"astronauts",unlockReward:310,difficulty:"very_easy"},232:{world:47,level:2,pairs:10,timeLimit:100,theme:"astronauts",unlockReward:320,obstacles:{virus:2},difficulty:"easy"},233:{world:47,level:3,pairs:10,timeLimit:80,theme:"astronauts",unlockReward:330,obstacles:{virus:3,fire:1},difficulty:"hard"},234:{world:47,level:4,pairs:10,timeLimit:60,theme:"astronauts",unlockReward:340,obstacles:{virus:3,fire:2},difficulty:"very_hard"},235:{world:47,level:5,pairs:10,timeLimit:45,theme:"astronauts",unlockReward:4700,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},236:{world:48,level:1,pairs:8,timeLimit:120,theme:"castles",unlockReward:320,difficulty:"very_easy"},237:{world:48,level:2,pairs:10,timeLimit:100,theme:"castles",unlockReward:330,obstacles:{virus:2},difficulty:"easy"},238:{world:48,level:3,pairs:10,timeLimit:80,theme:"castles",unlockReward:340,obstacles:{virus:3,fire:1},difficulty:"hard"},239:{world:48,level:4,pairs:10,timeLimit:60,theme:"castles",unlockReward:350,obstacles:{virus:3,fire:2},difficulty:"very_hard"},240:{world:48,level:5,pairs:10,timeLimit:45,theme:"castles",unlockReward:4800,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},241:{world:49,level:1,pairs:8,timeLimit:120,theme:"treasures",unlockReward:330,difficulty:"very_easy"},242:{world:49,level:2,pairs:10,timeLimit:100,theme:"treasures",unlockReward:340,obstacles:{virus:2},difficulty:"easy"},243:{world:49,level:3,pairs:10,timeLimit:80,theme:"treasures",unlockReward:350,obstacles:{virus:3,fire:1},difficulty:"hard"},244:{world:49,level:4,pairs:10,timeLimit:60,theme:"treasures",unlockReward:360,obstacles:{virus:3,fire:2},difficulty:"very_hard"},245:{world:49,level:5,pairs:10,timeLimit:45,theme:"treasures",unlockReward:4900,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"},246:{world:50,level:1,pairs:8,timeLimit:120,theme:"volcano",unlockReward:340,difficulty:"very_easy"},247:{world:50,level:2,pairs:10,timeLimit:100,theme:"volcano",unlockReward:350,obstacles:{virus:2},difficulty:"easy"},248:{world:50,level:3,pairs:10,timeLimit:80,theme:"volcano",unlockReward:360,obstacles:{virus:3,fire:1},difficulty:"hard"},249:{world:50,level:4,pairs:10,timeLimit:60,theme:"volcano",unlockReward:370,obstacles:{virus:3,fire:2},difficulty:"very_hard"},250:{world:50,level:5,pairs:10,timeLimit:45,theme:"volcano",unlockReward:5e3,obstacles:{virus:4,fire:2,bomb:1},difficulty:"expert"}};function Tr(t){return W2[t]}function zO(t){return Object.values(W2).filter(e=>e.world===t).sort((e,r)=>e.level-r.level)}function Gl(t,e){return(t-1)*5+e}function $O(t){return t?{very_easy:"Muy Fcil",easy:"Fcil",hard:"Difcil",very_hard:"Muy Difcil",expert:"Experto"}[t]:""}const FO=({difficulty:t,levelNumber:e,onComplete:r,duration:s=2500})=>{if(x.useEffect(()=>{const o=setTimeout(r,s);return()=>clearTimeout(o)},[r,s]),!t)return null;const n=$O(t),i={very_easy:"from-green-500 to-emerald-600",easy:"from-blue-500 to-cyan-600",hard:"from-yellow-500 to-orange-500",very_hard:"from-orange-500 to-red-500",expert:"from-red-600 to-rose-700"}[t]||"from-gray-500 to-gray-600";return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fade-in cursor-pointer",onClick:r,children:[a.jsx("div",{className:"text-center animate-scale-pulse",children:a.jsxs("div",{className:`bg-gradient-to-br ${i} text-white rounded-3xl px-12 py-8 shadow-2xl`,children:[a.jsxs("div",{className:"text-5xl font-black mb-4",children:["Nivel ",e]}),a.jsx("div",{className:"text-3xl font-bold uppercase tracking-wider",children:n})]})}),a.jsx("style",{children:`
        @keyframes fade-in {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes scale-pulse {
          0% {
            transform: scale(0.8);
            opacity: 0;
          }
          50% {
            transform: scale(1.05);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }

        .animate-scale-pulse {
          animation: scale-pulse 0.5s ease-out;
        }
      `})]})},jl=10,UO=400,ya=()=>{q4();const e=Date.now()+3e3,r=(o,l)=>Math.random()*(l-o)+o,s=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"],n=[],i=setInterval(()=>{if(e-Date.now()<=0){clearInterval(i),n.forEach(c=>c.remove());return}const l=50;for(let c=0;c<l;c++){const u=document.createElement("div");u.style.position="fixed",u.style.width="10px",u.style.height="10px",u.style.backgroundColor=s[Math.floor(Math.random()*s.length)],u.style.left=Math.random()*window.innerWidth+"px",u.style.top="-20px",u.style.opacity="1",u.style.borderRadius="50%",u.style.pointerEvents="none",u.style.zIndex="9999",document.body.appendChild(u),n.push(u);const d=r(0,360),h=r(10,30),f=r(-2,2);let m=parseFloat(u.style.left),p=-20,v=Math.cos(d*Math.PI/180)*h,b=Math.sin(d*Math.PI/180)*h;const y=()=>{m+=v+f,p+=b,b+=.5,u.style.left=m+"px",u.style.top=p+"px",u.style.opacity=String(Math.max(0,1-p/window.innerHeight)),p<window.innerHeight&&Date.now()<e?requestAnimationFrame(y):u.remove()};y()}},250)};function $y(){const t=new Date,e=t.getUTCFullYear(),r=String(t.getUTCMonth()+1).padStart(2,"0"),s=String(t.getUTCDate()).padStart(2,"0");return`${e}-${r}-${s}`}function BO(){if(typeof window>"u")return $y();const e=new URLSearchParams(window.location.search).get("seed");return e&&/^\d{4}-\d{2}-\d{2}$/.test(e)?e:$y()}function VO(t){let e=1779033703^t.length;for(let r=0;r<t.length;r++)e=Math.imul(e^t.charCodeAt(r),3432918353),e=e<<13|e>>>19;return function(){return e=Math.imul(e^e>>>16,2246822507),e=Math.imul(e^e>>>13,3266489909),(e^=e>>>16)>>>0}}function WO(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function qO(t){const e=VO(t);return WO(e())}function Fy(t,e){const r=qO(e),s=[...t];for(let n=s.length-1;n>0;n--){const i=Math.floor(r()*(n+1));[s[n],s[i]]=[s[i],s[n]]}return s}const Vc={nature:{name:"Naturaleza",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-green-300 via-emerald-400 to-teal-500",pattern:""}},sports:{name:"Deportes",images:["","","","","","","","","","","","","","",""],background:{gradient:"from-orange-400 via-red-500 to-rose-600",pattern:""}},arcade:{name:"Juegos",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-purple-500 via-pink-500 to-fuchsia-600",pattern:""}},animals:{name:"Animalitos",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-yellow-300 via-amber-400 to-orange-500",pattern:""}},space:{name:"Espacio",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-indigo-900 via-purple-900 to-slate-900",pattern:""}},ocean:{name:"Ocano",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-cyan-400 via-blue-500 to-indigo-600",pattern:""}},food:{name:"Comida",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-red-400 via-orange-400 to-yellow-400",pattern:""}},music:{name:"Msica",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-violet-500 via-purple-600 to-indigo-700",pattern:""}},beauty:{name:"Belleza",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-pink-400 via-rose-400 to-red-400",pattern:""}},tech:{name:"Tecnologa",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-slate-700 via-gray-800 to-zinc-900",pattern:""}},city:{name:"Ciudad",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-gray-600 via-slate-700 to-zinc-800",pattern:""}},science:{name:"Ciencia",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-teal-500 via-cyan-600 to-blue-700",pattern:""}},farm:{name:"Granja",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-lime-400 via-green-500 to-emerald-600",pattern:""}},art:{name:"Arte",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-fuchsia-400 via-pink-500 to-rose-600",pattern:""}},transport:{name:"Transporte",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-sky-400 via-blue-500 to-cyan-600",pattern:""}},clothing:{name:"Ropa",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-rose-400 via-pink-500 to-purple-500",pattern:""}},dinosaurs:{name:"Dinosaurios",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-lime-500 via-green-600 to-emerald-700",pattern:""}},sweets:{name:"Dulces",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-pink-300 via-rose-400 to-red-400",pattern:""}},jerseys:{name:"Camisetas",images:["/argentina.png","/brasil.png","/croacia.png","/espaa.png","/italia.png","/venezuela.png","/ecuador.png","/holanda.png","/alemania.png","/francia.png","","","","","","","",""],background:{gradient:"from-green-500 via-emerald-600 to-teal-700",pattern:""}},eyes:{name:"Ojos",images:["/ojo_verde.png","/agila.png","/cat.png","/tigre.png","/zorro.png","/marron.png","/azul.png","/lila.png","/manzana.png","","","","","","","","",""],background:{gradient:"from-sky-300 via-blue-400 to-indigo-500",pattern:""}},professions:{name:"Profesiones",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-blue-400 via-indigo-500 to-purple-600",pattern:""}},emotions:{name:"Emociones",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-yellow-400 via-orange-500 to-red-500",pattern:""}},pirates:{name:"Piratas",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-slate-700 via-amber-800 to-orange-900",pattern:""}},jewels:{name:"Joyas",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-purple-600 via-pink-500 to-rose-400",pattern:""}},videogames:{name:"Videojuegos",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-cyan-500 via-blue-600 to-indigo-700",pattern:""}},insects:{name:"Insectos",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-lime-400 via-green-500 to-emerald-600",pattern:""}},fruits:{name:"Frutas",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-red-400 via-orange-400 to-yellow-400",pattern:""}},vegetables:{name:"Verduras",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-green-400 via-lime-500 to-emerald-600",pattern:""}},bottles:{name:"Botellas",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-teal-500 via-cyan-600 to-blue-700",pattern:""}},castle:{name:"Castillo",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-stone-600 via-slate-700 to-gray-800",pattern:""}},forest:{name:"Bosque",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-green-600 via-emerald-700 to-teal-800",pattern:""}},mountains:{name:"Montaas",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-slate-500 via-gray-600 to-stone-700",pattern:""}},snow:{name:"Nieve",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-sky-300 via-blue-400 to-indigo-500",pattern:""}},locations:{name:"Lugares",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-amber-400 via-orange-500 to-red-600",pattern:""}},cups:{name:"Tazas",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-amber-500 via-yellow-600 to-orange-700",pattern:""}},energy:{name:"Energa",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-yellow-400 via-orange-500 to-red-600",pattern:""}},summer:{name:"Verano",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-yellow-300 via-orange-400 to-red-500",pattern:""}},spring:{name:"Primavera",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-pink-300 via-rose-400 to-red-500",pattern:""}},autumn:{name:"Otoo",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-orange-500 via-amber-600 to-yellow-700",pattern:""}},winter:{name:"Invierno",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-blue-300 via-cyan-400 to-sky-500",pattern:""}},cinema:{name:"Cine",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-red-700 via-rose-800 to-pink-900",pattern:""}},history:{name:"Historia",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-amber-700 via-orange-800 to-brown-900",pattern:""}},superheroes:{name:"Superhroes",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-blue-600 via-indigo-700 to-purple-800",pattern:""}},robots:{name:"Robots",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-gray-600 via-slate-700 to-zinc-800",pattern:""}},astronauts:{name:"Astronautas",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-indigo-900 via-blue-950 to-slate-950",pattern:""}},castles:{name:"Castillos",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-slate-700 via-gray-800 to-stone-900",pattern:""}},treasures:{name:"Tesoros",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-yellow-500 via-amber-600 to-orange-700",pattern:""}},volcano:{name:"Volcn",images:["","","","","","","","","","","","","","","","","",""],background:{gradient:"from-red-700 via-orange-800 to-yellow-900",pattern:""}}};function Uy(t){var e;return((e=Vc[t])==null?void 0:e.images)||Vc.nature.images}function HO(t){var e;return((e=Vc[t])==null?void 0:e.name)||"Desconocido"}function GO(t){var e;return((e=Vc[t])==null?void 0:e.background)||{gradient:"from-blue-400 via-purple-500 to-pink-500"}}function KO(t){const[e,r]=x.useState(!1),s=x.useRef(!1),n=x.useRef(t.enabled);x.useEffect(()=>{n.current=t.enabled},[t.enabled]);const i=x.useCallback(()=>{r(!0),s.current=!0},[]),o=x.useCallback(()=>{r(!1),s.current=!1},[]);return x.useEffect(()=>{if(!t.enabled)return;const l=u=>{if(n.current){if(s.current){t.onConfirmExit();return}u.preventDefault(),window.history.pushState(null,"",window.location.href),i()}},c=u=>{if(n.current){if(u.preventDefault(),s.current){t.onConfirmExit();return}i()}};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",l),"backbutton"in document&&document.addEventListener("backbutton",c,!1),()=>{window.removeEventListener("popstate",l),"backbutton"in document&&document.removeEventListener("backbutton",c,!1)}},[t.enabled,t.onConfirmExit,i]),{open:e,openModal:i,closeModal:o}}const pp=(t,e)=>{const r=e.findIndex(l=>l.id===t);if(r===-1)return[];const s=Math.ceil(Math.sqrt(e.length)),n=Math.floor(r/s),i=r%s,o=[];return i>0&&o.push(r-1),i<s-1&&o.push(r+1),n>0&&o.push(r-s),n<s-1&&o.push(r+s),o},JO=(t,e,r,s)=>{console.log("[startGlobalVirusTimer] Llamada a funcin. GlobalTimer activo?",r==null?void 0:r.isActive);const n=t.some(l=>l.obstacle==="virus"&&!l.isMatched),i=t.filter(l=>l.obstacle==="virus"&&!l.isMatched).length;if(console.log("[startGlobalVirusTimer] Virus detectados:",i),!n){console.log("[startGlobalVirusTimer] No hay virus, limpiando timer"),r!=null&&r.intervalId&&clearInterval(r.intervalId),s(null);return}if(r!=null&&r.isActive){console.log("[startGlobalVirusTimer] Timer ya activo, no creando nuevo");return}console.log("[startGlobalVirusTimer] Creando nuevo timer global");const o=window.setInterval(()=>{console.log("[VirusTimer] Tick del timer"),s(l=>{if(!l)return console.log("[VirusTimer] Prev es null, deteniendo"),null;const c=l.timeLeft-1;return console.log("[VirusTimer] Tiempo restante:",c),c<=0?(console.log("[VirusTimer] Tiempo agotado! Propagando virus..."),e(u=>(console.log("[VirusTimer] Llamando a spreadVirus con",u.length,"cartas"),YO(u))),console.log("[VirusTimer] Reiniciando timer a 20s"),{...l,timeLeft:20}):{...l,timeLeft:c}})},1e3);console.log("[startGlobalVirusTimer] Timer creado con ID:",o),s({timeLeft:20,intervalId:o,isActive:!0})},YO=t=>{console.log("[spreadVirus] Iniciando propagacin. Total cartas:",t.length);const e=t.map((n,i)=>({card:n,idx:i})).filter(({card:n})=>n.obstacle==="virus"&&!n.isMatched);if(console.log("[spreadVirus] Virus encontrados:",e.length),e.length===0)return console.log("[spreadVirus] No hay virus, retornando cartas sin cambios"),t;const r=[];e.forEach(({card:n,idx:i})=>{const o=pp(n.id,t);console.log("[spreadVirus] Virus en ndice",i,"tiene adyacentes:",o);const l=o.filter(c=>{const u=t[c],d=u&&!u.isMatched&&u.obstacle!=="virus"&&u.obstacle!=="fire"&&u.obstacle!=="bomb"&&!r.includes(c);return!d&&u&&console.log("[spreadVirus] Carta en ndice",c,"no es vlida:",{isMatched:u.isMatched,obstacle:u.obstacle,alreadyInfected:r.includes(c)}),d});if(console.log("[spreadVirus] Targets vlidos para virus en",i,":",l.length),l.length>0){const c=l[Math.floor(Math.random()*l.length)];console.log("[spreadVirus] Infectando carta en ndice:",c),r.push(c)}}),console.log("[spreadVirus] Total de cartas a infectar:",r.length,"- ndices:",r);const s=t.map((n,i)=>r.includes(i)?(console.log("[spreadVirus] Convirtiendo carta en ndice",i,"a virus"),{...n,obstacle:"virus",blockedHealth:1,obstacleHealth:0}):n);return console.log("[spreadVirus] Propagacin completa"),s},QO=(t,e,r,s,n)=>{t.forEach(i=>{pp(i,e).forEach(l=>{if(l===-1)return;const c=e[l];!c||c.isMatched||c.obstacle==="virus"&&(c.blockedHealth??0)>0&&r(u=>u.map((d,h)=>{if(h!==l)return d;const f=(d.blockedHealth??0)-1;return f<=0?{...d,obstacle:null,blockedHealth:0}:{...d,blockedHealth:f}}))})}),setTimeout(()=>{r(i=>(!i.some(l=>l.obstacle==="virus"&&!l.isMatched)&&(s!=null&&s.intervalId)&&(clearInterval(s.intervalId),n(null)),i))},100)},XO=(t,e,r,s)=>{console.log("[startGlobalBombTimer] Llamada a funcin. GlobalTimer activo?",r==null?void 0:r.isActive);const n=t.some(l=>l.obstacle==="bomb"&&!l.isMatched),i=t.filter(l=>l.obstacle==="bomb"&&!l.isMatched).length;if(console.log("[startGlobalBombTimer] Bombas detectadas:",i),!n){console.log("[startGlobalBombTimer] No hay bombas, limpiando timer"),r!=null&&r.intervalId&&clearInterval(r.intervalId),s(null);return}if(r!=null&&r.isActive){console.log("[startGlobalBombTimer] Timer ya activo, no creando nuevo");return}console.log("[startGlobalBombTimer] Creando nuevo timer global de bomba");const o=window.setInterval(()=>{console.log("[BombTimer] Tick del timer"),s(l=>{if(!l)return console.log("[BombTimer] Prev es null, deteniendo"),null;const c=l.timeLeft-1;return console.log("[BombTimer] Tiempo restante:",c),c<=0?(console.log("[BombTimer] Tiempo agotado! Propagando fuego desde bombas..."),e(u=>(console.log("[BombTimer] Llamando a spreadFireFromBomb con",u.length,"cartas"),ZO(u))),console.log("[BombTimer] Reiniciando timer a 30s"),{...l,timeLeft:30}):{...l,timeLeft:c}})},1e3);console.log("[startGlobalBombTimer] Timer creado con ID:",o),s({timeLeft:30,intervalId:o,isActive:!0})},ZO=t=>{console.log("[spreadFireFromBomb] Iniciando propagacin. Total cartas:",t.length);const e=t.map((n,i)=>({card:n,idx:i})).filter(({card:n})=>n.obstacle==="bomb"&&!n.isMatched);if(console.log("[spreadFireFromBomb] Bombas encontradas:",e.length),e.length===0)return console.log("[spreadFireFromBomb] No hay bombas, retornando cartas sin cambios"),t;const r=[];e.forEach(({card:n,idx:i})=>{const o=pp(n.id,t);console.log("[spreadFireFromBomb] Bomba en ndice",i,"tiene adyacentes:",o);const l=o.filter(c=>{const u=t[c],d=u&&!u.isMatched&&u.obstacle!=="fire"&&u.obstacle!=="bomb"&&u.obstacle!=="virus"&&!r.includes(c);return!d&&u&&console.log("[spreadFireFromBomb] Carta en ndice",c,"no es vlida:",{isMatched:u.isMatched,obstacle:u.obstacle,alreadyIgnited:r.includes(c)}),d});if(console.log("[spreadFireFromBomb] Targets vlidos para bomba en",i,":",l.length),l.length>0){const c=l[Math.floor(Math.random()*l.length)];console.log("[spreadFireFromBomb] Incendiando carta en ndice:",c),r.push(c)}}),console.log("[spreadFireFromBomb] Total de cartas a incendiar:",r.length,"- ndices:",r);const s=t.map((n,i)=>r.includes(i)?(console.log("[spreadFireFromBomb] Convirtiendo carta en ndice",i,"a fuego"),{...n,obstacle:"fire"}):n);return console.log("[spreadFireFromBomb] Propagacin completa"),s},eM=(t,e,r,s)=>{setTimeout(()=>{!e.some(i=>i.obstacle==="bomb"&&!i.isMatched&&!t.includes(i.id))&&(r!=null&&r.intervalId)&&(console.log("[handleBombMatch] No quedan bombas, deteniendo timer"),clearInterval(r.intervalId),s(null))},100)},gp=({level:t,onComplete:e,onBackToMenu:r,isDailyChallenge:s=!1,duelCode:n,duelRole:i,duelSeed:o,duelLevel:l,onDuelFinish:c})=>{const u=!!n&&!!i&&!!o&&typeof l=="number",d=u?l:t,h=Tr(d);if(!h)return console.error("[GameCore] Invalid level config for level:",d),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-400 via-pink-500 to-orange-500 flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-black text-gray-800 mb-2",children:"Nivel invlido"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["No se pudo cargar la configuracin del nivel ",d]}),a.jsx("button",{onClick:r,className:"w-full py-4 rounded-xl font-bold text-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-xl transition-all",children:"Volver al Men"})]})})});const[f,m]=x.useState([]),[p,v]=x.useState([]),[b,y]=x.useState(0),[g,w]=x.useState(!0),[k,j]=x.useState(!1),[_,E]=x.useState(!0),[N,F]=x.useState((h==null?void 0:h.timeLimit)||60),[I,V]=x.useState(!1),[z,Fe]=x.useState(0),[je,zt]=x.useState(0),[Y,ve]=x.useState(!1),[R,D]=x.useState(null),[U]=x.useState(()=>u?o:s?BO():`random-${Date.now()}`),[de,O]=x.useState(!1),[Te,ht]=x.useState(!1),[$t,Ft]=x.useState(()=>t2()),[Tt,X2]=x.useState(0),[Xi,Z2]=x.useState(0),[Cu,Oa]=x.useState([]),[vp,Tu]=x.useState(0),[ek,wp]=x.useState(!1),[ls,Zi]=x.useState(!1),[tk,bp]=x.useState(!1),[xp,rk]=x.useState({text:"",url:""}),[eo,to]=x.useState(new Set),[Bn,ro]=x.useState(new Set),[sk,kp]=x.useState(!1),[nk,cs]=x.useState(!1),[ik,Ma]=x.useState("ice"),[ok,_p]=x.useState(0),[ak,jp]=x.useState(!1),[lk,Gs]=x.useState(0),[Aa,Sp]=x.useState(0),[Pu,Ru]=x.useState(0),[ck,Iu]=x.useState(null),[Lu,uk]=x.useState(!1),[Ep,Da]=x.useState(0),[dk,Np]=x.useState(null),Xt=x.useRef(null),[Se,za]=x.useState(null),[so,hk]=x.useState(!1),[Ee,$a]=x.useState(null),[no,fk]=x.useState(!1),Cp=x.useCallback(()=>{me.stopLevelMusic(),r()},[r]),{open:mk,openModal:pk,closeModal:gk}=KO({enabled:!Y&&!I,onConfirmExit:Cp,isLevelCompleted:Y}),Vn=x.useRef(!1),Zt=x.useRef(null),Ks=x.useRef(null),Dr=x.useRef(null),Js=x.useRef(0),io=x.useRef(null),Fa=x.useRef(null),Ou=x.useRef(!1),yk=101,vk=5;function wk(S,L){if(L<21||L>28)return!1;const te=L-21,ne=yk+te*vk,G=S-ne;return G>=3&&G<=4}function bk(S){const L=Math.ceil(Math.sqrt(S.length)),te=B=>{const W=Math.floor(B/L),ue=B%L,q=[];return ue>0&&q.push(B-1),ue<L-1&&q.push(B+1),W>0&&q.push(B-L),W<L-1&&q.push(B+L),q.filter(Z=>Z>=0&&Z<S.length)},ne=S.map((B,W)=>B.obstacle==="virus"?W:-1).filter(B=>B>=0);if(ne.length===0)return S;const G=[];for(const B of ne)for(const W of te(B)){const ue=S[W];ue&&(ue.isMatched||ue.isFlipped||ue.obstacle&&(ue.obstacleHealth??0)>0||ue.obstacle==="virus"||ue.obstacle==="bomb"||ue.obstacle==="fire"||G.push(W))}if(G.length===0)return S;const ce=2,oe=[],we=new Set;for(const B of G.sort(()=>Math.random()-.5)){if(oe.length>=ce)break;const W=S[B];we.has(W.imageIndex)||(we.add(W.imageIndex),oe.push(B))}return oe.length===0?S:S.map((B,W)=>oe.includes(W)?{...B,obstacle:"ice",obstacleHealth:1}:B)}const Ua=x.useCallback(()=>{var us,Q,P,De;console.log("[GameCore] initializeLevel",{level:d,seed:U,isDuel:u,duelCode:n});const S=Tr(d),L=(S==null?void 0:S.pairs)||6,te=(S==null?void 0:S.timeLimit)||60,ne=(S==null?void 0:S.theme)||"nature",G=(S==null?void 0:S.world)??0,ce=wk(t,G);uk(ce),Da(Date.now()),Np(null);const oe=G>=40&&((S==null?void 0:S.difficulty)==="very_hard"||(S==null?void 0:S.difficulty)==="expert")&&(((us=S==null?void 0:S.obstacles)==null?void 0:us.virus)??0)>0;hk(oe),console.log("[GameCore] Progressive virus enabled:",oe,{worldId:G,difficulty:S==null?void 0:S.difficulty,hasVirus:(((Q=S==null?void 0:S.obstacles)==null?void 0:Q.virus)??0)>0});const we=G>=40&&((S==null?void 0:S.difficulty)==="very_hard"||(S==null?void 0:S.difficulty)==="expert")&&(((P=S==null?void 0:S.obstacles)==null?void 0:P.bomb)??0)>0;fk(we),console.log("[GameCore] Progressive bomb enabled:",we,{worldId:G,difficulty:S==null?void 0:S.difficulty,hasBomb:(((De=S==null?void 0:S.obstacles)==null?void 0:De.bomb)??0)>0});const ue=Uy(ne).slice(0,L).flatMap((re,Me)=>[{id:Me*2,imageIndex:Me,isFlipped:!1,isMatched:!1,obstacle:null,obstacleHealth:0},{id:Me*2+1,imageIndex:Me,isFlipped:!1,isMatched:!1,obstacle:null,obstacleHealth:0}]),q=s?Fy(ue,U):ue.sort(()=>Math.random()-.5),Z=S==null?void 0:S.obstacles;if(Z){const Me=q.length/2,Pt=4;(Z.ice||0)+(Z.stone||0)+(Z.iron||0);const oo=Math.max(2,Math.ceil(Me*.35)),er=new Map;q.forEach((X,ee)=>{er.has(X.imageIndex)||er.set(X.imageIndex,[]),er.get(X.imageIndex).push(ee)});const Tk=Array.from(er.keys()).slice(0,oo),Pp=new Set;Tk.forEach(X=>{(er.get(X)||[]).forEach(K=>Pp.add(K))});const Rp=X=>{const ee=[],K=Math.floor(X/Pt),Qs=X%Pt;return Qs>0&&ee.push(X-1),Qs<Pt-1&&ee.push(X+1),K>0&&ee.push(X-Pt),K<Pt-1&&ee.push(X+Pt),ee},Pk=(X,ee)=>Rp(X).some(Qs=>!ee.has(Qs)),Wn=(X,ee,K)=>{const Qs=q.find(ao=>ao.id!==q[X].id&&ao.imageIndex===q[X].imageIndex);if(!Qs)return!1;const Rk=q.findIndex(ao=>ao.id===Qs.id),Lp=new Set(ee);return Lp.add(X),!(!Pk(Rk,Lp)||K&&Rp(X).some(Ik=>{const Op=q[Ik];return Op.obstacle==="stone"||Op.obstacle==="iron"}))},Ip=q.map((X,ee)=>ee).filter(X=>!Pp.has(X)),Ut=s?Fy([...Ip],U+"-obstacles"):Ip.sort(()=>Math.random()-.5),Qe=new Set;if(Z.ice){let X=0;for(let ee=0;ee<Ut.length&&X<Z.ice;ee++){const K=Ut[ee];Wn(K,Qe,!1)&&(q[K].obstacle="ice",q[K].obstacleHealth=1,Qe.add(K),X++)}}if(Z.stone){let X=0;for(let ee=0;ee<Ut.length&&X<Z.stone;ee++){const K=Ut[ee];!Qe.has(K)&&Wn(K,Qe,!0)&&(q[K].obstacle="stone",q[K].obstacleHealth=2,Qe.add(K),X++)}}if(Z.iron){let X=0;for(let ee=0;ee<Ut.length&&X<Z.iron;ee++){const K=Ut[ee];!Qe.has(K)&&Wn(K,Qe,!0)&&(q[K].obstacle="iron",q[K].obstacleHealth=2,Qe.add(K),X++)}}if(Z.fire){let X=0;for(let ee=0;ee<Ut.length&&X<Z.fire;ee++){const K=Ut[ee];!Qe.has(K)&&Wn(K,Qe,!1)&&(q[K].obstacle="fire",q[K].obstacleHealth=0,q[K].blockedHealth=2,Qe.add(K),X++)}}if(Z.bomb){let X=0;for(let ee=0;ee<Ut.length&&X<Z.bomb;ee++){const K=Ut[ee];!Qe.has(K)&&Wn(K,Qe,!1)&&(q[K].obstacle="bomb",q[K].obstacleHealth=0,q[K].blockedHealth=2,Qe.add(K),X++)}}if(Z.virus){let X=0;for(let ee=0;ee<Ut.length&&X<Z.virus;ee++){const K=Ut[ee];!Qe.has(K)&&Wn(K,Qe,!1)&&(q[K].obstacle="virus",q[K].obstacleHealth=0,q[K].blockedHealth=1,Qe.add(K),X++)}}}m(q),v([]),y(0),j(!1),w(!s&&!!(S!=null&&S.difficulty)),E(!0),V(!1),F(te),Fe(0),zt(0),ve(!1),Oa([]),Tu(0),to(new Set),ro(new Set),Ru(0),Iu(null),Js.current=0,Ou.current=!1,S!=null&&S.obstacles&&(S.obstacles.ice||S.obstacles.stone||S.obstacles.iron)&&(localStorage.getItem("obstacle_tutorial_seen")||setTimeout(()=>{kp(!0),Zi(!0)},1e3)),(s||!(S!=null&&S.difficulty))&&j(!0),me.stopLevelMusic(),S&&me.playLevelMusic(S.world),Ks.current&&clearTimeout(Ks.current);const $r=!s&&(S!=null&&S.difficulty)?2.5+jl:jl;if(Ks.current=window.setTimeout(()=>{E(!1),j(!1),w(!1)},$r*1e3),s){const re=localStorage.getItem(`best:${U}`);if(re)try{D(JSON.parse(re))}catch{D(null)}else D(null)}},[t,U,s]);x.useEffect(()=>(console.log("[GameCore] mount for level",t),Ua(),Gs(Ie()),()=>{console.log("[GameCore] unmount for level",t),Zt.current&&clearInterval(Zt.current),Ks.current&&clearTimeout(Ks.current),io.current&&clearTimeout(io.current),Xt.current&&clearInterval(Xt.current)}),[t,Ua]),x.useEffect(()=>{if(_||I||ls){Zt.current&&clearInterval(Zt.current),Dr.current&&clearInterval(Dr.current);return}return Js.current===0&&(Js.current=Date.now()),Zt.current=window.setInterval(()=>{Sp(S=>S>0?S-1:(F(L=>{if(L<=1){if(Zt.current&&clearInterval(Zt.current),Dr.current&&clearInterval(Dr.current),me.stopLevelMusic(),me.playLose(),u&&n&&i&&c){const te=Js.current>0?Date.now()-Js.current:Date.now();return console.log("[GameCore] Time out! Calling onDuelFinish with:",{win:!1,timeMs:te,moves:z,pairsFound:b,level:d}),c({win:!1,timeMs:te,moves:z,pairsFound:b,level:d,duelCode:n,duelRole:i}),0}return V(!0),0}return L-1}),0))},1e3),Dr.current=window.setInterval(()=>{zt(Math.floor((Date.now()-Js.current)/1e3))},100),()=>{Zt.current&&clearInterval(Zt.current),Dr.current&&clearInterval(Dr.current)}},[_,I,ls]),x.useEffect(()=>{if(!Lu||_||I||ls){Xt.current&&clearInterval(Xt.current);return}return Xt.current&&clearInterval(Xt.current),Xt.current=window.setInterval(()=>{const L=Date.now();if(L-Ep<15e3)return;const ne=f.some(ce=>ce.obstacle==="bomb"),G=f.some(ce=>ce.obstacle==="virus");if(ne){Xt.current&&clearInterval(Xt.current),me.stopLevelMusic(),me.playLose(),Np(" La bomba explot (15s sin pareja adyacente)."),V(!0);return}G&&m(ce=>bk(ce)),Da(L)},250),()=>{Xt.current&&clearInterval(Xt.current)}},[Lu,_,I,ls,Ep,f]),x.useEffect(()=>{if(!so||_||I||ls){Se!=null&&Se.intervalId&&(clearInterval(Se.intervalId),za(null));return}const S=f.filter(L=>L.obstacle==="virus"&&!L.isMatched).length;S>0?Se!=null&&Se.isActive||(console.log("[GameCore] Iniciando timer global de virus. Virus count:",S),JO(f,m,Se,za)):S===0&&(Se!=null&&Se.isActive)&&(console.log("[GameCore] No hay ms virus, deteniendo timer"),Se!=null&&Se.intervalId&&clearInterval(Se.intervalId),za(null))},[so,_,I,ls,f.filter(S=>S.obstacle==="virus"&&!S.isMatched).length]),x.useEffect(()=>{if(!no||_||I||ls){Ee!=null&&Ee.intervalId&&(clearInterval(Ee.intervalId),$a(null));return}const S=f.filter(L=>L.obstacle==="bomb"&&!L.isMatched).length;S>0?Ee!=null&&Ee.isActive||(console.log("[GameCore] Iniciando timer global de bomba. Bomb count:",S),XO(f,m,Ee,$a)):S===0&&(Ee!=null&&Ee.isActive)&&(console.log("[GameCore] No hay ms bombas, deteniendo timer"),Ee!=null&&Ee.intervalId&&clearInterval(Ee.intervalId),$a(null))},[no,_,I,ls,f.filter(S=>S.obstacle==="bomb"&&!S.isMatched).length]),x.useEffect(()=>{const S=(h==null?void 0:h.pairs)||6;if(b===S&&b>0&&!Ou.current){Ou.current=!0,console.log("[GameCore] LEVEL COMPLETED",{level:t,matchedPairs:b,moves:z,timeElapsed:je,totalPairs:S}),Zt.current&&clearInterval(Zt.current),Ks.current&&clearTimeout(Ks.current),Dr.current&&clearInterval(Dr.current),ya(),me.stopLevelMusic(),me.playWin();const L=Math.floor((Date.now()-Js.current)/1e3);if(zt(L),X2(L),Z2(z),u&&n&&i&&c){console.log("[GameCore] Calling onDuelFinish with:",{win:!0,timeMs:L*1e3,moves:z,pairsFound:S,level:d}),c({win:!0,timeMs:L*1e3,moves:z,pairsFound:S,level:d,duelCode:n,duelRole:i});return}(async()=>{if(s){const ne=localStorage.getItem(`best:${U}`);let G=!0;if(ne)try{const oe=JSON.parse(ne);(L>oe.time||L===oe.time&&z>=oe.moves)&&(G=!1)}catch{}if(G){const oe={time:L,moves:z,date:new Date().toISOString()};localStorage.setItem(`best:${U}`,JSON.stringify(oe)),D(oe)}try{(await Fg({seed:U,timeMs:L*1e3,moves:z,crewId:$t,levelId:d})).isPioneer&&ht(!0),console.log("[GameCore] Score saved successfully for challenge level",t)}catch(oe){console.error("[GameCore] Failed to submit score:",oe)}const ce=10;_p(ce),Nr(ce),Gs(Ie()),setTimeout(()=>{ve(!0),setTimeout(()=>jp(!0),500)},1500)}else{try{(await Fg({seed:U,timeMs:L*1e3,moves:z,crewId:$t,levelId:d})).isPioneer&&ht(!0)}catch(G){console.error("[GameCore] Failed to submit score:",G)}const ne=10;_p(ne),Nr(ne),Gs(Ie()),setTimeout(()=>{ve(!0),setTimeout(()=>jp(!0),500)},1500)}})()}},[b,t,e,s,U,$t,z]),x.useEffect(()=>{Fa.current=S=>{const L=f.findIndex(B=>B.id===S);if(L===-1)return;const te=Math.ceil(Math.sqrt(f.length)),ne=Math.floor(L/te),G=L%te,ce=[];for(let B=-1;B<=1;B++)for(let W=-1;W<=1;W++){const ue=ne+B,q=G+W;if(ue>=0&&ue<te&&q>=0&&q<te){const Z=ue*te+q;Z<f.length&&ce.push(Z)}}Iu(S),setTimeout(()=>Iu(null),1e3);const oe=new Set(eo),we=new Set(Bn);ce.forEach(B=>{const W=f[B];(W==null?void 0:W.obstacle)==="ice"&&(W.obstacleHealth??0)>0&&((W.obstacleHealth??0)-1<=0?(we.add(W.id),setTimeout(()=>{ro(q=>{const Z=new Set(q);return Z.delete(W.id),Z})},600)):(oe.add(W.id),setTimeout(()=>{to(q=>{const Z=new Set(q);return Z.delete(W.id),Z})},500)))}),to(oe),ro(we),m(B=>B.map((W,ue)=>{if(ce.includes(ue)&&W.obstacle==="ice"&&(W.obstacleHealth??0)>0){const q=(W.obstacleHealth??0)-1;return q<=0?(Nr(10),Gs(Ie()),Ma("ice"),cs(!0),setTimeout(()=>cs(!1),100),{...W,obstacle:null,obstacleHealth:0}):{...W,obstacleHealth:q}}return W}))}},[f,eo,Bn]);const xk=x.useCallback(S=>{if(_||Vn.current||p.length>=2)return;const L=f.find(ne=>ne.id===S);if(!L||L.isMatched||p.includes(S)||L.bombCountdown&&L.bombCountdown>0||L.obstacle&&(L.obstacleHealth??0)>0||(L.blockedHealth??0)>0)return;const te=[...p,S];if(v(te),m(ne=>ne.map(G=>G.id===S?{...G,isFlipped:!0}:G)),te.length===2){Vn.current=!0,Fe(B=>B+1);const[ne,G]=te,ce=f.find(B=>B.id===ne),oe=f.find(B=>B.id===G);if(ce&&oe&&(ce.imageIndex===oe.imageIndex||ce.isWildcard||oe.isWildcard)){const B=f.findIndex(Q=>Q.id===ne),W=f.findIndex(Q=>Q.id===G),ue=(()=>{if(B<0||W<0)return!1;const Q=Math.ceil(Math.sqrt(f.length)),P=Math.floor(B/Q),De=B%Q,re=[];return De>0&&re.push(B-1),De<Q-1&&re.push(B+1),P>0&&re.push(B-Q),P<Q-1&&re.push(B+Q),re.includes(W)})();Lu&&ue&&Da(Date.now()),me.playMatch();const q=Q=>{const P=f.findIndex(oo=>oo.id===Q),De=Math.ceil(Math.sqrt(f.length)),re=Math.floor(P/De),Me=P%De,Pt=[];return Me>0&&Pt.push(P-1),Me<De-1&&Pt.push(P+1),re>0&&Pt.push(P-De),re<De-1&&Pt.push(P+De),Pt},Z=[...q(ne),...q(G)],$r=new Set(eo),us=new Set(Bn);Z.forEach(Q=>{const P=f[Q];P!=null&&P.obstacle&&(P.obstacleHealth??0)>0&&((P.obstacleHealth??0)-1<=0?(us.add(P.id),setTimeout(()=>{ro(re=>{const Me=new Set(re);return Me.delete(P.id),Me})},600)):($r.add(P.id),setTimeout(()=>{to(re=>{const Me=new Set(re);return Me.delete(P.id),Me})},500)))}),to($r),ro(us),m(Q=>Q.map((P,De)=>{if(P.id===ne||P.id===G)return{...P,isMatched:!0};if(Z.includes(De)&&P.obstacle&&(P.obstacleHealth??0)>0){const re=(P.obstacleHealth??0)-1;return re<=0?(P.obstacle==="ice"?(Nr(10),Gs(Ie()),console.log("[GameCore] Ice destroyed! +10 coins"),Ma("ice"),cs(!0),setTimeout(()=>cs(!1),100)):P.obstacle==="stone"?(Nr(20),Gs(Ie()),console.log("[GameCore] Stone destroyed! +20 coins"),Ma("stone"),cs(!0),setTimeout(()=>cs(!1),100)):P.obstacle==="iron"&&(Nr(20),Gs(Ie()),console.log("[GameCore] Iron destroyed! +20 coins"),Ma("stone"),cs(!0),setTimeout(()=>cs(!1),100)),{...P,obstacle:null,obstacleHealth:0}):{...P,obstacleHealth:re}}if(Z.includes(De)&&(P.blockedHealth??0)>0){const re=(P.blockedHealth??0)-1;return re<=0?{...P,blockedHealth:0,obstacle:null,obstacleHealth:0}:{...P,blockedHealth:re}}return P})),so&&QO([ne,G],f,m,Se,za),no&&eM([ne,G],f,Ee,$a),y(Q=>Q+1),v([]),Tu(0),Oa([]),Ru(Q=>{const P=Q+1;return P>=6?(f.some(re=>re.obstacle==="ice"&&!f.some(Me=>Me.obstacle==="stone"||Me.obstacle==="iron"))&&setTimeout(()=>{var re;(re=Fa.current)==null||re.call(Fa,G)},100),0):P}),Vn.current=!1}else{if(Ru(0),Tu(B=>B+1),((ce==null?void 0:ce.obstacle)==="fire"||(oe==null?void 0:oe.obstacle)==="fire")&&F(B=>Math.max(0,B-5)),(ce==null?void 0:ce.obstacle)==="bomb"||(oe==null?void 0:oe.obstacle)==="bomb"){const B=f.map((q,Z)=>Z).filter(q=>!f[q].isMatched),W=Math.min(6,B.length),ue=B.sort(()=>Math.random()-.5).slice(0,W);m(q=>q.map((Z,$r)=>ue.includes($r)?{...Z,isFlipped:!1}:Z)),v([]),Vn.current=!1;return}((ce==null?void 0:ce.obstacle)==="virus"||(oe==null?void 0:oe.obstacle)==="virus")&&F(B=>Math.max(0,B-3)),setTimeout(()=>{m(B=>B.map(W=>W.id===ne||W.id===G?{...W,isFlipped:!1}:W)),v([]),Vn.current=!1},UO)}}},[f,p,_,eo,Bn]);x.useEffect(()=>{if(vp>=4&&!_&&!I&&Cu.length===0){const S=f.filter(L=>!L.isMatched&&!L.isFlipped);if(S.length>=2){const L=new Map;S.forEach(te=>{L.has(te.imageIndex)||L.set(te.imageIndex,[]),L.get(te.imageIndex).push(te.id)});for(const[,te]of L)if(te.length>=2){const[ne,G]=te.slice(0,2);Oa([ne,G]),io.current&&clearTimeout(io.current),io.current=window.setTimeout(()=>{Oa([])},3e3);break}}}},[vp,_,I,f,Cu.length]);const kk=x.useCallback(S=>{Sp(S)},[]),_k=x.useCallback(S=>{const L=f.filter(we=>!we.isMatched),te=L.length/2,ne=Math.max(1,Math.floor(te*(S/100))),G=new Map;L.forEach(we=>{G.has(we.imageIndex)||G.set(we.imageIndex,[]),G.get(we.imageIndex).push(we.id)});const ce=Array.from(G.entries()).filter(([,we])=>we.length===2);if(f.some(we=>we.obstacle)){const we=Math.max(2,Math.floor(L.length*(S/100))),B=Math.floor(we/2),W=new Map;L.forEach(Q=>{W.has(Q.imageIndex)||W.set(Q.imageIndex,[]),W.get(Q.imageIndex).push(Q)});const ue=Array.from(W.values()).filter(Q=>Q.length===2).filter(Q=>Q.some(P=>P.obstacle?P.obstacle==="virus"||P.obstacle==="fire"||P.obstacle==="bomb"?!0:(P.obstacleHealth??0)>0:!1)),q=Q=>Q.reduce((P,De)=>{const re=f.findIndex(er=>er.id===De.id);if(re===-1)return P;const Me=re%4,oo=[re-4,re+4,Me>0?re-1:-1,Me<3?re+1:-1].filter(er=>{if(er<0||er>=f.length)return!1;const Ys=f[er];return!Ys||!Ys.obstacle?!1:Ys.obstacle==="virus"||Ys.obstacle==="fire"||Ys.obstacle==="bomb"?!0:(Ys.obstacleHealth??0)>0}).length;return P+oo},0),$r=ue.sort((Q,P)=>{const De=q(Q);return q(P)-De}).slice(0,B),us=$r.flat().map(Q=>Q.id);console.log(`[PowerUp ${S}%] Unlocking ${us.length} cards in ${$r.length} pairs`),m(Q=>Q.map(P=>{if(us.includes(P.id)){if(P.obstacle==="ice"&&(P.obstacleHealth??0)>0)return console.log(`[PowerUp] Removing ice from card ${P.id}`),{...P,obstacle:null,obstacleHealth:0};if(P.obstacle==="stone"&&(P.obstacleHealth??0)===2){if(S===20)return console.log(`[PowerUp] Reducing stone health from 2 to 1 on card ${P.id}`),{...P,obstacleHealth:1};if(S===40)return console.log(`[PowerUp] Removing stone from card ${P.id}`),{...P,obstacle:null,obstacleHealth:0}}else{if(P.obstacle==="stone"&&(P.obstacleHealth??0)===1)return console.log(`[PowerUp] Removing stone (health 1) from card ${P.id}`),{...P,obstacle:null,obstacleHealth:0};if(P.obstacle==="iron"&&(P.obstacleHealth??0)===2){if(S===20)return console.log(`[PowerUp] Reducing iron health from 2 to 1 on card ${P.id}`),{...P,obstacleHealth:1};if(S===40)return console.log(`[PowerUp] Removing iron from card ${P.id}`),{...P,obstacle:null,obstacleHealth:0}}else{if(P.obstacle==="iron"&&(P.obstacleHealth??0)===1)return console.log(`[PowerUp] Removing iron (health 1) from card ${P.id}`),{...P,obstacle:null,obstacleHealth:0};if(P.obstacle==="virus")return console.log(`[PowerUp] Removing virus from card ${P.id}`),{...P,obstacle:null,obstacleHealth:0,blockedHealth:0,isInfected:!1,isWildcard:!1};if(P.obstacle==="fire")return console.log(`[PowerUp] Removing fire from card ${P.id}`),{...P,obstacle:null,obstacleHealth:0,blockedHealth:0};if(P.obstacle==="bomb")return console.log(`[PowerUp] Removing bomb from card ${P.id}`),{...P,obstacle:null,obstacleHealth:0,blockedHealth:0,bombCountdown:void 0}}}}return P}))}else{const we=ce.slice(0,ne),B=[];we.forEach(([,W])=>{B.push(...W)}),m(W=>W.map(ue=>B.includes(ue.id)?{...ue,isFlipped:!0,isMatched:!0}:ue)),y(W=>W+we.length)}ya()},[f]),Ba=x.useCallback(()=>{Ua()},[Ua]),jk=x.useCallback(()=>{let S,L;if(s){const te=new URL(window.location.href);te.searchParams.set("seed",U),te.searchParams.set("time",Tt.toString()),te.searchParams.set("moves",Xi.toString());let ne=$t;if(ne)te.searchParams.set("crew",ne);else{const G=crypto.randomUUID().slice(0,8);te.searchParams.set("crew",G),X4(G),Ft(G),ne=G}L=te.toString(),S=`Complet el reto diario en ${Tt}s con ${Xi} movimientos! Puedes superarme?`}else L=window.location.origin,S=`Complet el Nivel ${t} en ${Tt}s con ${Xi} movimientos!  Juega TwinClash y pon a prueba tu memoria.`;rk({text:S,url:L}),bp(!0)},[U,Tt,Xi,$t,s,t]),zr=Tr(t),Tp=(zr==null?void 0:zr.theme)||"nature",Sk=Uy(Tp),Ek=(zr==null?void 0:zr.pairs)||6,Nk=Sk.slice(0,Ek),Ck=(zr==null?void 0:zr.timeLimit)||60,Va=GO(Tp);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${Va.gradient} flex flex-col p-4 relative overflow-hidden`,style:{backgroundImage:Va.pattern?`radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%),
             radial-gradient(circle at 80% 80%, rgba(255,255,255,0.15) 0%, transparent 50%)`:void 0},children:[Va.pattern&&a.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none text-9xl flex flex-wrap justify-around items-center overflow-hidden",children:Array.from({length:20}).map((S,L)=>a.jsx("span",{className:"transform rotate-12 scale-150",children:Va.pattern},L))}),g&&_&&!s&&a.jsx(FO,{difficulty:h==null?void 0:h.difficulty,levelNumber:(h==null?void 0:h.level)||1,onComplete:()=>{w(!1),j(!0)}}),k&&_&&!g&&a.jsx(DO,{initialCount:jl,onComplete:()=>{j(!1),E(!1)}}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 mb-3",children:[s&&a.jsxs("div",{className:"mb-2 text-sm text-gray-600 flex flex-col gap-1",children:[a.jsxs("span",{children:["Reto: ",U]}),R&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(lt,{size:14,className:"text-yellow-500"}),"Mejor: ",R.time,"s, ",R.moves," mov"]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:s?"Reto Diario":`Nivel ${t}`}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 text-white px-3 py-1 rounded-full font-bold text-sm shadow-md flex items-center gap-1",children:[" ",lk]})]}),!s&&a.jsxs("div",{className:"text-xs text-gray-600",children:[" Mundo ",(h==null?void 0:h.world)||"?","  ",(h==null?void 0:h.difficulty)==="expert"?" Expert":(h==null?void 0:h.difficulty)==="very_hard"?" Muy Difcil":(h==null?void 0:h.difficulty)==="hard"?" Difcil":" Normal",so&&"   Virus Progresivo ACTIVO",no&&"   Bomba Progresiva ACTIVA"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(c1,{}),a.jsx("div",{className:`text-2xl font-bold ${Aa>0?"text-cyan-500":N<=10?"text-red-600 animate-pulse":"text-blue-600"}`,children:_?`Preview: ${Math.max(0,Math.ceil(N-(Ck-jl)))}s`:Aa>0?` ${N}s`:`${N}s`}),Aa>0&&!_&&a.jsxs("div",{className:"text-xs text-cyan-600 font-semibold mt-1",children:[" Congelado: ",Aa,"s"]}),Pu>0&&!_&&f.some(S=>S.obstacle==="ice")&&a.jsxs("div",{className:`text-sm font-bold transition-all ${Pu>=6?"text-green-500 animate-pulse":"text-orange-500"}`,children:[" ",Pu,"/6"]})]})]}),so&&!_&&a.jsxs("div",{className:"mt-2 p-2 bg-gradient-to-r from-purple-100 to-red-100 rounded-lg border-2 border-purple-400",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q0,{className:`${Se&&Se.timeLeft<=5?"text-red-600 animate-pulse":"text-purple-600"}`,size:20}),a.jsxs("span",{className:"text-sm font-bold text-purple-800",children:["Virus Progresivo -  ",f.filter(S=>S.obstacle==="virus"&&!S.isMatched).length," virus"]})]}),a.jsx("div",{className:`text-lg font-black ${Se&&Se.timeLeft<=5?"text-red-600 animate-pulse":"text-purple-700"}`,children:Se?` ${Se.timeLeft}s`:" Iniciando..."})]}),a.jsx("div",{className:"mt-1 text-xs text-purple-700",children:Se&&Se.timeLeft<=5?" El virus se est propagando...":"Elimina los virus haciendo matches adyacentes"})]}),no&&!_&&a.jsxs("div",{className:"mt-2 p-2 bg-gradient-to-r from-orange-100 to-red-100 rounded-lg border-2 border-orange-400",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q0,{className:`${Ee&&Ee.timeLeft<=10?"text-red-600 animate-pulse":"text-orange-600"}`,size:20}),a.jsxs("span",{className:"text-sm font-bold text-orange-800",children:["Bomba Progresiva -  ",f.filter(S=>S.obstacle==="bomb"&&!S.isMatched).length," bomba(s)"]})]}),a.jsx("div",{className:`text-lg font-black ${Ee&&Ee.timeLeft<=10?"text-red-600 animate-pulse":"text-orange-700"}`,children:Ee?` ${Ee.timeLeft}s`:" Iniciando..."})]}),a.jsx("div",{className:"mt-1 text-xs text-orange-700",children:Ee&&Ee.timeLeft<=10?" El fuego se est propagando...":"Elimina las bombas haciendo match de la pareja"})]}),s&&a.jsxs("div",{className:"flex gap-4 mb-3 text-sm font-semibold text-gray-700",children:[a.jsxs("span",{children:["Tiempo: ",je,"s"]}),a.jsxs("span",{children:["Movimientos: ",z]})]}),a.jsxs("div",{className:"flex gap-2 w-full",children:[a.jsxs("button",{onClick:pk,className:"bg-gray-500 text-white py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-1 hover:bg-gray-600 transition-colors text-sm",children:[a.jsx(vr,{size:16}),"Volver"]}),a.jsxs("button",{onClick:Ba,className:"flex-1 bg-orange-500 text-white py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-1 hover:bg-orange-600 transition-colors text-sm",children:[a.jsx(xb,{size:16}),"Reiniciar"]}),s&&a.jsxs("button",{onClick:()=>O(!0),className:"flex-1 bg-yellow-500 text-white py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-1 hover:bg-yellow-600 transition-colors text-sm",children:[a.jsx(NS,{size:16}),"Top"]})]}),!s&&a.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200",children:[a.jsx("div",{className:"text-xs text-gray-600 font-semibold mb-1.5 text-center",children:" Ayuda Extra"}),a.jsx(nT,{onPowerUpUsed:_k,onFreezeTime:kk,disabled:_||I,hasObstacles:f.some(S=>S.obstacle),onModalStateChange:Zi,timeRemaining:N}),a.jsx("button",{onClick:()=>{wp(!0),Zi(!0)},className:"w-full mt-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-1.5 px-3 rounded-lg font-bold text-xs shadow-lg hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-1.5",children:" Comprar Monedas"})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden px-4 pb-8",children:a.jsx("div",{className:"w-full max-w-lg",children:a.jsx("div",{className:"grid grid-cols-4 gap-3 relative z-10",children:f.map(S=>a.jsx("div",{className:`${eo.has(S.id)?"obstacle-crack":""} ${Bn.has(S.id)?"obstacle-break":""} ${ck===S.id?"combo-power-animation":""}`,children:a.jsx(Q4,{card:{...S,isFlipped:_||S.isFlipped},image:Nk[S.imageIndex],onClick:xk,disabled:_||Vn.current,showHint:Cu.includes(S.id),isBreaking:Bn.has(S.id)})},S.id))})})}),I&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-bold text-red-600 mb-2",children:"Game Over"}),a.jsx("p",{className:"text-gray-600 mb-6",children:dk??"Se acab el tiempo"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:r,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),a.jsx("button",{onClick:Ba,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reintentar"})]})]})}),Y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-bold text-green-600 mb-4",children:"Completado!"}),Te&&a.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-4",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("div",{className:"text-white font-bold text-lg",children:"Medalla Pionero!"}),a.jsx("div",{className:"text-yellow-100 text-sm",children:"+20 monedas por ser el primero"})]}),a.jsx("div",{className:"bg-gray-100 rounded-xl p-4 mb-4",children:a.jsxs("div",{className:"flex justify-around text-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Tt,"s"]}),a.jsx("div",{className:"text-xs text-gray-600",children:"Tiempo"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Xi}),a.jsx("div",{className:"text-xs text-gray-600",children:"Movimientos"})]})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-amber-100 rounded-xl p-6 mb-6 relative overflow-hidden",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsxs("div",{className:"text-2xl font-bold text-amber-700 mb-1",children:["+",ok," Monedas"]}),a.jsx("div",{className:"text-sm text-amber-600",children:"Ganadas en este nivel!"}),ak&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((S,L)=>a.jsx("div",{className:"absolute text-2xl animate-coin-fall",style:{left:`${20+L*10}%`,animationDelay:`${L*.1}s`,animationDuration:"1.2s"},children:""},L))})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[!s&&!u&&d<250&&a.jsxs("button",{onClick:()=>{console.log("[GameCore] ===== CLICK SIGUIENTE NIVEL ====="),console.log("[GameCore] Current level:",d),console.log("[GameCore] Calling onComplete..."),ve(!1),setTimeout(()=>{e()},100)},className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",d+1," "]}),!s&&!u&&d===250&&a.jsxs("div",{className:"w-full bg-gradient-to-r from-yellow-500 to-orange-600 text-white py-6 px-4 rounded-xl font-bold text-center shadow-lg",children:[a.jsx("div",{className:"text-2xl mb-2",children:" FELICIDADES! "}),a.jsx("div",{className:"text-lg",children:"Has completado todos los niveles del juego"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:jk,className:"flex-1 bg-blue-500 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-600 transition-colors",children:[a.jsx(DS,{size:18}),"Compartir"]}),a.jsx("button",{onClick:Ba,className:"flex-1 bg-green-500 text-white py-3 rounded-xl font-semibold hover:bg-green-600 transition-colors",children:"Reintentar"})]}),a.jsxs("button",{onClick:()=>{ve(!1),r()},className:"w-full bg-gray-500 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-gray-600 transition-colors",children:[a.jsx(vr,{size:18}),s?"Salir":"Volver"]})]})]})}),de&&a.jsx(sT,{seed:U,onClose:()=>O(!1),onPlayNow:()=>{O(!1),Ba()}}),ek&&a.jsx(d1,{onClose:()=>{wp(!1),Zi(!1)}}),a.jsx(iT,{open:mk,onStay:gk,onExit:Cp}),a.jsx(oT,{open:tk,onClose:()=>bp(!1),shareText:xp.text,shareUrl:xp.url}),sk&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Nuevos Obstculos!"}),a.jsx("p",{className:"text-gray-600",children:"Aprende a superarlos"})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-4 rounded-xl border-2 border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-4xl",children:""}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Hielo"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Bloquea cartas. Haz un match cercano (arriba, abajo, izquierda o derecha) para romperlo."})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-slate-100 p-4 rounded-xl border-2 border-gray-300",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-4xl",children:""}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Piedra"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ms resistente. Necesita 2 matches cercanos para romperse. Vers un contador rojo."})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 p-4 rounded-xl border-2 border-yellow-200",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-4xl",children:""}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Estrategia"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Primero libera las cartas bloqueadas haciendo matches alrededor. Vers el hielo agrietarse!"})]})]})})]}),a.jsx("button",{onClick:()=>{kp(!1),Zi(!1),localStorage.setItem("obstacle_tutorial_seen","true")},className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 px-6 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:"Entendido!"})]})}),a.jsx(AO,{trigger:nk,theme:ik})]})};function tM({completedWorld:t,unlockedWorld:e,coinsEarned:r,onContinue:s,isGameComplete:n=!1}){const[i,o]=x.useState(!1);x.useEffect(()=>{me.playWin(),ya();const u=[];for(let d=0;d<3;d++){const h=window.setTimeout(()=>{ya()},(d+1)*600);u.push(h)}return setTimeout(()=>o(!0),500),()=>u.forEach(clearTimeout)},[]);const l=["","Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa","Ciudad","Ciencia","Granja","Arte","Transporte","Ropa","Dinosaurios","Dulces","Camisetas","Ojos","Profesiones","Emociones","Piratas","Joyas","Videojuegos","Insectos","Frutas","Verduras","Botellas","Castillo","Bosque","Montaas","Nieve","Lugares","Tazas","Energa","Dinosaurios","Msica","Verano","Primavera","Otoo","Invierno","Cine","Historia","Superhroes","Robots","Astronautas","Castillos","Tesoros","Volcn"],c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:[a.jsxs("div",{className:"relative bg-gradient-to-br from-white via-yellow-50 to-orange-50 rounded-3xl p-8 max-w-md w-full text-center shadow-2xl animate-bounce-in",children:[a.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:a.jsx(lt,{size:48,className:"text-white"})}),a.jsx("div",{className:"mt-8 mb-6",children:n?a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-5xl font-black mb-3 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"JUEGO COMPLETADO!"}),a.jsx("div",{className:"text-7xl mb-4 animate-bounce",children:""}),a.jsx("p",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Eres un Maestro de la Memoria!"}),a.jsx("p",{className:"text-gray-600",children:"Has superado todos los mundos"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h2",{className:"text-4xl font-black mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["Mundo ",t," Completado!"]}),a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-lg border-2 border-yellow-200",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[a.jsx(Qt,{className:"text-yellow-500",size:32}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Nuevo Mundo Desbloqueado"}),a.jsx(Qt,{className:"text-yellow-500",size:32})]}),a.jsxs("div",{className:"flex items-center justify-center gap-4 py-4",children:[a.jsx("div",{className:"text-6xl",children:c[e]}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"text-3xl font-black text-transparent bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text",children:["Mundo ",e]}),a.jsx("div",{className:"text-xl font-semibold text-gray-700",children:l[e]})]})]})]})]})}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-4 mb-6 shadow-lg relative overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[a.jsx(wr,{size:28}),a.jsxs("span",{className:"text-3xl font-black",children:["+",r]}),a.jsx("span",{className:"text-lg font-semibold",children:"monedas"})]}),i&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((u,d)=>a.jsx("div",{className:"absolute text-2xl animate-coin-fall",style:{left:`${20+d*10}%`,animationDelay:`${d*.1}s`,animationDuration:"1.2s"},children:""},d))})]}),a.jsx("button",{onClick:s,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-2xl font-bold text-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all active:scale-95",children:n?"Vamos!":`Explorar Mundo ${e}`}),a.jsx("div",{className:"mt-4 flex justify-center gap-1 flex-wrap max-w-md mx-auto",children:[...Array(50)].map((u,d)=>a.jsx("div",{className:`w-2 h-2 rounded-full ${d<t?"bg-yellow-400":"bg-gray-300"}`},d))})]}),a.jsx("style",{children:`
        @keyframes bounce-in {
          0% {
            transform: scale(0.3);
            opacity: 0;
          }
          50% {
            transform: scale(1.05);
          }
          70% {
            transform: scale(0.9);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-bounce-in {
          animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
      `})]})}const rM=[{name:"Naturaleza",icon:bc,emoji:"",description:"Explora la belleza del mundo natural",color:{from:"from-emerald-500",to:"to-green-700",bg:"bg-gradient-to-br from-emerald-400 via-green-500 to-teal-600"},features:["6-10 parejas","60-45 segundos","55 monedas totales"]},{name:"Deportes",icon:Em,emoji:"",description:"Pon a prueba tu memoria deportiva",color:{from:"from-yellow-500",to:"to-orange-700",bg:"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600"},features:["8-12 parejas","55-40 segundos","98 monedas totales"]},{name:"Juegos",icon:wc,emoji:"",description:"El paraso de los gamers te espera",color:{from:"from-purple-500",to:"to-pink-700",bg:"bg-gradient-to-br from-purple-400 via-pink-500 to-rose-600"},features:["10-14 parejas","50-35 segundos","137 monedas totales"]},{name:"Animales",icon:Nm,emoji:"",description:"Descubre el reino animal",color:{from:"from-orange-500",to:"to-red-700",bg:"bg-gradient-to-br from-orange-400 via-red-500 to-pink-600"},features:["12-16 parejas","45-30 segundos","190 monedas totales"]},{name:"Espacio",icon:kc,emoji:"",description:"Viaja ms all de las estrellas",color:{from:"from-indigo-500",to:"to-blue-700",bg:"bg-gradient-to-br from-indigo-400 via-blue-500 to-cyan-600"},features:["10 parejas","40-25 segundos","260 monedas totales"]},{name:"Ocano",icon:Pm,emoji:"",description:"Sumrgete en las profundidades",color:{from:"from-blue-500",to:"to-teal-700",bg:"bg-gradient-to-br from-blue-400 via-cyan-500 to-teal-600"},features:["10 parejas","38-22 segundos","340 monedas totales"]},{name:"Comida",icon:Cm,emoji:"",description:"Un festn para tus sentidos",color:{from:"from-red-500",to:"to-orange-700",bg:"bg-gradient-to-br from-red-400 via-orange-500 to-yellow-600"},features:["10 parejas","36-20 segundos","420 monedas totales"]},{name:"Msica",icon:xc,emoji:"",description:"Siente el ritmo de la memoria",color:{from:"from-pink-500",to:"to-purple-700",bg:"bg-gradient-to-br from-pink-400 via-purple-500 to-indigo-600"},features:["10 parejas","34-18 segundos","500 monedas totales"]},{name:"Belleza",icon:Eb,emoji:"",description:"El glamour te est esperando",color:{from:"from-rose-500",to:"to-pink-700",bg:"bg-gradient-to-br from-rose-400 via-pink-500 to-fuchsia-600"},features:["10 parejas","32-16 segundos","580 monedas totales"]},{name:"Tecnologa",icon:Sm,emoji:"",description:"El futuro digital es ahora",color:{from:"from-cyan-500",to:"to-blue-700",bg:"bg-gradient-to-br from-cyan-400 via-blue-500 to-indigo-600"},features:["10 parejas","30-15 segundos","660 monedas totales"]},{name:"Ciudad",icon:ub,emoji:"",description:"La vida urbana te espera",color:{from:"from-gray-500",to:"to-slate-700",bg:"bg-gradient-to-br from-gray-400 via-slate-500 to-zinc-600"},features:["10 parejas","28-14 segundos","740 monedas totales"]},{name:"Ciencia",icon:RS,emoji:"",description:"Descubre los secretos del universo",color:{from:"from-green-500",to:"to-emerald-700",bg:"bg-gradient-to-br from-green-400 via-emerald-500 to-teal-600"},features:["10 parejas","26-13 segundos","820 monedas totales"]},{name:"Granja",icon:Cb,emoji:"",description:"La vida en el campo",color:{from:"from-amber-500",to:"to-yellow-700",bg:"bg-gradient-to-br from-amber-400 via-yellow-500 to-orange-600"},features:["10 parejas","24-12 segundos","900 monedas totales"]},{name:"Arte",icon:bb,emoji:"",description:"Expresa tu creatividad",color:{from:"from-violet-500",to:"to-purple-700",bg:"bg-gradient-to-br from-violet-400 via-purple-500 to-fuchsia-600"},features:["10 parejas","22-11 segundos","980 monedas totales"]},{name:"Transporte",icon:hb,emoji:"",description:"Muvete por el mundo",color:{from:"from-red-500",to:"to-rose-700",bg:"bg-gradient-to-br from-red-400 via-rose-500 to-pink-600"},features:["10 parejas","20-10 segundos","1060 monedas totales"]},{name:"Ropa",icon:Vh,emoji:"",description:"La moda est en tus manos",color:{from:"from-pink-500",to:"to-rose-700",bg:"bg-gradient-to-br from-pink-400 via-rose-500 to-red-600"},features:["10 parejas","120-45 segundos","1160 monedas totales"]},{name:"Dinosaurios",icon:H0,emoji:"",description:"Viaja a la era prehistrica",color:{from:"from-lime-500",to:"to-green-700",bg:"bg-gradient-to-br from-lime-400 via-green-500 to-emerald-600"},features:["10 parejas","100-40 segundos","1260 monedas totales"]},{name:"Dulces",icon:db,emoji:"",description:"Un mundo de azcar",color:{from:"from-fuchsia-500",to:"to-pink-700",bg:"bg-gradient-to-br from-fuchsia-400 via-pink-500 to-rose-600"},features:["10 parejas","80-35 segundos","1360 monedas totales"]},{name:"Camisetas",icon:Vh,emoji:"",description:"Estilo y diseo nicos",color:{from:"from-sky-500",to:"to-blue-700",bg:"bg-gradient-to-br from-sky-400 via-blue-500 to-cyan-600"},features:["10 parejas","60-30 segundos","1460 monedas totales"]},{name:"Ojos",icon:pb,emoji:"",description:"Observa con atencin",color:{from:"from-teal-500",to:"to-cyan-700",bg:"bg-gradient-to-br from-teal-400 via-cyan-500 to-blue-600"},features:["10 parejas","50-28 segundos","1560 monedas totales"]},{name:"Profesiones",icon:Tb,emoji:"",description:"El mundo del trabajo",color:{from:"from-blue-500",to:"to-indigo-700",bg:"bg-gradient-to-br from-blue-400 via-indigo-500 to-purple-600"},features:["10 parejas","45-26 segundos","1660 monedas totales"]},{name:"Emociones",icon:Sb,emoji:"",description:"Expresa tus sentimientos",color:{from:"from-yellow-500",to:"to-amber-700",bg:"bg-gradient-to-br from-yellow-400 via-amber-500 to-orange-600"},features:["10 parejas","40-24 segundos","1760 monedas totales"]},{name:"Piratas",icon:jb,emoji:"",description:"Zarpa hacia la aventura",color:{from:"from-slate-500",to:"to-gray-700",bg:"bg-gradient-to-br from-slate-400 via-gray-500 to-zinc-600"},features:["10 parejas","38-22 segundos","1860 monedas totales"]},{name:"Joyas",icon:yb,emoji:"",description:"Tesoros brillantes",color:{from:"from-purple-500",to:"to-pink-700",bg:"bg-gradient-to-br from-purple-400 via-pink-500 to-fuchsia-600"},features:["10 parejas","36-20 segundos","1960 monedas totales"]},{name:"Videojuegos",icon:wc,emoji:"",description:"El nivel definitivo",color:{from:"from-indigo-500",to:"to-blue-700",bg:"bg-gradient-to-br from-indigo-400 via-blue-500 to-cyan-600"},features:["10 parejas","34-18 segundos","2060 monedas totales"]},{name:"Insectos",icon:cb,emoji:"",description:"El mundo de los pequeos",color:{from:"from-green-500",to:"to-lime-700",bg:"bg-gradient-to-br from-green-400 via-lime-500 to-emerald-600"},features:["10 parejas","32-16 segundos","2160 monedas totales"]},{name:"Frutas",icon:ab,emoji:"",description:"Sabores naturales",color:{from:"from-red-500",to:"to-orange-700",bg:"bg-gradient-to-br from-red-400 via-orange-500 to-yellow-600"},features:["10 parejas","30-15 segundos","2260 monedas totales"]},{name:"Verduras",icon:fb,emoji:"",description:"Nutricin y salud",color:{from:"from-orange-500",to:"to-green-700",bg:"bg-gradient-to-br from-orange-400 via-green-500 to-lime-600"},features:["10 parejas","28-14 segundos","2360 monedas totales"]},{name:"Botellas",icon:GS,emoji:"",description:"Coleccin especial",color:{from:"from-rose-500",to:"to-red-700",bg:"bg-gradient-to-br from-rose-400 via-red-500 to-pink-600"},features:["10 parejas","26-13 segundos","2460 monedas totales"]},{name:"Castillo",icon:Fh,emoji:"",description:"Fortalezas medievales",color:{from:"from-stone-500",to:"to-gray-700",bg:"bg-gradient-to-br from-stone-400 via-gray-500 to-slate-600"},features:["10 parejas","24-12 segundos","2560 monedas totales"]},{name:"Bosque",icon:FS,emoji:"",description:"La naturaleza salvaje",color:{from:"from-emerald-500",to:"to-green-700",bg:"bg-gradient-to-br from-emerald-400 via-green-500 to-lime-600"},features:["10 parejas","22-11 segundos","2660 monedas totales"]},{name:"Montaas",icon:wb,emoji:"",description:"Conquista las cumbres",color:{from:"from-gray-500",to:"to-blue-700",bg:"bg-gradient-to-br from-gray-400 via-blue-500 to-cyan-600"},features:["10 parejas","20-10 segundos","2760 monedas totales"]},{name:"Nieve",icon:Wh,emoji:"",description:"El fro invernal",color:{from:"from-cyan-500",to:"to-blue-700",bg:"bg-gradient-to-br from-cyan-400 via-blue-500 to-indigo-600"},features:["10 parejas","120-45 segundos","2860 monedas totales"]},{name:"Lugares",icon:vb,emoji:"",description:"Viaja por el mundo",color:{from:"from-amber-500",to:"to-orange-700",bg:"bg-gradient-to-br from-amber-400 via-orange-500 to-red-600"},features:["10 parejas","100-40 segundos","2960 monedas totales"]},{name:"Tazas",icon:vS,emoji:"",description:"La hora del caf",color:{from:"from-brown-500",to:"to-amber-700",bg:"bg-gradient-to-br from-amber-600 via-orange-700 to-red-800"},features:["10 parejas","80-35 segundos","3060 monedas totales"]},{name:"Energa",icon:Rm,emoji:"",description:"Poder elctrico",color:{from:"from-yellow-500",to:"to-orange-700",bg:"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600"},features:["10 parejas","60-30 segundos","3160 monedas totales"]},{name:"Dinosaurios",icon:H0,emoji:"",description:"Criaturas prehistricas",color:{from:"from-lime-500",to:"to-green-700",bg:"bg-gradient-to-br from-lime-400 via-green-500 to-emerald-600"},features:["10 parejas","50-28 segundos","3260 monedas totales"]},{name:"Msica",icon:xc,emoji:"",description:"Melodas inolvidables",color:{from:"from-pink-500",to:"to-purple-700",bg:"bg-gradient-to-br from-pink-400 via-purple-500 to-indigo-600"},features:["10 parejas","45-26 segundos","3360 monedas totales"]},{name:"Verano",icon:oa,emoji:"",description:"El calor del verano",color:{from:"from-yellow-500",to:"to-orange-700",bg:"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600"},features:["10 parejas","40-24 segundos","3460 monedas totales"]},{name:"Primavera",icon:Qt,emoji:"",description:"Flores y colores",color:{from:"from-pink-500",to:"to-rose-700",bg:"bg-gradient-to-br from-pink-400 via-rose-500 to-fuchsia-600"},features:["10 parejas","38-22 segundos","3560 monedas totales"]},{name:"Otoo",icon:bc,emoji:"",description:"La cada de las hojas",color:{from:"from-orange-500",to:"to-red-700",bg:"bg-gradient-to-br from-orange-400 via-red-500 to-amber-600"},features:["10 parejas","36-20 segundos","3660 monedas totales"]},{name:"Invierno",icon:Wh,emoji:"",description:"La estacin helada",color:{from:"from-blue-500",to:"to-cyan-700",bg:"bg-gradient-to-br from-blue-400 via-cyan-500 to-teal-600"},features:["10 parejas","34-18 segundos","3760 monedas totales"]},{name:"Cine",icon:gb,emoji:"",description:"La magia del sptimo arte",color:{from:"from-gray-500",to:"to-slate-700",bg:"bg-gradient-to-br from-gray-400 via-slate-500 to-zinc-600"},features:["10 parejas","32-16 segundos","3860 monedas totales"]},{name:"Historia",icon:MS,emoji:"",description:"Viaja en el tiempo",color:{from:"from-amber-500",to:"to-yellow-700",bg:"bg-gradient-to-br from-amber-400 via-yellow-500 to-orange-600"},features:["10 parejas","30-15 segundos","3960 monedas totales"]},{name:"Superhroes",icon:kb,emoji:"",description:"Poderes extraordinarios",color:{from:"from-red-500",to:"to-blue-700",bg:"bg-gradient-to-br from-red-400 via-blue-500 to-purple-600"},features:["10 parejas","28-14 segundos","4060 monedas totales"]},{name:"Robots",icon:lb,emoji:"",description:"La era de las mquinas",color:{from:"from-slate-500",to:"to-gray-700",bg:"bg-gradient-to-br from-slate-400 via-gray-500 to-zinc-600"},features:["10 parejas","26-13 segundos","4160 monedas totales"]},{name:"Astronautas",icon:WS,emoji:"",description:"Exploradores del espacio",color:{from:"from-indigo-500",to:"to-purple-700",bg:"bg-gradient-to-br from-indigo-400 via-purple-500 to-pink-600"},features:["10 parejas","24-12 segundos","4260 monedas totales"]},{name:"Castillos",icon:Fh,emoji:"",description:"Fortalezas legendarias",color:{from:"from-stone-500",to:"to-gray-700",bg:"bg-gradient-to-br from-stone-400 via-gray-500 to-slate-600"},features:["10 parejas","22-11 segundos","4360 monedas totales"]},{name:"Tesoros",icon:US,emoji:"",description:"Riquezas ocultas",color:{from:"from-yellow-500",to:"to-orange-700",bg:"bg-gradient-to-br from-yellow-400 via-orange-500 to-amber-600"},features:["10 parejas","20-10 segundos","4460 monedas totales"]},{name:"Volcn",icon:oa,emoji:"",description:"El desafo final",color:{from:"from-red-500",to:"to-orange-700",bg:"bg-gradient-to-br from-red-600 via-orange-600 to-yellow-500"},features:["10 parejas","18-9 segundos","4560 monedas totales"]}];function sM({world:t,onStart:e}){const[r,s]=x.useState(!1),n=rM[t-1],i=n.icon;return x.useEffect(()=>{me.playWin(),setTimeout(()=>s(!0),100)},[]),a.jsxs("div",{className:`fixed inset-0 ${n.color.bg} flex items-center justify-center p-4 sm:p-6 z-50 overflow-y-auto`,children:[a.jsxs("div",{className:`max-w-lg w-full transition-all duration-700 my-auto ${r?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:[a.jsxs("div",{className:"text-center mb-4 sm:mb-8",children:[a.jsxs("div",{className:"inline-block relative mb-3 sm:mb-6",children:[a.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"relative text-6xl sm:text-9xl animate-bounce-slow",children:n.emoji})]}),a.jsxs("div",{className:"mb-2 sm:mb-4 flex justify-center gap-2",children:[a.jsx(Qt,{className:"text-yellow-300 animate-pulse",size:20}),a.jsxs("h1",{className:"text-3xl sm:text-5xl font-black text-white drop-shadow-2xl",children:["Mundo ",t]}),a.jsx(Qt,{className:"text-yellow-300 animate-pulse",size:20})]}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-2 sm:mb-3 drop-shadow-lg",children:n.name}),a.jsx("p",{className:"text-base sm:text-xl text-white/80 font-medium",children:n.description})]}),a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-4 sm:p-6 shadow-2xl mb-4 sm:mb-6",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx(i,{className:`bg-gradient-to-br ${n.color.from} ${n.color.to} text-white p-2 rounded-xl`,size:32}),a.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:"Caractersticas"})]}),a.jsx("div",{className:"space-y-2 sm:space-y-3 mb-3 sm:mb-5",children:n.features.map((o,l)=>a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-gray-700 text-sm sm:text-lg",style:{animationDelay:`${l*100}ms`},children:[a.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-br ${n.color.from} ${n.color.to}`}),a.jsx("span",{className:"font-semibold",children:o})]},l))}),a.jsxs("div",{className:"border-t border-gray-200 pt-3 sm:pt-4",children:[a.jsx("h4",{className:"text-base sm:text-lg font-bold text-gray-800 mb-2 sm:mb-3 text-center",children:" Ayudas"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm text-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold",children:" 20% Parejas"}),a.jsx("span",{className:"ml-auto text-yellow-600 font-bold",children:"600 "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold",children:" 40% Parejas"}),a.jsx("span",{className:"ml-auto text-yellow-600 font-bold",children:"1000 "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold",children:" +10s Tiempo"}),a.jsx("span",{className:"ml-auto text-yellow-600 font-bold",children:"1000 "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold",children:" +15s Tiempo"}),a.jsx("span",{className:"ml-auto text-yellow-600 font-bold",children:"1400 "})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 sm:mt-3 text-center",children:"Ayudas de tiempo congelan el reloj"})]})]}),a.jsx("button",{onClick:e,className:"w-full bg-white text-gray-800 py-4 sm:py-5 rounded-2xl font-black text-xl sm:text-2xl shadow-2xl hover:scale-105 active:scale-95 transition-all hover:shadow-3xl",children:"COMENZAR! "}),a.jsx("div",{className:"mt-3 sm:mt-4 text-center",children:a.jsx("p",{className:"text-white/70 text-xs sm:text-sm font-medium",children:"5 niveles de diversin te esperan"})})]}),a.jsx("style",{children:`
        @keyframes bounce-slow {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-20px);
          }
        }

        .animate-bounce-slow {
          animation: bounce-slow 2s ease-in-out infinite;
        }
      `})]})}const nM=({initialLevel:t,onBackToMenu:e,onShowWorldMap:r})=>{var F,I;const[s,n]=x.useState(t),[i,o]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState(null),[h,f]=x.useState(null),[m,p]=x.useState(!1),[v,b]=x.useState(1),[y,g]=x.useState(!1),w=x.useRef(!1),k=x.useRef(((F=Tr(t))==null?void 0:F.world)||1),j=x.useCallback(()=>{if(console.log("[GameShell] ===== onLevelCompleted CALLED ====="),console.log("[GameShell] Current level:",s),console.log("[GameShell] completedRef.current:",w.current),w.current){console.log("[GameShell]  ALREADY COMPLETED, SKIPPING");return}w.current=!0,console.log("[GameShell]  Setting completedRef to TRUE");const V=Tr(s);if(console.log("[GameShell] Config:",V),!V){console.log("[GameShell]  NO CONFIG FOUND"),w.current=!1;return}const z=DN(s),Fe=zN(s);if(console.log("[GameShell] World:",z,"Level in world:",Fe),MN(z,Fe,3).catch(je=>{console.error("[GameShell] Error saving progress:",je)}),Nr(V.unlockReward),V.level===5){console.log("[GameShell]  END OF WORLD",V.world);const je=V.world+1;je<=50?f({completedWorld:V.world,unlockedWorld:je,coinsEarned:V.unlockReward,isGameComplete:!1}):f({completedWorld:V.world,unlockedWorld:V.world,coinsEarned:V.unlockReward,isGameComplete:!0})}else{const je=s+1;console.log("[GameShell]  ADVANCING TO LEVEL:",je),gN(je),n(je),console.log("[GameShell]  setLevel called with:",je)}},[s]);x.useEffect(()=>{console.log("[GameShell] ===== LEVEL_CHANGED to:",s,"====="),w.current=!1;const V=Tr(s);console.log("[GameShell] Current config:",V),V&&V.world!==k.current&&V.level===1&&(console.log("[GameShell]  SHOWING WORLD INTRO for world:",V.world),b(V.world),p(!0),k.current=V.world),me.stopStartMusic()},[s]),x.useEffect(()=>{if(window.ttq)try{window.ttq.track("Game_Start"),console.log("[TikTok] Game_Start event tracked")}catch(V){console.error("[TikTok] Error tracking Game_Start:",V)}},[]);const _=x.useCallback(()=>{console.log("[GameShell] handleNextLevel",{level:s,nextLevel:i}),i!=null&&(n(i),o(null),c(!1),d(null),g(!1))},[i,s]),E=x.useCallback(()=>{f(null);const V=s+1,z=Tr(V);z&&(b(z.world),p(!0),k.current=z.world),n(V)},[s]),N=x.useCallback(()=>{p(!1)},[]);return console.log("[GameShell] Render",{level:s,nextLevel:i,showBanner:l,bannerType:u,worldUnlockEvent:h}),a.jsxs(a.Fragment,{children:[m?a.jsx(sM,{world:v,onStart:N}):a.jsx("section",{children:a.jsx(gp,{level:s,onComplete:j,onBackToMenu:e})},`level-${s}`),h&&a.jsx(tM,{completedWorld:h.completedWorld,unlockedWorld:h.unlockedWorld,coinsEarned:h.coinsEarned,isGameComplete:h.isGameComplete,onContinue:E}),l&&i!=null&&!h&&(console.log("[GameShell] SHOWING BANNER MODAL"),!0)&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl pointer-events-auto",children:u==="level"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsxs("h3",{className:"text-3xl font-bold text-green-600 mb-2",children:["Nivel ",s," Completado!"]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-amber-100 rounded-xl p-6 mb-4 relative overflow-hidden",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsxs("div",{className:"text-2xl font-bold text-amber-700 mb-1",children:["+",((I=Tr(s))==null?void 0:I.unlockReward)||10," Monedas"]}),a.jsx("div",{className:"text-sm text-amber-600",children:"Ganadas en este nivel!"}),y&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((V,z)=>a.jsx("div",{className:"absolute text-2xl animate-coin-fall",style:{left:`${20+z*10}%`,animationDelay:`${z*.1}s`,animationDuration:"1.2s"},children:""},z))})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Pulsa para continuar."}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("button",{onClick:_,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Siguiente Nivel ",i]}),a.jsxs("div",{className:"flex gap-3",children:[r&&a.jsx("button",{onClick:r,className:"flex-1 bg-blue-500 text-white py-3 rounded-xl font-bold text-base shadow-lg hover:shadow-xl transition-all",children:"Ver Mundos"}),a.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-bold text-base shadow-lg hover:shadow-xl transition-all",children:"Men"})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent mb-2",children:"Has completado todas las fases!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Quieres volver a empezar?"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Men"}),a.jsxs("button",{onClick:_,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",i]})]})]})})})]})};function iM(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let r=0;r<6;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}async function oM(t,e){var s;if(!t||t.trim()==="")throw new Error("INVALID_CLIENT_ID");if(!e||e<1)throw new Error("INVALID_LEVEL");const r=Date.now();for(let n=0;n<3;n++){const i=iM(),o=`duel-${i}-${r}`,{data:l,error:c}=await _e.from("duel_rooms").insert([{room_code:i,level:e,seed:o,host_client_id:t,status:"waiting"}]).select("*").maybeSingle();if(!c&&l)return l;if(!(c&&(c.code==="23505"||(s=c.message)!=null&&s.toLowerCase().includes("duplicate"))))throw new Error(`DB_ERROR: ${(c==null?void 0:c.message)??"Unknown error"}`)}throw new Error("FAILED_TO_CREATE_ROOM")}async function aM(t,e){if(!e||e.trim()==="")throw new Error("INVALID_ROOM_CODE");if(!t||t.trim()==="")throw new Error("INVALID_CLIENT_ID");const r=e.toUpperCase().trim(),{data:s,error:n}=await _e.from("duel_rooms").select("*").eq("room_code",r).maybeSingle();if(n||!s)throw new Error("ROOM_NOT_FOUND");if(s.host_client_id===t)return s;if(s.status!=="waiting")throw new Error("ROOM_NOT_WAITING");if(s.guest_client_id)throw new Error("ROOM_FULL");const{data:i,error:o}=await _e.from("duel_rooms").update({guest_client_id:t,status:"playing",started_at:new Date().toISOString()}).eq("id",s.id).eq("status","waiting").is("guest_client_id",null).select("*").maybeSingle();if(o||!i)throw new Error("ROOM_NO_LONGER_AVAILABLE");return i}async function By(t){if(!t||t.trim()==="")return null;const e=t.toUpperCase().trim(),{data:r,error:s}=await _e.from("duel_rooms").select("*").eq("room_code",e).maybeSingle();return s?null:r??null}async function lM(t,e,r){if(console.log("[submitDuelResult] Called with:",{roomCode:t,role:e,result:r}),!t||t.trim()==="")throw new Error("INVALID_ROOM_CODE");if(e!=="host"&&e!=="guest")throw new Error("INVALID_ROLE");const s=t.toUpperCase().trim(),{data:n,error:i}=await _e.from("duel_rooms").select("*").eq("room_code",s).maybeSingle();if(i||!n)throw new Error("ROOM_NOT_FOUND");const o=e==="host"?"host_result":"guest_result",l={...r,submittedAt:new Date().toISOString()};console.log("[submitDuelResult] Saving result:",{resultField:o,resultToSave:l});const c={[o]:l};!!n[e==="host"?"guest_result":"host_result"]&&(c.status="finished",c.finished_at=new Date().toISOString());const{data:h,error:f}=await _e.from("duel_rooms").update(c).eq("id",n.id).select().maybeSingle();if(console.log("[submitDuelResult] Update result:",{updatedRoom:h,updateError:f}),f)throw new Error("FAILED_TO_SUBMIT_RESULT")}function cM(t,e){if(!t||t.trim()==="")return e(null),()=>{};const r=t.toUpperCase().trim();let s=null;return(async()=>{console.log(`[subscribeToDuelRoom] Fetching initial room for code: ${r}`);const{data:i,error:o}=await _e.from("duel_rooms").select("*").eq("room_code",r).maybeSingle();if(o)return console.error("[subscribeToDuelRoom] Error fetching initial room:",o),e(null);console.log("[subscribeToDuelRoom] Initial room fetched:",i),e(i??null)})(),s=_e.channel(`duel-room-${r}`).on("postgres_changes",{event:"*",schema:"public",table:"duel_rooms",filter:`room_code=eq.${r}`},i=>{console.log("[subscribeToDuelRoom] Realtime update received:",i),i.eventType==="DELETE"?(console.log("[subscribeToDuelRoom] Room deleted"),e(null)):(console.log("[subscribeToDuelRoom] Room updated:",i.new),e(i.new??null))}).subscribe(i=>{console.log(`[subscribeToDuelRoom] Subscription status: ${i}`)}),()=>{console.log(`[subscribeToDuelRoom] Unsubscribing from room ${r}`),s&&_e.removeChannel(s),s=null}}function uM(t){if(!t.host_result||!t.guest_result)return null;const e=t.host_result.pairsFound??0,r=t.guest_result.pairsFound??0,s=Math.floor((t.host_result.timeMs??999999999)/1e3),n=Math.floor((t.guest_result.timeMs??999999999)/1e3);return e!==r?e>r?"host":"guest":s!==n?s<n?"host":"guest":"tie"}const dM=({onBack:t,onRoomCreated:e,clientId:r})=>{const[s,n]=x.useState(null),[i,o]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState(null),[h,f]=x.useState(null),[m,p]=x.useState(!1),v=j=>{switch(j){case"very_easy":return"Muy Fcil";case"easy":return"Fcil";case"hard":return"Difcil";case"very_hard":return"Muy Difcil";case"expert":return"Experto";default:return"Normal"}},b=j=>{switch(j){case"very_easy":return"bg-green-500 text-white";case"easy":return"bg-blue-500 text-white";case"hard":return"bg-orange-500 text-white";case"very_hard":return"bg-red-500 text-white";case"expert":return"bg-purple-700 text-white";default:return"bg-gray-500 text-white"}},y=async()=>{if(s!==null){c(!0),d(null);try{const j=await oM(r,s);f(j),e(j)}catch(j){let _="Error al crear el duelo. Intenta de nuevo.";j.message==="FAILED_TO_CREATE_ROOM"?_="Error al crear el duelo. Verifica tu conexin.":j.message==="FAILED_TO_GENERATE_CODE"?_="No se pudo generar un cdigo nico. Intenta de nuevo.":j.message&&(_=`Error: ${j.message}`),d(_),console.error("[DuelCreate] Error:",j.message||j)}finally{c(!1)}}},g=()=>{h&&(navigator.clipboard.writeText(h.room_code),p(!0),setTimeout(()=>p(!1),2e3))},w=[{world:1,levels:Array.from({length:20},(j,_)=>_+1)},{world:2,levels:Array.from({length:20},(j,_)=>_+21)},{world:3,levels:Array.from({length:20},(j,_)=>_+41)},{world:4,levels:Array.from({length:20},(j,_)=>_+61)},{world:5,levels:Array.from({length:20},(j,_)=>_+81)}];if(h)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-4",children:a.jsx("div",{className:"max-w-md mx-auto pt-8",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-400 to-green-600 rounded-full mb-4",children:a.jsx(Tm,{className:"text-white",size:40})}),a.jsx("h2",{className:"text-2xl font-black text-gray-800 mb-2",children:"Sala Creada!"}),a.jsx("p",{className:"text-gray-600",children:"Comparte este cdigo con tu rival"})]}),a.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Cdigo del Duelo"}),a.jsx("div",{className:"text-5xl font-black text-purple-600 tracking-wider mb-4",children:h.room_code}),a.jsx("button",{onClick:g,className:"inline-flex items-center gap-2 px-6 py-3 bg-white rounded-xl font-bold text-purple-600 hover:bg-purple-50 transition-colors shadow-md",children:m?a.jsxs(a.Fragment,{children:[a.jsx(As,{size:20}),"Copiado!"]}):a.jsxs(a.Fragment,{children:[a.jsx(jm,{size:20}),"Copiar Cdigo"]})})]})}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Nivel:"}),a.jsxs("span",{className:"font-bold text-gray-800",children:["Nivel ",h.level]})]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-pulse text-purple-600 font-bold mb-2",children:"Esperando rival..."}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]})]})})});const k=j=>{o(i===j?null:j)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[a.jsxs("button",{onClick:t,className:"mb-4 flex items-center gap-2 text-white font-bold hover:text-purple-200 transition-colors",children:[a.jsx(vr,{size:24}),"Volver"]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-black text-gray-800 mb-2",children:"Crear Duelo"}),a.jsx("p",{className:"text-gray-600",children:"Selecciona un mundo y luego un nivel"})]}),a.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-xs text-gray-600 font-bold mb-2 text-center",children:"Dificultad:"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),a.jsx("span",{className:"text-gray-700",children:"Muy Fcil"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-gray-700",children:"Fcil"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),a.jsx("span",{className:"text-gray-700",children:"Difcil"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsx("span",{className:"text-gray-700",children:"Muy Difcil"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-700"}),a.jsx("span",{className:"text-gray-700",children:"Experto"})]})]})]}),a.jsx("div",{className:"space-y-3 mb-6",children:w.map(({world:j,levels:_})=>a.jsxs("div",{className:"border-2 border-gray-200 rounded-xl overflow-hidden",children:[a.jsxs("button",{onClick:()=>k(j),className:`
                    w-full px-6 py-4 flex items-center justify-between font-bold text-lg transition-all
                    ${i===j?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-gray-50 text-gray-800 hover:bg-gray-100"}
                  `,children:[a.jsxs("span",{children:["Mundo ",j]}),a.jsx(mb,{className:`transition-transform ${i===j?"rotate-180":""}`,size:24})]}),i===j&&a.jsx("div",{className:"p-4 bg-gray-50",children:a.jsx("div",{className:"grid grid-cols-5 gap-2",children:_.map(E=>{const N=Tr(E),F=N!=null&&N.difficulty?b(N.difficulty).split(" ")[0]:"bg-gray-400";return a.jsxs("button",{onClick:()=>n(E),className:`
                              aspect-square rounded-xl font-bold text-lg transition-all relative
                              ${s===E?"bg-gradient-to-br from-purple-500 to-pink-500 text-white shadow-lg scale-105":"bg-white text-gray-700 hover:bg-purple-50 border-2 border-gray-200"}
                            `,children:[E,(N==null?void 0:N.difficulty)&&a.jsx("span",{className:`absolute top-1 right-1 w-2 h-2 rounded-full ${F}`})]},E)})})})]},j))}),s!==null&&a.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nivel Seleccionado"}),a.jsx("p",{className:"text-3xl font-black text-purple-600 mb-2",children:s}),(()=>{const j=Tr(s);return j!=null&&j.difficulty?a.jsx("div",{className:"flex justify-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${b(j.difficulty)}`,children:v(j.difficulty)})}):null})()]}),u&&a.jsx("div",{className:"mb-4 p-4 bg-red-100 border-2 border-red-300 rounded-xl",children:a.jsx("p",{className:"text-red-600 font-bold text-center",children:u})}),a.jsx("button",{onClick:y,disabled:s===null||l,className:`
              w-full py-5 rounded-xl font-bold text-xl transition-all
              ${s!==null&&!l?"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-2xl hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}
            `,children:l?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-400 border-t-transparent"}),"Creando Sala..."]}):s!==null?` Crear Duelo - Nivel ${s}`:"Selecciona un Mundo y Nivel"})]})]})})},hM=({onBack:t,onRoomJoined:e,clientId:r})=>{const[s,n]=x.useState(""),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=async()=>{const h=s.toUpperCase().trim();if(h.length!==6){c("El cdigo debe tener 6 caracteres");return}o(!0),c(null);try{const f=await aM(r,h);e(f)}catch(f){let m="Error al unirse al duelo. Intenta de nuevo.";f.message==="ROOM_NOT_FOUND"?m="Sala no encontrada. Verifica el cdigo.":f.message==="ROOM_NOT_WAITING"?m="Esta sala ya no est disponible.":f.message==="ROOM_FULL"?m="Esta sala ya est llena.":f.message&&(m=`Error: ${f.message}`),c(m),console.error("[DuelJoin] Error:",f)}finally{o(!1)}},d=h=>{const f=h.toUpperCase().replace(/[^A-Z0-9]/g,"");f.length<=6&&(n(f),c(null))};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-4",children:a.jsxs("div",{className:"max-w-md mx-auto pt-8",children:[a.jsxs("button",{onClick:t,className:"mb-4 flex items-center gap-2 text-white font-bold hover:text-purple-200 transition-colors",children:[a.jsx(vr,{size:24}),"Volver"]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-400 to-pink-600 rounded-full mb-4",children:a.jsx(Tm,{className:"text-white",size:40})}),a.jsx("h2",{className:"text-3xl font-black text-gray-800 mb-2",children:"Unirse a Duelo"}),a.jsx("p",{className:"text-gray-600",children:"Introduce el cdigo de 6 caracteres"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Cdigo del Duelo"}),a.jsx("input",{type:"text",value:s,onChange:h=>d(h.target.value),placeholder:"ABC123",maxLength:6,className:"w-full px-6 py-4 text-center text-3xl font-black tracking-wider border-4 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none transition-colors uppercase",disabled:i}),a.jsxs("p",{className:"text-sm text-gray-500 text-center mt-2",children:[s.length,"/6 caracteres"]})]}),l&&a.jsx("div",{className:"mb-6 p-4 bg-red-100 border-2 border-red-300 rounded-xl",children:a.jsx("p",{className:"text-red-600 font-bold text-center",children:l})}),a.jsx("button",{onClick:u,disabled:s.length!==6||i,className:`
              w-full py-4 rounded-xl font-bold text-lg transition-all
              ${s.length===6&&!i?"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}
            `,children:i?"Unindose...":"Unirse al Duelo"}),a.jsx("div",{className:"mt-6 p-4 bg-purple-50 rounded-xl",children:a.jsx("p",{className:"text-sm text-gray-600 text-center",children:" Pide el cdigo a tu rival para comenzar la batalla"})})]})]})})},fM=({room:t,role:e,onBack:r})=>{var p,v,b,y,g,w,k,j;const s=uM(t),n=s===e,i=s==="tie",o=e==="host",l=Math.floor(((o?(p=t.host_result)==null?void 0:p.timeMs:(v=t.guest_result)==null?void 0:v.timeMs)??0)/1e3),c=(o?(b=t.host_result)==null?void 0:b.pairsFound:(y=t.guest_result)==null?void 0:y.pairsFound)??0,u=Math.floor(((o?(g=t.guest_result)==null?void 0:g.timeMs:(w=t.host_result)==null?void 0:w.timeMs)??0)/1e3),d=(o?(k=t.guest_result)==null?void 0:k.pairsFound:(j=t.host_result)==null?void 0:j.pairsFound)??0,h=s===e,f=s===(e==="host"?"guest":"host");x.useEffect(()=>{(n||i)&&ya()},[n,i]);const m=_=>`${_}s`;return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-4",children:a.jsx("div",{className:"max-w-2xl mx-auto pt-8",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:`inline-flex items-center justify-center w-24 h-24 rounded-full mb-4 ${n?"bg-gradient-to-br from-yellow-400 to-orange-500":i?"bg-gradient-to-br from-blue-400 to-purple-500":"bg-gradient-to-br from-gray-400 to-gray-600"}`,children:a.jsx(lt,{className:"text-white",size:48})}),a.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-2",children:n?"Victoria! ":i?"Empate! ":"Derrota "}),a.jsx("p",{className:"text-lg text-gray-600",children:n?"Has derrotado a tu rival!":i?"Ambos son igual de buenos!":"Tu rival fue ms rpido esta vez"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:`rounded-xl p-6 ${n?"bg-gradient-to-br from-green-100 to-emerald-100 border-4 border-green-400":"bg-gray-50"}`,children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-3xl mb-2",children:n?"":""}),a.jsx("h3",{className:"text-xl font-black text-gray-800",children:"T"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[h?a.jsx(lt,{className:"text-green-500",size:20}):a.jsx(oa,{className:"text-red-500",size:20}),a.jsx("span",{className:"text-sm text-gray-600",children:"Resultado:"})]}),a.jsx("span",{className:`font-bold ${h?"text-green-600":"text-red-600"}`,children:h?"Gan":i?"Empate":"Perdi"})]}),a.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(G0,{className:"text-blue-500",size:20}),a.jsx("span",{className:"text-sm text-gray-600",children:"Tiempo:"})]}),a.jsx("span",{className:"font-bold text-gray-800",children:m(l)})]}),a.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lt,{className:"text-orange-500",size:20}),a.jsx("span",{className:"text-sm text-gray-600",children:"Pares:"})]}),a.jsx("span",{className:"font-bold text-gray-800",children:c})]})]})]}),a.jsxs("div",{className:`rounded-xl p-6 ${!n&&!i?"bg-gradient-to-br from-yellow-100 to-orange-100 border-4 border-yellow-400":"bg-gray-50"}`,children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-3xl mb-2",children:!n&&!i?"":""}),a.jsx("h3",{className:"text-xl font-black text-gray-800",children:"Rival"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f?a.jsx(lt,{className:"text-green-500",size:20}):a.jsx(oa,{className:"text-red-500",size:20}),a.jsx("span",{className:"text-sm text-gray-600",children:"Resultado:"})]}),a.jsx("span",{className:`font-bold ${f?"text-green-600":"text-red-600"}`,children:f?"Gan":i?"Empate":"Perdi"})]}),a.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(G0,{className:"text-blue-500",size:20}),a.jsx("span",{className:"text-sm text-gray-600",children:"Tiempo:"})]}),a.jsx("span",{className:"font-bold text-gray-800",children:m(u)})]}),a.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lt,{className:"text-orange-500",size:20}),a.jsx("span",{className:"text-sm text-gray-600",children:"Pares:"})]}),a.jsx("span",{className:"font-bold text-gray-800",children:d})]})]})]})]}),a.jsxs("button",{onClick:r,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2",children:[a.jsx(vr,{size:24}),"Volver al Men"]})]})})})},ei=t=>!!(t&&typeof t=="object"&&"pairsFound"in t),mM=({room:t,role:e,clientId:r,onBack:s})=>{const[n,i]=x.useState(t),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,m]=x.useState(!1),[p,v]=x.useState(null),[b,y]=x.useState(!1),g=x.useRef(!1),w=x.useCallback(_=>{if(console.log("[DuelLobby] Room update received:",{status:_==null?void 0:_.status,guest_id:_==null?void 0:_.guest_client_id,host_result:_==null?void 0:_.host_result,guest_result:_==null?void 0:_.guest_result,host_valid:ei(_==null?void 0:_.host_result),guest_valid:ei(_==null?void 0:_.guest_result),gameStartedRef:g.current}),y(!1),!_){console.error("[DuelLobby] Sala no encontrada o sin permisos"),v("Sala no encontrada o sin permisos de acceso"),i(null);return}i(_),v(null),_.status==="playing"&&_.guest_client_id&&!g.current&&(console.log("[DuelLobby] El duelo ha comenzado! Iniciando juego..."),g.current=!0,l(!0));const E=ei(_.host_result),N=ei(_.guest_result);_.status==="finished"&&E&&N&&(console.log("[DuelLobby] Ambos resultados recibidos y vlidos, mostrando pantalla de resultados"),m(!0))},[]);x.useEffect(()=>{if(!t||!t.room_code){v("Sala no vlida");return}y(!0),v(null);const _=cM(t.room_code,w);return()=>{_&&_()}},[t==null?void 0:t.room_code]),x.useEffect(()=>{if(!(t!=null&&t.room_code)||o||f)return;console.log("[DuelLobby] Starting polling fallback");const _=setInterval(async()=>{if(g.current){clearInterval(_);return}console.log("[DuelLobby] Polling room status...");const E=await By(t.room_code);E&&w(E)},2e3);return()=>{console.log("[DuelLobby] Clearing polling interval"),clearInterval(_)}},[t==null?void 0:t.room_code,o,f]);const k=async _=>{if(!d){console.log("[DuelLobby] Enviando resultado:",_);try{await lM(_.duelCode,_.duelRole,{win:_.win,timeMs:_.timeMs,moves:_.moves,pairsFound:_.pairsFound}),h(!0);const E=async()=>{console.log("[DuelLobby] Verificando si ambos resultados estn listos...");const z=await By(_.duelCode);if(!z)return console.log("[DuelLobby] No se pudo obtener la sala"),!1;const Fe=ei(z.host_result),je=ei(z.guest_result);return console.log("[DuelLobby] Estado de resultados:",{status:z.status,hostValid:Fe,guestValid:je,host_result:z.host_result,guest_result:z.guest_result}),z.status==="finished"&&Fe&&je?(console.log("[DuelLobby] Ambos resultados estn listos! Mostrando resultados..."),i(z),m(!0),!0):!1};if(await new Promise(z=>setTimeout(z,500)),await E()){console.log("[DuelLobby] Resultados listos inmediatamente despus de enviar");return}let F=0;const I=30,V=setInterval(async()=>{F++,(await E()||F>=I)&&(clearInterval(V),F>=I&&console.warn("[DuelLobby] Timeout esperando resultados del rival"))},1e3)}catch(E){console.error("[DuelLobby] Error al enviar resultado:",E)}}},j=()=>{n&&(navigator.clipboard.writeText(n.room_code),u(!0),setTimeout(()=>u(!1),2e3))};return p||!n?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-4",children:a.jsx("div",{className:"max-w-md mx-auto pt-8",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-100 rounded-full mb-4",children:a.jsx(zi,{className:"text-red-600",size:40})}),a.jsx("h2",{className:"text-2xl font-black text-gray-800 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-600 mb-6",children:p||"Sala no encontrada o sin permisos de acceso"}),a.jsx("button",{onClick:s,className:"w-full py-4 rounded-xl font-bold text-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-xl transition-all",children:"Volver"})]})})})}):f?a.jsx(fM,{room:n,role:e,onBack:s}):o?!n||!n.level?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-4",children:a.jsx("div",{className:"max-w-md mx-auto pt-8",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-100 rounded-full mb-4",children:a.jsx(zi,{className:"text-red-600",size:40})}),a.jsx("h2",{className:"text-2xl font-black text-gray-800 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Nivel invlido en sala"}),a.jsx("button",{onClick:s,className:"w-full py-4 rounded-xl font-bold text-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-xl transition-all",children:"Volver"})]})})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500",children:[d&&!f&&a.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-4 border-purple-500 border-t-transparent"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-gray-800",children:"Esperando rival..."}),a.jsx("p",{className:"text-sm text-gray-600",children:"Tu resultado ya fue enviado"})]})]})})}),a.jsx(gp,{level:n.level,duelLevel:n.level,duelCode:n.room_code,duelRole:e,duelSeed:n.seed,onDuelFinish:k,onComplete:()=>{},onBackToMenu:s})]}):b?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-4",children:a.jsx("div",{className:"max-w-md mx-auto pt-8",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-purple-500 border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 font-bold",children:"Cargando sala..."})]})})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-4",children:a.jsxs("div",{className:"max-w-md mx-auto pt-8",children:[a.jsxs("button",{onClick:s,className:"mb-4 flex items-center gap-2 text-white font-bold hover:text-purple-200 transition-colors",children:[a.jsx(vr,{size:24}),"Salir del Duelo"]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-400 to-pink-600 rounded-full mb-4",children:a.jsx(lt,{className:"text-white",size:40})}),a.jsx("h2",{className:"text-2xl font-black text-gray-800 mb-2",children:"Sala de Duelo"})]}),a.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Cdigo"}),a.jsx("div",{className:"text-4xl font-black text-purple-600 tracking-wider mb-3",children:n.room_code}),a.jsx("button",{onClick:j,className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-lg font-bold text-purple-600 hover:bg-purple-50 transition-colors text-sm",children:c?a.jsxs(a.Fragment,{children:[a.jsx(As,{size:16}),"Copiado!"]}):a.jsxs(a.Fragment,{children:[a.jsx(jm,{size:16}),"Copiar"]})})]})}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Nivel:"}),a.jsxs("span",{className:"font-bold text-gray-800",children:["Nivel ",n.level]})]})}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Host:"}),a.jsx("span",{className:"font-bold text-gray-800",children:e==="host"?" T":" Rival"})]})}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Guest:"}),a.jsx("span",{className:"font-bold text-gray-800",children:n.guest_client_id?e==="guest"?" T":" Rival":" Esperando..."})]})})]}),n.status==="waiting"&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-pulse text-purple-600 font-bold mb-2",children:"Esperando rival..."}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]})]})]})})},pM=({onBack:t,clientId:e})=>{const{t:r}=Ca(),[s,n]=x.useState("menu"),[i,o]=x.useState(null),[l,c]=x.useState("host"),u=f=>{o(f),c("host"),n("lobby")},d=f=>{o(f),c("guest"),n("lobby")},h=()=>{n("menu"),o(null)};return s==="lobby"&&i?a.jsx(mM,{room:i,role:l,clientId:e,onBack:h}):s==="create"?a.jsx(dM,{onBack:h,onRoomCreated:u,clientId:e}):s==="join"?a.jsx(hM,{onBack:h,onRoomJoined:d,clientId:e}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-400 via-blue-500 to-indigo-600 p-4 relative overflow-hidden",children:[a.jsx(fu,{}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-visible z-0",children:[a.jsx("div",{className:"absolute top-4 left-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-16 left-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-4 right-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-16 right-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 right-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-16 right-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 left-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-16 left-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/3 left-2 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/2 left-10 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/3 right-2 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/2 right-10 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})})]}),a.jsxs("div",{className:"max-w-md mx-auto pt-8 relative z-10",children:[a.jsxs("button",{onClick:t,className:"mb-4 flex items-center gap-2 text-white font-bold hover:text-purple-200 transition-colors",children:[a.jsx(vr,{size:24}),r.common.back]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-purple-400 to-pink-600 rounded-full mb-4",children:a.jsx(Tm,{className:"text-white",size:48})}),a.jsx("h1",{className:"text-4xl font-black text-gray-800 mb-2",children:r.duel.duelMode}),a.jsx("p",{className:"text-lg text-gray-600",children:r.duel.challengePlayers})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>n("create"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-6 rounded-xl font-bold text-xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-3",children:[a.jsx(OS,{size:28}),r.duel.createDuel]}),a.jsxs("button",{onClick:()=>n("join"),className:"w-full bg-gradient-to-r from-blue-500 to-cyan-600 text-white py-6 rounded-xl font-bold text-xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-3",children:[a.jsx(TS,{size:28}),r.duel.joinDuel]})]}),a.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl",children:[a.jsx("h3",{className:"font-black text-gray-800 mb-3",children:r.duel.howItWorksTitle}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 font-bold",children:"1."}),a.jsx("span",{children:r.duel.howItWorks1})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 font-bold",children:"2."}),a.jsx("span",{children:r.duel.howItWorks2})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 font-bold",children:"3."}),a.jsx("span",{children:r.duel.howItWorks3})]})]})]})]})]})]})},gM=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];function Vy(t){return[...gM].sort(()=>Math.random()-.5).slice(0,t)}const yM=({onBackToMenu:t})=>{const[e,r]=x.useState(()=>Vy(5)),[s,n]=x.useState(0),[i,o]=x.useState(new Set),[l,c]=x.useState(!1),[u,d]=x.useState({}),[h,f]=x.useState(!0);x.useEffect(()=>{me.stopStartMusic(),m()},[e]);const m=async()=>{try{const g=mr(),{data:w,error:k}=await _e.from("scores").select("level_id, score").eq("client_id",g).in("level_id",e);if(!k&&w){const j=new Set,_={};w.forEach(E=>{E.level_id&&(j.add(E.level_id),_[E.level_id]=E.score||0)}),o(j),d(_)}}catch(g){console.error("Error loading challenge progress:",g)}finally{f(!1)}},p=g=>{n(g),c(!0)},v=async()=>{await m(),c(!1)},b=async()=>{await new Promise(g=>setTimeout(g,500)),await m(),c(!1)},y=()=>{const g=Vy(5);r(g),o(new Set),d({}),f(!0)};return h?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 flex items-center justify-center",children:a.jsx("div",{className:"text-white text-2xl font-bold",children:"Cargando desafos..."})}):l?a.jsx(gp,{level:e[s],isDailyChallenge:!0,onComplete:v,onBackToMenu:b},`challenge-${e[s]}-${Date.now()}`):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-400 via-blue-500 to-indigo-600 p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-visible z-0",children:[a.jsx("div",{className:"absolute top-4 left-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-16 left-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-4 right-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-16 right-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 right-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-16 right-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 left-4 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute bottom-16 left-20 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/3 left-2 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/2 left-10 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/3 right-2 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform rotate-6",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("div",{className:"absolute top-1/2 right-10 bg-white/15 backdrop-blur-sm rounded-xl p-6 shadow-xl transform -rotate-12",children:a.jsx("span",{className:"text-7xl",children:""})})]}),a.jsxs("div",{className:"max-w-2xl mx-auto relative z-10",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Desafos Diarios"}),a.jsx("p",{className:"text-sm text-gray-600",children:"5 desafos aleatorios"})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors",children:[a.jsx(xb,{size:18}),"Nuevos"]}),a.jsxs("button",{onClick:t,className:"flex items-center gap-2 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:[a.jsx(vr,{size:18}),"Volver"]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-4 mb-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(lt,{className:"text-yellow-600",size:32}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[i.size," / ",e.length]}),a.jsx("div",{className:"text-xs text-gray-600",children:"Desafos completados"})]})]})})]}),a.jsx("div",{className:"space-y-4",children:e.map((g,w)=>{const k=i.has(g),j=u[g]||0,_=w>0&&!i.has(e[w-1]);return a.jsx("div",{className:`bg-white rounded-2xl shadow-lg p-6 transition-all ${_?"opacity-50 cursor-not-allowed":"hover:shadow-xl cursor-pointer"}`,onClick:()=>!_&&p(w),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold ${k?"bg-gradient-to-br from-green-400 to-green-600 text-white":_?"bg-gray-300 text-gray-500":"bg-gradient-to-br from-yellow-400 to-orange-500 text-white"}`,children:_?"":k?"":w+1}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["Desafo ",w+1," - Nivel ",g]}),a.jsx("p",{className:"text-sm text-gray-600",children:_?"Completa el desafo anterior":k?`Puntuacin: ${j}`:"Sin completar"})]})]}),k&&a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Ao,{className:"text-yellow-500 fill-yellow-500",size:16}),a.jsx(Ao,{className:"text-yellow-500 fill-yellow-500",size:16}),a.jsx(Ao,{className:"text-yellow-500 fill-yellow-500",size:16})]}),a.jsx("button",{onClick:E=>{E.stopPropagation(),p(w)},className:"text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded-lg hover:bg-gray-300 transition-colors",children:"Volver a jugar"})]}),!_&&!k&&a.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 text-white px-6 py-2 rounded-lg font-bold hover:shadow-lg transition-all",children:"Jugar"})]})},`${g}-${w}`)})})]})]})},vM=[bc,Em,wc,Nm,kc,Pm,Cm,xc,Qt,Sm,ub,kS,Cb,bb,hb,Vh,bS,db,lt,pb,fS,Sb,uS,yb,jS,cb,ab,fb,qS,Fh,$S,wb,Wh,vb,Eb,Rm,jb,LS,zS,_S,HS,yS,gb,hS,kb,lb,kc,xS,wr,oa],wM=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"},{from:"from-blue-500",to:"to-sky-700"},{from:"from-teal-500",to:"to-cyan-700"},{from:"from-lime-500",to:"to-green-600"},{from:"from-amber-500",to:"to-yellow-700"},{from:"from-rose-500",to:"to-red-600"},{from:"from-pink-500",to:"to-rose-700"},{from:"from-green-600",to:"to-emerald-800"},{from:"from-pink-400",to:"to-red-600"},{from:"from-emerald-500",to:"to-teal-700"},{from:"from-sky-400",to:"to-blue-600"},{from:"from-blue-500",to:"to-indigo-700"},{from:"from-yellow-500",to:"to-red-600"},{from:"from-slate-600",to:"to-amber-800"},{from:"from-purple-600",to:"to-rose-500"},{from:"from-cyan-500",to:"to-indigo-700"},{from:"from-lime-500",to:"to-emerald-700"},{from:"from-red-500",to:"to-yellow-500"},{from:"from-green-500",to:"to-emerald-700"},{from:"from-violet-600",to:"to-purple-800"},{from:"from-stone-500",to:"to-gray-700"},{from:"from-green-600",to:"to-teal-800"},{from:"from-amber-600",to:"to-orange-800"},{from:"from-sky-500",to:"to-blue-700"},{from:"from-zinc-500",to:"to-slate-700"},{from:"from-fuchsia-600",to:"to-purple-800"},{from:"from-blue-600",to:"to-indigo-800"},{from:"from-green-700",to:"to-emerald-900"},{from:"from-purple-500",to:"to-violet-700"},{from:"from-yellow-600",to:"to-orange-700"},{from:"from-pink-600",to:"to-rose-800"},{from:"from-orange-600",to:"to-red-800"},{from:"from-cyan-600",to:"to-blue-800"},{from:"from-slate-700",to:"to-gray-900"},{from:"from-indigo-600",to:"to-blue-800"},{from:"from-red-600",to:"to-rose-800"},{from:"from-teal-600",to:"to-cyan-800"},{from:"from-violet-700",to:"to-purple-900"},{from:"from-emerald-600",to:"to-green-800"},{from:"from-amber-700",to:"to-yellow-900"},{from:"from-orange-700",to:"to-red-900"}];function bM({currentWorld:t,currentLevel:e,worldsCompleted:r,onSelectWorld:s,onBackToMenu:n}){const{t:i}=Ca(),o=[i.worlds.nature,i.worlds.sports,i.worlds.games,i.worlds.animals,i.worlds.space,i.worlds.ocean,i.worlds.food,i.worlds.music,i.worlds.beauty,i.worlds.technology,i.worlds.city,i.worlds.science,i.worlds.farm,i.worlds.art,i.worlds.transport,i.worlds.clothing,i.worlds.dinosaurs,i.worlds.sweets,i.worlds.tshirts,i.worlds.eyes,i.worlds.professions,i.worlds.emotions,i.worlds.pirates,i.worlds.jewels,i.worlds.videogames,i.worlds.insects,i.worlds.fruits,i.worlds.vegetables,i.worlds.mythology,i.worlds.medieval,i.worlds.jungle,i.worlds.desert,i.worlds.arctic,i.worlds.urban,i.worlds.fantasy,i.worlds.scifi,i.worlds.dinosaurs,i.worlds.music,i.worlds.summer,i.worlds.spring,i.worlds.autumn,i.worlds.winter,i.worlds.cinema,i.worlds.history,i.worlds.superheroes,i.worlds.robots,i.worlds.aliens,i.worlds.castles,i.worlds.treasures,i.worlds.volcano],[l,c]=x.useState({1:!0}),[u,d]=x.useState({}),[h,f]=x.useState(0),[m,p]=x.useState(null),[v,b]=x.useState(!1),[y,g]=x.useState(!1),[w,k]=x.useState(""),[j,_]=x.useState(null),[E,N]=x.useState(!1),[F,I]=x.useState(t||null),V=x.useRef(0),z=x.useRef(null);x.useEffect(()=>{me.stopStartMusic(),(async()=>{const ve={1:!0},R={};for(let D=1;D<=50;D++){if(await h1(`world-${D}`,5),D>1){const de=await LN(`world-${D}`);ve[D]=de}const U=await f1(`world-${D}`);R[D]=U}c(ve),d(R),f(Ie())})()},[]);const Fe=async Y=>{if(Y===1||l[Y]){I(F===Y?null:Y);return}p(Y)},je=(Y,ve)=>{s(Y)},zt=async()=>{if(!m)return;b(!0);const Y=`world-${m}`,ve=Lc[Y],R=await m1(Y,ve);R.ok?(c({...l,[m]:!0}),f(Ie()),p(null),s(m)):alert(R.reason),b(!1)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 via-blue-500 to-indigo-700 p-6",children:[a.jsx(fu,{}),a.jsxs("button",{onClick:n,className:"mb-6 text-white flex items-center gap-2 font-semibold text-lg hover:scale-105 transition-transform",children:[" ",i.common.back]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:i.menu.worldMap}),a.jsxs("p",{className:"text-white/90 text-lg mb-4",children:["50 ",i.menu.worldMap,"  250 ",i.common.level,"s"]}),a.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-2xl p-4 max-w-md mx-auto border-2 border-white/30",children:a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-white text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),a.jsx("span",{className:"text-white font-semibold",children:i.duel.selectLevel})]}),a.jsx("div",{className:"text-white text-2xl",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-white text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),a.jsx("span",{className:"text-white font-semibold",children:i.common.play})]})]})})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 max-w-md mx-auto",children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50].map(Y=>{const ve=l[Y]??!1,R=vM[Y-1],D=wM[Y-1],U=t===Y,de=u[Y]??!1,O=F===Y;return a.jsxs("div",{className:"transition-all",children:[a.jsx("button",{onClick:()=>Fe(Y),className:`w-full relative p-5 rounded-2xl shadow-xl transition-all transform ${ve?`bg-gradient-to-br ${D.from} ${D.to} hover:scale-102 active:scale-98`:"bg-gradient-to-br from-gray-600 to-gray-800"} ${O?"rounded-b-none":""}`,children:a.jsxs("div",{className:"flex items-center justify-between text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`relative ${ve?"":"opacity-40"}`,children:a.jsx(R,{size:40,className:"text-white drop-shadow-lg",strokeWidth:2})}),a.jsxs("div",{className:"text-left",children:[a.jsxs("h3",{className:"text-xl font-bold drop-shadow-lg",children:[i.menu.worldMap," ",Y]}),a.jsx("p",{className:`text-sm font-medium ${ve?"opacity-90":"opacity-60"}`,children:o[Y-1]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[de?a.jsx(lt,{className:"text-yellow-300 drop-shadow-lg",size:28}):ve?U?a.jsxs("div",{className:"text-xs bg-white/30 rounded-lg px-2 py-1 backdrop-blur-sm font-semibold",children:["Nivel ",e,"/5"]}):null:a.jsx(Rn,{size:28,className:"text-white/60"}),ve&&(O?a.jsx(gS,{size:24,className:"text-white",strokeWidth:3}):a.jsx(mb,{size:24,className:"text-white",strokeWidth:3}))]})]})}),O&&ve&&a.jsxs("div",{className:`bg-gradient-to-br ${D.from} ${D.to} rounded-b-2xl p-4 shadow-xl border-t-2 border-white/20`,children:[a.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(Te=>{const ht=Gl(Y,Te),$t=Ea(),Ft=ht<=$t,Tt=ht===$t;return a.jsx("button",{onClick:()=>je(Y),className:`relative aspect-square rounded-xl font-bold text-lg transition-all transform ${Ft?Tt?"bg-white text-blue-600 scale-110 shadow-2xl ring-4 ring-yellow-300":"bg-white/90 text-gray-800 hover:scale-110 hover:shadow-xl active:scale-95":"bg-white/20 text-white/40 cursor-not-allowed"}`,children:Ft?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-2xl",children:Te}),Tt&&a.jsx(Ao,{className:"absolute -top-1 -right-1 text-yellow-400 fill-yellow-400",size:16})]}):a.jsx(Rn,{size:20,className:"mx-auto"})},Te)})}),a.jsx("p",{className:"text-center text-white/80 text-xs mt-3 font-medium",children:"Toca un nivel para jugar"})]})]},Y)})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Acceso Admin"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Ingresa la contrasea de administrador"}),a.jsx("input",{type:"password",value:w,onChange:Y=>k(Y.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none mb-4",onKeyDown:Y=>{Y.key==="Enter"&&(w==="admin2025"?(j&&(c({...l,[j]:!0}),localStorage.setItem(`world_${j}_unlocked`,"true"),s(j)),g(!1),k(""),_(null)):(alert("Contrasea incorrecta"),k("")))}}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{g(!1),k(""),_(null)},className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cancelar"}),a.jsx("button",{type:"button",onClick:()=>{w==="admin2025"?(j&&(c({...l,[j]:!0}),localStorage.setItem(`world_${j}_unlocked`,"true"),s(j)),g(!1),k(""),_(null)):(alert("Contrasea incorrecta"),k(""))},className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Desbloquear"})]})]})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4 cursor-pointer select-none",onClick:()=>{V.current+=1,z.current&&clearTimeout(z.current),V.current>=5?(N(!0),V.current=0,z.current&&(clearTimeout(z.current),z.current=null)):z.current=window.setTimeout(()=>{V.current=0,z.current=null},1e3)},children:""}),a.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Mundo ",m]}),a.jsx("p",{className:"text-gray-600 mb-4",children:o[m-1]}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Al desbloquear este mundo, podrs jugar el nivel 1. Los dems niveles se desbloquean jugando."}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(wr,{size:24,className:"text-white"}),a.jsx("span",{className:"text-2xl font-bold text-white",children:Lc[`world-${m}`]})]}),a.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",h," monedas"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{p(null),N(!1),V.current=0,z.current&&(clearTimeout(z.current),z.current=null)},disabled:v,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),a.jsx("button",{type:"button",onClick:zt,disabled:v,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:v?"Desbloqueando...":"Desbloquear"})]}),E&&a.jsx("button",{type:"button",onClick:()=>{_(m),p(null),g(!0),N(!1)},className:"mt-3 text-xs text-gray-400 hover:text-gray-600 transition-colors",children:"Admin"})]})}),a.jsx("style",{children:`
        @keyframes bounce-slow {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-15px);
          }
        }

        .animate-bounce-slow {
          animation: bounce-slow 2.5s ease-in-out infinite;
        }
      `})]})}function xM({world:t,currentLevel:e,onSelectLevel:r,onBack:s}){var b;const n=zO(t),i=HO((b=n[0])==null?void 0:b.theme),[o,l]=x.useState({}),[c,u]=x.useState(null),[d,h]=x.useState(0),[f,m]=x.useState(!1);x.useEffect(()=>{(async()=>{console.log("[LevelSelector] ===================================="),console.log("[LevelSelector] Loading level states for world",t);const g=`world-${t}`;console.log("[LevelSelector] Calling ensureWorld..."),await h1(g,5),console.log("[LevelSelector] Calling getWorldState...");const w=await AN(g);console.log("[LevelSelector] State received:",JSON.stringify(w,null,2));const k={};w.levels.forEach((j,_)=>{k[_+1]=j.unlocked,console.log(`[LevelSelector] Level ${_+1}: unlocked=${j.unlocked}, completed=${j.completed}`)}),k[1]=!0,console.log("[LevelSelector] Final levelAccess:",k),l(k),h(Ie()),console.log("[LevelSelector] ====================================")})()},[t]);const p=async y=>{const g=Gl(t,y);r(g)},v=async()=>{if(!c)return;m(!0);const y=`world-${t}`,g=await ON(y,c,vg);if(g.ok){l({...o,[c]:!0}),h(Ie());const w=Gl(t,c);u(null),r(w)}else alert(g.reason);m(!1)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-6",children:[a.jsx("button",{onClick:s,className:"text-white mb-6 font-semibold text-lg flex items-center gap-2 hover:scale-105 transition-transform",children:" Mundos"}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Mundo ",t]}),a.jsx("p",{className:"text-white/90 text-xl",children:i})]}),a.jsx("div",{className:"grid grid-cols-5 gap-2 sm:gap-4 max-w-lg mx-auto mb-8 px-4",children:n.map(y=>{const g=o[y.level]??!1,k=Gl(t,y.level)===e;return a.jsx("button",{onClick:()=>p(y.level),className:`relative aspect-square rounded-2xl font-bold text-base sm:text-xl transition-all shadow-lg ${g?k?"bg-yellow-400 scale-110 shadow-xl text-yellow-900":"bg-white hover:scale-105 text-purple-700":"bg-gray-700 opacity-50 text-gray-400"}`,children:g?a.jsxs(a.Fragment,{children:[a.jsx("span",{children:y.level}),k&&a.jsx(Ao,{className:"absolute -top-1 sm:-top-2 -right-1 sm:-right-2 text-yellow-600 fill-yellow-400",size:16}),y.level===5&&a.jsx(lt,{className:"absolute -bottom-0.5 sm:-bottom-1 left-1/2 -translate-x-1/2 text-orange-500",size:14})]}):a.jsx(Rn,{className:"absolute inset-0 m-auto text-gray-500",size:16})},y.level)})}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-3xl p-6 max-w-lg mx-auto text-white",children:[a.jsx("h3",{className:"font-bold text-xl mb-3",children:" Informacin del Mundo"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[" Tiempo: ",n[0].timeLimit,"s - ",n[4].timeLimit,"s"]}),a.jsxs("p",{children:[" Parejas: ",n[0].pairs," - ",n[4].pairs]}),a.jsxs("p",{children:[" Recompensa total: ",n.reduce((y,g)=>y+g.unlockReward,0)," monedas"]}),a.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completa niveles para desbloquear el siguiente"}),a.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completar nivel 5 desbloquea el siguiente mundo"})]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Nivel ",c]}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Saltars el requisito de completar el nivel anterior. Solo este nivel ser desbloqueado."}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(wr,{size:24,className:"text-white"}),a.jsx("span",{className:"text-2xl font-bold text-white",children:vg})]}),a.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",d," monedas"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>u(null),disabled:f,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),a.jsx("button",{type:"button",onClick:v,disabled:f,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:f?"Desbloqueando...":"Desbloquear"})]})]})})]})}const kM=[{name:"level_1.mp3",description:"Msica Nivel 1"},{name:"level_2.mp3",description:"Msica Nivel 2"},{name:"level_3.mp3",description:"Msica Nivel 3"},{name:"level_4.mp3",description:"Msica Nivel 4"},{name:"level_5.mp3",description:"Msica Nivel 5"},{name:"level_6.mp3",description:"Msica Nivel 6"},{name:"level_7.mp3",description:"Msica Nivel 7"},{name:"level_8.mp3",description:"Msica Nivel 8"},{name:"level_9.mp3",description:"Msica Nivel 9"},{name:"level_10.mp3",description:"Msica Nivel 10"},{name:"start_theme.mp3",description:"Msica Men Principal"},{name:"match.wav",description:"Efecto Match"},{name:"win.mp3",description:"Efecto Victoria"},{name:"lose.mp3",description:"Efecto Derrota"}];function _M(){const[t,e]=x.useState(null),[r,s]=x.useState(new Set),[n,i]=x.useState({}),o=async(c,u)=>{e(c),i(d=>{const h={...d};return delete h[c],h});try{const d=new FormData;d.append("file",u),d.append("fileName",c);const h=await fetch("https://fdlqyqeobwumyjuqgrpl.supabase.co/functions/v1/upload-audio",{method:"POST",body:d});if(!h.ok){const m=await h.json();throw new Error(m.error||"Error al subir archivo")}const f=await h.json();if(!f.success)throw new Error(f.error||"Error al subir archivo");s(m=>new Set([...m,c]))}catch(d){console.error("Error uploading file:",d),i(h=>({...h,[c]:d instanceof Error?d.message:"Error al subir archivo"}))}finally{e(null)}},l=(c,u)=>{var h;const d=(h=u.target.files)==null?void 0:h[0];d&&o(c,d)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-pink-900 p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Subir Archivos de Audio"}),a.jsx("p",{className:"text-white/80 mb-6",children:"Sube los archivos de audio CC0 que descargaste desde los sitios recomendados."}),a.jsx("div",{className:"space-y-3",children:kM.map(({name:c,description:u})=>{const d=r.has(c),h=t===c,f=n[c];return a.jsx("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:border-white/20 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-white font-medium",children:c}),d&&a.jsx(As,{className:"w-5 h-5 text-green-400"})]}),a.jsx("span",{className:"text-white/60 text-sm",children:u}),f&&a.jsxs("div",{className:"flex items-center gap-2 mt-1 text-red-400 text-sm",children:[a.jsx(zi,{className:"w-4 h-4"}),a.jsx("span",{children:f})]})]}),a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"audio/*",onChange:m=>l(c,m),className:"hidden",disabled:h}),a.jsxs("div",{className:`
                        flex items-center gap-2 px-4 py-2 rounded-lg
                        transition-all
                        ${h?"bg-white/10 text-white/50 cursor-not-allowed":d?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-blue-500 text-white hover:bg-blue-600"}
                      `,children:[a.jsx(VS,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:h?"Subiendo...":d?"Reemplazar":"Subir"})]})]})]})},c)})}),a.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:a.jsxs("p",{className:"text-white/90 text-sm",children:[a.jsx("strong",{children:"Importante:"})," Asegrate de descargar archivos CC0 (dominio pblico) de sitios como FreePD.com, Pixabay, Freesound.org o OpenGameArt.org para evitar problemas de copyright."]})})]})})})}const jM=({onBack:t})=>{const e=()=>{t?t():window.location.href="/"};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[a.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-6",children:a.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 font-semibold transition-colors",children:[a.jsx(vr,{size:20}),"Back"]})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:[a.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-4",children:"Privacy Policy"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Last updated: December 19, 2025"}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Introduction"}),a.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Welcome to Twin Clash. We are committed to protecting your privacy and ensuring transparency about how we collect, use, and safeguard your information. This Privacy Policy explains our practices regarding data collection and usage when you access and play our game at"," ",a.jsx("a",{href:"https://twinclash.org",className:"text-blue-600 hover:underline",children:"https://twinclash.org"}),"."]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using Twin Clash, you agree to the collection and use of information in accordance with this policy. If you do not agree with our policies and practices, please do not use our game."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Information We Collect"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Personal Information"}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Twin Clash does not require users to create an account or provide personal information to play the game. We do not directly collect names, email addresses, or other personally identifiable information unless you voluntarily contact us."}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Automatically Collected Information"}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"When you access Twin Clash, we may automatically collect certain technical information, including:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-700 leading-relaxed mb-4 space-y-2 ml-4",children:[a.jsx("li",{children:"Device type and operating system"}),a.jsx("li",{children:"Browser type and version"}),a.jsx("li",{children:"IP address (anonymized)"}),a.jsx("li",{children:"Gameplay events and interactions within the game"}),a.jsx("li",{children:"Session duration and frequency of visits"}),a.jsx("li",{children:"Cookies and similar tracking technologies"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"This information is collected to improve game performance, understand user behavior, and provide a better gaming experience."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cookies and Advertising Technologies"}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Twin Clash uses cookies and similar technologies to enhance your experience and deliver relevant advertisements. Cookies are small data files stored on your device that help us recognize your browser and capture certain information."}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Advertising Partners"}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"We work with third-party advertising partners to display ads in our game:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-700 leading-relaxed mb-4 space-y-2 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Google AdSense:"})," Uses cookies to serve ads based on your prior visits to our site and other sites on the Internet. You can opt out of personalized advertising by visiting"," ",a.jsx("a",{href:"https://policies.google.com/technologies/ads",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Google's Ads Settings"}),"."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"TikTok Ads:"})," May collect information about your interactions with ads to measure ad effectiveness and deliver personalized advertising."]})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"These third-party vendors may use cookies, web beacons, and other technologies to collect information about your online activities across different websites and services."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Analytics and Performance Tracking"}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We use Firebase Analytics, a service provided by Google, to collect and analyze information about how users interact with Twin Clash. Firebase Analytics helps us understand:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-700 leading-relaxed mb-4 space-y-2 ml-4",children:[a.jsx("li",{children:"How many users play our game"}),a.jsx("li",{children:"Which features are most popular"}),a.jsx("li",{children:"How long users engage with the game"}),a.jsx("li",{children:"Technical performance and error tracking"})]}),a.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["The data collected through Firebase Analytics is anonymous and aggregated. It does not include personally identifiable information. For more information about how Google uses data from sites that use their services, please visit"," ",a.jsx("a",{href:"https://policies.google.com/technologies/partner-sites",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://policies.google.com/technologies/partner-sites"}),"."]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Children's Information"}),a.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Twin Clash is not specifically directed at children under the age of 13. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe that your child has provided us with personal information, please contact us at"," ",a.jsx("a",{href:"mailto:service@productionsbardi.com",className:"text-blue-600 hover:underline",children:"service@productionsbardi.com"}),". We will take steps to remove such information from our systems."]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"In compliance with the Children's Online Privacy Protection Act (COPPA), we do not require children to disclose more information than is reasonably necessary to participate in our game."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"How We Use Information"}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"The information we collect is used for the following purposes:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-700 leading-relaxed mb-4 space-y-2 ml-4",children:[a.jsx("li",{children:"To provide and maintain the Twin Clash game"}),a.jsx("li",{children:"To improve game performance and user experience"}),a.jsx("li",{children:"To understand how users interact with our game"}),a.jsx("li",{children:"To detect, prevent, and address technical issues"}),a.jsx("li",{children:"To deliver personalized advertising through our partners"}),a.jsx("li",{children:"To analyze trends and gather statistical information"}),a.jsx("li",{children:"To comply with legal obligations"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We do not sell, trade, or rent your personal information to third parties. Anonymous, aggregated data may be shared with partners to improve our services."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Third-Party Privacy Policies"}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Twin Clash's Privacy Policy does not apply to other advertisers or websites. We advise you to consult the respective privacy policies of these third-party services for more detailed information:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-700 leading-relaxed mb-4 space-y-2 ml-4",children:[a.jsxs("li",{children:["Google AdSense:"," ",a.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://policies.google.com/privacy"})]}),a.jsxs("li",{children:["Firebase (Google):"," ",a.jsx("a",{href:"https://firebase.google.com/support/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://firebase.google.com/support/privacy"})]}),a.jsxs("li",{children:["TikTok:"," ",a.jsx("a",{href:"https://www.tiktok.com/legal/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://www.tiktok.com/legal/privacy-policy"})]})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You may opt out of personalized advertising by visiting the respective settings pages of these services or by using browser settings to disable cookies."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"GDPR and Your Data Rights"}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you are located in the European Economic Area (EEA), you have certain data protection rights under the General Data Protection Regulation (GDPR). Twin Clash aims to take reasonable steps to allow you to correct, amend, delete, or limit the use of your data."}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Your Rights Include:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-700 leading-relaxed mb-4 space-y-2 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Right of Access:"})," You have the right to request information about the personal data we hold about you."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Rectification:"})," You have the right to have incomplete or inaccurate data corrected."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Erasure:"})," You have the right to request that we delete your personal data under certain conditions."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Restrict Processing:"})," You have the right to request that we restrict the processing of your personal data."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Object:"})," You have the right to object to our processing of your personal data."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Data Portability:"})," You have the right to request a copy of your data in a structured, machine-readable format."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Withdraw Consent:"})," You have the right to withdraw your consent at any time where we rely on consent to process your data."]})]}),a.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["To exercise any of these rights, please contact us at"," ",a.jsx("a",{href:"mailto:service@productionsbardi.com",className:"text-blue-600 hover:underline",children:"service@productionsbardi.com"}),". We will respond to your request within 30 days."]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Consent"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using Twin Clash, you hereby consent to our Privacy Policy and agree to its terms. Your continued use of the game following any changes to this policy will be deemed as acceptance of those changes."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Changes to This Privacy Policy"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date. You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page.'})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Contact Information"}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you have any questions, concerns, or requests regarding this Privacy Policy or our data practices, please contact us:"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[a.jsxs("p",{className:"text-gray-700 mb-2",children:[a.jsx("strong",{children:"Email:"})," ",a.jsx("a",{href:"mailto:service@productionsbardi.com",className:"text-blue-600 hover:underline",children:"service@productionsbardi.com"})]}),a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:"Website:"})," ",a.jsx("a",{href:"https://twinclash.org",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://twinclash.org"})]})]})]}),a.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:a.jsx("p",{className:"text-center text-gray-600 text-sm",children:"This Privacy Policy is effective as of December 19, 2025 and will remain in effect except with respect to any changes in its provisions in the future, which will be in effect immediately after being posted on this page."})})]})})]})};function SM({onBack:t}){const[e,r]=x.useState(!1),[s,n]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(""),[h,f]=x.useState("https://twinclash.org/"),[m,p]=x.useState(!1),[v,b]=x.useState(null),y="twinclash2025",g="twinclash_push_admin_2025";x.useEffect(()=>{sessionStorage.getItem("admin_authenticated")==="true"&&r(!0)},[]);const w=j=>{j.preventDefault(),s===y?(r(!0),sessionStorage.setItem("admin_authenticated","true"),o(""),n("")):(o("Contrasea incorrecta. Acceso denegado."),n(""))},k=async j=>{if(j.preventDefault(),!l.trim()||!u.trim()){b({type:"error",message:"El ttulo y el mensaje son obligatorios"});return}p(!0),b(null);try{const _=await fetch("/.netlify/functions/send-push",{method:"POST",headers:{"Content-Type":"application/json","x-admin-key":g},body:JSON.stringify({title:l.trim(),body:u.trim(),url:h.trim()||"https://twinclash.org/"})}),E=await _.json();if(!_.ok)throw new Error(E.error||"Error al enviar notificaciones");b({type:"success",message:`Enviado exitosamente! ${E.sent} usuarios recibieron la notificacin. ${E.failed>0?`${E.failed} fallidos.`:""}`}),c(""),d(""),f("https://twinclash.org/")}catch(_){console.error("[AdminPush] Error:",_),b({type:"error",message:_.message||"Error al enviar notificaciones. Revisa la consola."})}finally{p(!1)}};return e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 py-8",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-white hover:text-purple-300 mb-6 transition-colors",children:[a.jsx(vr,{size:20}),"Volver al juego"]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-8 text-white",children:a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[a.jsx("div",{className:"bg-white/20 p-3 rounded-full",children:a.jsx(Bh,{size:32})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-black",children:"Panel de Push"}),a.jsx("p",{className:"text-purple-100",children:"Enva notificaciones a todos los usuarios"})]})]})}),a.jsxs("form",{onSubmit:k,className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-bold text-gray-700 mb-2",children:["Ttulo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",value:l,onChange:j=>c(j.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none transition-colors text-lg",placeholder:"Ej: Nuevo nivel disponible!",maxLength:100,required:!0}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length,"/100 caracteres"]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"body",className:"block text-sm font-bold text-gray-700 mb-2",children:["Mensaje ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"body",value:u,onChange:j=>d(j.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none transition-colors text-lg resize-none",placeholder:"Ej: Descubre el mundo 5 con nuevos desafos...",rows:4,maxLength:300,required:!0}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.length,"/300 caracteres"]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"url",className:"block text-sm font-bold text-gray-700 mb-2",children:"URL (opcional)"}),a.jsx("input",{type:"url",id:"url",value:h,onChange:j=>f(j.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none transition-colors",placeholder:"https://twinclash.org/"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL a la que ir el usuario al hacer clic"})]}),v&&a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border-l-4 ${v.type==="success"?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:[v.type==="success"?a.jsx(pS,{size:24,className:"text-green-600 flex-shrink-0 mt-0.5"}):a.jsx(zi,{size:24,className:"text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-semibold ${v.type==="success"?"text-green-800":"text-red-800"}`,children:v.type==="success"?"xito!":"Error"}),a.jsx("p",{className:`text-sm ${v.type==="success"?"text-green-700":"text-red-700"}`,children:v.message})]})]}),a.jsx("button",{type:"submit",disabled:m,className:`w-full font-bold py-5 rounded-xl transition-all flex items-center justify-center gap-3 text-lg ${m?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-lg hover:shadow-xl"} text-white`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(CS,{size:24,className:"animate-spin"}),"Enviando notificaciones..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Bh,{size:24}),"Enviar notificacin a TODOS los usuarios"]})}),a.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:" Informacin importante:"}),a.jsxs("ul",{className:"text-xs text-blue-800 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Solo se enva a usuarios activos (ltimos 30 das)"}),a.jsx("li",{children:"Los tokens invlidos se eliminan automticamente"}),a.jsx("li",{children:"Las notificaciones pueden tardar unos segundos"}),a.jsx("li",{children:"Los usuarios deben tener notificaciones activadas"})]})]})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"bg-purple-100 p-4 rounded-full",children:a.jsx(Rn,{size:48,className:"text-purple-600"})})}),a.jsx("h1",{className:"text-3xl font-black text-gray-800 text-center mb-2",children:"Panel de Administracin"}),a.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Notificaciones Push"}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contrasea"}),a.jsx("input",{type:"password",id:"password",value:s,onChange:j=>n(j.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none transition-colors",placeholder:"Ingresa la contrasea",autoFocus:!0})]}),i&&a.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border-l-4 border-red-500 rounded-lg",children:[a.jsx(zi,{size:20,className:"text-red-600 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-red-800",children:i})]}),a.jsxs("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 rounded-xl transition-colors flex items-center justify-center gap-2",children:[a.jsx(Rn,{size:20}),"Acceder"]})]}),a.jsx("button",{onClick:t,className:"w-full mt-4 text-gray-600 hover:text-gray-800 font-medium py-2 transition-colors",children:"Volver"})]})})}let EM={data:""},NM=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||EM},CM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,TM=/\/\*[^]*?\*\/|  +/g,Wy=/\n+/g,vs=(t,e)=>{let r="",s="",n="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":s+=i[1]=="f"?vs(o,i):i+"{"+vs(o,i[1]=="k"?"":e)+"}":typeof o=="object"?s+=vs(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=vs.p?vs.p(i,o):i+":"+o+";")}return r+(e&&n?e+"{"+n+"}":n)+s},Fr={},q2=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+q2(t[r]);return e}return t},PM=(t,e,r,s,n)=>{let i=q2(t),o=Fr[i]||(Fr[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Fr[o]){let c=i!==t?t:(u=>{let d,h,f=[{}];for(;d=CM.exec(u.replace(TM,""));)d[4]?f.shift():d[3]?(h=d[3].replace(Wy," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(Wy," ").trim();return f[0]})(t);Fr[o]=vs(n?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Fr.g?Fr.g:null;return r&&(Fr.g=Fr[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Fr[o],e,s,l),o},RM=(t,e,r)=>t.reduce((s,n,i)=>{let o=e[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":vs(l,""):l===!1?"":l}return s+n+(o??"")},"");function Eu(t){let e=this||{},r=t.call?t(e.p):t;return PM(r.unshift?r.raw?RM(r,[].slice.call(arguments,1),e.p):r.reduce((s,n)=>Object.assign(s,n&&n.call?n(e.p):n),{}):r,NM(e.target),e.g,e.o,e.k)}let H2,Nf,Cf;Eu.bind({g:1});let ns=Eu.bind({k:1});function IM(t,e,r,s){vs.p=e,H2=t,Nf=r,Cf=s}function Hs(t,e){let r=this||{};return function(){let s=arguments;function n(i,o){let l=Object.assign({},i),c=l.className||n.className;r.p=Object.assign({theme:Nf&&Nf()},l),r.o=/ *go\d+/.test(c),l.className=Eu.apply(r,s)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Cf&&u[0]&&Cf(l),H2(u,l)}return n}}var LM=t=>typeof t=="function",Wc=(t,e)=>LM(t)?t(e):t,OM=(()=>{let t=0;return()=>(++t).toString()})(),G2=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),MM=20,yp="default",K2=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:s}=e;return K2(t,{type:t.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Kl=[],J2={toasts:[],pausedAt:void 0,settings:{toastLimit:MM}},Rr={},Y2=(t,e=yp)=>{Rr[e]=K2(Rr[e]||J2,t),Kl.forEach(([r,s])=>{r===e&&s(Rr[e])})},Q2=t=>Object.keys(Rr).forEach(e=>Y2(t,e)),AM=t=>Object.keys(Rr).find(e=>Rr[e].toasts.some(r=>r.id===t)),Nu=(t=yp)=>e=>{Y2(e,t)},DM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zM=(t={},e=yp)=>{let[r,s]=x.useState(Rr[e]||J2),n=x.useRef(Rr[e]);x.useEffect(()=>(n.current!==Rr[e]&&s(Rr[e]),Kl.push([e,s]),()=>{let o=Kl.findIndex(([l])=>l===e);o>-1&&Kl.splice(o,1)}),[e]);let i=r.toasts.map(o=>{var l,c,u;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||DM[o.type],style:{...t.style,...(u=t[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:i}},$M=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||OM()}),La=t=>(e,r)=>{let s=$M(e,t,r);return Nu(s.toasterId||AM(s.id))({type:2,toast:s}),s.id},Ge=(t,e)=>La("blank")(t,e);Ge.error=La("error");Ge.success=La("success");Ge.loading=La("loading");Ge.custom=La("custom");Ge.dismiss=(t,e)=>{let r={type:3,toastId:t};e?Nu(e)(r):Q2(r)};Ge.dismissAll=t=>Ge.dismiss(void 0,t);Ge.remove=(t,e)=>{let r={type:4,toastId:t};e?Nu(e)(r):Q2(r)};Ge.removeAll=t=>Ge.remove(void 0,t);Ge.promise=(t,e,r)=>{let s=Ge.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let i=e.success?Wc(e.success,n):void 0;return i?Ge.success(i,{id:s,...r,...r==null?void 0:r.success}):Ge.dismiss(s),n}).catch(n=>{let i=e.error?Wc(e.error,n):void 0;i?Ge.error(i,{id:s,...r,...r==null?void 0:r.error}):Ge.dismiss(s)}),t};var FM=1e3,UM=(t,e="default")=>{let{toasts:r,pausedAt:s}=zM(t,e),n=x.useRef(new Map).current,i=x.useCallback((h,f=FM)=>{if(n.has(h))return;let m=setTimeout(()=>{n.delete(h),o({type:4,toastId:h})},f);n.set(h,m)},[]);x.useEffect(()=>{if(s)return;let h=Date.now(),f=r.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(h-m.createdAt);if(p<0){m.visible&&Ge.dismiss(m.id);return}return setTimeout(()=>Ge.dismiss(m.id,e),p)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[r,s,e]);let o=x.useCallback(Nu(e),[e]),l=x.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=x.useCallback((h,f)=>{o({type:1,toast:{id:h,height:f}})},[o]),u=x.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),d=x.useCallback((h,f)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:v}=f||{},b=r.filter(w=>(w.position||v)===(h.position||v)&&w.height),y=b.findIndex(w=>w.id===h.id),g=b.filter((w,k)=>k<y&&w.visible).length;return b.filter(w=>w.visible).slice(...m?[g+1]:[0,g]).reduce((w,k)=>w+(k.height||0)+p,0)},[r]);return x.useEffect(()=>{r.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=n.get(h.id);f&&(clearTimeout(f),n.delete(h.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},BM=ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,VM=ns`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WM=ns`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qM=Hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${VM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${WM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,HM=ns`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,GM=Hs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${HM} 1s linear infinite;
`,KM=ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,JM=ns`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,YM=Hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${JM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QM=Hs("div")`
  position: absolute;
`,XM=Hs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ZM=ns`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eA=Hs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ZM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tA=({toast:t})=>{let{icon:e,type:r,iconTheme:s}=t;return e!==void 0?typeof e=="string"?x.createElement(eA,null,e):e:r==="blank"?null:x.createElement(XM,null,x.createElement(GM,{...s}),r!=="loading"&&x.createElement(QM,null,r==="error"?x.createElement(qM,{...s}):x.createElement(YM,{...s})))},rA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,sA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,nA="0%{opacity:0;} 100%{opacity:1;}",iA="0%{opacity:1;} 100%{opacity:0;}",oA=Hs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aA=Hs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,lA=(t,e)=>{let r=t.includes("top")?1:-1,[s,n]=G2()?[nA,iA]:[rA(r),sA(r)];return{animation:e?`${ns(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ns(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},cA=x.memo(({toast:t,position:e,style:r,children:s})=>{let n=t.height?lA(t.position||e||"top-center",t.visible):{opacity:0},i=x.createElement(tA,{toast:t}),o=x.createElement(aA,{...t.ariaProps},Wc(t.message,t));return x.createElement(oA,{className:t.className,style:{...n,...r,...t.style}},typeof s=="function"?s({icon:i,message:o}):x.createElement(x.Fragment,null,i,o))});IM(x.createElement);var uA=({id:t,className:e,style:r,onHeightUpdate:s,children:n})=>{let i=x.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;s(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return x.createElement("div",{ref:i,className:e,style:r},n)},dA=(t,e)=>{let r=t.includes("top"),s=r?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:G2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...s,...n}},hA=Eu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sl=16,qy=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:s,children:n,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=UM(r,i);return x.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Sl,left:Sl,right:Sl,bottom:Sl,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let h=d.position||e,f=u.calculateOffset(d,{reverseOrder:t,gutter:s,defaultPosition:e}),m=dA(h,f);return x.createElement(uA,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?hA:"",style:m},d.type==="custom"?Wc(d.message,d):n?n(d):x.createElement(cA,{toast:d,position:h}))}))},on=Ge;function fA({isHomeScreen:t}){const[e,r]=x.useState("default"),[s,n]=x.useState(!1);x.useEffect(()=>{i()},[]);const i=()=>{if(console.log("[PUSH BELL] Verificando estado inicial..."),!("Notification"in window)||!("serviceWorker"in navigator)){console.log("[PUSH BELL] Navegador no soporta notificaciones"),r("denied"),localStorage.setItem("push_status","denied");return}const l=localStorage.getItem("push_status");l?(console.log("[PUSH BELL] Estado guardado en localStorage:",l),r(l)):Notification.permission==="granted"?(console.log("[PUSH BELL] Permiso ya concedido por el navegador"),r("granted"),localStorage.setItem("push_status","granted")):Notification.permission==="denied"?(console.log("[PUSH BELL] Permiso denegado por el navegador"),r("denied"),localStorage.setItem("push_status","denied")):(console.log("[PUSH BELL] Estado pendiente - esperando accin del usuario"),r("default"))},o=async()=>{if(!("Notification"in window)||!("serviceWorker"in navigator)){console.error("[PUSH BELL] Navegador no soporta notificaciones"),on.error("Tu navegador no soporta notificaciones",{duration:4e3,position:"bottom-right"}),r("denied"),localStorage.setItem("push_status","denied");return}if(e==="granted"){console.log("[PUSH BELL] Ya est activado, no hacer nada");return}console.log("[PUSH BELL] Usuario hizo clic - solicitando permiso..."),n(!0);try{const l=await Notification.requestPermission();if(console.log("[PUSH BELL] Resultado del permiso:",l),l==="granted"){console.log("[PUSH BELL]  Permiso concedido - obteniendo token...");const c="PEGA_TU_VAPID_KEY_AQUI",u=Q1(Z1),d=await navigator.serviceWorker.ready,h=await X1(u,{vapidKey:c,serviceWorkerRegistration:d});if(!h){console.error("[PUSH BELL]  No se pudo obtener el token FCM"),on.error("Error al obtener token. Intenta de nuevo.",{duration:4e3,position:"bottom-right"}),n(!1);return}console.log("[PUSH BELL]  Token obtenido:",h.substring(0,20)+"..."),console.log("[PUSH BELL] Guardando token en Supabase..."),(await fetch("/.netlify/functions/register-push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:h,platform:"web",locale:navigator.language})})).ok?(console.log("[PUSH BELL]  Token guardado exitosamente en Supabase"),r("granted"),localStorage.setItem("push_status","granted"),on.success("Notificaciones activadas! ",{duration:4e3,position:"bottom-right",icon:""})):(console.error("[PUSH BELL]  Error al guardar token en backend"),on.error("Error al registrar. Intenta de nuevo.",{duration:4e3,position:"bottom-right"}))}else l==="denied"?(console.log("[PUSH BELL]  Usuario deneg el permiso"),r("denied"),localStorage.setItem("push_status","denied"),on.error("Notificaciones bloqueadas ",{duration:4e3,position:"bottom-right"})):(console.log("[PUSH BELL]  Permiso no concedido (default)"),on("Debes aceptar el permiso de notificaciones",{duration:4e3,position:"bottom-right"}))}catch(l){console.error("[PUSH BELL]  Error al activar notificaciones:",l),on.error("Error al activar notificaciones",{duration:4e3,position:"bottom-right"})}finally{n(!1)}};return t?e==="denied"?a.jsx(a.Fragment,{children:a.jsx(qy,{})}):a.jsxs(a.Fragment,{children:[a.jsx(qy,{}),a.jsx("button",{onClick:o,disabled:e==="granted"||s,className:`fixed bottom-6 right-6 z-50 w-16 h-16 rounded-full shadow-2xl transition-all duration-300 flex items-center justify-center ${e==="granted"?"bg-gradient-to-r from-green-500 to-emerald-600 cursor-default":"bg-gradient-to-r from-purple-600 to-pink-600 hover:shadow-purple-500/50 hover:scale-110 animate-pulse-slow"}`,title:e==="granted"?"Notificaciones activadas":"Activar notificaciones",children:s?a.jsx("div",{className:"w-8 h-8 border-4 border-white/30 border-t-white rounded-full animate-spin"}):e==="granted"?a.jsx(As,{size:32,className:"text-white animate-bounce"}):a.jsx(_m,{size:32,className:"text-white animate-wiggle"})}),a.jsx("style",{children:`
        @keyframes pulse-slow {
          0%, 100% {
            transform: scale(1);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
          }
          50% {
            transform: scale(1.05);
            box-shadow: 0 25px 50px -12px rgba(147, 51, 234, 0.5);
          }
        }

        @keyframes wiggle {
          0%, 100% { transform: rotate(0deg); }
          25% { transform: rotate(-10deg); }
          75% { transform: rotate(10deg); }
        }

        .animate-wiggle {
          animation: wiggle 1s ease-in-out infinite;
        }

        .animate-pulse-slow {
          animation: pulse-slow 2s ease-in-out infinite;
        }
      `})]}):null}const mA={apiKey:"AIzaSyAw4bFf4JssC0FWFD12-ImaJpDC8dg",authDomain:"twinclash-c6eac.firebaseapp.com",projectId:"twinclash-c6eac",storageBucket:"twinclash-c6eac.appspot.com",messagingSenderId:"189939875668",appId:"1:189939875668:web:6330e6e16d82051fb18c1"};let Gd=null,pA=null,Hy=!1;function gA(){var t,e;if(!Hy)try{typeof window<"u"&&window.firebase&&(window.firebase.initializeApp(mA),window.firebase.messaging&&((e=(t=window.firebase.messaging).isSupported)!=null&&e.call(t))&&(Gd=window.firebase.messaging(),console.log("[FCM] Firebase Cloud Messaging initialized")),window.firebase.firestore&&(pA=window.firebase.firestore(),console.log("[Firestore] Firebase Firestore initialized")),Hy=!0,Gd&&Gd.onMessage(r=>{var i,o;console.log("[FCM] Mensaje recibido en foreground:",r);const s=((i=r.notification)==null?void 0:i.title)||"Twin Clash!",n=((o=r.notification)==null?void 0:o.body)||"Tienes una nueva notificacin";yA(s,n)}))}catch(r){console.warn("[FCM] Error initializing Firebase (no crtico):",r)}}function yA(t,e){const r=document.createElement("div");r.style.cssText=`
    position: fixed;
    top: 20px;
    right: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 16px 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    z-index: 99999;
    max-width: 350px;
    animation: slideIn 0.3s ease-out;
    font-family: system-ui, -apple-system, sans-serif;
  `,r.innerHTML=`
    <div style="font-weight: bold; margin-bottom: 4px;">${t}</div>
    <div style="font-size: 14px; opacity: 0.9;">${e}</div>
  `;const s=document.createElement("style");s.textContent=`
    @keyframes slideIn {
      from { transform: translateX(400px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
  `,document.head.appendChild(s),document.body.appendChild(r),setTimeout(()=>{r.style.animation="slideIn 0.3s ease-out reverse",setTimeout(()=>r.remove(),300)},5e3)}function vA(){const t=NN();if("https://fdlqyqeobwumyjuqgrpl.supabase.co".includes("your_")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI".includes("your_"))return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-500 via-orange-500 to-yellow-500 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:a.jsx(zi,{size:48,className:"text-red-600"})})}),a.jsx("h1",{className:"text-3xl font-black text-gray-800 text-center mb-4",children:"Configuracin Incompleta"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{className:"text-center",children:"Faltan las variables de entorno de Supabase. Por favor configura:"}),a.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 font-mono text-sm",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-red-600 font-bold",children:"VITE_SUPABASE_URL"}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:" Configurada"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-red-600 font-bold",children:"VITE_SUPABASE_ANON_KEY"}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:" Configurada"})]})]}),a.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 text-sm",children:[a.jsx("p",{className:"font-semibold text-blue-800 mb-2",children:"Para desarrollo local:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-700",children:[a.jsxs("li",{children:["Crea un archivo ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:".env"})]}),a.jsx("li",{children:"Agrega tus credenciales de Supabase"}),a.jsx("li",{children:"Reinicia el servidor de desarrollo"})]})]}),a.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 text-sm",children:[a.jsx("p",{className:"font-semibold text-green-800 mb-2",children:"Para produccin:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-green-700",children:[a.jsx("li",{children:"Configura las variables en tu plataforma de hosting"}),a.jsx("li",{children:"Verifica que los nombres sean exactos"}),a.jsx("li",{children:"Realiza un nuevo deploy"})]})]})]})]})});const[s,n]=x.useState(()=>{const v=window.location.pathname,y=new URLSearchParams(window.location.search).get("mode");return v==="/terms"?"privacy":v==="/admin/push"?"adminpush":y==="duel"?"duel":y==="upload"?"upload":y==="privacy"?"privacy":"simple"}),[i,o]=x.useState(1),[l,c]=x.useState(1),[u,d]=x.useState(!0),[h]=x.useState(()=>{let v=localStorage.getItem("clientId");return v||(v=`client-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,localStorage.setItem("clientId",v)),v});x.useEffect(()=>{(async()=>{await hu();const b=Ea();console.log("[App] Loaded current level from storage:",b),o(b),d(!1),gA()})()},[]),x.useEffect(()=>{(s==="simple"||s==="menu")&&!u&&me.playStartMusic()},[s,u]);const f=()=>{n("challenge")},m=()=>{n("duel")},p=()=>{me.stopLevelMusic(),me.playStartMusic(),n("menu")};return u?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-400 mx-auto mb-4"}),a.jsx("p",{className:"text-white text-xl font-bold",children:"Sincronizando progreso..."})]})}):a.jsxs(u1.Provider,{value:t,children:[a.jsx(fA,{isHomeScreen:s==="simple"}),s==="simple"&&a.jsx(CN,{onStartLevel1:()=>{o(1),n("game")},onContinueLevel:v=>{o(v),n("game")},onStartDuel:m}),s==="menu"&&a.jsx(H4,{onStartGame:()=>{o(1),n("game")},onContinueGame:v=>{o(v),n("game")},onShowWorldMap:()=>n("worldmap"),onStartDailyChallenge:f,onStartDuel:m}),s==="worldmap"&&a.jsx(bM,{currentWorld:Math.ceil(i/5),currentLevel:i,worldsCompleted:Math.max(0,Math.ceil(i/5)-1),onSelectWorld:v=>{c(v),n("levelselect")},onBackToMenu:()=>{me.stopLevelMusic(),me.playStartMusic(),n("menu")}}),s==="levelselect"&&a.jsx(xM,{world:l,currentLevel:i,onSelectLevel:v=>{o(v),n("game")},onBack:()=>n("worldmap")}),s==="game"&&a.jsx(nM,{initialLevel:i,onBackToMenu:p,onShowWorldMap:()=>n("worldmap")},i),s==="challenge"&&a.jsx(yM,{onBackToMenu:p}),s==="duel"&&a.jsx(pM,{onBack:p,clientId:h}),s==="upload"&&a.jsx(_M,{}),s==="privacy"&&a.jsx(jM,{onBack:()=>n("simple")}),s==="adminpush"&&a.jsx(SM,{onBack:()=>n("simple")})]})}"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const t=await navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("[PUSH] SW registered:",t.scope),console.log("[PUSH] Service worker listo. Use el botn de notificaciones para activar.")}catch(t){console.error("[PUSH] SW register failed:",t)}});ob(document.getElementById("root")).render(a.jsx(x.StrictMode,{children:a.jsx(vA,{})}));window.addEventListener("add-coins",t=>{const e=t.detail||2e3,r=Nr(e);console.log(`+${e} monedas aadidas! Total: ${r}`)});
