var Kw=Object.defineProperty;var Jw=(t,e,n)=>e in t?Kw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mt=(t,e,n)=>Jw(t,typeof e!="symbol"?e+"":e,n);function Qw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Yw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ym={exports:{}},bl={},Xm={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ko=Symbol.for("react.element"),Zw=Symbol.for("react.portal"),ex=Symbol.for("react.fragment"),tx=Symbol.for("react.strict_mode"),nx=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),sx=Symbol.for("react.context"),ix=Symbol.for("react.forward_ref"),ox=Symbol.for("react.suspense"),ax=Symbol.for("react.memo"),lx=Symbol.for("react.lazy"),Xh=Symbol.iterator;function cx(t){return t===null||typeof t!="object"?null:(t=Xh&&t[Xh]||t["@@iterator"],typeof t=="function"?t:null)}var Zm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eg=Object.assign,tg={};function ii(t,e,n){this.props=t,this.context=e,this.refs=tg,this.updater=n||Zm}ii.prototype.isReactComponent={};ii.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ii.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ng(){}ng.prototype=ii.prototype;function bd(t,e,n){this.props=t,this.context=e,this.refs=tg,this.updater=n||Zm}var _d=bd.prototype=new ng;_d.constructor=bd;eg(_d,ii.prototype);_d.isPureReactComponent=!0;var Zh=Array.isArray,rg=Object.prototype.hasOwnProperty,kd={current:null},sg={key:!0,ref:!0,__self:!0,__source:!0};function ig(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)rg.call(e,r)&&!sg.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ko,type:t,key:i,ref:o,props:s,_owner:kd.current}}function ux(t,e){return{$$typeof:ko,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ko}function dx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ef=/\/+/g;function Jl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dx(""+t.key):e.toString(36)}function xa(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ko:case Zw:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jl(o,0):r,Zh(s)?(n="",t!=null&&(n=t.replace(ef,"$&/")+"/"),xa(s,e,n,"",function(c){return c})):s!=null&&(Sd(s)&&(s=ux(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ef,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Zh(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Jl(i,a);o+=xa(i,e,n,l,s)}else if(l=cx(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Jl(i,a++),o+=xa(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uo(t,e,n){if(t==null)return t;var r=[],s=0;return xa(t,r,"","",function(i){return e.call(n,i,s++)}),r}function hx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nt={current:null},ba={transition:null},fx={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:ba,ReactCurrentOwner:kd};function og(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Uo,forEach:function(t,e,n){Uo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uo(t,function(){e++}),e},toArray:function(t){return Uo(t,function(e){return e})||[]},only:function(t){if(!Sd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=ii;F.Fragment=ex;F.Profiler=nx;F.PureComponent=bd;F.StrictMode=tx;F.Suspense=ox;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fx;F.act=og;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eg({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=kd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rg.call(e,l)&&!sg.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ko,type:t.type,key:s,ref:i,props:r,_owner:o}};F.createContext=function(t){return t={$$typeof:sx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rx,_context:t},t.Consumer=t};F.createElement=ig;F.createFactory=function(t){var e=ig.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:ix,render:t}};F.isValidElement=Sd;F.lazy=function(t){return{$$typeof:lx,_payload:{_status:-1,_result:t},_init:hx}};F.memo=function(t,e){return{$$typeof:ax,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=ba.transition;ba.transition={};try{t()}finally{ba.transition=e}};F.unstable_act=og;F.useCallback=function(t,e){return nt.current.useCallback(t,e)};F.useContext=function(t){return nt.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return nt.current.useDeferredValue(t)};F.useEffect=function(t,e){return nt.current.useEffect(t,e)};F.useId=function(){return nt.current.useId()};F.useImperativeHandle=function(t,e,n){return nt.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return nt.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return nt.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return nt.current.useMemo(t,e)};F.useReducer=function(t,e,n){return nt.current.useReducer(t,e,n)};F.useRef=function(t){return nt.current.useRef(t)};F.useState=function(t){return nt.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return nt.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return nt.current.useTransition()};F.version="18.3.1";Xm.exports=F;var _=Xm.exports;const tf=Yw(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=_,mx=Symbol.for("react.element"),gx=Symbol.for("react.fragment"),yx=Object.prototype.hasOwnProperty,vx=px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wx={key:!0,ref:!0,__self:!0,__source:!0};function ag(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yx.call(e,r)&&!wx.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:mx,type:t,key:i,ref:o,props:s,_owner:vx.current}}bl.Fragment=gx;bl.jsx=ag;bl.jsxs=ag;Ym.exports=bl;var u=Ym.exports,lg={exports:{}},_t={},cg={exports:{}},ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,M){var z=R.length;R.push(M);e:for(;0<z;){var Z=z-1>>>1,fe=R[Z];if(0<s(fe,M))R[Z]=M,R[z]=fe,z=Z;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var M=R[0],z=R.pop();if(z!==M){R[0]=z;e:for(var Z=0,fe=R.length,St=fe>>>1;Z<St;){var jt=2*(Z+1)-1,U=R[jt],D=jt+1,q=R[D];if(0>s(U,z))D<fe&&0>s(q,U)?(R[Z]=q,R[D]=z,Z=D):(R[Z]=U,R[jt]=z,Z=jt);else if(D<fe&&0>s(q,z))R[Z]=q,R[D]=z,Z=D;else break e}}return M}function s(R,M){var z=R.sortIndex-M.sortIndex;return z!==0?z:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=R)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function b(R){if(w=!1,v(R),!y)if(n(l)!==null)y=!0,Dt(S);else{var M=n(c);M!==null&&qn(b,M.startTime-R)}}function S(R,M){y=!1,w&&(w=!1,m(E),E=-1),p=!0;var z=f;try{for(v(M),h=n(l);h!==null&&(!(h.expirationTime>M)||R&&!B());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var fe=Z(h.expirationTime<=M);M=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(l)&&r(l),v(M)}else r(l);h=n(l)}if(h!==null)var St=!0;else{var jt=n(c);jt!==null&&qn(b,jt.startTime-M),St=!1}return St}finally{h=null,f=z,p=!1}}var j=!1,k=null,E=-1,P=5,T=-1;function B(){return!(t.unstable_now()-T<P)}function oe(){if(k!==null){var R=t.unstable_now();T=R;var M=!0;try{M=k(!0,R)}finally{M?ue():(j=!1,k=null)}}else j=!1}var ue;if(typeof g=="function")ue=function(){g(oe)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,an=Ke.port2;Ke.port1.onmessage=oe,ue=function(){an.postMessage(null)}}else ue=function(){x(oe,0)};function Dt(R){k=R,j||(j=!0,ue())}function qn(R,M){E=x(function(){R(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Dt(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var z=f;f=M;try{return R()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=f;f=R;try{return M()}finally{f=z}},t.unstable_scheduleCallback=function(R,M,z){var Z=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Z+z:Z):z=Z,R){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=z+fe,R={id:d++,callback:M,priorityLevel:R,startTime:z,expirationTime:fe,sortIndex:-1},z>Z?(R.sortIndex=z,e(c,R),n(l)===null&&R===n(c)&&(w?(m(E),E=-1):w=!0,qn(b,z-Z))):(R.sortIndex=fe,e(l,R),y||p||(y=!0,Dt(S))),R},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(R){var M=f;return function(){var z=f;f=M;try{return R.apply(this,arguments)}finally{f=z}}}})(ug);cg.exports=ug;var xx=cg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=_,bt=xx;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dg=new Set,Ji={};function os(t,e){Gs(t,e),Gs(t+"Capture",e)}function Gs(t,e){for(Ji[t]=e,t=0;t<e.length;t++)dg.add(e[t])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tu=Object.prototype.hasOwnProperty,_x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nf={},rf={};function kx(t){return tu.call(rf,t)?!0:tu.call(nf,t)?!1:_x.test(t)?rf[t]=!0:(nf[t]=!0,!1)}function Sx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jx(t,e,n,r){if(e===null||typeof e>"u"||Sx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){De[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];De[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){De[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){De[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){De[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){De[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){De[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){De[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){De[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var jd=/[\-:]([a-z])/g;function Ed(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jd,Ed);De[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jd,Ed);De[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jd,Ed);De[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){De[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});De.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){De[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cd(t,e,n,r){var s=De.hasOwnProperty(e)?De[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jx(e,n,s,r)&&(n=null),r||s===null?kx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bn=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fo=Symbol.for("react.element"),xs=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),Pd=Symbol.for("react.strict_mode"),nu=Symbol.for("react.profiler"),hg=Symbol.for("react.provider"),fg=Symbol.for("react.context"),Td=Symbol.for("react.forward_ref"),ru=Symbol.for("react.suspense"),su=Symbol.for("react.suspense_list"),Rd=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),pg=Symbol.for("react.offscreen"),sf=Symbol.iterator;function gi(t){return t===null||typeof t!="object"?null:(t=sf&&t[sf]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Object.assign,Ql;function ji(t){if(Ql===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ql=e&&e[1]||""}return`
`+Ql+t}var Yl=!1;function Xl(t,e){if(!t||Yl)return"";Yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ji(t):""}function Ex(t){switch(t.tag){case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 2:case 15:return t=Xl(t.type,!1),t;case 11:return t=Xl(t.type.render,!1),t;case 1:return t=Xl(t.type,!0),t;default:return""}}function iu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bs:return"Fragment";case xs:return"Portal";case nu:return"Profiler";case Pd:return"StrictMode";case ru:return"Suspense";case su:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fg:return(t.displayName||"Context")+".Consumer";case hg:return(t._context.displayName||"Context")+".Provider";case Td:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rd:return e=t.displayName||null,e!==null?e:iu(t.type)||"Memo";case Jn:e=t._payload,t=t._init;try{return iu(t(e))}catch{}}return null}function Cx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iu(e);case 8:return e===Pd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Px(t){var e=mg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bo(t){t._valueTracker||(t._valueTracker=Px(t))}function gg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ou(t,e){var n=e.checked;return ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function of(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yg(t,e){e=e.checked,e!=null&&Cd(t,"checked",e,!1)}function au(t,e){yg(t,e);var n=pr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lu(t,e.type,n):e.hasOwnProperty("defaultValue")&&lu(t,e.type,pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function af(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lu(t,e,n){(e!=="number"||$a(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ei=Array.isArray;function As(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function cu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Ei(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pr(n)}}function vg(t,e){var n=pr(e.value),r=pr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vo,xg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tx=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(t){Tx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ni[e]=Ni[t]})});function bg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ni.hasOwnProperty(t)&&Ni[t]?(""+e).trim():e+"px"}function _g(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Rx=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function du(t,e){if(e){if(Rx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function hu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=null;function Od(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pu=null,zs=null,$s=null;function uf(t){if(t=Eo(t)){if(typeof pu!="function")throw Error(C(280));var e=t.stateNode;e&&(e=El(e),pu(t.stateNode,t.type,e))}}function kg(t){zs?$s?$s.push(t):$s=[t]:zs=t}function Sg(){if(zs){var t=zs,e=$s;if($s=zs=null,uf(t),e)for(t=0;t<e.length;t++)uf(e[t])}}function jg(t,e){return t(e)}function Eg(){}var Zl=!1;function Cg(t,e,n){if(Zl)return t(e,n);Zl=!0;try{return jg(t,e,n)}finally{Zl=!1,(zs!==null||$s!==null)&&(Eg(),Sg())}}function Yi(t,e){var n=t.stateNode;if(n===null)return null;var r=El(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var mu=!1;if(Mn)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){mu=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{mu=!1}function Ox(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ii=!1,Da=null,Ua=!1,gu=null,Nx={onError:function(t){Ii=!0,Da=t}};function Ix(t,e,n,r,s,i,o,a,l){Ii=!1,Da=null,Ox.apply(Nx,arguments)}function Lx(t,e,n,r,s,i,o,a,l){if(Ix.apply(this,arguments),Ii){if(Ii){var c=Da;Ii=!1,Da=null}else throw Error(C(198));Ua||(Ua=!0,gu=c)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function df(t){if(as(t)!==t)throw Error(C(188))}function Mx(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return df(s),t;if(i===r)return df(s),e;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function Tg(t){return t=Mx(t),t!==null?Rg(t):null}function Rg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rg(t);if(e!==null)return e;t=t.sibling}return null}var Og=bt.unstable_scheduleCallback,hf=bt.unstable_cancelCallback,Ax=bt.unstable_shouldYield,zx=bt.unstable_requestPaint,_e=bt.unstable_now,$x=bt.unstable_getCurrentPriorityLevel,Nd=bt.unstable_ImmediatePriority,Ng=bt.unstable_UserBlockingPriority,Fa=bt.unstable_NormalPriority,Dx=bt.unstable_LowPriority,Ig=bt.unstable_IdlePriority,_l=null,vn=null;function Ux(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(_l,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Vx,Fx=Math.log,Bx=Math.LN2;function Vx(t){return t>>>=0,t===0?32:31-(Fx(t)/Bx|0)|0}var qo=64,Wo=4194304;function Ci(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ba(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ci(a):(i&=o,i!==0&&(r=Ci(i)))}else o=n&~s,o!==0?r=Ci(o):i!==0&&(r=Ci(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zt(e),s=1<<n,r|=t[n],e&=~s;return r}function qx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=qx(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function yu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lg(){var t=qo;return qo<<=1,!(qo&4194240)&&(qo=64),t}function ec(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function So(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=n}function Hx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Id(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var X=0;function Mg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ag,Ld,zg,$g,Dg,vu=!1,Ho=[],sr=null,ir=null,or=null,Xi=new Map,Zi=new Map,Yn=[],Gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ff(t,e){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Xi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zi.delete(e.pointerId)}}function vi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Eo(e),e!==null&&Ld(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Kx(t,e,n,r,s){switch(e){case"focusin":return sr=vi(sr,t,e,n,r,s),!0;case"dragenter":return ir=vi(ir,t,e,n,r,s),!0;case"mouseover":return or=vi(or,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Xi.set(i,vi(Xi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zi.set(i,vi(Zi.get(i)||null,t,e,n,r,s)),!0}return!1}function Ug(t){var e=Br(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=Pg(n),e!==null){t.blockedOn=e,Dg(t.priority,function(){zg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _a(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fu=r,n.target.dispatchEvent(r),fu=null}else return e=Eo(n),e!==null&&Ld(e),t.blockedOn=n,!1;e.shift()}return!0}function pf(t,e,n){_a(t)&&n.delete(e)}function Jx(){vu=!1,sr!==null&&_a(sr)&&(sr=null),ir!==null&&_a(ir)&&(ir=null),or!==null&&_a(or)&&(or=null),Xi.forEach(pf),Zi.forEach(pf)}function wi(t,e){t.blockedOn===e&&(t.blockedOn=null,vu||(vu=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,Jx)))}function eo(t){function e(s){return wi(s,t)}if(0<Ho.length){wi(Ho[0],t);for(var n=1;n<Ho.length;n++){var r=Ho[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sr!==null&&wi(sr,t),ir!==null&&wi(ir,t),or!==null&&wi(or,t),Xi.forEach(e),Zi.forEach(e),n=0;n<Yn.length;n++)r=Yn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)Ug(n),n.blockedOn===null&&Yn.shift()}var Ds=Bn.ReactCurrentBatchConfig,Va=!0;function Qx(t,e,n,r){var s=X,i=Ds.transition;Ds.transition=null;try{X=1,Md(t,e,n,r)}finally{X=s,Ds.transition=i}}function Yx(t,e,n,r){var s=X,i=Ds.transition;Ds.transition=null;try{X=4,Md(t,e,n,r)}finally{X=s,Ds.transition=i}}function Md(t,e,n,r){if(Va){var s=wu(t,e,n,r);if(s===null)uc(t,e,r,qa,n),ff(t,r);else if(Kx(s,t,e,n,r))r.stopPropagation();else if(ff(t,r),e&4&&-1<Gx.indexOf(t)){for(;s!==null;){var i=Eo(s);if(i!==null&&Ag(i),i=wu(t,e,n,r),i===null&&uc(t,e,r,qa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else uc(t,e,r,null,n)}}var qa=null;function wu(t,e,n,r){if(qa=null,t=Od(r),t=Br(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qa=t,null}function Fg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($x()){case Nd:return 1;case Ng:return 4;case Fa:case Dx:return 16;case Ig:return 536870912;default:return 16}default:return 16}}var tr=null,Ad=null,ka=null;function Bg(){if(ka)return ka;var t,e=Ad,n=e.length,r,s="value"in tr?tr.value:tr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ka=s.slice(t,1<r?1-r:void 0)}function Sa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Go(){return!0}function mf(){return!1}function kt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Go:mf,this.isPropagationStopped=mf,this}return ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),e}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=kt(oi),jo=ve({},oi,{view:0,detail:0}),Xx=kt(jo),tc,nc,xi,kl=ve({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$d,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(tc=t.screenX-xi.screenX,nc=t.screenY-xi.screenY):nc=tc=0,xi=t),tc)},movementY:function(t){return"movementY"in t?t.movementY:nc}}),gf=kt(kl),Zx=ve({},kl,{dataTransfer:0}),eb=kt(Zx),tb=ve({},jo,{relatedTarget:0}),rc=kt(tb),nb=ve({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),rb=kt(nb),sb=ve({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ib=kt(sb),ob=ve({},oi,{data:0}),yf=kt(ob),ab={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ub(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cb[t])?!!e[t]:!1}function $d(){return ub}var db=ve({},jo,{key:function(t){if(t.key){var e=ab[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$d,charCode:function(t){return t.type==="keypress"?Sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hb=kt(db),fb=ve({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vf=kt(fb),pb=ve({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$d}),mb=kt(pb),gb=ve({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yb=kt(gb),vb=ve({},kl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wb=kt(vb),xb=[9,13,27,32],Dd=Mn&&"CompositionEvent"in window,Li=null;Mn&&"documentMode"in document&&(Li=document.documentMode);var bb=Mn&&"TextEvent"in window&&!Li,Vg=Mn&&(!Dd||Li&&8<Li&&11>=Li),wf=" ",xf=!1;function qg(t,e){switch(t){case"keyup":return xb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function _b(t,e){switch(t){case"compositionend":return Wg(e);case"keypress":return e.which!==32?null:(xf=!0,wf);case"textInput":return t=e.data,t===wf&&xf?null:t;default:return null}}function kb(t,e){if(_s)return t==="compositionend"||!Dd&&qg(t,e)?(t=Bg(),ka=Ad=tr=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vg&&e.locale!=="ko"?null:e.data;default:return null}}var Sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sb[t.type]:e==="textarea"}function Hg(t,e,n,r){kg(r),e=Wa(e,"onChange"),0<e.length&&(n=new zd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mi=null,to=null;function jb(t){ry(t,0)}function Sl(t){var e=js(t);if(gg(e))return t}function Eb(t,e){if(t==="change")return e}var Gg=!1;if(Mn){var sc;if(Mn){var ic="oninput"in document;if(!ic){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),ic=typeof _f.oninput=="function"}sc=ic}else sc=!1;Gg=sc&&(!document.documentMode||9<document.documentMode)}function kf(){Mi&&(Mi.detachEvent("onpropertychange",Kg),to=Mi=null)}function Kg(t){if(t.propertyName==="value"&&Sl(to)){var e=[];Hg(e,to,t,Od(t)),Cg(jb,e)}}function Cb(t,e,n){t==="focusin"?(kf(),Mi=e,to=n,Mi.attachEvent("onpropertychange",Kg)):t==="focusout"&&kf()}function Pb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sl(to)}function Tb(t,e){if(t==="click")return Sl(e)}function Rb(t,e){if(t==="input"||t==="change")return Sl(e)}function Ob(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:Ob;function no(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!tu.call(e,s)||!rn(t[s],e[s]))return!1}return!0}function Sf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jf(t,e){var n=Sf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sf(n)}}function Jg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qg(){for(var t=window,e=$a();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$a(t.document)}return e}function Ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Nb(t){var e=Qg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jg(n.ownerDocument.documentElement,n)){if(r!==null&&Ud(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=jf(n,i);var o=jf(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ib=Mn&&"documentMode"in document&&11>=document.documentMode,ks=null,xu=null,Ai=null,bu=!1;function Ef(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bu||ks==null||ks!==$a(r)||(r=ks,"selectionStart"in r&&Ud(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ai&&no(Ai,r)||(Ai=r,r=Wa(xu,"onSelect"),0<r.length&&(e=new zd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ks)))}function Ko(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ss={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionend:Ko("Transition","TransitionEnd")},oc={},Yg={};Mn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function jl(t){if(oc[t])return oc[t];if(!Ss[t])return t;var e=Ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Yg)return oc[t]=e[n];return t}var Xg=jl("animationend"),Zg=jl("animationiteration"),ey=jl("animationstart"),ty=jl("transitionend"),ny=new Map,Cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(t,e){ny.set(t,e),os(e,[t])}for(var ac=0;ac<Cf.length;ac++){var lc=Cf[ac],Lb=lc.toLowerCase(),Mb=lc[0].toUpperCase()+lc.slice(1);yr(Lb,"on"+Mb)}yr(Xg,"onAnimationEnd");yr(Zg,"onAnimationIteration");yr(ey,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(ty,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ab=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pi));function Pf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Lx(r,e,void 0,t),t.currentTarget=null}function ry(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Pf(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Pf(s,a,c),i=l}}}if(Ua)throw t=gu,Ua=!1,gu=null,t}function le(t,e){var n=e[Eu];n===void 0&&(n=e[Eu]=new Set);var r=t+"__bubble";n.has(r)||(sy(e,t,2,!1),n.add(r))}function cc(t,e,n){var r=0;e&&(r|=4),sy(n,t,r,e)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function ro(t){if(!t[Jo]){t[Jo]=!0,dg.forEach(function(n){n!=="selectionchange"&&(Ab.has(n)||cc(n,!1,t),cc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jo]||(e[Jo]=!0,cc("selectionchange",!1,e))}}function sy(t,e,n,r){switch(Fg(e)){case 1:var s=Qx;break;case 4:s=Yx;break;default:s=Md}n=s.bind(null,e,n,t),s=void 0,!mu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function uc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Br(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Cg(function(){var c=i,d=Od(n),h=[];e:{var f=ny.get(t);if(f!==void 0){var p=zd,y=t;switch(t){case"keypress":if(Sa(n)===0)break e;case"keydown":case"keyup":p=hb;break;case"focusin":y="focus",p=rc;break;case"focusout":y="blur",p=rc;break;case"beforeblur":case"afterblur":p=rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mb;break;case Xg:case Zg:case ey:p=rb;break;case ty:p=yb;break;case"scroll":p=Xx;break;case"wheel":p=wb;break;case"copy":case"cut":case"paste":p=ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vf}var w=(e&4)!==0,x=!w&&t==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var g=c,v;g!==null;){v=g;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,m!==null&&(b=Yi(g,m),b!=null&&w.push(so(g,b,v)))),x)break;g=g.return}0<w.length&&(f=new p(f,y,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==fu&&(y=n.relatedTarget||n.fromElement)&&(Br(y)||y[An]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Br(y):null,y!==null&&(x=as(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(w=gf,b="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=vf,b="onPointerLeave",m="onPointerEnter",g="pointer"),x=p==null?f:js(p),v=y==null?f:js(y),f=new w(b,g+"leave",p,n,d),f.target=x,f.relatedTarget=v,b=null,Br(d)===c&&(w=new w(m,g+"enter",y,n,d),w.target=v,w.relatedTarget=x,b=w),x=b,p&&y)t:{for(w=p,m=y,g=0,v=w;v;v=cs(v))g++;for(v=0,b=m;b;b=cs(b))v++;for(;0<g-v;)w=cs(w),g--;for(;0<v-g;)m=cs(m),v--;for(;g--;){if(w===m||m!==null&&w===m.alternate)break t;w=cs(w),m=cs(m)}w=null}else w=null;p!==null&&Tf(h,f,p,w,!1),y!==null&&x!==null&&Tf(h,x,y,w,!0)}}e:{if(f=c?js(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=Eb;else if(bf(f))if(Gg)S=Rb;else{S=Pb;var j=Cb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Tb);if(S&&(S=S(t,c))){Hg(h,S,n,d);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&lu(f,"number",f.value)}switch(j=c?js(c):window,t){case"focusin":(bf(j)||j.contentEditable==="true")&&(ks=j,xu=c,Ai=null);break;case"focusout":Ai=xu=ks=null;break;case"mousedown":bu=!0;break;case"contextmenu":case"mouseup":case"dragend":bu=!1,Ef(h,n,d);break;case"selectionchange":if(Ib)break;case"keydown":case"keyup":Ef(h,n,d)}var k;if(Dd)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _s?qg(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Vg&&n.locale!=="ko"&&(_s||E!=="onCompositionStart"?E==="onCompositionEnd"&&_s&&(k=Bg()):(tr=d,Ad="value"in tr?tr.value:tr.textContent,_s=!0)),j=Wa(c,E),0<j.length&&(E=new yf(E,t,null,n,d),h.push({event:E,listeners:j}),k?E.data=k:(k=Wg(n),k!==null&&(E.data=k)))),(k=bb?_b(t,n):kb(t,n))&&(c=Wa(c,"onBeforeInput"),0<c.length&&(d=new yf("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=k))}ry(h,e)})}function so(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wa(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yi(t,n),i!=null&&r.unshift(so(t,i,s)),i=Yi(t,e),i!=null&&r.push(so(t,i,s))),t=t.return}return r}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tf(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Yi(n,i),l!=null&&o.unshift(so(n,l,a))):s||(l=Yi(n,i),l!=null&&o.push(so(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function Rf(t){return(typeof t=="string"?t:""+t).replace(zb,`
`).replace($b,"")}function Qo(t,e,n){if(e=Rf(e),Rf(t)!==e&&n)throw Error(C(425))}function Ha(){}var _u=null,ku=null;function Su(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ju=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(t){return Of.resolve(null).then(t).catch(Fb)}:ju;function Fb(t){setTimeout(function(){throw t})}function dc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),eo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);eo(e)}function ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ai=Math.random().toString(36).slice(2),gn="__reactFiber$"+ai,io="__reactProps$"+ai,An="__reactContainer$"+ai,Eu="__reactEvents$"+ai,Bb="__reactListeners$"+ai,Vb="__reactHandles$"+ai;function Br(t){var e=t[gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[An]||n[gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nf(t);t!==null;){if(n=t[gn])return n;t=Nf(t)}return e}t=n,n=t.parentNode}return null}function Eo(t){return t=t[gn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function El(t){return t[io]||null}var Cu=[],Es=-1;function vr(t){return{current:t}}function ce(t){0>Es||(t.current=Cu[Es],Cu[Es]=null,Es--)}function ie(t,e){Es++,Cu[Es]=t.current,t.current=e}var mr={},Ge=vr(mr),dt=vr(!1),Qr=mr;function Ks(t,e){var n=t.type.contextTypes;if(!n)return mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ht(t){return t=t.childContextTypes,t!=null}function Ga(){ce(dt),ce(Ge)}function If(t,e,n){if(Ge.current!==mr)throw Error(C(168));ie(Ge,e),ie(dt,n)}function iy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,Cx(t)||"Unknown",s));return ve({},n,r)}function Ka(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,Qr=Ge.current,ie(Ge,t),ie(dt,dt.current),!0}function Lf(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=iy(t,e,Qr),r.__reactInternalMemoizedMergedChildContext=t,ce(dt),ce(Ge),ie(Ge,t)):ce(dt),ie(dt,n)}var Cn=null,Cl=!1,hc=!1;function oy(t){Cn===null?Cn=[t]:Cn.push(t)}function qb(t){Cl=!0,oy(t)}function wr(){if(!hc&&Cn!==null){hc=!0;var t=0,e=X;try{var n=Cn;for(X=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cn=null,Cl=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(t+1)),Og(Nd,wr),s}finally{X=e,hc=!1}}return null}var Cs=[],Ps=0,Ja=null,Qa=0,Tt=[],Rt=0,Yr=null,Pn=1,Tn="";function Lr(t,e){Cs[Ps++]=Qa,Cs[Ps++]=Ja,Ja=t,Qa=e}function ay(t,e,n){Tt[Rt++]=Pn,Tt[Rt++]=Tn,Tt[Rt++]=Yr,Yr=t;var r=Pn;t=Tn;var s=32-Zt(r)-1;r&=~(1<<s),n+=1;var i=32-Zt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Pn=1<<32-Zt(e)+s|n<<s|r,Tn=i+t}else Pn=1<<i|n<<s|r,Tn=t}function Fd(t){t.return!==null&&(Lr(t,1),ay(t,1,0))}function Bd(t){for(;t===Ja;)Ja=Cs[--Ps],Cs[Ps]=null,Qa=Cs[--Ps],Cs[Ps]=null;for(;t===Yr;)Yr=Tt[--Rt],Tt[Rt]=null,Tn=Tt[--Rt],Tt[Rt]=null,Pn=Tt[--Rt],Tt[Rt]=null}var xt=null,wt=null,de=!1,Jt=null;function ly(t,e){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,wt=ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yr!==null?{id:Pn,overflow:Tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,wt=null,!0):!1;default:return!1}}function Pu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tu(t){if(de){var e=wt;if(e){var n=e;if(!Mf(t,e)){if(Pu(t))throw Error(C(418));e=ar(n.nextSibling);var r=xt;e&&Mf(t,e)?ly(r,n):(t.flags=t.flags&-4097|2,de=!1,xt=t)}}else{if(Pu(t))throw Error(C(418));t.flags=t.flags&-4097|2,de=!1,xt=t}}}function Af(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function Yo(t){if(t!==xt)return!1;if(!de)return Af(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Su(t.type,t.memoizedProps)),e&&(e=wt)){if(Pu(t))throw cy(),Error(C(418));for(;e;)ly(t,e),e=ar(e.nextSibling)}if(Af(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wt=ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=xt?ar(t.stateNode.nextSibling):null;return!0}function cy(){for(var t=wt;t;)t=ar(t.nextSibling)}function Js(){wt=xt=null,de=!1}function Vd(t){Jt===null?Jt=[t]:Jt.push(t)}var Wb=Bn.ReactCurrentBatchConfig;function bi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function Xo(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zf(t){var e=t._init;return e(t._payload)}function uy(t){function e(m,g){if(t){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=dr(m,g),m.index=0,m.sibling=null,m}function i(m,g,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,v,b){return g===null||g.tag!==6?(g=wc(v,m.mode,b),g.return=m,g):(g=s(g,v),g.return=m,g)}function l(m,g,v,b){var S=v.type;return S===bs?d(m,g,v.props.children,b,v.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jn&&zf(S)===g.type)?(b=s(g,v.props),b.ref=bi(m,g,v),b.return=m,b):(b=Oa(v.type,v.key,v.props,null,m.mode,b),b.ref=bi(m,g,v),b.return=m,b)}function c(m,g,v,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=xc(v,m.mode,b),g.return=m,g):(g=s(g,v.children||[]),g.return=m,g)}function d(m,g,v,b,S){return g===null||g.tag!==7?(g=Kr(v,m.mode,b,S),g.return=m,g):(g=s(g,v),g.return=m,g)}function h(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=wc(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fo:return v=Oa(g.type,g.key,g.props,null,m.mode,v),v.ref=bi(m,null,g),v.return=m,v;case xs:return g=xc(g,m.mode,v),g.return=m,g;case Jn:var b=g._init;return h(m,b(g._payload),v)}if(Ei(g)||gi(g))return g=Kr(g,m.mode,v,null),g.return=m,g;Xo(m,g)}return null}function f(m,g,v,b){var S=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:return v.key===S?l(m,g,v,b):null;case xs:return v.key===S?c(m,g,v,b):null;case Jn:return S=v._init,f(m,g,S(v._payload),b)}if(Ei(v)||gi(v))return S!==null?null:d(m,g,v,b,null);Xo(m,v)}return null}function p(m,g,v,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(v)||null,a(g,m,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fo:return m=m.get(b.key===null?v:b.key)||null,l(g,m,b,S);case xs:return m=m.get(b.key===null?v:b.key)||null,c(g,m,b,S);case Jn:var j=b._init;return p(m,g,v,j(b._payload),S)}if(Ei(b)||gi(b))return m=m.get(v)||null,d(g,m,b,S,null);Xo(g,b)}return null}function y(m,g,v,b){for(var S=null,j=null,k=g,E=g=0,P=null;k!==null&&E<v.length;E++){k.index>E?(P=k,k=null):P=k.sibling;var T=f(m,k,v[E],b);if(T===null){k===null&&(k=P);break}t&&k&&T.alternate===null&&e(m,k),g=i(T,g,E),j===null?S=T:j.sibling=T,j=T,k=P}if(E===v.length)return n(m,k),de&&Lr(m,E),S;if(k===null){for(;E<v.length;E++)k=h(m,v[E],b),k!==null&&(g=i(k,g,E),j===null?S=k:j.sibling=k,j=k);return de&&Lr(m,E),S}for(k=r(m,k);E<v.length;E++)P=p(k,m,E,v[E],b),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?E:P.key),g=i(P,g,E),j===null?S=P:j.sibling=P,j=P);return t&&k.forEach(function(B){return e(m,B)}),de&&Lr(m,E),S}function w(m,g,v,b){var S=gi(v);if(typeof S!="function")throw Error(C(150));if(v=S.call(v),v==null)throw Error(C(151));for(var j=S=null,k=g,E=g=0,P=null,T=v.next();k!==null&&!T.done;E++,T=v.next()){k.index>E?(P=k,k=null):P=k.sibling;var B=f(m,k,T.value,b);if(B===null){k===null&&(k=P);break}t&&k&&B.alternate===null&&e(m,k),g=i(B,g,E),j===null?S=B:j.sibling=B,j=B,k=P}if(T.done)return n(m,k),de&&Lr(m,E),S;if(k===null){for(;!T.done;E++,T=v.next())T=h(m,T.value,b),T!==null&&(g=i(T,g,E),j===null?S=T:j.sibling=T,j=T);return de&&Lr(m,E),S}for(k=r(m,k);!T.done;E++,T=v.next())T=p(k,m,E,T.value,b),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?E:T.key),g=i(T,g,E),j===null?S=T:j.sibling=T,j=T);return t&&k.forEach(function(oe){return e(m,oe)}),de&&Lr(m,E),S}function x(m,g,v,b){if(typeof v=="object"&&v!==null&&v.type===bs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:e:{for(var S=v.key,j=g;j!==null;){if(j.key===S){if(S=v.type,S===bs){if(j.tag===7){n(m,j.sibling),g=s(j,v.props.children),g.return=m,m=g;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jn&&zf(S)===j.type){n(m,j.sibling),g=s(j,v.props),g.ref=bi(m,j,v),g.return=m,m=g;break e}n(m,j);break}else e(m,j);j=j.sibling}v.type===bs?(g=Kr(v.props.children,m.mode,b,v.key),g.return=m,m=g):(b=Oa(v.type,v.key,v.props,null,m.mode,b),b.ref=bi(m,g,v),b.return=m,m=b)}return o(m);case xs:e:{for(j=v.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=s(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=xc(v,m.mode,b),g.return=m,m=g}return o(m);case Jn:return j=v._init,x(m,g,j(v._payload),b)}if(Ei(v))return y(m,g,v,b);if(gi(v))return w(m,g,v,b);Xo(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,v),g.return=m,m=g):(n(m,g),g=wc(v,m.mode,b),g.return=m,m=g),o(m)):n(m,g)}return x}var Qs=uy(!0),dy=uy(!1),Ya=vr(null),Xa=null,Ts=null,qd=null;function Wd(){qd=Ts=Xa=null}function Hd(t){var e=Ya.current;ce(Ya),t._currentValue=e}function Ru(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Us(t,e){Xa=t,qd=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ut=!0),t.firstContext=null)}function zt(t){var e=t._currentValue;if(qd!==t)if(t={context:t,memoizedValue:e,next:null},Ts===null){if(Xa===null)throw Error(C(308));Ts=t,Xa.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var Vr=null;function Gd(t){Vr===null?Vr=[t]:Vr.push(t)}function hy(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gd(e)):(n.next=s.next,s.next=n),e.interleaved=n,zn(t,r)}function zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qn=!1;function Kd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,zn(t,n)}return s=r.interleaved,s===null?(e.next=e,Gd(r)):(e.next=s.next,s.next=e),r.interleaved=e,zn(t,n)}function ja(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Id(t,n)}}function $f(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Za(t,e,n,r){var s=t.updateQueue;Qn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=ve({},h,f);break e;case 2:Qn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zr|=o,t.lanes=o,t.memoizedState=h}}function Df(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var Co={},wn=vr(Co),oo=vr(Co),ao=vr(Co);function qr(t){if(t===Co)throw Error(C(174));return t}function Jd(t,e){switch(ie(ao,e),ie(oo,t),ie(wn,Co),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uu(e,t)}ce(wn),ie(wn,e)}function Ys(){ce(wn),ce(oo),ce(ao)}function py(t){qr(ao.current);var e=qr(wn.current),n=uu(e,t.type);e!==n&&(ie(oo,t),ie(wn,n))}function Qd(t){oo.current===t&&(ce(wn),ce(oo))}var ge=vr(0);function el(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fc=[];function Yd(){for(var t=0;t<fc.length;t++)fc[t]._workInProgressVersionPrimary=null;fc.length=0}var Ea=Bn.ReactCurrentDispatcher,pc=Bn.ReactCurrentBatchConfig,Xr=0,ye=null,Te=null,Ne=null,tl=!1,zi=!1,lo=0,Hb=0;function Ue(){throw Error(C(321))}function Xd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function Zd(t,e,n,r,s,i){if(Xr=i,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ea.current=t===null||t.memoizedState===null?Qb:Yb,t=n(r,s),zi){i=0;do{if(zi=!1,lo=0,25<=i)throw Error(C(301));i+=1,Ne=Te=null,e.updateQueue=null,Ea.current=Xb,t=n(r,s)}while(zi)}if(Ea.current=nl,e=Te!==null&&Te.next!==null,Xr=0,Ne=Te=ye=null,tl=!1,e)throw Error(C(300));return t}function eh(){var t=lo!==0;return lo=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ye.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function $t(){if(Te===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Ne===null?ye.memoizedState:Ne.next;if(e!==null)Ne=e,Te=t;else{if(t===null)throw Error(C(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ne===null?ye.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function co(t,e){return typeof e=="function"?e(t):e}function mc(t){var e=$t(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=Te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Xr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ye.lanes|=d,Zr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,rn(r,e.memoizedState)||(ut=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ye.lanes|=i,Zr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gc(t){var e=$t(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rn(i,e.memoizedState)||(ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function my(){}function gy(t,e){var n=ye,r=$t(),s=e(),i=!rn(r.memoizedState,s);if(i&&(r.memoizedState=s,ut=!0),r=r.queue,th(wy.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,uo(9,vy.bind(null,n,r,s,e),void 0,null),Ie===null)throw Error(C(349));Xr&30||yy(n,e,s)}return s}function yy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vy(t,e,n,r){e.value=n,e.getSnapshot=r,xy(e)&&by(t)}function wy(t,e,n){return n(function(){xy(e)&&by(t)})}function xy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function by(t){var e=zn(t,1);e!==null&&en(e,t,1,-1)}function Uf(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},e.queue=t,t=t.dispatch=Jb.bind(null,ye,t),[e.memoizedState,t]}function uo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _y(){return $t().memoizedState}function Ca(t,e,n,r){var s=fn();ye.flags|=t,s.memoizedState=uo(1|e,n,void 0,r===void 0?null:r)}function Pl(t,e,n,r){var s=$t();r=r===void 0?null:r;var i=void 0;if(Te!==null){var o=Te.memoizedState;if(i=o.destroy,r!==null&&Xd(r,o.deps)){s.memoizedState=uo(e,n,i,r);return}}ye.flags|=t,s.memoizedState=uo(1|e,n,i,r)}function Ff(t,e){return Ca(8390656,8,t,e)}function th(t,e){return Pl(2048,8,t,e)}function ky(t,e){return Pl(4,2,t,e)}function Sy(t,e){return Pl(4,4,t,e)}function jy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ey(t,e,n){return n=n!=null?n.concat([t]):null,Pl(4,4,jy.bind(null,e,t),n)}function nh(){}function Cy(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Py(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ty(t,e,n){return Xr&21?(rn(n,e)||(n=Lg(),ye.lanes|=n,Zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=n)}function Gb(t,e){var n=X;X=n!==0&&4>n?n:4,t(!0);var r=pc.transition;pc.transition={};try{t(!1),e()}finally{X=n,pc.transition=r}}function Ry(){return $t().memoizedState}function Kb(t,e,n){var r=ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Oy(t))Ny(e,n);else if(n=hy(t,e,n,r),n!==null){var s=Ze();en(n,t,r,s),Iy(n,e,r)}}function Jb(t,e,n){var r=ur(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Oy(t))Ny(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rn(a,o)){var l=e.interleaved;l===null?(s.next=s,Gd(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=hy(t,e,s,r),n!==null&&(s=Ze(),en(n,t,r,s),Iy(n,e,r))}}function Oy(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function Ny(t,e){zi=tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Iy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Id(t,n)}}var nl={readContext:zt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},Qb={readContext:zt,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:Ff,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ca(4194308,4,jy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ca(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ca(4,2,t,e)},useMemo:function(t,e){var n=fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Kb.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:Uf,useDebugValue:nh,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=Uf(!1),e=t[0];return t=Gb.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ye,s=fn();if(de){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),Ie===null)throw Error(C(349));Xr&30||yy(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ff(wy.bind(null,r,i,t),[t]),r.flags|=2048,uo(9,vy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=fn(),e=Ie.identifierPrefix;if(de){var n=Tn,r=Pn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Hb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Yb={readContext:zt,useCallback:Cy,useContext:zt,useEffect:th,useImperativeHandle:Ey,useInsertionEffect:ky,useLayoutEffect:Sy,useMemo:Py,useReducer:mc,useRef:_y,useState:function(){return mc(co)},useDebugValue:nh,useDeferredValue:function(t){var e=$t();return Ty(e,Te.memoizedState,t)},useTransition:function(){var t=mc(co)[0],e=$t().memoizedState;return[t,e]},useMutableSource:my,useSyncExternalStore:gy,useId:Ry,unstable_isNewReconciler:!1},Xb={readContext:zt,useCallback:Cy,useContext:zt,useEffect:th,useImperativeHandle:Ey,useInsertionEffect:ky,useLayoutEffect:Sy,useMemo:Py,useReducer:gc,useRef:_y,useState:function(){return gc(co)},useDebugValue:nh,useDeferredValue:function(t){var e=$t();return Te===null?e.memoizedState=t:Ty(e,Te.memoizedState,t)},useTransition:function(){var t=gc(co)[0],e=$t().memoizedState;return[t,e]},useMutableSource:my,useSyncExternalStore:gy,useId:Ry,unstable_isNewReconciler:!1};function Wt(t,e){if(t&&t.defaultProps){e=ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ou(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tl={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ze(),s=ur(t),i=Ln(r,s);i.payload=e,n!=null&&(i.callback=n),e=lr(t,i,s),e!==null&&(en(e,t,s,r),ja(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ze(),s=ur(t),i=Ln(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=lr(t,i,s),e!==null&&(en(e,t,s,r),ja(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ze(),r=ur(t),s=Ln(n,r);s.tag=2,e!=null&&(s.callback=e),e=lr(t,s,r),e!==null&&(en(e,t,r,n),ja(e,t,r))}};function Bf(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!no(n,r)||!no(s,i):!0}function Ly(t,e,n){var r=!1,s=mr,i=e.contextType;return typeof i=="object"&&i!==null?i=zt(i):(s=ht(e)?Qr:Ge.current,r=e.contextTypes,i=(r=r!=null)?Ks(t,s):mr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tl.enqueueReplaceState(e,e.state,null)}function Nu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Kd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=zt(i):(i=ht(e)?Qr:Ge.current,s.context=Ks(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ou(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Tl.enqueueReplaceState(s,s.state,null),Za(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xs(t,e){try{var n="",r=e;do n+=Ex(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Iu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Zb=typeof WeakMap=="function"?WeakMap:Map;function My(t,e,n){n=Ln(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sl||(sl=!0,Vu=r),Iu(t,e)},n}function Ay(t,e,n){n=Ln(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Iu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Iu(t,e),typeof r!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Zb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=f_.bind(null,t,e,n),e.then(t,t))}function Wf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ln(-1,1),e.tag=2,lr(n,e,1))),n.lanes|=1),t)}var e_=Bn.ReactCurrentOwner,ut=!1;function Ye(t,e,n,r){e.child=t===null?dy(e,null,n,r):Qs(e,t.child,n,r)}function Gf(t,e,n,r,s){n=n.render;var i=e.ref;return Us(e,s),r=Zd(t,e,n,r,i,s),n=eh(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$n(t,e,s)):(de&&n&&Fd(e),e.flags|=1,Ye(t,e,r,s),e.child)}function Kf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!uh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,zy(t,e,i,r,s)):(t=Oa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:no,n(o,r)&&t.ref===e.ref)return $n(t,e,s)}return e.flags|=1,t=dr(i,r),t.ref=e.ref,t.return=e,e.child=t}function zy(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(no(i,r)&&t.ref===e.ref)if(ut=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,$n(t,e,s)}return Lu(t,e,n,r,s)}function $y(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Os,gt),gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(Os,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ie(Os,gt),gt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ie(Os,gt),gt|=r;return Ye(t,e,s,n),e.child}function Dy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lu(t,e,n,r,s){var i=ht(n)?Qr:Ge.current;return i=Ks(e,i),Us(e,s),n=Zd(t,e,n,r,i,s),r=eh(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$n(t,e,s)):(de&&r&&Fd(e),e.flags|=1,Ye(t,e,n,s),e.child)}function Jf(t,e,n,r,s){if(ht(n)){var i=!0;Ka(e)}else i=!1;if(Us(e,s),e.stateNode===null)Pa(t,e),Ly(e,n,r),Nu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=zt(c):(c=ht(n)?Qr:Ge.current,c=Ks(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Vf(e,o,r,c),Qn=!1;var f=e.memoizedState;o.state=f,Za(e,r,o,s),l=e.memoizedState,a!==r||f!==l||dt.current||Qn?(typeof d=="function"&&(Ou(e,n,d,r),l=e.memoizedState),(a=Qn||Bf(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Wt(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zt(l):(l=ht(n)?Qr:Ge.current,l=Ks(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Vf(e,o,r,l),Qn=!1,f=e.memoizedState,o.state=f,Za(e,r,o,s);var y=e.memoizedState;a!==h||f!==y||dt.current||Qn?(typeof p=="function"&&(Ou(e,n,p,r),y=e.memoizedState),(c=Qn||Bf(e,n,c,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Mu(t,e,n,r,i,s)}function Mu(t,e,n,r,s,i){Dy(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Lf(e,n,!1),$n(t,e,i);r=e.stateNode,e_.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qs(e,t.child,null,i),e.child=Qs(e,null,a,i)):Ye(t,e,a,i),e.memoizedState=r.state,s&&Lf(e,n,!0),e.child}function Uy(t){var e=t.stateNode;e.pendingContext?If(t,e.pendingContext,e.pendingContext!==e.context):e.context&&If(t,e.context,!1),Jd(t,e.containerInfo)}function Qf(t,e,n,r,s){return Js(),Vd(s),e.flags|=256,Ye(t,e,n,r),e.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function zu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fy(t,e,n){var r=e.pendingProps,s=ge.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ie(ge,s&1),t===null)return Tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nl(o,r,0,null),t=Kr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zu(n),e.memoizedState=Au,t):rh(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return t_(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=dr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=dr(a,i):(i=Kr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?zu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Au,r}return i=t.child,t=i.sibling,r=dr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rh(t,e){return e=Nl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zo(t,e,n,r){return r!==null&&Vd(r),Qs(e,t.child,null,n),t=rh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function t_(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yc(Error(C(422))),Zo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Nl({mode:"visible",children:r.children},s,0,null),i=Kr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Qs(e,t.child,null,o),e.child.memoizedState=zu(o),e.memoizedState=Au,i);if(!(e.mode&1))return Zo(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(C(419)),r=yc(i,r,void 0),Zo(t,e,o,r)}if(a=(o&t.childLanes)!==0,ut||a){if(r=Ie,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zn(t,s),en(r,t,s,-1))}return ch(),r=yc(Error(C(421))),Zo(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=p_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wt=ar(s.nextSibling),xt=e,de=!0,Jt=null,t!==null&&(Tt[Rt++]=Pn,Tt[Rt++]=Tn,Tt[Rt++]=Yr,Pn=t.id,Tn=t.overflow,Yr=e),e=rh(e,r.children),e.flags|=4096,e)}function Yf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ru(t.return,e,n)}function vc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function By(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ye(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yf(t,n,e);else if(t.tag===19)Yf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ie(ge,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&el(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&el(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vc(e,!0,n,null,i);break;case"together":vc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=dr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=dr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function n_(t,e,n){switch(e.tag){case 3:Uy(e),Js();break;case 5:py(e);break;case 1:ht(e.type)&&Ka(e);break;case 4:Jd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ie(Ya,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ie(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?Fy(t,e,n):(ie(ge,ge.current&1),t=$n(t,e,n),t!==null?t.sibling:null);ie(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return By(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ie(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,$y(t,e,n)}return $n(t,e,n)}var Vy,$u,qy,Wy;Vy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$u=function(){};qy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,qr(wn.current);var i=null;switch(n){case"input":s=ou(t,s),r=ou(t,r),i=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),i=[];break;case"textarea":s=cu(t,s),r=cu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ha)}du(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ji.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ji.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&le("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Wy=function(t,e,n,r){n!==r&&(e.flags|=4)};function _i(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function r_(t,e,n){var r=e.pendingProps;switch(Bd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(e),null;case 1:return ht(e.type)&&Ga(),Fe(e),null;case 3:return r=e.stateNode,Ys(),ce(dt),ce(Ge),Yd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jt!==null&&(Hu(Jt),Jt=null))),$u(t,e),Fe(e),null;case 5:Qd(e);var s=qr(ao.current);if(n=e.type,t!==null&&e.stateNode!=null)qy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return Fe(e),null}if(t=qr(wn.current),Yo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[gn]=e,r[io]=i,t=(e.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(s=0;s<Pi.length;s++)le(Pi[s],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":of(r,i),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},le("invalid",r);break;case"textarea":lf(r,i),le("invalid",r)}du(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qo(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qo(r.textContent,a,t),s=["children",""+a]):Ji.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&le("scroll",r)}switch(n){case"input":Bo(r),af(r,i,!0);break;case"textarea":Bo(r),cf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ha)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gn]=e,t[io]=r,Vy(t,e,!1,!1),e.stateNode=t;e:{switch(o=hu(n,r),n){case"dialog":le("cancel",t),le("close",t),s=r;break;case"iframe":case"object":case"embed":le("load",t),s=r;break;case"video":case"audio":for(s=0;s<Pi.length;s++)le(Pi[s],t);s=r;break;case"source":le("error",t),s=r;break;case"img":case"image":case"link":le("error",t),le("load",t),s=r;break;case"details":le("toggle",t),s=r;break;case"input":of(t,r),s=ou(t,r),le("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),le("invalid",t);break;case"textarea":lf(t,r),s=cu(t,r),le("invalid",t);break;default:s=r}du(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?_g(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xg(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qi(t,l):typeof l=="number"&&Qi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ji.hasOwnProperty(i)?l!=null&&i==="onScroll"&&le("scroll",t):l!=null&&Cd(t,i,l,o))}switch(n){case"input":Bo(t),af(t,r,!1);break;case"textarea":Bo(t),cf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?As(t,!!r.multiple,i,!1):r.defaultValue!=null&&As(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ha)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fe(e),null;case 6:if(t&&e.stateNode!=null)Wy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=qr(ao.current),qr(wn.current),Yo(e)){if(r=e.stateNode,n=e.memoizedProps,r[gn]=e,(i=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:Qo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qo(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gn]=e,e.stateNode=r}return Fe(e),null;case 13:if(ce(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&wt!==null&&e.mode&1&&!(e.flags&128))cy(),Js(),e.flags|=98560,i=!1;else if(i=Yo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[gn]=e}else Js(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),i=!1}else Jt!==null&&(Hu(Jt),Jt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Re===0&&(Re=3):ch())),e.updateQueue!==null&&(e.flags|=4),Fe(e),null);case 4:return Ys(),$u(t,e),t===null&&ro(e.stateNode.containerInfo),Fe(e),null;case 10:return Hd(e.type._context),Fe(e),null;case 17:return ht(e.type)&&Ga(),Fe(e),null;case 19:if(ce(ge),i=e.memoizedState,i===null)return Fe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_i(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=el(t),o!==null){for(e.flags|=128,_i(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(ge,ge.current&1|2),e.child}t=t.sibling}i.tail!==null&&_e()>Zs&&(e.flags|=128,r=!0,_i(i,!1),e.lanes=4194304)}else{if(!r)if(t=el(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_i(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!de)return Fe(e),null}else 2*_e()-i.renderingStartTime>Zs&&n!==1073741824&&(e.flags|=128,r=!0,_i(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_e(),e.sibling=null,n=ge.current,ie(ge,r?n&1|2:n&1),e):(Fe(e),null);case 22:case 23:return lh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gt&1073741824&&(Fe(e),e.subtreeFlags&6&&(e.flags|=8192)):Fe(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function s_(t,e){switch(Bd(e),e.tag){case 1:return ht(e.type)&&Ga(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ys(),ce(dt),ce(Ge),Yd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qd(e),null;case 13:if(ce(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(ge),null;case 4:return Ys(),null;case 10:return Hd(e.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var ea=!1,Be=!1,i_=typeof WeakSet=="function"?WeakSet:Set,O=null;function Rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(t,e,r)}else n.current=null}function Du(t,e,n){try{n()}catch(r){xe(t,e,r)}}var Xf=!1;function o_(t,e){if(_u=Va,t=Qg(),Ud(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ku={focusedElem:t,selectionRange:n},Va=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Wt(e.type,w),x);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(b){xe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return y=Xf,Xf=!1,y}function $i(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Du(e,n,i)}s=s.next}while(s!==r)}}function Rl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Uu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hy(t){var e=t.alternate;e!==null&&(t.alternate=null,Hy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gn],delete e[io],delete e[Eu],delete e[Bb],delete e[Vb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gy(t){return t.tag===5||t.tag===3||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ha));else if(r!==4&&(t=t.child,t!==null))for(Fu(t,e,n),t=t.sibling;t!==null;)Fu(t,e,n),t=t.sibling}function Bu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bu(t,e,n),t=t.sibling;t!==null;)Bu(t,e,n),t=t.sibling}var Ae=null,Kt=!1;function Gn(t,e,n){for(n=n.child;n!==null;)Ky(t,e,n),n=n.sibling}function Ky(t,e,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 5:Be||Rs(n,e);case 6:var r=Ae,s=Kt;Ae=null,Gn(t,e,n),Ae=r,Kt=s,Ae!==null&&(Kt?(t=Ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(Kt?(t=Ae,n=n.stateNode,t.nodeType===8?dc(t.parentNode,n):t.nodeType===1&&dc(t,n),eo(t)):dc(Ae,n.stateNode));break;case 4:r=Ae,s=Kt,Ae=n.stateNode.containerInfo,Kt=!0,Gn(t,e,n),Ae=r,Kt=s;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Du(n,e,o),s=s.next}while(s!==r)}Gn(t,e,n);break;case 1:if(!Be&&(Rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,e,a)}Gn(t,e,n);break;case 21:Gn(t,e,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Gn(t,e,n),Be=r):Gn(t,e,n);break;default:Gn(t,e,n)}}function ep(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new i_),e.forEach(function(r){var s=m_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ae=a.stateNode,Kt=!1;break e;case 3:Ae=a.stateNode.containerInfo,Kt=!0;break e;case 4:Ae=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(Ae===null)throw Error(C(160));Ky(i,o,s),Ae=null,Kt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){xe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jy(e,t),e=e.sibling}function Jy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),dn(t),r&4){try{$i(3,t,t.return),Rl(3,t)}catch(w){xe(t,t.return,w)}try{$i(5,t,t.return)}catch(w){xe(t,t.return,w)}}break;case 1:Ft(e,t),dn(t),r&512&&n!==null&&Rs(n,n.return);break;case 5:if(Ft(e,t),dn(t),r&512&&n!==null&&Rs(n,n.return),t.flags&32){var s=t.stateNode;try{Qi(s,"")}catch(w){xe(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&yg(s,i),hu(a,o);var c=hu(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?_g(s,h):d==="dangerouslySetInnerHTML"?xg(s,h):d==="children"?Qi(s,h):Cd(s,d,h,c)}switch(a){case"input":au(s,i);break;case"textarea":vg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?As(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?As(s,!!i.multiple,i.defaultValue,!0):As(s,!!i.multiple,i.multiple?[]:"",!1))}s[io]=i}catch(w){xe(t,t.return,w)}}break;case 6:if(Ft(e,t),dn(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){xe(t,t.return,w)}}break;case 3:if(Ft(e,t),dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(e.containerInfo)}catch(w){xe(t,t.return,w)}break;case 4:Ft(e,t),dn(t);break;case 13:Ft(e,t),dn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(oh=_e())),r&4&&ep(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Be=(c=Be)||d,Ft(e,t),Be=c):Ft(e,t),dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,p=f.child,f.tag){case 0:case 11:case 14:case 15:$i(4,f,f.return);break;case 1:Rs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){xe(r,n,w)}}break;case 5:Rs(f,f.return);break;case 22:if(f.memoizedState!==null){np(h);continue}}p!==null?(p.return=f,O=p):np(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bg("display",o))}catch(w){xe(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){xe(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ft(e,t),dn(t),r&4&&ep(t);break;case 21:break;default:Ft(e,t),dn(t)}}function dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gy(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Qi(s,""),r.flags&=-33);var i=Zf(t);Bu(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zf(t);Fu(t,a,o);break;default:throw Error(C(161))}}catch(l){xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function a_(t,e,n){O=t,Qy(t)}function Qy(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ea;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Be;a=ea;var c=Be;if(ea=o,(Be=l)&&!c)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?rp(s):l!==null?(l.return=o,O=l):rp(s);for(;i!==null;)O=i,Qy(i),i=i.sibling;O=s,ea=a,Be=c}tp(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):tp(t)}}function tp(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Be||Rl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Be)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Df(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Df(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&eo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Be||e.flags&512&&Uu(e)}catch(f){xe(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function np(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function rp(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rl(4,e)}catch(l){xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){xe(e,s,l)}}var i=e.return;try{Uu(e)}catch(l){xe(e,i,l)}break;case 5:var o=e.return;try{Uu(e)}catch(l){xe(e,o,l)}}}catch(l){xe(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var l_=Math.ceil,rl=Bn.ReactCurrentDispatcher,sh=Bn.ReactCurrentOwner,It=Bn.ReactCurrentBatchConfig,H=0,Ie=null,Ee=null,$e=0,gt=0,Os=vr(0),Re=0,ho=null,Zr=0,Ol=0,ih=0,Di=null,ct=null,oh=0,Zs=1/0,jn=null,sl=!1,Vu=null,cr=null,ta=!1,nr=null,il=0,Ui=0,qu=null,Ta=-1,Ra=0;function Ze(){return H&6?_e():Ta!==-1?Ta:Ta=_e()}function ur(t){return t.mode&1?H&2&&$e!==0?$e&-$e:Wb.transition!==null?(Ra===0&&(Ra=Lg()),Ra):(t=X,t!==0||(t=window.event,t=t===void 0?16:Fg(t.type)),t):1}function en(t,e,n,r){if(50<Ui)throw Ui=0,qu=null,Error(C(185));So(t,n,r),(!(H&2)||t!==Ie)&&(t===Ie&&(!(H&2)&&(Ol|=n),Re===4&&Xn(t,$e)),ft(t,r),n===1&&H===0&&!(e.mode&1)&&(Zs=_e()+500,Cl&&wr()))}function ft(t,e){var n=t.callbackNode;Wx(t,e);var r=Ba(t,t===Ie?$e:0);if(r===0)n!==null&&hf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hf(n),e===1)t.tag===0?qb(sp.bind(null,t)):oy(sp.bind(null,t)),Ub(function(){!(H&6)&&wr()}),n=null;else{switch(Mg(r)){case 1:n=Nd;break;case 4:n=Ng;break;case 16:n=Fa;break;case 536870912:n=Ig;break;default:n=Fa}n=s0(n,Yy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yy(t,e){if(Ta=-1,Ra=0,H&6)throw Error(C(327));var n=t.callbackNode;if(Fs()&&t.callbackNode!==n)return null;var r=Ba(t,t===Ie?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ol(t,r);else{e=r;var s=H;H|=2;var i=Zy();(Ie!==t||$e!==e)&&(jn=null,Zs=_e()+500,Gr(t,e));do try{d_();break}catch(a){Xy(t,a)}while(!0);Wd(),rl.current=i,H=s,Ee!==null?e=0:(Ie=null,$e=0,e=Re)}if(e!==0){if(e===2&&(s=yu(t),s!==0&&(r=s,e=Wu(t,s))),e===1)throw n=ho,Gr(t,0),Xn(t,r),ft(t,_e()),n;if(e===6)Xn(t,r);else{if(s=t.current.alternate,!(r&30)&&!c_(s)&&(e=ol(t,r),e===2&&(i=yu(t),i!==0&&(r=i,e=Wu(t,i))),e===1))throw n=ho,Gr(t,0),Xn(t,r),ft(t,_e()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:Mr(t,ct,jn);break;case 3:if(Xn(t,r),(r&130023424)===r&&(e=oh+500-_e(),10<e)){if(Ba(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ze(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ju(Mr.bind(null,t,ct,jn),e);break}Mr(t,ct,jn);break;case 4:if(Xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Zt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*l_(r/1960))-r,10<r){t.timeoutHandle=ju(Mr.bind(null,t,ct,jn),r);break}Mr(t,ct,jn);break;case 5:Mr(t,ct,jn);break;default:throw Error(C(329))}}}return ft(t,_e()),t.callbackNode===n?Yy.bind(null,t):null}function Wu(t,e){var n=Di;return t.current.memoizedState.isDehydrated&&(Gr(t,e).flags|=256),t=ol(t,e),t!==2&&(e=ct,ct=n,e!==null&&Hu(e)),t}function Hu(t){ct===null?ct=t:ct.push.apply(ct,t)}function c_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xn(t,e){for(e&=~ih,e&=~Ol,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zt(e),r=1<<n;t[n]=-1,e&=~r}}function sp(t){if(H&6)throw Error(C(327));Fs();var e=Ba(t,0);if(!(e&1))return ft(t,_e()),null;var n=ol(t,e);if(t.tag!==0&&n===2){var r=yu(t);r!==0&&(e=r,n=Wu(t,r))}if(n===1)throw n=ho,Gr(t,0),Xn(t,e),ft(t,_e()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mr(t,ct,jn),ft(t,_e()),null}function ah(t,e){var n=H;H|=1;try{return t(e)}finally{H=n,H===0&&(Zs=_e()+500,Cl&&wr())}}function es(t){nr!==null&&nr.tag===0&&!(H&6)&&Fs();var e=H;H|=1;var n=It.transition,r=X;try{if(It.transition=null,X=1,t)return t()}finally{X=r,It.transition=n,H=e,!(H&6)&&wr()}}function lh(){gt=Os.current,ce(Os)}function Gr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Db(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Bd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ga();break;case 3:Ys(),ce(dt),ce(Ge),Yd();break;case 5:Qd(r);break;case 4:Ys();break;case 13:ce(ge);break;case 19:ce(ge);break;case 10:Hd(r.type._context);break;case 22:case 23:lh()}n=n.return}if(Ie=t,Ee=t=dr(t.current,null),$e=gt=e,Re=0,ho=null,ih=Ol=Zr=0,ct=Di=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vr=null}return t}function Xy(t,e){do{var n=Ee;try{if(Wd(),Ea.current=nl,tl){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tl=!1}if(Xr=0,Ne=Te=ye=null,zi=!1,lo=0,sh.current=null,n===null||n.return===null){Re=1,ho=e,Ee=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Wf(o);if(p!==null){p.flags&=-257,Hf(p,o,a,i,e),p.mode&1&&qf(i,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){qf(i,c,e),ch();break e}l=Error(C(426))}}else if(de&&a.mode&1){var x=Wf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Hf(x,o,a,i,e),Vd(Xs(l,a));break e}}i=l=Xs(l,a),Re!==4&&(Re=2),Di===null?Di=[i]:Di.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=My(i,l,e);$f(i,m);break e;case 1:a=l;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(cr===null||!cr.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Ay(i,a,e);$f(i,b);break e}}i=i.return}while(i!==null)}t0(n)}catch(S){e=S,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function Zy(){var t=rl.current;return rl.current=nl,t===null?nl:t}function ch(){(Re===0||Re===3||Re===2)&&(Re=4),Ie===null||!(Zr&268435455)&&!(Ol&268435455)||Xn(Ie,$e)}function ol(t,e){var n=H;H|=2;var r=Zy();(Ie!==t||$e!==e)&&(jn=null,Gr(t,e));do try{u_();break}catch(s){Xy(t,s)}while(!0);if(Wd(),H=n,rl.current=r,Ee!==null)throw Error(C(261));return Ie=null,$e=0,Re}function u_(){for(;Ee!==null;)e0(Ee)}function d_(){for(;Ee!==null&&!Ax();)e0(Ee)}function e0(t){var e=r0(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?t0(t):Ee=e,sh.current=null}function t0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=s_(n,e),n!==null){n.flags&=32767,Ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Ee=null;return}}else if(n=r_(n,e,gt),n!==null){Ee=n;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Re===0&&(Re=5)}function Mr(t,e,n){var r=X,s=It.transition;try{It.transition=null,X=1,h_(t,e,n,r)}finally{It.transition=s,X=r}return null}function h_(t,e,n,r){do Fs();while(nr!==null);if(H&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Hx(t,i),t===Ie&&(Ee=Ie=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ta||(ta=!0,s0(Fa,function(){return Fs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=It.transition,It.transition=null;var o=X;X=1;var a=H;H|=4,sh.current=null,o_(t,n),Jy(n,t),Nb(ku),Va=!!_u,ku=_u=null,t.current=n,a_(n),zx(),H=a,X=o,It.transition=i}else t.current=n;if(ta&&(ta=!1,nr=t,il=s),i=t.pendingLanes,i===0&&(cr=null),Ux(n.stateNode),ft(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sl)throw sl=!1,t=Vu,Vu=null,t;return il&1&&t.tag!==0&&Fs(),i=t.pendingLanes,i&1?t===qu?Ui++:(Ui=0,qu=t):Ui=0,wr(),null}function Fs(){if(nr!==null){var t=Mg(il),e=It.transition,n=X;try{if(It.transition=null,X=16>t?16:t,nr===null)var r=!1;else{if(t=nr,nr=null,il=0,H&6)throw Error(C(331));var s=H;for(H|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:$i(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,p=d.return;if(Hy(d),d===c){O=null;break}if(f!==null){f.return=p,O=f;break}O=p}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$i(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var g=t.current;for(O=g;O!==null;){o=O;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,O=v;else e:for(o=g;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rl(9,a)}}catch(S){xe(a,a.return,S)}if(a===o){O=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,O=b;break e}O=a.return}}if(H=s,wr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(_l,t)}catch{}r=!0}return r}finally{X=n,It.transition=e}}return!1}function ip(t,e,n){e=Xs(n,e),e=My(t,e,1),t=lr(t,e,1),e=Ze(),t!==null&&(So(t,1,e),ft(t,e))}function xe(t,e,n){if(t.tag===3)ip(t,t,n);else for(;e!==null;){if(e.tag===3){ip(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cr===null||!cr.has(r))){t=Xs(n,t),t=Ay(e,t,1),e=lr(e,t,1),t=Ze(),e!==null&&(So(e,1,t),ft(e,t));break}}e=e.return}}function f_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&($e&n)===n&&(Re===4||Re===3&&($e&130023424)===$e&&500>_e()-oh?Gr(t,0):ih|=n),ft(t,e)}function n0(t,e){e===0&&(t.mode&1?(e=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):e=1);var n=Ze();t=zn(t,e),t!==null&&(So(t,e,n),ft(t,n))}function p_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),n0(t,n)}function m_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),n0(t,n)}var r0;r0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dt.current)ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ut=!1,n_(t,e,n);ut=!!(t.flags&131072)}else ut=!1,de&&e.flags&1048576&&ay(e,Qa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pa(t,e),t=e.pendingProps;var s=Ks(e,Ge.current);Us(e,n),s=Zd(null,e,r,t,s,n);var i=eh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ht(r)?(i=!0,Ka(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kd(e),s.updater=Tl,e.stateNode=s,s._reactInternals=e,Nu(e,r,t,n),e=Mu(null,e,r,!0,i,n)):(e.tag=0,de&&i&&Fd(e),Ye(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pa(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=y_(r),t=Wt(r,t),s){case 0:e=Lu(null,e,r,t,n);break e;case 1:e=Jf(null,e,r,t,n);break e;case 11:e=Gf(null,e,r,t,n);break e;case 14:e=Kf(null,e,r,Wt(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),Lu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),Jf(t,e,r,s,n);case 3:e:{if(Uy(e),t===null)throw Error(C(387));r=e.pendingProps,i=e.memoizedState,s=i.element,fy(t,e),Za(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xs(Error(C(423)),e),e=Qf(t,e,r,n,s);break e}else if(r!==s){s=Xs(Error(C(424)),e),e=Qf(t,e,r,n,s);break e}else for(wt=ar(e.stateNode.containerInfo.firstChild),xt=e,de=!0,Jt=null,n=dy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Js(),r===s){e=$n(t,e,n);break e}Ye(t,e,r,n)}e=e.child}return e;case 5:return py(e),t===null&&Tu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Su(r,s)?o=null:i!==null&&Su(r,i)&&(e.flags|=32),Dy(t,e),Ye(t,e,o,n),e.child;case 6:return t===null&&Tu(e),null;case 13:return Fy(t,e,n);case 4:return Jd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qs(e,null,r,n):Ye(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),Gf(t,e,r,s,n);case 7:return Ye(t,e,e.pendingProps,n),e.child;case 8:return Ye(t,e,e.pendingProps.children,n),e.child;case 12:return Ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ie(Ya,r._currentValue),r._currentValue=o,i!==null)if(rn(i.value,o)){if(i.children===s.children&&!dt.current){e=$n(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ln(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ru(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ru(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ye(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Us(e,n),s=zt(s),r=r(s),e.flags|=1,Ye(t,e,r,n),e.child;case 14:return r=e.type,s=Wt(r,e.pendingProps),s=Wt(r.type,s),Kf(t,e,r,s,n);case 15:return zy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),Pa(t,e),e.tag=1,ht(r)?(t=!0,Ka(e)):t=!1,Us(e,n),Ly(e,r,s),Nu(e,r,s,n),Mu(null,e,r,!0,t,n);case 19:return By(t,e,n);case 22:return $y(t,e,n)}throw Error(C(156,e.tag))};function s0(t,e){return Og(t,e)}function g_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,r){return new g_(t,e,n,r)}function uh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y_(t){if(typeof t=="function")return uh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Td)return 11;if(t===Rd)return 14}return 2}function dr(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Oa(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")uh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bs:return Kr(n.children,s,i,e);case Pd:o=8,s|=8;break;case nu:return t=Ot(12,n,e,s|2),t.elementType=nu,t.lanes=i,t;case ru:return t=Ot(13,n,e,s),t.elementType=ru,t.lanes=i,t;case su:return t=Ot(19,n,e,s),t.elementType=su,t.lanes=i,t;case pg:return Nl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hg:o=10;break e;case fg:o=9;break e;case Td:o=11;break e;case Rd:o=14;break e;case Jn:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Ot(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Kr(t,e,n,r){return t=Ot(7,t,r,e),t.lanes=n,t}function Nl(t,e,n,r){return t=Ot(22,t,r,e),t.elementType=pg,t.lanes=n,t.stateNode={isHidden:!1},t}function wc(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function xc(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function v_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dh(t,e,n,r,s,i,o,a,l){return t=new v_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ot(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(i),t}function w_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function i0(t){if(!t)return mr;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(ht(n))return iy(t,n,e)}return e}function o0(t,e,n,r,s,i,o,a,l){return t=dh(n,r,!0,t,s,i,o,a,l),t.context=i0(null),n=t.current,r=Ze(),s=ur(n),i=Ln(r,s),i.callback=e??null,lr(n,i,s),t.current.lanes=s,So(t,s,r),ft(t,r),t}function Il(t,e,n,r){var s=e.current,i=Ze(),o=ur(s);return n=i0(n),e.context===null?e.context=n:e.pendingContext=n,e=Ln(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lr(s,e,o),t!==null&&(en(t,s,o,i),ja(t,s,o)),o}function al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function op(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hh(t,e){op(t,e),(t=t.alternate)&&op(t,e)}function x_(){return null}var a0=typeof reportError=="function"?reportError:function(t){console.error(t)};function fh(t){this._internalRoot=t}Ll.prototype.render=fh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Il(t,e,null,null)};Ll.prototype.unmount=fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;es(function(){Il(null,t,null,null)}),e[An]=null}};function Ll(t){this._internalRoot=t}Ll.prototype.unstable_scheduleHydration=function(t){if(t){var e=$g();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yn.length&&e!==0&&e<Yn[n].priority;n++);Yn.splice(n,0,t),n===0&&Ug(t)}};function ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ml(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ap(){}function b_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=al(o);i.call(c)}}var o=o0(e,r,t,0,null,!1,!1,"",ap);return t._reactRootContainer=o,t[An]=o.current,ro(t.nodeType===8?t.parentNode:t),es(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=al(l);a.call(c)}}var l=dh(t,0,!1,null,null,!1,!1,"",ap);return t._reactRootContainer=l,t[An]=l.current,ro(t.nodeType===8?t.parentNode:t),es(function(){Il(e,l,n,r)}),l}function Al(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=al(o);a.call(l)}}Il(e,o,t,s)}else o=b_(n,e,t,s,r);return al(o)}Ag=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ci(e.pendingLanes);n!==0&&(Id(e,n|1),ft(e,_e()),!(H&6)&&(Zs=_e()+500,wr()))}break;case 13:es(function(){var r=zn(t,1);if(r!==null){var s=Ze();en(r,t,1,s)}}),hh(t,1)}};Ld=function(t){if(t.tag===13){var e=zn(t,134217728);if(e!==null){var n=Ze();en(e,t,134217728,n)}hh(t,134217728)}};zg=function(t){if(t.tag===13){var e=ur(t),n=zn(t,e);if(n!==null){var r=Ze();en(n,t,e,r)}hh(t,e)}};$g=function(){return X};Dg=function(t,e){var n=X;try{return X=t,e()}finally{X=n}};pu=function(t,e,n){switch(e){case"input":if(au(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=El(r);if(!s)throw Error(C(90));gg(r),au(r,s)}}}break;case"textarea":vg(t,n);break;case"select":e=n.value,e!=null&&As(t,!!n.multiple,e,!1)}};jg=ah;Eg=es;var __={usingClientEntryPoint:!1,Events:[Eo,js,El,kg,Sg,ah]},ki={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k_={bundleType:ki.bundleType,version:ki.version,rendererPackageName:ki.rendererPackageName,rendererConfig:ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tg(t),t===null?null:t.stateNode},findFiberByHostInstance:ki.findFiberByHostInstance||x_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{_l=na.inject(k_),vn=na}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;_t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ph(e))throw Error(C(200));return w_(t,e,null,n)};_t.createRoot=function(t,e){if(!ph(t))throw Error(C(299));var n=!1,r="",s=a0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dh(t,1,!1,null,null,n,!1,r,s),t[An]=e.current,ro(t.nodeType===8?t.parentNode:t),new fh(e)};_t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Tg(e),t=t===null?null:t.stateNode,t};_t.flushSync=function(t){return es(t)};_t.hydrate=function(t,e,n){if(!Ml(e))throw Error(C(200));return Al(null,t,e,!0,n)};_t.hydrateRoot=function(t,e,n){if(!ph(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=a0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=o0(e,null,t,1,n??null,s,!1,i,o),t[An]=e.current,ro(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ll(e)};_t.render=function(t,e,n){if(!Ml(e))throw Error(C(200));return Al(null,t,e,!1,n)};_t.unmountComponentAtNode=function(t){if(!Ml(t))throw Error(C(40));return t._reactRootContainer?(es(function(){Al(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1};_t.unstable_batchedUpdates=ah;_t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ml(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Al(t,e,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function l0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l0)}catch(t){console.error(t)}}l0(),lg.exports=_t;var S_=lg.exports,c0,lp=S_;c0=lp.createRoot,lp.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>_.createElement("svg",{ref:d,...j_,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${E_(t)}`,a].join(" "),...c},[...e.map(([h,f])=>_.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=K("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=K("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=K("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=K("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=K("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=K("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=K("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=K("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=K("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=K("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=K("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=K("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=K("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=K("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=K("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=K("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=K("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=K("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=K("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=K("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=K("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=K("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var Ku=function(t,e){return Ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ku(t,e)};function x0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ku(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ll=function(){return ll=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ll.apply(this,arguments)};function li(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function b0(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function _0(t,e){return function(n,r){e(n,r,t)}}function k0(t,e,n,r,s,i){function o(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var y={};for(var w in r)y[w]=w==="access"?{}:r[w];for(var w in r.access)y.access[w]=r.access[w];y.addInitializer=function(m){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(m||null))};var x=(0,n[p])(a==="accessor"?{get:d.get,set:d.set}:d[l],y);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(d.get=h),(h=o(x.set))&&(d.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(a==="field"?s.unshift(h):d[l]=h)}c&&Object.defineProperty(c,r.name,d),f=!0}function S0(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function j0(t){return typeof t=="symbol"?t:"".concat(t)}function E0(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function C0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function N(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function P0(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var $l=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function T0(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&$l(e,t,n)}function cl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xh(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function R0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xh(arguments[e]));return t}function O0(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function N0(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function ei(t){return this instanceof ei?(this.v=t,this):new ei(t)}function I0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(y){return Promise.resolve(y).then(p,h)}}function a(p,y){r[p]&&(s[p]=function(w){return new Promise(function(x,m){i.push([p,w,x,m])>1||l(p,w)})},y&&(s[p]=y(s[p])))}function l(p,y){try{c(r[p](y))}catch(w){f(i[0][3],w)}}function c(p){p.value instanceof ei?Promise.resolve(p.value.v).then(d,h):f(i[0][2],p)}function d(p){l("next",p)}function h(p){l("throw",p)}function f(p,y){p(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function L0(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:ei(t[s](o)),done:!1}:i?i(o):o}:i}}function M0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cl=="function"?cl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function A0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var A_=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Ju=function(t){return Ju=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Ju(t)};function z0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Ju(t),r=0;r<n.length;r++)n[r]!=="default"&&$l(e,t,n[r]);return A_(e,t),e}function $0(t){return t&&t.__esModule?t:{default:t}}function D0(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function U0(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function F0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function B0(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var z_=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function V0(t){function e(i){t.error=t.hasError?new z_(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function q0(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const $_={__extends:x0,__assign:ll,__rest:li,__decorate:b0,__param:_0,__esDecorate:k0,__runInitializers:S0,__propKey:j0,__setFunctionName:E0,__metadata:C0,__awaiter:N,__generator:P0,__createBinding:$l,__exportStar:T0,__values:cl,__read:xh,__spread:R0,__spreadArrays:O0,__spreadArray:N0,__await:ei,__asyncGenerator:I0,__asyncDelegator:L0,__asyncValues:M0,__makeTemplateObject:A0,__importStar:z0,__importDefault:$0,__classPrivateFieldGet:D0,__classPrivateFieldSet:U0,__classPrivateFieldIn:F0,__addDisposableResource:B0,__disposeResources:V0,__rewriteRelativeImportExtension:q0},D_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:B0,get __assign(){return ll},__asyncDelegator:L0,__asyncGenerator:I0,__asyncValues:M0,__await:ei,__awaiter:N,__classPrivateFieldGet:D0,__classPrivateFieldIn:F0,__classPrivateFieldSet:U0,__createBinding:$l,__decorate:b0,__disposeResources:V0,__esDecorate:k0,__exportStar:T0,__extends:x0,__generator:P0,__importDefault:$0,__importStar:z0,__makeTemplateObject:A0,__metadata:C0,__param:_0,__propKey:j0,__read:xh,__rest:li,__rewriteRelativeImportExtension:q0,__runInitializers:S0,__setFunctionName:E0,__spread:R0,__spreadArray:N0,__spreadArrays:O0,__values:cl,default:$_},Symbol.toStringTag,{value:"Module"})),U_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class bh extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class F_ extends bh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cp extends bh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class up extends bh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qu||(Qu={}));class B_{constructor(e,{headers:n={},customFetch:r,region:s=Qu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=U_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return N(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const y=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(f["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(f["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const m=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:w,signal:x}).catch(S=>{throw new F_(S)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new cp(m);if(!m.ok)throw new up(m);let v=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield m.json():v==="application/octet-stream"||v==="application/pdf"?b=yield m.blob():v==="text/event-stream"?b=m:v==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof up||a instanceof cp?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Xe={};const ci=Xw(D_);var ra={},sa={},ia={},oa={},aa={},la={},dp;function W0(){if(dp)return la;dp=1,Object.defineProperty(la,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return la.default=t,la}var hp;function H0(){if(hp)return aa;hp=1,Object.defineProperty(aa,"__esModule",{value:!0});const e=ci.__importDefault(W0());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,h,f;let p=null,y=null,w=null,x=l.status,m=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=S:y=JSON.parse(S))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&b&&b.length>1&&(w=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,x=406,m="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const v=await l.text();try{p=JSON.parse(v),Array.isArray(p)&&l.status===404&&(y=[],p=null,x=200,m="OK")}catch{l.status===404&&v===""?(x=204,m="No Content"):p={message:v}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,x=200,m="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:y,count:w,status:x,statusText:m}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,d,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return aa.default=n,aa}var fp;function G0(){if(fp)return oa;fp=1,Object.defineProperty(oa,"__esModule",{value:!0});const e=ci.__importDefault(H0());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return oa.default=n,oa}var pp;function _h(){if(pp)return ia;pp=1,Object.defineProperty(ia,"__esModule",{value:!0});const e=ci.__importDefault(G0()),n=new RegExp("[,()]");class r extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return ia.default=r,ia}var mp;function K0(){if(mp)return sa;mp=1,Object.defineProperty(sa,"__esModule",{value:!0});const e=ci.__importDefault(_h());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return sa.default=n,sa}var gp;function V_(){if(gp)return ra;gp=1,Object.defineProperty(ra,"__esModule",{value:!0});const t=ci,e=t.__importDefault(K0()),n=t.__importDefault(_h());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,x])=>x!==void 0).map(([w,x])=>[w,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([w,x])=>{f.searchParams.append(w,x)})):(h="POST",p=o);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new n.default({method:h,url:f,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return ra.default=r,ra}Object.defineProperty(Xe,"__esModule",{value:!0});var J0=Xe.PostgrestError=iv=Xe.PostgrestBuilder=rv=Xe.PostgrestTransformBuilder=tv=Xe.PostgrestFilterBuilder=Z0=Xe.PostgrestQueryBuilder=Y0=Xe.PostgrestClient=void 0;const ui=ci,Q0=ui.__importDefault(V_());var Y0=Xe.PostgrestClient=Q0.default;const X0=ui.__importDefault(K0());var Z0=Xe.PostgrestQueryBuilder=X0.default;const ev=ui.__importDefault(_h());var tv=Xe.PostgrestFilterBuilder=ev.default;const nv=ui.__importDefault(G0());var rv=Xe.PostgrestTransformBuilder=nv.default;const sv=ui.__importDefault(H0());var iv=Xe.PostgrestBuilder=sv.default;const ov=ui.__importDefault(W0());J0=Xe.PostgrestError=ov.default;var av=Xe.default={PostgrestClient:Q0.default,PostgrestQueryBuilder:X0.default,PostgrestFilterBuilder:ev.default,PostgrestTransformBuilder:nv.default,PostgrestBuilder:sv.default,PostgrestError:ov.default};const q_=Qw({__proto__:null,get PostgrestBuilder(){return iv},get PostgrestClient(){return Y0},get PostgrestError(){return J0},get PostgrestFilterBuilder(){return tv},get PostgrestQueryBuilder(){return Z0},get PostgrestTransformBuilder(){return rv},default:av},[Xe]),{PostgrestClient:W_,PostgrestQueryBuilder:lO,PostgrestFilterBuilder:cO,PostgrestTransformBuilder:uO,PostgrestBuilder:dO,PostgrestError:hO}=av||q_;class H_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const G_="2.81.1",K_=`realtime-js/${G_}`,lv="1.0.0",J_="2.0.0",yp=lv,Yu=1e4,Q_=1e3,Y_=100;var zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zr||(zr={}));var Pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pe||(Pe={}));var Pt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pt||(Pt={}));var Xu;(function(t){t.websocket="websocket"})(Xu||(Xu={}));var $r;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($r||($r={}));class X_{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:n,ref:r,event:s,topic:i,payload:o}=e,a=this.META_LENGTH+n.length+r.length+i.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let c=new DataView(l),d=0;c.setUint8(d++,this.KINDS.push),c.setUint8(d++,n.length),c.setUint8(d++,r.length),c.setUint8(d++,i.length),c.setUint8(d++,s.length),Array.from(n,f=>c.setUint8(d++,f.charCodeAt(0))),Array.from(r,f=>c.setUint8(d++,f.charCodeAt(0))),Array.from(i,f=>c.setUint8(d++,f.charCodeAt(0))),Array.from(s,f=>c.setUint8(d++,f.charCodeAt(0)));var h=new Uint8Array(l.byteLength+o.byteLength);return h.set(new Uint8Array(l),0),h.set(new Uint8Array(o),l.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(d),f=0;h.setUint8(f++,this.KINDS.userBroadcastPush),h.setUint8(f++,s.length),h.setUint8(f++,i.length),h.setUint8(f++,o.length),h.setUint8(f++,a.length),h.setUint8(f++,this.BINARY_ENCODING),Array.from(s,y=>h.setUint8(f++,y.charCodeAt(0))),Array.from(i,y=>h.setUint8(f++,y.charCodeAt(0))),Array.from(o,y=>h.setUint8(f++,y.charCodeAt(0))),Array.from(a,y=>h.setUint8(f++,y.charCodeAt(0)));var p=new Uint8Array(d.byteLength+l.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(l),d.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var n,r;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),y=0;p.setUint8(y++,this.KINDS.userBroadcastPush),p.setUint8(y++,s.length),p.setUint8(y++,i.length),p.setUint8(y++,o.length),p.setUint8(y++,a.length),p.setUint8(y++,this.JSON_ENCODING),Array.from(s,x=>p.setUint8(y++,x.charCodeAt(0))),Array.from(i,x=>p.setUint8(y++,x.charCodeAt(0))),Array.from(o,x=>p.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>p.setUint8(y++,x.charCodeAt(0)));var w=new Uint8Array(f.byteLength+d.byteLength);return w.set(new Uint8Array(f),0),w.set(new Uint8Array(d),f.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,s);case this.KINDS.reply:return this._decodeReply(e,n,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodePush(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(a,a+s));a=a+s;const c=r.decode(e.slice(a,a+i));a=a+i;const d=r.decode(e.slice(a,a+o));a=a+o;const h=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:d,payload:h}}_decodeReply(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const p=JSON.parse(r.decode(e.slice(l,e.byteLength))),y={status:f,response:p};return{join_ref:c,ref:d,topic:h,event:Pt.reply,payload:y}}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:c}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,y={type:this.BROADCAST,event:d,payload:p};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class cv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(re||(re={}));const vp=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Z_(o,t,e,s),i),{}):{}},Z_=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?uv(i,o):Zu(o)},uv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return r1(e,n)}switch(t){case re.bool:return e1(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return t1(e);case re.json:case re.jsonb:return n1(e);case re.timestamp:return s1(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Zu(e);default:return Zu(e)}},Zu=t=>t,e1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},t1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},n1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},r1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>uv(e,a))}return t},s1=t=>typeof t=="string"?t.replace(" ","T"):t,dv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};let bc=class{constructor(e,n,r={},s=Yu){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var wp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wp||(wp={}));class Fi{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Fi.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fi.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),y=d.filter(x=>p.indexOf(x.presence_ref)<0),w=h.filter(x=>f.indexOf(x.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xp||(xp={}));var Bi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Bi||(Bi={}));var En;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(En||(En={}));class kh{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bc(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new cv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Fi(this),this.broadcastEndpointURL=dv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Bi.PRESENCE]&&this.bindings[Bi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(En.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(En.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){e==null||e(En.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,m=[];for(let g=0;g<x;g++){const v=w[g],{filter:{event:b,schema:S,table:j,filter:k}}=v,E=p&&p[g];if(E&&E.event===b&&E.schema===S&&E.table===j&&E.filter===k)m.push(Object.assign(Object.assign({},v),{id:E.id}));else{this.unsubscribe(),this.state=Pe.errored,e==null||e(En.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(En.SUBSCRIBED);return}}).receive("error",p=>{this.state=Pe.errored,e==null||e(En.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(En.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Pe.joined&&e===Bi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new bc(this,Pt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bc(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Y_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Pt;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,w,x;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,w,x,m,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return b&&((w=n.ids)===null||w===void 0?void 0:w.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(g=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:x,commit_timestamp:m,type:g,errors:v}=y;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:m,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(y))}p.callback(f,r)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&kh.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pt.close,{},e)}_onError(e){this._on(Pt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=vp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=vp(e.columns,e.old_record)),n}}const _c=()=>{},ca={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},i1=[1e3,2e3,5e3,1e4],o1=1e4,a1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class l1{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yu,this.transport=null,this.heartbeatIntervalMs=ca.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_c,this.ref=0,this.reconnectTimer=null,this.vsn=yp,this.logger=_c,this.conn=null,this.sendBuffer=[],this.serializer=new X_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Xu.websocket}`,this.httpEndpoint=dv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=H_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return $r.Connecting;case zr.open:return $r.Open;case zr.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new kh(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Q_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ca.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zr.open||this.conn.readyState===zr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([a1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:K_};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Pt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new cv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ca.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c,d,h,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Yu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ca.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:_c,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:yp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:y=>i1[y-1]||o1,this.vsn){case lv:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(y,w)=>w(JSON.stringify(y)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(y,w)=>w(JSON.parse(y));break;case J_:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Sh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class c1 extends Sh{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ed extends Sh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const jh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),u1=()=>Response,td=t=>{if(Array.isArray(t))return t.map(n=>td(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=td(r)}),e},d1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},h1=(t,e,n)=>N(void 0,void 0,void 0,function*(){const r=yield u1();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new c1(kc(s),i,o))}).catch(s=>{e(new ed(kc(s),s))}):e(new ed(kc(t),t))}),f1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(d1(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Po(t,e,n,r,s,i){return N(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,f1(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>h1(l,a,r))})})}function po(t,e,n,r){return N(this,void 0,void 0,function*(){return Po(t,"GET",e,n,r)})}function Ht(t,e,n,r,s){return N(this,void 0,void 0,function*(){return Po(t,"POST",e,r,s,n)})}function nd(t,e,n,r,s){return N(this,void 0,void 0,function*(){return Po(t,"PUT",e,r,s,n)})}function p1(t,e,n,r){return N(this,void 0,void 0,function*(){return Po(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Eh(t,e,n,r,s){return N(this,void 0,void 0,function*(){return Po(t,"DELETE",e,r,s,n)})}class m1{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return N(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}}var hv;class g1{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[hv]="BlobDownloadBuilder",this.promise=null}asStream(){return new m1(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return N(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}}hv=Symbol.toStringTag;const y1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class v1{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=jh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return N(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},bp),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?nd:Ht)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}upload(e,n,r){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return N(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:bp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield nd(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return N(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ht(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Sh("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}update(e,n,r){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return N(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}copy(e,n,r){return N(this,void 0,void 0,function*(){try{return{data:{path:(yield Ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return N(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ht(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return N(this,void 0,void 0,function*(){try{const s=yield Ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>po(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new g1(l,this.shouldThrowOnError)}info(e){return N(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield po(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:td(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}exists(e){return N(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield p1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r)&&r instanceof ed){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return N(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}list(e,n,r){return N(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},y1),n),{prefix:e||""});return{data:yield Ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}listV2(e,n){return N(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ht(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const fv="2.81.1",pv={"X-Client-Info":`storage-js/${fv}`};class w1{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pv),n),this.fetch=jh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return N(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield po(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}getBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}createBucket(e){return N(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ht(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return N(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}emptyBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}deleteBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class x1{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pv),n),this.fetch=jh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}listBuckets(e){return N(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield po(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}deleteBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}}const Ch={"X-Client-Info":`storage-js/${fv}`,"Content-Type":"application/json"};class mv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function yt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Sc extends mv{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class b1 extends mv{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var _p;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_p||(_p={}));const Ph=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),k1=(t,e,n)=>N(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Sc(kp(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Sc(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Sc(a,s,o))}}else e(new b1(kp(t),t))}),S1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(_1(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function j1(t,e,n,r,s,i){return N(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,S1(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>k1(l,a,r))})})}function vt(t,e,n,r,s){return N(this,void 0,void 0,function*(){return j1(t,"POST",e,r,s,n)})}class E1{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ch),n),this.fetch=Ph(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return N(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return N(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}listIndexes(e){return N(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return N(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}}class C1{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ch),n),this.fetch=Ph(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return N(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield vt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}getVectors(e){return N(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}listVectors(e){return N(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield vt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}queryVectors(e){return N(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return N(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield vt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}}class P1{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ch),n),this.fetch=Ph(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return N(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}getBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}listBuckets(){return N(this,arguments,void 0,function*(e={}){try{return{data:yield vt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return N(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}}class T1 extends P1{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new R1(this.url,this.headers,e,this.fetch)}}class R1 extends E1{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return N(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return N(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return N(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return N(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new O1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class O1 extends C1{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return N(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return N(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return N(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return N(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return N(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class N1 extends w1{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new v1(this.url,this.headers,e,this.fetch)}get vectors(){return new T1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new x1(this.url+"/iceberg",this.headers,this.fetch)}}const I1="2.81.1";let Ti="";typeof Deno<"u"?Ti="deno":typeof document<"u"?Ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ti="react-native":Ti="node";const L1={"X-Client-Info":`supabase-js-${Ti}/${I1}`},M1={headers:L1},A1={schema:"public"},z1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$1={},D1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),U1=()=>Headers,F1=(t,e,n)=>{const r=D1(n),s=U1();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))}};function B1(t){return t.endsWith("/")?t:t+"/"}function V1(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function q1(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(B1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gv="2.81.1",vs=30*1e3,rd=3,jc=rd*vs,W1="http://localhost:9999",H1="supabase.auth.token",G1={"X-Client-Info":`gotrue-js/${gv}`},sd="X-Supabase-Api-Version",yv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J1=10*60*1e3;class mo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Q1 extends mo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Y1(t){return I(t)&&t.name==="AuthApiError"}class Dr extends mo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class xr extends mo{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Bt extends xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function X1(t){return I(t)&&t.name==="AuthSessionMissingError"}class us extends xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ua extends xr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class da extends xr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z1(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class Sp extends xr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class id extends xr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ec(t){return I(t)&&t.name==="AuthRetryableFetchError"}class jp extends xr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class od extends xr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ep=` 	
\r=`.split(""),ek=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ep.length;e+=1)t[Ep[e].charCodeAt(0)]=-2;for(let e=0;e<ul.length;e+=1)t[ul[e].charCodeAt(0)]=e;return t})();function Cp(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ul[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ul[r]),e.queuedBits-=6}}function vv(t,e,n){const r=ek[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Pp(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{rk(o,r,n)};for(let o=0;o<t.length;o+=1)vv(t.charCodeAt(o),s,i);return e.join("")}function tk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function nk(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}tk(r,e)}}function rk(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Bs(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)vv(t.charCodeAt(s),n,r);return new Uint8Array(e)}function sk(t){const e=[];return nk(t,n=>e.push(n)),new Uint8Array(e)}function Wr(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Cp(s,n,r)),Cp(null,n,r),e.join("")}function ik(t){return Math.round(Date.now()/1e3)+t}function ok(){return Symbol("auth-callback")}const Me=()=>typeof window<"u"&&typeof document<"u",Cr={tested:!1,writable:!1},wv=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cr.tested)return Cr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Cr.tested=!0,Cr.writable=!0}catch{Cr.tested=!0,Cr.writable=!1}return Cr.writable};function ak(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const xv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ws=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Pr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kn=async(t,e)=>{await t.removeItem(e)};class Dl{constructor(){this.promise=new Dl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Dl.promiseConstructor=Promise;function Cc(t){const e=t.split(".");if(e.length!==3)throw new od("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!K1.test(e[r]))throw new od("JWT not in base64url format");return{header:JSON.parse(Pp(e[0])),payload:JSON.parse(Pp(e[1])),signature:Bs(e[2]),raw:{header:e[0],payload:e[1]}}}async function ck(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function uk(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function dk(t){return("0"+t.toString(16)).substr(-2)}function hk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,dk).join("")}async function fk(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function pk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await fk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ds(t,e,n=!1){const r=hk();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ws(t,`${e}-code-verifier`,s);const i=await pk(r);return[i,r===i?"plain":"s256"]}const mk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gk(t){const e=t.headers.get(sd);if(!e||!e.match(mk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hs(t){if(!wk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xk(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Tp(t){return JSON.parse(JSON.stringify(t))}const Ar=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bk=[502,503,504];async function Rp(t){var e;if(!lk(t))throw new id(Ar(t),0);if(bk.includes(t.status))throw new id(Ar(t),t.status);let n;try{n=await t.json()}catch(i){throw new Dr(Ar(i),i)}let r;const s=gk(t);if(s&&s.getTime()>=yv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jp(Ar(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Bt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new jp(Ar(n),t.status,n.weak_password.reasons);throw new Q1(Ar(n),t.status||500,r)}const _k=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function L(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[sd]||(i[sd]=yv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await kk(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function kk(t,e,n,r,s,i){const o=_k(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new id(Ar(l),0)}if(a.ok||await Rp(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Rp(l)}}function Vt(t){var e;let n=null;Ek(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ik(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Op(t){const e=Vt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Sk(t){return{data:t,error:null}}function jk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=li(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Np(t){return t}function Ek(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tc=["global","local","others"];class Ck{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=xv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Tc[0]){if(Tc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tc.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=li(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Np});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){hs(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hs(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Zn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){hs(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){hs(e.userId);try{const{data:n,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hs(e.userId),hs(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Np});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(I(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}}function Ip(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const fs={debug:!!(globalThis&&wv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Pk extends bv{}async function Tk(t,e,n){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Pk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Rk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _v(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ok(t){return parseInt(t,16)}function Nk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Ik(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=_v(t.address),y=d?`${d}://${r}`:r,w=t.statement?`${t.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${p}

${w}`;let m=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),l&&(m+=`
Request ID: ${l}`),c){let g=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}m+=g}return`${x}
${m}`}class Se extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class dl extends Se{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Lk({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(kv(o)){if(i.rp.id!==o)return new Se({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Mk({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(kv(r)){if(n.rpId!==r)return new Se({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Ak{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zk=new Ak;function $k(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=li(t,["challenge","user","excludeCredentials"]),i=Bs(e).buffer,o=Object.assign(Object.assign({},n),{id:Bs(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Bs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Dk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=li(t,["challenge","allowCredentials"]),s=Bs(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Bs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Uk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Wr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Wr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Fk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Wr(new Uint8Array(s.authenticatorData)),clientDataJSON:Wr(new Uint8Array(s.clientDataJSON)),signature:Wr(new Uint8Array(s.signature)),userHandle:s.userHandle?Wr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Lp(){var t,e;return!!(Me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",e)}:{data:null,error:new dl("Empty credential response",e)}}catch(e){return{data:null,error:Lk({error:e,options:t})}}}async function Vk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",e)}:{data:null,error:new dl("Empty credential response",e)}}catch(e){return{data:null,error:Mk({error:e,options:t})}}}const qk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Wk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hl(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=hl(a,o):r[i]=hl(o)}else r[i]=o}return r}function Hk(t,e){return hl(qk,t,e||{})}function Gk(t,e){return hl(Wk,t,e||{})}class Kk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??zk.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Hk(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Bk({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=Gk(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Vk(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Dr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new mo("rpId is required for WebAuthn authentication")};try{if(!Lp())return{data:null,error:new Dr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Dr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new mo("rpId is required for WebAuthn registration")};try{if(!Lp())return{data:null,error:new Dr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Dr("Unexpected error in register",o)}}}}Rk();const Jk={url:W1,storageKey:H1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Mp(t,e,n){return await n()}const ps={};class go{get jwks(){var e,n;return(n=(e=ps[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ps[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Jk),e);if(this.storageKey=i.storageKey,this.instanceID=(n=go.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,go.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Me()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ck({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xv(i.fetch),this.lock=i.lock||Mp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Me()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Tk:this.lock=Mp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:wv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ip(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ip(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Me()&&(n=ak(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Z1(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?this._returnResult({error:n}):this._returnResult({error:new Dr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Vt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ds(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:Vt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Vt})}else throw new ua("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Op})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Op})}else throw new ua("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new us;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,c,d,h,f;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:w,wallet:x,statement:m,options:g}=e;let v;if(Me())if(typeof x=="object")v=x;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")v=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const b=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),S=await v.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=_v(S[0]);let k=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const P=await v.request({method:"eth_chainId"});k=Ok(P)}const E={domain:b.host,address:j,statement:m,uri:b.href,version:"1",chainId:k,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Ik(E),y=await v.request({method:"personal_sign",params:[Nk(p),j]})}try{const{data:w,error:x}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Vt});if(x)throw x;if(!w||!w.session||!w.user){const m=new us;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(I(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,o,a,l,c,d,h,f,p;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:x,wallet:m,statement:g,options:v}=e;let b;if(Me())if(typeof m=="object")b=m;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=m}const S=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),w=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:x,error:m}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Wr(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Vt});if(m)throw m;if(!x||!x.session||!x.user){const g=new us;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:m})}catch(x){if(I(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Vt});if(await Kn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new us;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Vt}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new us;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ds(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new ua("You must provide either an email or phone number.")}catch(a){if(I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await ds(this.storage,this.storageKey));const c=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Sk});return!((i=c.data)===null||i===void 0)&&i.url&&Me()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(I(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Bt;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(I(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new ua("You must provide either an email or phone number and a type")}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<jc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Pr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Pc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=xk(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Zn})})}catch(n){if(I(n))return X1(n)&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Bt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ds(this.storage,this.storageKey));const{data:c,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Zn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Cc(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Bt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Me())throw new da("No browser detected.");if(e.error||e.error_description||e.error_code)throw new da(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new da("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Sp("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new da("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Y1(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=ok(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ds(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Me()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(I(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=e,h=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Vt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new us}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uk(async s=>(s>0&&await ck(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ec(i)&&Date.now()+o-r<vs})}catch(r){if(this._debug(n,"error",r),I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Me()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Pr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ws(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Pc()}else if(s&&!s.user&&!s.user){const o=await Pr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Kn(this.storage,this.storageKey+"-user"),await ws(this.storage,this.storageKey,s)):s.user=Pc()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jc;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${jc}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ec(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dl;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Bt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={data:null,error:i};return Ec(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ws(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Tp(s);await ws(this.storage,this.storageKey,i)}else{const s=Tp(n);await ws(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Kn(this.storage,this.storageKey),await Kn(this.storage,this.storageKey+"-code-verifier"),await Kn(this.storage,this.storageKey+"-user"),this.userStorage&&await Kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vs}ms, refresh threshold is ${rd} ticks`),s<=rd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ds(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Uk(e.webauthn.credential_response):Fk(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:$k(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Dk(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Cc(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Bt});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Me()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Bt});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Me()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+J1>s)return r;const{data:i,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Cc(r);n!=null&&n.allowExpired||yk(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=vk(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,sk(`${a}.${l}`)))throw new od("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}}go.nextInstanceID={};const Qk=go;class Yk extends Qk{constructor(e){super(e)}}class Xk{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=q1(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:A1,realtime:$1,auth:Object.assign(Object.assign({},z1),{storageKey:l}),global:M1},d=V1(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=F1(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new W_(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new N1(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new B_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yk({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:c,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new l1(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zk=(t,e,n)=>new Xk(t,e,n);function eS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}eS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tS="https://fdlqyqeobwumyjuqgrpl.supabase.co",nS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI",he=Zk(tS,nS);function Mt(){const t=localStorage.getItem("client_id");if(t)return t;const e=crypto.randomUUID();return localStorage.setItem("client_id",e),e}const Sv="user_coins",jv="last_daily_at",Ev="owned_skins",Cv="equipped_skin";function qe(){const t=localStorage.getItem(Sv);return t?parseInt(t,10):0}function Th(t){localStorage.setItem(Sv,t.toString())}function On(t){const n=qe()+t;return Th(n),Ov(),n}function Rh(t){const e=qe();return e<t?!1:(Th(e-t),Ov(),!0)}function Pv(){return localStorage.getItem(jv)}function Tv(t){localStorage.setItem(jv,t)}function Rv(){const t=Pv();if(!t)return!0;const e=new Date(t),n=new Date,r=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));return new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())).getTime()>r.getTime()}function rS(){if(!Rv())return 0;const t=new Date,e=`${t.getUTCFullYear()}-${String(t.getUTCMonth()+1).padStart(2,"0")}-${String(t.getUTCDate()).padStart(2,"0")}`;return Tv(e),On(50)}function sS(){const t=localStorage.getItem(Ev);return t?JSON.parse(t):[]}function iS(t){localStorage.setItem(Ev,JSON.stringify(t))}function oS(){return localStorage.getItem(Cv)}async function Ov(){try{const t=Mt(),e=qe(),n=sS(),r=oS(),s=Pv();await he.from("profiles").upsert({client_id:t,coins:e,owned_skins:n,equipped_skin:r,last_daily_at:s,current_world:1,current_level:1,worlds_completed:0,updated_at:new Date().toISOString()})}catch(t){console.error("[syncToSupabase] Error:",t)}}async function Nv(){try{const t=Mt(),{data:e,error:n}=await he.from("profiles").select("*").eq("client_id",t).maybeSingle();if(n){console.error("[loadFromSupabase] Error:",n);return}e&&(Th(e.coins),iS(e.owned_skins||[]),e.equipped_skin&&localStorage.setItem(Cv,e.equipped_skin),e.last_daily_at&&Tv(e.last_daily_at))}catch(t){console.error("[loadFromSupabase] Exception:",t)}}const aS=[{id:"small",coins:500,price:1,priceLabel:"1"},{id:"medium",coins:2e3,price:2.5,priceLabel:"2,50",popular:!0,bonus:500},{id:"large",coins:1e4,price:6,priceLabel:"6",bonus:2e3}];function Iv({onClose:t}){const[e,n]=_.useState(null),[r,s]=_.useState(!1),[i,o]=_.useState(qe());_.useEffect(()=>{const c=new URLSearchParams(window.location.search),d=c.get("payment"),h=c.get("coins");if(d==="success"&&h){On(parseInt(h,10)),o(qe());const f=new URL(window.location.href);f.searchParams.delete("payment"),f.searchParams.delete("coins"),window.history.replaceState({},"",f.toString()),alert(`Pago exitoso! Se han aadido ${h} monedas a tu cuenta.`)}else if(d==="cancelled"){const f=new URL(window.location.href);f.searchParams.delete("payment"),window.history.replaceState({},"",f.toString())}},[]);const a=c=>{n(c)},l=async()=>{if(e){s(!0);try{console.log("=== INICIO DE COMPRA ==="),console.log("Paquete seleccionado:",e),console.log("URL:","https://fdlqyqeobwumyjuqgrpl.supabase.co"),console.log("Anon Key:","Presente"),console.log("========================");const c=await fetch("https://fdlqyqeobwumyjuqgrpl.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkbHF5cWVvYnd1bXlqdXFncnBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjUyNzgsImV4cCI6MjA3ODM0MTI3OH0.8FPhoxYODWFnkileEwT7S5piPX53Hk1YwLoGB5zppPI","Content-Type":"application/json"},body:JSON.stringify({packageId:e.id,coins:e.coins+(e.bonus||0),price:Math.round(e.price*100)})}),d=await c.json();if(console.log("=== DIAGNSTICO DE PAGO ==="),console.log("Status:",c.status),console.log("Response:",d),console.log("==========================="),!c.ok){console.error("Error response:",d),alert(`Error: ${d.error||"Error al procesar el pago"}

Revisa la consola para ms detalles.`);return}d.url?window.location.href=d.url:alert("Error al procesar el pago. Por favor, intenta de nuevo.")}catch(c){console.error("Error al crear checkout:",c),alert("Error al conectar con el servidor de pagos.")}finally{s(!1)}}};return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 overflow-y-auto",children:[u.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-3xl p-6 max-w-2xl w-full shadow-2xl animate-scale-in relative my-auto max-h-[90vh] overflow-y-auto",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors",children:u.jsx(ts,{size:28})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"inline-block relative mb-4",children:[u.jsx("div",{className:"text-6xl",children:""}),u.jsx(sn,{className:"absolute -top-2 -right-2 text-yellow-500 animate-pulse",size:24})]}),u.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-2",children:"Tienda de Monedas"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Mejora tu experiencia con monedas adicionales"}),u.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-md",children:[u.jsx(Lt,{className:"text-yellow-500",size:20}),u.jsxs("span",{className:"font-bold text-gray-800",children:["Saldo actual: ",i]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:aS.map(c=>u.jsxs("button",{onClick:()=>a(c),className:`relative p-6 rounded-2xl transition-all transform ${(e==null?void 0:e.id)===c.id?"bg-gradient-to-br from-yellow-400 to-orange-500 scale-105 shadow-2xl":"bg-white hover:scale-105 shadow-lg"}`,children:[c.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"MS POPULAR"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:`text-5xl font-black ${(e==null?void 0:e.id)===c.id?"text-white":"text-yellow-500"}`,children:c.coins.toLocaleString()}),c.bonus&&u.jsxs("div",{className:`text-sm font-semibold ${(e==null?void 0:e.id)===c.id?"text-yellow-100":"text-green-600"}`,children:["+",c.bonus," BONUS"]})]}),u.jsxs("div",{className:`flex items-center justify-center gap-1 mb-2 ${(e==null?void 0:e.id)===c.id?"text-white":"text-gray-600"}`,children:[u.jsx(Lt,{size:20}),u.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]}),u.jsx("div",{className:`text-3xl font-black ${(e==null?void 0:e.id)===c.id?"text-white":"text-gray-800"}`,children:c.priceLabel}),(e==null?void 0:e.id)===c.id&&u.jsx("div",{className:"mt-3 text-white text-sm font-semibold",children:" Seleccionado"})]},c.id))}),u.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-4",children:[u.jsxs("h3",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[u.jsx(sn,{className:"text-yellow-500",size:20}),"Por qu comprar monedas?"]}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("li",{children:" Desbloquea skins exclusivos para tus cartas"}),u.jsx("li",{children:" Usa power-ups para ayuda adicional en niveles difciles"}),u.jsx("li",{children:" Personaliza tu experiencia de juego"}),u.jsx("li",{children:" Progresa ms rpido en tu aventura"})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:t,className:"px-6 py-4 rounded-2xl font-bold text-lg shadow-lg transition-all bg-gray-200 text-gray-700 hover:bg-gray-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(fo,{size:20}),"Volver"]}),u.jsx("button",{onClick:l,disabled:!e||r,className:`flex-1 py-4 rounded-2xl font-black text-xl shadow-lg transition-all ${e&&!r?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:r?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Procesando..."]}):u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx(P_,{size:24}),e?`Pagar ${e.priceLabel}`:"Selecciona un paquete"]})})]}),u.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:"Pago seguro procesado por Stripe"})]}),u.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const Ap=["world-1","world-2","world-3","world-4","world-5","world-6","world-7","world-8","world-9","world-10"];async function lS(t){try{const e=Mt(),{data:n,error:r}=await he.from("world_progress").select("purchased, levels").eq("client_id",e).eq("world_id",t).maybeSingle();if(r)throw r;return n?{purchased:!!n.purchased,levels:n.levels||[]}:null}catch(e){return console.error("Error reading world from Supabase:",e),uS(t)}}async function cS(t,e){try{const n=Mt(),{error:r}=await he.from("world_progress").upsert({client_id:n,world_id:t,purchased:e.purchased,levels:e.levels,updated_at:new Date().toISOString()},{onConflict:"client_id,world_id"});if(r)throw r;zp(t,e)}catch(n){console.error("Error writing world to Supabase:",n),zp(t,e)}}function uS(t){const e=localStorage.getItem(`progress.${t}`);return e?JSON.parse(e):null}function zp(t,e){localStorage.setItem(`progress.${t}`,JSON.stringify(e))}async function br(t){return await lS(t)}async function To(t,e){await cS(t,e)}async function Lv(t,e){var o;const n=await br(t);if(n&&((o=n.levels)==null?void 0:o.length)>=e)return;const r=(n==null?void 0:n.purchased)??t==="world-1",s=Array.from({length:e},(a,l)=>({unlocked:r&&l===0,completed:!1,stars:0}));await To(t,{purchased:r,levels:s})}async function Oh(t){const e=await br(t);return!!(e!=null&&e.purchased)}async function Mv(t){const e=await br(t);return e?e.levels.length>0&&e.levels.every(n=>n.completed===!0):!1}async function dS(t){if(t==="world-1"||await Oh(t))return!0;const e=Ap.indexOf(t);if(e<=0)return!0;const n=Ap[e-1];return await Mv(n)}async function Av(t,e){const n=await br(t)??{purchased:!1,levels:[]};return n.purchased?{ok:!0}:Rh(e)?(n.purchased=!0,n.levels.length?n.levels[0].unlocked=!0:n.levels=[{unlocked:!0,completed:!1,stars:0}],await To(t,n),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function hS(t,e,n){if(e<1)return{ok:!1,reason:"Nivel invlido"};if(e===1)return{ok:!0};const r=await br(t);if(!r)return{ok:!1,reason:"Mundo no encontrado"};const s=e-1;if(s>=r.levels.length)return{ok:!1,reason:"Nivel inexistente"};const i=r.levels[s];return i.unlocked?{ok:!0}:Rh(n)?(i.unlocked=!0,await To(t,r),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function fS(t,e,n=0){const r=await br(t);if(!r)throw new Error("World not found");const s=e-1,i=r.levels[s];if(!i)throw new Error("Level not found");i.completed=!0,i.stars=Math.max(i.stars,Math.max(0,Math.min(3,n)));const o=r.levels[s+1];o&&!o.unlocked&&(o.unlocked=!0),await To(t,r)}async function pS(t){return await br(t)??{purchased:!1,levels:[]}}function mS(t){return`world-${Math.ceil(t/5)}`}function gS(t){return(t-1)%5+1}const fl={"world-1":0,"world-2":300,"world-3":500,"world-4":700,"world-5":1e3,"world-6":1500,"world-7":2e3,"world-8":2500,"world-9":3e3,"world-10":4e3},$p=100;async function Rc(t){const e=`world-${t}`,n=await br(e),r={purchased:!0,levels:(n==null?void 0:n.levels)||[{unlocked:!0,completed:!1,stars:0}]};r.levels.length===0?r.levels=[{unlocked:!0,completed:!1,stars:0}]:r.levels[0].unlocked=!0,await To(e,r)}async function yS(){const t=[];for(let e=1;e<=10;e++){const n=`world-${e}`;await Oh(n)&&t.push(e)}return t}const vS=[yh,mh,gh,vh,wh,w0,m0,p0,sn,f0],wS=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],xS=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}],bS=({onClose:t,onSkinChanged:e})=>{const[n,r]=_.useState(qe()),[s,i]=_.useState({1:!0}),[o,a]=_.useState(!0),[l,c]=_.useState(null),[d,h]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const w={1:!0};for(let x=2;x<=10;x++){const m=await Oh(`world-${x}`);w[x]=m}i(w)}catch(w){console.error("Error loading worlds:",w)}finally{a(!1)}})()},[]);const f=async y=>{if(l)return;const w=`world-${y}`,x=fl[w];if(n<x){alert("No tienes suficientes monedas");return}c(y);try{const m=await Av(w,x);m.ok?(r(qe()),i({...s,[y]:!0})):alert(m.reason)}catch(m){console.error("Error en compra:",m)}finally{c(null)}},p=Object.values(s).filter(Boolean).length;return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Tienda de Mundos"}),u.jsx("button",{type:"button",onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(ts,{size:24})})]}),u.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-3 mb-4",children:[u.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Desbloquea mundos para acceder a nuevos niveles y desafos."}),u.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Al comprar un mundo, solo se desbloquea el nivel 1. Los dems niveles se desbloquean jugando."})]}),u.jsxs("div",{className:"flex gap-3 mb-4",children:[u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx(Lt,{size:20,className:"text-white"}),u.jsx("span",{className:"text-xl font-bold text-white",children:n})]}),u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx(sn,{size:20,className:"text-white"}),u.jsxs("span",{className:"text-xl font-bold text-white",children:[p,"/10"]})]})]}),u.jsxs("button",{onClick:()=>h(!0),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold shadow-lg hover:scale-105 active:scale-95 transition-all mb-4 flex items-center justify-center gap-2",children:[u.jsx(v0,{size:20}),"Comprar Monedas"]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6,7,8,9,10].map(y=>{const w=s[y]??!1,x=vS[y-1],m=xS[y-1],g=`world-${y}`,v=fl[g];return u.jsx("div",{className:`border-2 rounded-xl p-4 transition-all ${w?"border-green-500 bg-green-50":"border-gray-200"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${m.from} ${m.to}`,children:u.jsx(x,{size:32,className:"text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsxs("h3",{className:"font-bold text-lg",children:["Mundo ",y]}),w&&u.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-0.5 rounded-full font-bold",children:"Desbloqueado"})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:wS[y-1]}),y===1&&u.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Gratis  5 niveles desbloqueados"}),y>1&&!w&&u.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Al comprar se desbloquea el nivel 1"}),!w&&y>1&&u.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[u.jsx(Lt,{size:16,className:"text-yellow-500"}),u.jsx("span",{className:"font-semibold",children:v})]}),u.jsx("div",{className:"mt-2",children:w?u.jsxs("div",{className:"text-sm text-green-600 font-semibold flex items-center gap-1",children:[u.jsx(u0,{size:16}),"Desbloqueado"]}):u.jsxs("button",{type:"button",onClick:()=>f(y),disabled:n<v||l===y,className:"bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[u.jsx(zl,{size:16}),l===y?"Comprando...":"Desbloquear"]})})]})]})},y)})})}),u.jsx("button",{type:"button",onClick:t,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]}),d&&u.jsx(Iv,{onClose:()=>{h(!1),r(qe())}})]})},_S=({onClose:t})=>{const[e,n]=_.useState(!1),[r,s]=_.useState(!0),[i,o]=_.useState([]),[a,l]=_.useState(!0),[c,d]=_.useState(""),[h,f]=_.useState(""),p="admin2024";_.useEffect(()=>{y()},[]);const y=async()=>{try{const S=Mt(),{data:j,error:k}=await he.from("profiles").select("is_admin").eq("client_id",S).maybeSingle();!k&&(j!=null&&j.is_admin)&&n(!0)}catch(S){console.error("Error checking admin status:",S)}finally{s(!1)}},w=async()=>{const S=await yS();o(S)},x=()=>{c===p?(l(!1),w(),f("")):(f("Contrasea incorrecta"),d(""))},m=async S=>{i.includes(S)?await g(S):await Rc(S),await w()},g=async S=>{const j=Mt();await he.from("world_progress").delete().eq("client_id",j).eq("world_id",`world-${S}`)},v=async()=>{for(let S=1;S<=10;S++)await Rc(S);await w()},b=async()=>{const S=Mt();await he.from("world_progress").delete().eq("client_id",S),await Rc(1),await w()};return r?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:u.jsx("div",{className:"text-center",children:"Verificando permisos..."})})}):e?a?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Contrasea Admin"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(ts,{size:20})})]}),u.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-4",children:u.jsx("p",{className:"text-sm text-yellow-800",children:" Ingresa la contrasea de administrador para acceder al panel"})}),u.jsx("input",{type:"password",value:c,onChange:S=>d(S.target.value),onKeyPress:S=>S.key==="Enter"&&x(),placeholder:"Contrasea",className:"w-full px-4 py-3 border border-gray-300 rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),h&&u.jsx("p",{className:"text-sm text-red-600 mb-4",children:h}),u.jsx("button",{onClick:x,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Acceder"})]})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Panel Admin"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(ts,{size:20})})]}),u.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-4 mb-4",children:[u.jsx("div",{className:"text-sm font-semibold text-purple-800 mb-2",children:"Gestionar Mundos"}),u.jsx("p",{className:"text-xs text-purple-600",children:"Toca un mundo para bloquearlo/desbloquearlo"})]}),u.jsx("div",{className:"space-y-2 mb-4",children:[1,2,3,4,5,6,7,8,9,10].map(S=>{const j=i.includes(S);return u.jsxs("button",{onClick:()=>m(S),className:`w-full flex items-center justify-between p-3 rounded-xl font-semibold transition-all ${j?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[u.jsxs("span",{children:["Mundo ",S]}),j?u.jsx(L_,{size:18,className:"text-green-600"}):u.jsx(zl,{size:18,className:"text-red-600"})]},S)})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:v,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Desbloquear Todos"}),u.jsx("button",{onClick:b,className:"bg-gradient-to-r from-red-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Bloquear Todos"})]})]})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Acceso Denegado"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"No tienes permisos de administrador"}),u.jsx("button",{onClick:t,className:"w-full bg-gray-200 text-gray-800 py-3 rounded-xl font-bold hover:bg-gray-300 transition-colors",children:"Cerrar"})]})})})},Dp={zap:{name:"Electric Zap",url:"/sounds/zap.wav",volume:.6},flipPop:{name:"Card Flip",url:"/sounds/flip_pop.wav",volume:.4},countdownClick:{name:"Countdown Tick",url:"/sounds/countdown_click.wav",volume:.5},confetti:{name:"Victory Confetti",url:"/sounds/confetti.wav",volume:.7},loop:{name:"Background Loop",url:"/sounds/loop_150bpm.wav",volume:.3}};let kS=class{constructor(){mt(this,"sounds",new Map);mt(this,"enabled",!0);mt(this,"bgmLoop",null);this.preloadSounds()}preloadSounds(){Object.entries(Dp).forEach(([e,n])=>{try{const r=new Audio(n.url);r.volume=n.volume||.5,r.preload="auto",this.sounds.set(e,r)}catch(r){console.warn(`Failed to preload sound: ${n.name}`,r)}})}play(e){if(!this.enabled)return;const n=this.sounds.get(e);if(n)try{n.currentTime=0,n.play().catch(r=>{console.warn(`Failed to play sound: ${e}`,r)})}catch(r){console.warn(`Error playing sound: ${e}`,r)}}playZap(){this.play("zap")}playFlipPop(){this.play("flipPop")}playCountdownClick(){this.play("countdownClick")}playConfetti(){this.play("confetti")}startBackgroundLoop(){if(!this.enabled)return;const e=this.sounds.get("loop");if(e&&!this.bgmLoop)try{e.loop=!0,e.volume=.2,e.play().catch(n=>{console.warn("Failed to play background loop",n)}),this.bgmLoop=e}catch(n){console.warn("Error starting background loop",n)}}stopBackgroundLoop(){if(this.bgmLoop)try{this.bgmLoop.pause(),this.bgmLoop.currentTime=0,this.bgmLoop=null}catch(e){console.warn("Error stopping background loop",e)}}setEnabled(e){this.enabled=e,e||this.stopBackgroundLoop()}isEnabled(){return this.enabled}setVolume(e,n){const r=this.sounds.get(e);r&&(r.volume=Math.max(0,Math.min(1,n)))}setMasterVolume(e){const n=Math.max(0,Math.min(1,e));this.sounds.forEach(r=>{const s=Object.entries(Dp).find(([,i])=>i.url===r.src.split("/").pop());s&&(r.volume=(s[1].volume||.5)*n)})}};const Nh=new kS,SS=()=>Nh.playZap(),jS=()=>Nh.playFlipPop(),ES=()=>Nh.playConfetti();class CS{constructor(){mt(this,"startMusicTrack",null);mt(this,"currentLevelTrack",null);mt(this,"levelTracks",new Map);mt(this,"matchSfx",null);mt(this,"winSfx",null);mt(this,"loseSfx",null);mt(this,"muted",!1);mt(this,"masterVolume",1);mt(this,"userInteracted",!1);this.loadSettings(),this.preloadAudio(),this.setupUserInteractionListener()}loadSettings(){try{const e=localStorage.getItem("sound.muted"),n=localStorage.getItem("sound.volume");if(e!==null&&(this.muted=e==="true"),n!==null){const r=parseFloat(n);isNaN(r)||(this.masterVolume=Math.max(0,Math.min(1,r)))}}catch(e){console.warn("Error loading sound settings:",e)}}saveSettings(){try{localStorage.setItem("sound.muted",String(this.muted)),localStorage.setItem("sound.volume",String(this.masterVolume))}catch(e){console.warn("Error saving sound settings:",e)}}setupUserInteractionListener(){const e=()=>{this.userInteracted=!0,document.removeEventListener("click",e),document.removeEventListener("keypress",e),document.removeEventListener("touchstart",e)};document.addEventListener("click",e,{once:!0}),document.addEventListener("keypress",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}preloadAudio(){try{this.startMusicTrack=new Audio("/audio/start_theme.mp3"),this.startMusicTrack.loop=!0,this.startMusicTrack.preload="auto";for(let e=1;e<=10;e++){const n=new Audio(`/audio/level_${e}.mp3`);n.loop=!0,n.preload="auto",this.levelTracks.set(e,n)}this.matchSfx=new Audio("/audio/match.wav"),this.matchSfx.preload="auto",this.winSfx=new Audio("/audio/win.wav"),this.winSfx.preload="auto",this.loseSfx=new Audio("/audio/lose.wav"),this.loseSfx.preload="auto",this.applyVolume()}catch(e){console.warn("Error preloading audio:",e)}}applyVolume(){const e=this.muted?0:this.masterVolume;this.startMusicTrack&&(this.startMusicTrack.volume=e),this.levelTracks.forEach(n=>{n.volume=e}),this.matchSfx&&(this.matchSfx.volume=e),this.winSfx&&(this.winSfx.volume=e),this.loseSfx&&(this.loseSfx.volume=e)}async crossFade(e,n){const o=this.muted?0:this.masterVolume;for(let a=20;a>=0;a--)e.volume=a/20*o,await new Promise(l=>setTimeout(l,15));e.pause(),e.currentTime=0,n.volume=0;try{await n.play();for(let a=0;a<=20;a++)n.volume=a/20*o,await new Promise(l=>setTimeout(l,15))}catch(a){console.warn("Error during crossfade:",a)}}async playSafely(e){if(!this.userInteracted){console.warn("Cannot play audio before user interaction");return}try{e.currentTime=0,await e.play()}catch(n){console.warn("Error playing audio:",n)}}playStartMusic(){if(!(!this.startMusicTrack||!this.userInteracted))try{this.playSafely(this.startMusicTrack)}catch(e){console.warn("Error playing start music:",e)}}stopStartMusic(){if(this.startMusicTrack)try{this.startMusicTrack.pause(),this.startMusicTrack.currentTime=0}catch(e){console.warn("Error stopping start music:",e)}}playLevelMusic(e){if(!this.userInteracted)return;const n=this.levelTracks.get(e);if(!n){console.warn(`Level ${e} music not found`);return}try{this.currentLevelTrack&&!this.currentLevelTrack.paused?this.crossFade(this.currentLevelTrack,n):(n.volume=this.muted?0:this.masterVolume,this.playSafely(n)),this.currentLevelTrack=n}catch(r){console.warn(`Error playing level ${e} music:`,r)}}stopLevelMusic(){if(this.currentLevelTrack)try{this.currentLevelTrack.pause(),this.currentLevelTrack.currentTime=0,this.currentLevelTrack=null}catch(e){console.warn("Error stopping level music:",e)}}playMatch(){!this.matchSfx||!this.userInteracted||this.playSafely(this.matchSfx)}playWin(){!this.winSfx||!this.userInteracted||this.playSafely(this.winSfx)}playLose(){!this.loseSfx||!this.userInteracted||this.playSafely(this.loseSfx)}mute(){this.muted=!0,this.applyVolume(),this.saveSettings()}unmute(){this.muted=!1,this.applyVolume(),this.saveSettings()}toggleMute(){this.muted?this.unmute():this.mute()}isMuted(){return this.muted}setMasterVolume(e){this.masterVolume=Math.max(0,Math.min(1,e)),this.applyVolume(),this.saveSettings()}getMasterVolume(){return this.masterVolume}}const Ve=new CS,PS="modulepreload",TS=function(t){return"/"+t},Up={},RS=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=TS(l),l in Up)return;Up[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":PS,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var ti;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(ti||(ti={}));class Oc extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const OS=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},NS=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:OS(t),i=()=>s()!=="web",o=h=>{const f=c.get(h);return!!(f!=null&&f.platforms.has(s())||a(h))},a=h=>{var f;return(f=n.PluginHeaders)===null||f===void 0?void 0:f.find(p=>p.name===h)},l=h=>t.console.error(h),c=new Map,d=(h,f={})=>{const p=c.get(h);if(p)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),p.proxy;const y=s(),w=a(h);let x;const m=async()=>(!x&&y in f?x=typeof f[y]=="function"?x=await f[y]():x=f[y]:e!==null&&!x&&"web"in f&&(x=typeof f.web=="function"?x=await f.web():x=f.web),x),g=(E,P)=>{var T,B;if(w){const oe=w==null?void 0:w.methods.find(ue=>P===ue.name);if(oe)return oe.rtype==="promise"?ue=>n.nativePromise(h,P.toString(),ue):(ue,Ke)=>n.nativeCallback(h,P.toString(),ue,Ke);if(E)return(T=E[P])===null||T===void 0?void 0:T.bind(E)}else{if(E)return(B=E[P])===null||B===void 0?void 0:B.bind(E);throw new Oc(`"${h}" plugin is not implemented on ${y}`,ti.Unimplemented)}},v=E=>{let P;const T=(...B)=>{const oe=m().then(ue=>{const Ke=g(ue,E);if(Ke){const an=Ke(...B);return P=an==null?void 0:an.remove,an}else throw new Oc(`"${h}.${E}()" is not implemented on ${y}`,ti.Unimplemented)});return E==="addListener"&&(oe.remove=async()=>P()),oe};return T.toString=()=>`${E.toString()}() { [capacitor code] }`,Object.defineProperty(T,"name",{value:E,writable:!1,configurable:!1}),T},b=v("addListener"),S=v("removeListener"),j=(E,P)=>{const T=b({eventName:E},P),B=async()=>{const ue=await T;S({eventName:E,callbackId:ue},P)},oe=new Promise(ue=>T.then(()=>ue({remove:B})));return oe.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await B()},oe},k=new Proxy({},{get(E,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?j:b;case"removeListener":return S;default:return v(P)}}});return r[h]=k,c.set(h,{name:h,proxy:k,platforms:new Set([...Object.keys(f),...w?[y]:[]])}),k};return n.convertFileSrc||(n.convertFileSrc=h=>h),n.getPlatform=s,n.handleError=l,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=d,n.Exception=Oc,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},IS=t=>t.Capacitor=NS(t),ad=IS(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ih=ad.registerPlugin;class zv{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new ad.Exception(e,ti.Unimplemented)}unavailable(e="not available"){return new ad.Exception(e,ti.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const Fp=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Bp=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class LS extends zv{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Bp(s).trim(),i=Bp(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=Fp(e.key),r=Fp(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Ih("CapacitorCookies",{web:()=>new LS});const MS=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),AS=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},zS=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,o]=s;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l=`${i}=${a}`),`${r}&${l}`},"").substr(1):null,$S=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=AS(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))i.set(o,a);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(t.data))i.append(a,t.data[a]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class DS extends zv{async request(e){const n=$S(e,e.webFetchExtra),r=zS(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await MS(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const d={};return i.headers.forEach((h,f)=>{d[f]=h}),{data:l,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Ih("CapacitorHttp",{web:()=>new DS});var Vp;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(Vp||(Vp={}));const ld=Ih("LocalNotifications",{web:()=>RS(()=>import("./web-DKRbo1jQ.js"),[]).then(t=>new t.LocalNotificationsWeb)});async function US(){try{return(await ld.requestPermissions()).display==="granted"?(await FS(),!0):!1}catch(t){return console.error("Error initializing notifications:",t),!1}}async function FS(){try{await ld.cancel({notifications:[{id:1}]});const t=new Date,e=new Date;return e.setHours(19,0,0,0),e<=t&&e.setDate(e.getDate()+1),await ld.schedule({notifications:[{id:1,title:" Twin Clash te extraa!",body:"Vuelve y completa tu reto diario. Gana monedas extra!",schedule:{at:e,repeats:!0,every:"day"},sound:void 0,attachments:void 0,actionTypeId:"",extra:null}]}),console.log("Daily reminder scheduled for",e),!0}catch(t){return console.error("Error scheduling daily reminder:",t),!1}}const BS=({onStartGame:t,onStartDailyChallenge:e,onStartDuel:n})=>{const[r,s]=_.useState(!1),[i,o]=_.useState(!1),[a,l]=_.useState(0),[c,d]=_.useState(!1),h=_.useRef(!1),f=_.useRef(0),p=_.useRef(null);_.useEffect(()=>{Nv().then(()=>{l(qe()),Rv()&&d(!0)}),h.current||(setTimeout(()=>{SS(),Ve.playStartMusic()},300),h.current=!0),US().then(m=>{m&&console.log("Notificaciones diarias activadas")})},[]);const y=()=>{const m=rS();l(m),d(!1)},w=()=>{s(!1),l(qe())},x=()=>{f.current+=1,p.current&&clearTimeout(p.current),f.current>=5?(o(!0),f.current=0):p.current=window.setTimeout(()=>{f.current=0},2e3)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:[u.jsx("div",{className:"fixed top-0 right-0 w-16 h-16 z-40",onClick:x}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("img",{src:"/twinlogo.png",alt:"Twin Clash",style:{width:"75%",maxWidth:"420px",margin:"0 auto"}})}),u.jsx("p",{className:"text-center text-gray-600 mb-6 text-sm font-medium",children:"Encuentra todas las parejas antes de que se acabe el tiempo"}),u.jsxs("div",{className:"flex gap-3 mb-6",children:[u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx(Lt,{size:20,className:"text-white"}),u.jsx("span",{className:"text-lg font-bold text-white",children:a})]}),u.jsxs("button",{type:"button",onClick:()=>s(!0),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-3 flex items-center justify-center gap-2 hover:shadow-lg transition-all cursor-pointer",children:[u.jsx(v0,{size:20,className:"text-white"}),u.jsx("span",{className:"text-sm font-bold text-white",children:"Tienda"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105",children:" Jugar"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"button",onClick:e,className:"flex-1 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-xl p-3 font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[u.jsx(C_,{size:20}),u.jsx("span",{className:"text-sm",children:"Reto Diario"})]}),u.jsxs("button",{type:"button",onClick:n,className:"flex-1 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-xl p-3 font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[u.jsx(I_,{size:20}),u.jsx("span",{className:"text-sm",children:"Duelo 1v1"})]})]})]})]}),r&&u.jsx(bS,{onClose:w,onSkinChanged:()=>{}}),i&&u.jsx(_S,{onClose:()=>o(!1)}),c&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:u.jsx(T_,{size:64,className:"mx-auto text-yellow-500"})}),u.jsx("h3",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"Recompensa Diaria!"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Reclama tus monedas gratis"}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Lt,{size:32,className:"text-white"}),u.jsx("span",{className:"text-4xl font-bold text-white",children:"+50"})]})}),u.jsx("button",{type:"button",onClick:y,className:"w-full bg-gradient-to-r from-yellow-500 to-amber-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reclamar"})]})})]})},$v=[{id:"default",name:"Clsico",price:0,cardBackColor:"bg-gradient-to-br from-blue-400 to-blue-600",cardBorderColor:"border-blue-300",description:"El diseo original"},{id:"gold",name:"Dorado",price:100,cardBackColor:"bg-gradient-to-br from-yellow-400 to-amber-600",cardBorderColor:"border-yellow-300",description:"Lujo y elegancia"},{id:"emerald",name:"Esmeralda",price:150,cardBackColor:"bg-gradient-to-br from-green-400 to-emerald-600",cardBorderColor:"border-green-300",description:"Naturaleza y frescura"},{id:"ruby",name:"Rub",price:180,cardBackColor:"bg-gradient-to-br from-red-400 to-rose-600",cardBorderColor:"border-red-300",description:"Pasin y energa"},{id:"midnight",name:"Medianoche",price:220,cardBackColor:"bg-gradient-to-br from-indigo-600 to-purple-800",cardBorderColor:"border-indigo-400",description:"Misterio nocturno"}];function VS(t){return $v.find(e=>e.id===t)}function qp(){return $v[0]}async function qS(){const t=Mt(),{data:e,error:n}=await he.from("user_themes").select("owned_themes, equipped_theme").eq("client_id",t).maybeSingle();if(n)return console.error("Error fetching themes:",n),{owned_themes:["default"],equipped_theme:"default"};if(!e){const{data:r,error:s}=await he.from("user_themes").upsert({client_id:t,owned_themes:["default"],equipped_theme:"default"},{onConflict:"client_id"}).select("owned_themes, equipped_theme").maybeSingle();return s&&console.error("Error upserting themes:",s),r||{owned_themes:["default"],equipped_theme:"default"}}return e}async function WS(){return(await qS()).equipped_theme||"default"}const HS=({card:t,isBreaking:e=!1})=>{const[n,r]=_.useState(!1),[s,i]=_.useState(!1),[o,a]=_.useState(t.obstacleHealth);_.useEffect(()=>{o!==void 0&&o>0&&(t.obstacleHealth??0)<=0&&(t.obstacle==="ice"?(r(!0),setTimeout(()=>r(!1),500)):t.obstacle==="stone"&&(i(!0),setTimeout(()=>i(!1),600))),a(t.obstacleHealth)},[t.obstacle,t.obstacleHealth,o]);const l=t.obstacle&&(t.obstacleHealth??0)>0;if(!l&&!n&&!s)return null;if(t.obstacle==="ice"||n)return u.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[l&&t.obstacle==="ice"&&u.jsxs("div",{className:`absolute inset-0 rounded-xl ice-overlay ${n?"ice-breaking":""}`,children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-200/80 via-sky-300/80 to-sky-400/80 backdrop-blur-sm border-2 border-cyan-100/80 rounded-xl"}),u.jsxs("div",{className:"absolute inset-0 rounded-xl overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/40 to-transparent"}),u.jsx("div",{className:"absolute top-1/4 left-0 w-1/3 h-1/3 bg-white/20 blur-xl rounded-full"})]}),u.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full animate-ping opacity-60"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-5xl animate-pulse",children:""})})]}),n&&u.jsx("div",{className:"absolute inset-0",children:[0,1,2,3,4].map(c=>u.jsx("div",{className:"ice-particle",style:{left:"50%",top:"50%","--angle":`${c*72}deg`}},c))})]});if(t.obstacle==="stone"||s){const c=t.obstacleHealth??0;return u.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[l&&t.obstacle==="stone"&&u.jsxs("div",{className:`absolute inset-0 rounded-xl ${s?"rock-breaking":""}`,children:[c===2&&u.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 50%, #4b5563 100%)",boxShadow:"inset 0 3px 10px rgba(255,255,255,0.4), inset 0 -6px 16px rgba(0,0,0,0.6), 0 8px 24px rgba(0,0,0,0.5)",border:"4px solid #52525b"},children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-slate-600/80 to-transparent"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-gradient-to-t from-slate-800/80 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-slate-600/80 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-slate-600/80 to-transparent"})]}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("path",{d:"M 8 8 L 15 12 L 12 18",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 8 8 L 12 15 L 18 12",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 8 L 85 12 L 88 18",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 8 L 88 15 L 82 12",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 8 92 L 15 88 L 12 82",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 8 92 L 12 85 L 18 88",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 92 L 85 88 L 88 82",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 92 92 L 88 85 L 82 88",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 35 5 L 38 10",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M 65 5 L 62 10",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M 5 35 L 10 38",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M 5 65 L 10 62",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),u.jsx("div",{className:"absolute inset-8 bg-gradient-to-br from-slate-300/30 to-transparent rounded-lg"}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-40",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("ellipse",{cx:"70",cy:"65",rx:"8",ry:"6",fill:"rgba(0,0,0,0.3)"}),u.jsx("ellipse",{cx:"30",cy:"55",rx:"6",ry:"5",fill:"rgba(0,0,0,0.25)"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-5xl filter drop-shadow-lg",children:""})}),u.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 bg-gradient-to-br from-slate-500 to-slate-700 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-xl border-2 border-slate-300",children:"2"})]}),c===1&&u.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #cbd5e1 0%, #94a3b8 50%, #64748b 100%)",boxShadow:"inset 0 2px 8px rgba(255,255,255,0.5), inset 0 -4px 12px rgba(0,0,0,0.5), 0 6px 20px rgba(0,0,0,0.4)",border:"4px solid #71717a"},children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-slate-400/70 to-transparent"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-gradient-to-t from-slate-700/70 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-slate-400/70 to-transparent"}),u.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-slate-400/70 to-transparent"})]}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("path",{d:"M 5 5 L 18 15 L 12 25",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 5 5 L 15 18 L 25 12",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 5 L 82 15 L 88 25",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 5 L 85 18 L 75 12",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 5 95 L 18 85 L 12 75",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 5 95 L 15 82 L 25 88",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 95 L 82 85 L 88 75",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 95 95 L 85 82 L 75 88",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 30 20 L 40 35 L 35 50",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 70 30 L 60 45 L 65 60",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M 45 55 L 50 70 L 55 85",stroke:"rgba(255,255,255,0.6)",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),u.jsx("div",{className:"absolute inset-10 bg-gradient-to-br from-slate-200/40 to-transparent rounded-lg"}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-30",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[u.jsx("ellipse",{cx:"65",cy:"60",rx:"7",ry:"5",fill:"rgba(0,0,0,0.25)"}),u.jsx("ellipse",{cx:"35",cy:"50",rx:"5",ry:"4",fill:"rgba(0,0,0,0.2)"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-5xl opacity-80 filter drop-shadow-md",children:""})}),u.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 bg-gradient-to-br from-slate-400 to-slate-600 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg border-2 border-slate-200",children:"1"})]})]}),s&&u.jsx("div",{className:"absolute inset-0",children:[0,1,2,3,4].map(d=>u.jsx("div",{className:"rock-particle",style:{left:"50%",top:"50%","--angle":`${d*72}deg`}},d))})]})}return null},Dv=({card:t,image:e,onClick:n,disabled:r,showHint:s=!1,isBreaking:i=!1})=>{const[o,a]=_.useState(qp());_.useEffect(()=>{const c=async()=>{const h=await WS(),f=VS(h)||qp();a(f)};c();const d=()=>{c()};return window.addEventListener("themeChanged",d),()=>window.removeEventListener("themeChanged",d)},[]);const l=()=>{!r&&!t.isFlipped&&!t.isMatched&&(jS(),n(t.id))};return t.obstacle&&(t.obstacleHealth??0)>0,u.jsx("div",{className:"relative aspect-square cursor-pointer perspective-1000",onClick:l,children:u.jsxs("div",{className:`relative w-full h-full transition-transform duration-500 transform-style-3d ${t.isFlipped||t.isMatched?"rotate-y-180":""}`,children:[u.jsxs("div",{className:"absolute w-full h-full backface-hidden",children:[u.jsx("div",{className:`w-full h-full ${o.cardBackColor} rounded-xl shadow-lg flex items-center justify-center border-4 ${o.cardBorderColor} relative overflow-hidden ${s?"hint-pulse":""}`,children:u.jsx("div",{className:"text-4xl text-white font-bold",children:"?"})}),u.jsx(HS,{card:t,isBreaking:i})]}),u.jsx("div",{className:"absolute w-full h-full backface-hidden rotate-y-180",children:u.jsx("div",{className:`w-full h-full bg-white rounded-xl shadow-lg flex items-center justify-center border-4 ${o.cardBorderColor} overflow-hidden`,children:u.jsx("div",{className:"text-6xl",children:e})})})]})})};function Uv(){return typeof window>"u"?null:new URLSearchParams(window.location.search).get("crew")}function GS(t){if(typeof window>"u")return;const e=new URL(window.location.href);e.searchParams.set("crew",t),window.history.replaceState({},"",e.toString())}async function KS(t){try{const{data:e,error:n}=await he.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);return n?(console.error("[checkIfPioneer] Error:",n),!1):((e==null?void 0:e.length)??0)===0}catch(e){return console.error("[checkIfPioneer] Exception:",e),!1}}async function JS(t){try{const{data:e,error:n}=await he.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);if(n){console.error("[seedBotsIfEmpty] Error checking:",n);return}if(((e==null?void 0:e.length)??0)>0)return;const s=[23e3,27e3,31e3,35e3,4e4].map((o,a)=>({seed:t,time_ms:o,moves:10+a,client_id:`bot-${t}-${a}`,display_name:`CPU Kiwi #${a+1}`,is_bot:!0})),{error:i}=await he.from("scores").insert(s);i&&console.error("[seedBotsIfEmpty] Error inserting bots:",i)}catch(e){console.error("[seedBotsIfEmpty] Exception:",e)}}async function QS({seed:t,timeMs:e,moves:n,crewId:r=null,displayName:s=null,levelId:i=null}){try{const o=await KS(t),a=Mt(),l=Math.floor(1e4/(e/1e3+n)),{error:c}=await he.from("scores").insert({seed:t,time_ms:e,moves:n,client_id:a,crew_id:r,display_name:s,is_bot:!1,level_id:i,score:l});return c?(console.error("[submitScoreAndReward] Error:",c),{success:!1,isPioneer:!1}):(o&&On(20),{success:!0,isPioneer:o})}catch(o){return console.error("[submitScoreAndReward] Exception:",o),{success:!1,isPioneer:!1}}}async function YS({seed:t,limit:e=20}){try{await JS(t);const{data:n,error:r}=await he.from("scores").select("*").eq("seed",t).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(e);return r?(console.error("[getTop] Error:",r),[]):n||[]}catch(n){return console.error("[getTop] Exception:",n),[]}}async function XS({seed:t,crewId:e,limit:n=20}){try{if(!e)return[];const{data:r,error:s}=await he.from("scores").select("*").eq("seed",t).eq("crew_id",e).eq("is_bot",!1).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(n);return s?(console.error("[getCrewTop] Error:",s),[]):r||[]}catch(r){return console.error("[getCrewTop] Exception:",r),[]}}const ZS=({seed:t,onClose:e,onPlayNow:n})=>{const[r,s]=_.useState([]),[i,o]=_.useState([]),[a,l]=_.useState(!0),[c,d]=_.useState(!1),h=Mt(),f=Uv();_.useEffect(()=>{(async()=>{l(!0);const x=await YS({seed:t,limit:20});if(s(x),f){const m=await XS({seed:t,crewId:f,limit:20});o(m)}l(!1)})()},[t,f]);const p=c&&f?i:r,y=r.some(w=>!w.is_bot);return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Rn,{className:"text-yellow-500",size:28}),c?"Top Amigos":"Top Diario"]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(ts,{size:24})})]}),u.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Reto: ",t]}),f&&u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsxs("button",{onClick:()=>d(!1),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${c?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-yellow-500 text-white"}`,children:[u.jsx(Rn,{size:16,className:"inline mr-1"}),"Global"]}),u.jsxs("button",{onClick:()=>d(!0),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${c?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Gu,{size:16,className:"inline mr-1"}),"Amigos"]})]}),a?u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"text-gray-500",children:"Cargando..."})}):p.length===0?u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center p-6",children:[u.jsx(Rn,{size:64,className:"mx-auto mb-4 text-gray-300"}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:c?"Sin marcas de amigos":"Sin marcas para hoy"}),u.jsx("p",{className:"text-gray-600 mb-4",children:c?"Comparte el enlace con tu crew para competir juntos":"S el primero y desbloquea la medalla Pionero! (+20 monedas)"}),n&&!c&&u.jsx("button",{onClick:()=>{e(),n()},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Jugar ahora"})]})}):u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!y&&!c&&u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[u.jsx(sn,{size:16}),u.jsx("span",{className:"font-semibold",children:"Marcas de prueba"})]}),u.jsx("p",{className:"text-blue-600 text-xs",children:"S el primero en jugar hoy y gana +20 monedas con la medalla Pionero!"})]}),u.jsx("div",{className:"space-y-2",children:p.map((w,x)=>{const m=w.client_id===h,g=w.is_bot,v=x+1,b=v===1?"text-yellow-500":v===2?"text-gray-400":v===3?"text-amber-600":"text-gray-400";return u.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${m?"bg-blue-50 border-2 border-blue-300":g?"bg-gray-50 opacity-75":"bg-gray-50"}`,children:[u.jsx("div",{className:`text-2xl font-bold ${b} w-8 text-center`,children:v<=3?u.jsx(Rn,{size:24,className:"inline"}):v}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[g&&u.jsx("span",{className:"text-xs",children:""}),w.display_name&&u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:w.display_name}),g&&u.jsx("span",{className:"text-xs text-gray-500",children:"(Prueba)"})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(d0,{size:14,className:"text-blue-500"}),u.jsxs("span",{className:"font-semibold",children:[(w.time_ms/1e3).toFixed(1),"s"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(O_,{size:14,className:"text-purple-500"}),u.jsx("span",{className:"font-semibold",children:w.moves})]})]}),m&&u.jsx("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:"T!"})]}),!g&&u.jsx("div",{className:"text-xs text-gray-400",children:new Date(w.created_at).toLocaleTimeString("es",{hour:"2-digit",minute:"2-digit"})})]},w.id)})})]}),u.jsx("button",{onClick:e,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]})})};function e2({onPowerUpUsed:t,disabled:e}){const[n,r]=_.useState(qe()),[s,i]=_.useState(null),o=(c,d)=>{i(c)},a=(c,d)=>{Rh(d)?(r(qe()),t(c),i(null)):alert("No tienes suficientes monedas!")},l=()=>{i(null)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-2 justify-center",children:[u.jsxs("button",{onClick:()=>o(20),disabled:e||n<100,className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm shadow-lg transition-all ${e||n<100?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95"}`,children:[u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(M_,{size:16}),u.jsx("span",{children:"20%"})]}),u.jsxs("div",{className:"text-xs flex items-center justify-center gap-1 mt-1",children:[u.jsx(Lt,{size:12}),u.jsx("span",{children:"100"})]})]}),u.jsxs("button",{onClick:()=>o(40),disabled:e||n<200,className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm shadow-lg transition-all ${e||n<200?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-600 text-white hover:scale-105 active:scale-95"}`,children:[u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(sn,{size:16}),u.jsx("span",{children:"40%"})]}),u.jsxs("div",{className:"text-xs flex items-center justify-center gap-1 mt-1",children:[u.jsx(Lt,{size:12}),u.jsx("span",{children:"200"})]})]})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full text-center shadow-2xl animate-scale-in",children:[u.jsx("div",{className:"text-6xl mb-4",children:s===20?"":""}),u.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Revelar ",s,"% de Parejas"]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Esta ayuda revelar automticamente algunas parejas de cartas"}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-3 mb-6",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[u.jsx(Lt,{size:24}),u.jsx("span",{className:"text-2xl font-black",children:s===20?"100":"200"}),u.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:l,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-bold hover:bg-gray-600 transition-colors",children:"Cancelar"}),u.jsx("button",{onClick:()=>a(s,s===20?100:200),className:`flex-1 py-3 rounded-xl font-bold text-white transition-all ${s===20?"bg-gradient-to-r from-green-500 to-emerald-600 hover:scale-105":"bg-gradient-to-r from-yellow-500 to-orange-600 hover:scale-105"}`,children:"Confirmar"})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Tu saldo actual: ",n," monedas"]})]})}),u.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const t2=({open:t,onStay:e,onExit:n})=>{const r=_.useRef(null);return _.useEffect(()=>{var s;t&&((s=r.current)==null||s.focus())},[t]),_.useEffect(()=>{if(!t)return;const s=i=>{i.key==="Escape"&&(i.preventDefault(),e())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e]),t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Quieres salir del nivel?"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{ref:r,type:"button",onClick:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Seguir Jugando"}),u.jsx("button",{type:"button",onClick:n,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"})]})]})}):null},n2=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(!1),[s,i]=_.useState(1),o=_.useRef(null);_.useEffect(()=>{const c=localStorage.getItem("sound.muted"),d=localStorage.getItem("sound.volume"),h=c==="true",f=d?Math.max(0,Math.min(1,parseFloat(d))):1;r(h),i(f);try{h?Ve.mute():Ve.unmute(),Ve.setMasterVolume(f)}catch(p){console.error("Error initializing sound:",p)}},[]),_.useEffect(()=>{if(!t)return;const c=d=>{o.current&&!o.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[t]);const a=()=>{const c=!n;r(c),localStorage.setItem("sound.muted",c?"true":"false");try{c?Ve.mute():Ve.unmute()}catch(d){console.error("Error toggling sound:",d)}},l=c=>{const d=Number(c.target.value)/100;i(d),localStorage.setItem("sound.volume",String(d));try{Ve.setMasterVolume(d)}catch(h){console.error("Error setting volume:",h)}};return u.jsxs("div",{className:"relative select-none",ref:o,children:[u.jsx("button",{type:"button","aria-label":"Ajustes de sonido",onClick:()=>e(c=>!c),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(N_,{size:20,className:"text-gray-700"})}),t&&u.jsxs("div",{className:"absolute right-0 mt-2 rounded-xl shadow-2xl bg-white p-4 z-50 min-w-[200px]",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Sonido"}),u.jsx("button",{type:"button",onClick:a,className:`px-3 py-1 rounded-lg text-sm font-semibold transition-colors ${n?"bg-gray-200 text-gray-600":"bg-green-500 text-white"}`,children:n?"OFF":"ON"})]}),u.jsxs("div",{className:"mt-2",children:[u.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Volumen: ",Math.round(s*100),"%"]}),u.jsx("input",{type:"range",min:0,max:100,value:Math.round(s*100),onChange:l,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500",disabled:n})]})]})]})},r2=({open:t,onClose:e,shareText:n,shareUrl:r})=>{const[s,i]=_.useState(!1);if(!t)return null;const o=async()=>{try{await navigator.clipboard.writeText(`${n}
${r}`),i(!0),setTimeout(()=>i(!1),2e3)}catch(h){console.error("Error copying to clipboard:",h)}},a=()=>{const h=`https://wa.me/?text=${encodeURIComponent(`${n}
${r}`)}`;window.open(h,"_blank")},l=()=>{window.open("https://www.tiktok.com/","_blank")},c=()=>{window.open("https://www.instagram.com/","_blank")},d=async()=>{if(navigator.share)try{await navigator.share({title:"TwinClash",text:n,url:r}),e()}catch(h){console.error("Error sharing:",h)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Compartir"}),u.jsx("button",{type:"button",onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(ts,{size:24})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("button",{type:"button",onClick:a,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-green-500 flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"WhatsApp"})]}),u.jsxs("button",{type:"button",onClick:c,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Instagram"})]}),u.jsxs("button",{type:"button",onClick:l,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-black flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"TikTok"})]})]}),u.jsx("button",{type:"button",onClick:o,className:"w-full bg-blue-500 text-white py-4 rounded-xl font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 mb-3",children:s?u.jsxs(u.Fragment,{children:[u.jsx(u0,{size:20}),"Copiado!"]}):u.jsxs(u.Fragment,{children:[u.jsx(h0,{size:20}),"Copiar enlace"]})}),navigator.share&&u.jsx("button",{type:"button",onClick:d,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Ms opciones..."})]})})},Vi="generated",s2="pointerdown",i2="pointerup",Wp="pointerleave",o2="pointerout",Hp="pointermove",a2="touchstart",Gp="touchend",l2="touchmove",c2="touchcancel",u2="resize",d2="visibilitychange",ns="tsParticles - Error";let cd=class hn{constructor(e,n,r){if(this._updateFromAngle=(s,i)=>{this.x=Math.cos(s)*i,this.y=Math.sin(s)*i},!tn(e)&&e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=r??0;else throw new Error(`${ns} Vector3d not initialized correctly`)}static get origin(){return hn.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return hn.create(e.x,e.y,e.z)}static create(e,n,r){return new hn(e,n,r)}add(e){return hn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return hn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return hn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return hn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return hn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return hn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}},Fv=class Ia extends cd{constructor(e,n){super(e,n,0)}static get origin(){return Ia.create(0,0)}static clone(e){return Ia.create(e.x,e.y)}static create(e,n){return new Ia(e,n)}},h2=Math.random;function Dn(){return Bv(h2(),0,1-1e-16)}function Bv(t,e,n){return Math.min(Math.max(t,e),n)}function Vs(t){const e=Mh(t);let n=Lh(t);return e===n&&(n=0),Dn()*(e-n)+n}function se(t){return tn(t)?t:Vs(t)}function Lh(t){return tn(t)?t:t.min}function Mh(t){return tn(t)?t:t.max}function G(t,e){if(t===e||e===void 0&&tn(t))return t;const n=Lh(t),r=Mh(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(r,e)}:G(n,r)}function f2(t){const e=t.random,{enable:n,minimumValue:r}=hr(e)?{enable:e,minimumValue:0}:e;return se(n?G(t.value,r):t.value)}function p2(t,e){const n=t.x-e.x,r=t.y-e.y;return{dx:n,dy:r,distance:Math.sqrt(n**2+r**2)}}function Ah(t,e){return p2(t,e).distance}function m2(t,e,n){if(tn(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return Dn()*Math.PI*2}}function g2(t){const e=Fv.origin;return e.length=1,e.angle=t,e}function y2(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Dn()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Dn()*t.size.height}}function Vv(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const v2={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function yo(){return v2}function Ul(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function w2(){return!Ul()&&typeof matchMedia<"u"}function qv(t){if(w2())return matchMedia(t)}function x2(t){if(!(Ul()||typeof MutationObserver>"u"))return new MutationObserver(t)}function b2(t,e){return t===e||bn(e)&&e.indexOf(t)>-1}function _2(t){return Math.floor(Dn()*t.length)}function zh(t,e,n=!0){return t[e!==void 0&&n?e%t.length:_2(t)]}function We(t,...e){for(const n of e){if(n==null)continue;if(!Ri(n)){t=n;continue}const r=Array.isArray(n);r&&(Ri(t)||!t||!Array.isArray(t))?t=[]:!r&&(Ri(t)||!t||Array.isArray(t))&&(t={});for(const s in n){if(s==="__proto__")continue;const i=n,o=i[s],a=t;a[s]=Ri(o)&&Array.isArray(o)?o.map(l=>We(a[s],l)):We(a[s],o)}}return t}function rs(t,e){return bn(t)?t.map((n,r)=>e(n,r)):e(t,0)}function qi(t,e,n){return bn(t)?zh(t,e,n):t}function k2(t,e){const n=t.value,r=t.animation,s={delayTime:se(r.delay)*1e3,enable:r.enable,value:se(t.value)*e,max:Mh(n)*e,min:Lh(n)*e,loops:0,maxLoops:se(r.count),time:0};if(r.enable){switch(s.decay=1-se(r.decay),r.mode){case"increase":s.status="increasing";break;case"decrease":s.status="decreasing";break;case"random":s.status=Dn()>=.5?"increasing":"decreasing";break}const i=r.mode==="auto";switch(r.startValue){case"min":s.value=s.min,i&&(s.status="increasing");break;case"max":s.value=s.max,i&&(s.status="decreasing");break;case"random":default:s.value=Vs(s),i&&(s.status=Dn()>=.5?"increasing":"decreasing");break}}return s.initialValue=s.value,s}function S2(t,e){if(!(t.mode==="percent")){const{mode:s,...i}=t;return i}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function Wv(t,e){return S2(t,e)}function hr(t){return typeof t=="boolean"}function xn(t){return typeof t=="string"}function tn(t){return typeof t=="number"}function Hv(t){return typeof t=="function"}function Ri(t){return typeof t=="object"&&t!==null}function bn(t){return Array.isArray(t)}const j2="random",Fl=new Map;function Kp(t){Fl.set(t.key,t)}function Nc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function E2(t){for(const[,i]of Fl)if(t.startsWith(i.stringPrefix))return i.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(i,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,s=r.exec(n);return s?{a:s[4]!==void 0?parseInt(s[4],16)/255:1,b:parseInt(s[3],16),g:parseInt(s[2],16),r:parseInt(s[1],16)}:void 0}function qs(t,e,n=!0){if(!t)return;const r=xn(t)?{value:t}:t;if(xn(r.value))return Gv(r.value,e,n);if(bn(r.value))return qs({value:zh(r.value,e,n)});for(const[,s]of Fl){const i=s.handleRangeColor(r);if(i)return i}}function Gv(t,e,n=!0){if(!t)return;const r=xn(t)?{value:t}:t;if(xn(r.value))return r.value===j2?R2():P2(r.value);if(bn(r.value))return Gv({value:zh(r.value,e,n)});for(const[,s]of Fl){const i=s.handleColor(r);if(i)return i}}function Jp(t,e,n=!0){const r=qs(t,e,n);return r?C2(r):void 0}function C2(t){const e=t.r/255,n=t.g/255,r=t.b/255,s=Math.max(e,n,r),i=Math.min(e,n,r),o={h:0,l:(s+i)/2,s:0};return s!==i&&(o.s=o.l<.5?(s-i)/(s+i):(s-i)/(2-s-i),o.h=e===s?(n-r)/(s-i):o.h=n===s?2+(r-e)/(s-i):4+(e-n)/(s-i)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function P2(t){return E2(t)}function ud(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const r=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,s=2*n.l-r;e.r=Nc(s,r,n.h+1/3),e.g=Nc(s,r,n.h),e.b=Nc(s,r,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function T2(t){const e=ud(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function R2(t){return{b:Math.floor(Vs(G(0,256))),g:Math.floor(Vs(G(0,256))),r:Math.floor(Vs(G(0,256)))}}function La(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function Qp(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function Yp(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function O2(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function N2(t,e,n,r){n&&(t.globalAlpha=r,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function Ic(t,e){t.clearRect(0,0,e.width,e.height)}function I2(t){const{container:e,context:n,particle:r,delta:s,colorStyles:i,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:d,transform:h}=t,f=r.getPosition(),p=r.rotation+(r.pathRotation?r.velocity.angle:0),y={sin:Math.sin(p),cos:Math.cos(p)},w={a:y.cos*(h.a??1),b:y.sin*(h.b??1),c:-y.sin*(h.c??1),d:y.cos*(h.d??1)};n.setTransform(w.a,w.b,w.c,w.d,f.x,f.y),n.beginPath(),o&&(n.globalCompositeOperation=a);const x=r.shadowColor;d.enable&&x&&(n.shadowBlur=d.blur,n.shadowColor=La(x),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),i.fill&&(n.fillStyle=i.fill);const m=r.strokeWidth??0;n.lineWidth=m,i.stroke&&(n.strokeStyle=i.stroke),L2(e,n,r,l,c,s),m>0&&n.stroke(),r.close&&n.closePath(),r.fill&&n.fill(),M2(e,n,r,l,c,s),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function L2(t,e,n,r,s,i){if(!n.shape)return;const o=t.drawers.get(n.shape);o&&o.draw(e,n,r,s,i,t.retina.pixelRatio)}function M2(t,e,n,r,s,i){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||!o.afterEffect||o.afterEffect(e,n,r,s,i,t.retina.pixelRatio)}function A2(t,e,n){e.draw&&e.draw(t,n)}function z2(t,e,n,r){e.drawParticle&&e.drawParticle(t,n,r)}function $2(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function D2(t,e,n){const r=e[n];r!==void 0&&(t[n]=(t[n]??1)*r)}class U2{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const r of this._postDrawUpdaters)r.afterDraw&&r.afterDraw(n)},this._applyPreDrawUpdaters=(n,r,s,i,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:d}=l.getColorStyles(r,n,s,i);c&&(o.fill=c),d&&(o.stroke=d)}if(l.getTransformValues){const c=l.getTransformValues(r);for(const d in c)D2(a,c,d)}l.beforeDraw&&l.beforeDraw(r)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let r,s;for(const i of this._colorPlugins)if(!r&&i.particleFillColor&&(r=Jp(i.particleFillColor(n))),!s&&i.particleStrokeColor&&(s=Jp(i.particleStrokeColor(n))),r&&s)break;return[r,s]},this._initCover=()=>{const n=this.container.actualOptions,r=n.backgroundMask.cover,s=r.color,i=qs(s);if(i){const o={...i,a:r.opacity};this._coverColorStyle=La(o,o.a)}},this._initStyle=()=>{const n=this.element,r=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=We({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const s in r.style){if(!s||!r.style)continue;const i=r.style[s];i&&n.style.setProperty(s,i,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,r=n.particles.move.trail,s=r.fill;if(r.enable)if(s.color){const i=qs(s.color);if(!i)return;const o=n.particles.move.trail;this._trailFill={color:{...i},opacity:1/o.length}}else await new Promise((i,o)=>{if(!s.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/r.length},i()}),a.addEventListener("error",l=>{o(l.error)}),a.src=s.image})},this._paintBase=n=>{this.draw(r=>O2(r,this.size,n))},this._paintImage=(n,r)=>{this.draw(s=>N2(s,this.size,n,r))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(r=>r.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(r=>r.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,r=this._originalStyle;if(!(n&&r))return;const s=n.style;s.position=r.position,s.zIndex=r.zIndex,s.top=r.top,s.left=r.left,s.width=r.width,s.height=r.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const r="important",s=n.style;s.setProperty("position","fixed",r),s.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),r),s.setProperty("top","0",r),s.setProperty("left","0",r),s.setProperty("width","100%",r),s.setProperty("height","100%",r)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,r=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&r?r.color?this._paintBase(La(r.color,r.opacity)):r.image&&this._paintImage(r.image,r.opacity):this.draw(s=>{Ic(s,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const r=e.getRadius();if(r<=0)return;const s=e.getFillColor(),i=e.getStrokeColor()??s;let[o,a]=this._getPluginParticleColors(e);o||(o=s),a||(a=i),!(!o&&!a)&&this.draw(l=>{var v;const c=this.container,d=c.actualOptions,h=e.options.zIndex,f=(1-e.zIndexFactor)**h.opacityRate,p=e.bubble.opacity??((v=e.opacity)==null?void 0:v.value)??1,y=e.strokeOpacity??p,w=p*f,x=y*f,m={},g={fill:o?Qp(o,w):void 0};g.stroke=a?Qp(a,x):g.fill,this._applyPreDrawUpdaters(l,e,r,w,g,m),I2({container:c,context:l,particle:e,delta:n,colorStyles:g,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:r*(1-e.zIndexFactor)**h.sizeRate,opacity:w,shadow:e.options.shadow,transform:m}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,r){this.draw(s=>z2(s,e,n,r))}drawPlugin(e,n){this.draw(r=>A2(r,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=x2(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){yo().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,r=this.element;if(!r)return;const s=r.style;if(s){if(n.color){const i=qs(n.color);s.backgroundColor=i?La(i,n.opacity):""}else s.backgroundColor="";s.backgroundImage=n.image||"",s.backgroundPosition=n.position||"",s.backgroundRepeat=n.repeat||"",s.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Vi in e.dataset?e.dataset[Vi]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=We({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Ic(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,r=e.canvas.size,s={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(s.height===r.height&&s.width===r.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const i={...r};return this.element.width=r.width=this.element.offsetWidth*n,this.element.height=r.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:r.width/i.width,height:r.height/i.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Ic(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function Ct(t,e,n,r,s){if(r){let i={passive:!0};hr(s)?i.capture=s:s!==void 0&&(i=s),t.addEventListener(e,n,i)}else{const i=s;t.removeEventListener(e,n,i)}}class F2{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const r=this.container,s=r.actualOptions;if(this._canPush){const i=r.interactivity.mouse,o=i.position;if(!o)return;i.clickPosition={...o},i.clickTime=new Date().getTime();const a=s.interactivity.events.onClick;rs(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const r=n,s=this.container,i=s.options,o=i.defaultThemes,a=r.matches?o.dark:o.light,l=i.themes.find(c=>c.name===a);l&&l.default.auto&&s.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,r=n.actualOptions;this._mouseTouchFinish(),r.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,r)=>{const s=this._handlers,i=this.container,o=i.actualOptions,a=i.interactivity.element;if(!a)return;const l=a,c=i.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(Ct(a,Hp,s.mouseMove,r),Ct(a,a2,s.touchStart,r),Ct(a,l2,s.touchMove,r),o.interactivity.events.onClick.enable?(Ct(a,Gp,s.touchEndClick,r),Ct(a,i2,s.mouseUp,r),Ct(a,s2,s.mouseDown,r)):Ct(a,Gp,s.touchEnd,r),Ct(a,n,s.mouseLeave,r),Ct(a,c2,s.touchCancel,r))},this._manageListeners=n=>{const r=this._handlers,s=this.container,i=s.actualOptions,o=i.interactivity.detectsOn,a=s.canvas.element;let l=Wp;o==="window"?(s.interactivity.element=window,l=o2):o==="parent"&&a?s.interactivity.element=a.parentElement??a.parentNode:s.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&Ct(document,d2,r.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const r=this._handlers,s=qv("(prefers-color-scheme: dark)");if(s){if(s.addEventListener!==void 0){Ct(s,"change",r.themeChange,n);return}s.addListener!==void 0&&(n?s.addListener(r.oldThemeChange):s.removeListener(r.oldThemeChange))}},this._manageResize=n=>{const r=this._handlers,s=this.container;if(!s.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Ct(window,u2,r.resize,n);return}const o=s.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:r}=n;r.clicking=!0,r.downPosition=r.position},this._mouseTouchClick=n=>{const r=this.container,s=r.actualOptions,{mouse:i}=r.interactivity;i.inside=!0;let o=!1;const a=i.position;if(!(!a||!s.interactivity.events.onClick.enable)){for(const[,l]of r.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),i.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const r=n.mouse;delete r.position,delete r.clickPosition,delete r.downPosition,n.status=Wp,r.inside=!1,r.clicking=!1},this._mouseTouchMove=n=>{const r=this.container,s=r.actualOptions,i=r.interactivity,o=r.canvas.element;if(!i||!i.element)return;i.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(i.element===window){if(o){const d=o.getBoundingClientRect();a={x:c.clientX-d.left,y:c.clientY-d.top}}}else if(s.interactivity.detectsOn==="parent"){const d=c.target,h=c.currentTarget;if(d&&h&&o){const f=d.getBoundingClientRect(),p=h.getBoundingClientRect(),y=o.getBoundingClientRect();a={x:c.offsetX+2*f.left-(p.left+y.left),y:c.offsetY+2*f.top-(p.top+y.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,d=c.touches[c.touches.length-1],h=o.getBoundingClientRect();a={x:d.clientX-(h.left??0),y:d.clientY-(h.top??0)}}const l=r.retina.pixelRatio;a&&(a.x*=l,a.y*=l),i.mouse.position=a,i.status=Hp},this._touchEnd=n=>{const r=n,s=Array.from(r.changedTouches);for(const i of s)this._touches.delete(i.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const r=n,s=Array.from(r.changedTouches);for(const i of s)this._touches.delete(i.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const r=n,s=Array.from(r.changedTouches);for(const i of s)this._touches.set(i.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}let gr=class Kv{constructor(){this.value=""}static create(e,n){const r=new Kv;return r.load(e),n!==void 0&&(xn(n)||bn(n)?r.load({value:n}):r.load(n)),r}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}};class B2{constructor(){this.color=new gr,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=gr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class V2{constructor(){this.color=new gr,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=gr.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class q2{constructor(){this.composite="destination-out",this.cover=new V2,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,r=xn(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:r})}e.enable!==void 0&&(this.enable=e.enable)}}}class W2{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class H2{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class Xp{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return rs(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=rs(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class G2{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class K2{constructor(){this.enable=!1,this.mode=[],this.parallax=new G2}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class J2{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class Q2{constructor(){this.onClick=new H2,this.onDiv=new Xp,this.onHover=new K2,this.resize=new J2}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=rs(n,r=>{const s=new Xp;return s.load(r),s})),this.onHover.load(e.onHover??e.onhover),hr(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class Y2{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const r of n)r.loadModeOptions&&r.loadModeOptions(this,e)}}class Jv{constructor(e,n){this.detectsOn="window",this.events=new Q2,this.modes=new Y2(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class X2{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=We({},e.options)))}}class Z2{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=We({},e.options)))}}class ej{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class tj{constructor(){this.name="",this.default=new ej}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=We({},e.options)))}}class Lc{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=G(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=G(e.offset)),e.speed!==void 0&&(this.speed=G(e.speed)),e.decay!==void 0&&(this.decay=G(e.decay)),e.delay!==void 0&&(this.delay=G(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class nj{constructor(){this.h=new Lc,this.s=new Lc,this.l=new Lc}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class vo extends gr{constructor(){super(),this.animation=new nj}static create(e,n){const r=new vo;return r.load(e),n!==void 0&&(xn(n)||bn(n)?r.load({value:n}):r.load(n)),r}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class rj{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class sj{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class ij{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=G(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=G(e.speed)),e.decay!==void 0&&(this.decay=G(e.decay)),e.delay!==void 0&&(this.delay=G(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Qv extends ij{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class oj{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}let Ro=class{constructor(){this.random=new oj,this.value=0}load(e){e&&(hr(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=G(e.value,this.random.enable?this.random.minimumValue:void 0)))}};class Zp extends Ro{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class Yv{constructor(){this.horizontal=new Zp,this.vertical=new Zp}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class aj{constructor(){this.absorb=new rj,this.bounce=new Yv,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new sj}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=G(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class lj{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=G(e.offset)),e.value!==void 0&&(this.value=G(e.value)))}}class cj{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var s,i;if(!e)return;e.distance!==void 0&&(this.distance=G(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((s=e.rotate)==null?void 0:s.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const r=((i=e.rotate)==null?void 0:i.y)??e.rotateY;r!==void 0&&(this.rotate.y=r)}}class uj{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class dj{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=G(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=G(e.maxSpeed)))}}class hj{constructor(){this.clamp=!0,this.delay=new Ro,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=We(this.options,e.options)))}}class fj{load(e){e&&(e.color!==void 0&&(this.color=gr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class pj{constructor(){this.enable=!1,this.length=10,this.fill=new fj}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class mj{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class gj{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=G(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=We({},e.position)))}}class yj{constructor(){this.angle=new lj,this.attract=new cj,this.center=new uj,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new dj,this.path=new hj,this.outModes=new mj,this.random=!1,this.size=!1,this.speed=2,this.spin=new gj,this.straight=!1,this.trail=new pj,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(tn(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=G(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=tn(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=G(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(Ri(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=G(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class vj extends Qv{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class wj extends Ro{constructor(){super(),this.animation=new vj,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=G(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class xj{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const r=e.height??e.factor;r!==void 0&&(this.height=r)}}class bj{constructor(){this.density=new xj,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class _j{constructor(){this.blur=0,this.color=new gr,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=gr.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Mc="character",Ac="char",zc="image",$c="images",Dc="polygon",Uc="star";class kj{constructor(){this.loadShape=(e,n,r,s)=>{if(!e)return;const i=bn(e),o=i?[]:{},a=i!==bn(this.options[n]),l=i!==bn(this.options[r]);a&&(this.options[n]=o),l&&s&&(this.options[r]=o),this.options[n]=We(this.options[n]??o,e),(!this.options[r]||s)&&(this.options[r]=We(this.options[r]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Mc]??this.options[Ac]}set character(e){this.options[Ac]=this.options[Mc]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[zc]??this.options[$c]}set image(e){this.options[$c]=this.options[zc]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Dc]??this.options[Uc]}set polygon(e){this.options[Uc]=this.options[Dc]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const r in n){const s=n[r];s&&(this.options[r]=We(this.options[r]??{},s))}this.loadShape(e.character,Mc,Ac,!0),this.loadShape(e.polygon,Dc,Uc,!1),this.loadShape(e.image??e.images,zc,$c,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Sj extends Qv{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class jj extends Ro{constructor(){super(),this.animation=new Sj,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=G(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class em{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=vo.create(this.color,e.color)),e.width!==void 0&&(this.width=G(e.width)),e.opacity!==void 0&&(this.opacity=G(e.opacity)))}}class Ej extends Ro{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class Cj{constructor(e,n){this._engine=e,this._container=n,this.bounce=new Yv,this.collisions=new aj,this.color=new vo,this.color.value="#fff",this.groups={},this.move=new yj,this.number=new bj,this.opacity=new wj,this.reduceDuplicates=!1,this.shadow=new _j,this.shape=new kj,this.size=new jj,this.stroke=new em,this.zIndex=new Ej}load(e){var s,i,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(vo.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=We(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((s=e.move)==null?void 0:s.collisions)??((i=e.move)==null?void 0:i.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=We({},e.interactivity));const r=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(r&&(this.stroke=rs(r,a=>{const l=new em;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function Xv(t,...e){for(const n of e)t.load(n)}function Zv(t,e,...n){const r=new Cj(t,e);return Xv(r,...n),r}class Pj{constructor(e,n){this._findDefaultTheme=r=>this.themes.find(s=>s.default.value&&s.default.mode===r)??this.themes.find(s=>s.default.value&&s.default.mode==="any"),this._importPreset=r=>{this.load(this._engine.plugins.getPreset(r))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new B2,this.backgroundMask=new q2,this.defaultThemes={},this.delay=0,this.fullScreen=new W2,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Jv(e,n),this.manualParticles=[],this.particles=Zv(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&rs(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=G(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=G(e.duration));const r=e.fpsLimit??e.fps_limit;r!==void 0&&(this.fpsLimit=r),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const s=e.fullScreen??e.backgroundMode;hr(s)?this.fullScreen.enable=s:this.fullScreen.load(s),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new X2;return c.load(l),c})),this.particles.load(e.particles),this.style=We(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const i=this._engine.plugins.interactors.get(this._container);if(i)for(const l of i)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new Z2;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(d=>d.name===l.name);if(c)c.load(l);else{const d=new tj;d.load(l),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,n,r){this.load(r);const s=this.responsive.find(i=>i.mode==="screen"&&screen?i.maxWidth>screen.availWidth:i.maxWidth*n>e);return this.load(s==null?void 0:s.options),s==null?void 0:s.maxWidth}setTheme(e){if(e){const n=this.themes.find(r=>r.name===e);n&&this.load(n.options)}else{const n=qv("(prefers-color-scheme: dark)"),r=n&&n.matches,s=this._findDefaultTheme(r?"dark":"light");s&&this.load(s.options)}}}class Tj{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const r of this._externalInteractors)r.clear(e,n);for(const r of this._particleInteractors)r.isEnabled(e)&&await r.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const tm=t=>{if(!b2(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class Rj{constructor(e,n,r,s,i,o){this.container=r,this._calcPosition=(a,l,c,d=0)=>{for(const[,g]of a.plugins){const v=g.particlePosition!==void 0?g.particlePosition(l,this):void 0;if(v)return cd.create(v.x,v.y,c)}const h=a.canvas.size,f=y2({size:h,position:l}),p=cd.create(f.x,f.y,c),y=this.getRadius(),w=this.options.move.outModes,x=g=>{tm({outMode:g,checkModes:["bounce","bounce-horizontal"],coord:p.x,maxCoord:a.canvas.size.width,setCb:v=>p.x+=v,radius:y})},m=g=>{tm({outMode:g,checkModes:["bounce","bounce-vertical"],coord:p.y,maxCoord:a.canvas.size.height,setCb:v=>p.y+=v,radius:y})};return x(w.left??w.default),x(w.right??w.default),m(w.top??w.default),m(w.bottom??w.default),this._checkOverlap(p,d)?this._calcPosition(a,void 0,c,d+1):p},this._calculateVelocity=()=>{const a=g2(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const d=Math.PI/180*se(c.angle.value),h=Math.PI/180*se(c.angle.offset),f={left:h-d/2,right:h+d/2};return c.straight||(l.angle+=Vs(G(f.left,f.right))),c.random&&typeof c.speed=="number"&&(l.length*=Dn()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,d=this.getRadius();if(!c.enable)return!1;const h=c.overlap;if(h.enable)return!1;const f=h.retries;if(f>=0&&l>f)throw new Error(`${ns} particle is overlapping and can't be placed`);return!!this.container.particles.find(p=>Ah(a,p.position)<d+p.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?$2(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=se(this.options.zIndex.value);this.position=this._calcPosition(l,a,Bv(c,0,l.zLayers)),this.initialPosition=this.position.copy();const d=l.canvas.size;switch(this.moveCenter={...Wv(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=m2(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Fv.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return We({close:a.close,fill:a.fill},qi(c,this.id,l))},this._engine=e,this.init(n,s,i,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,r=this.pathGenerator;for(const[,s]of n.plugins)s.particleDestroyed&&s.particleDestroyed(this,e);for(const s of n.particles.updaters)s.particleDestroyed&&s.particleDestroyed(this,e);r&&r.reset(this)}draw(e){const n=this.container;for(const[,r]of n.plugins)n.canvas.drawParticlePlugin(r,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??Yp(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??Yp(this.strokeColor))}init(e,n,r,s){const i=this.container,o=this._engine;this.id=e,this.group=s,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=i.retina.pixelRatio,l=i.actualOptions,c=Zv(this._engine,i,l.particles),d=c.shape.type,{reduceDuplicates:h}=c;this.shape=qi(d,this.id,h);const f=c.shape;if(r&&r.shape&&r.shape.type){const v=r.shape.type,b=qi(v,this.id,h);b&&(this.shape=b,f.load(r.shape))}this.shapeData=this._loadShapeData(f,h),c.load(r);const p=this.shapeData;p&&c.load(p.particles);const y=new Jv(o,i);y.load(i.actualOptions.interactivity),y.load(c.interactivity),this.interactivity=y,this.fill=(p==null?void 0:p.fill)??c.shape.fill,this.close=(p==null?void 0:p.close)??c.shape.close,this.options=c;const w=this.options.move.path;this.pathDelay=f2(w.delay)*1e3,w.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(w.generator),this.pathGenerator&&i.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(i)),i.retina.initParticle(this),this.size=k2(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-se(this.options.move.decay);const x=i.particles;x.needsSort=x.needsSort||x.lastZIndex<this.position.z,x.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/i.zLayers,this.sides=24;let m=i.drawers.get(this.shape);m||(m=this._engine.plugins.getShapeDrawer(this.shape),m&&i.drawers.set(this.shape,m)),m&&m.loadShape&&m.loadShape(this);const g=m==null?void 0:m.getSidesCount;g&&(this.sides=g(this)),this.spawning=!1,this.shadowColor=qs(this.options.shadow.color);for(const v of i.particles.updaters)v.init(this);for(const v of i.particles.movers)v.init&&v.init(this);m&&m.particleInit&&m.particleInit(i,this);for(const[,v]of i.plugins)v.particleCreated&&v.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,r=this.position;return r.x>=-e&&r.y>=-e&&r.y<=n.height+e&&r.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class Oj{constructor(e,n){this.position=e,this.particle=n}}class ew{constructor(e,n){this.position={x:e,y:n}}}let pl=class tw extends ew{constructor(e,n,r,s){super(e,n),this.size={height:s,width:r}}contains(e){const n=this.size.width,r=this.size.height,s=this.position;return e.x>=s.x&&e.x<=s.x+n&&e.y>=s.y&&e.y<=s.y+r}intersects(e){e instanceof nw&&e.intersects(this);const n=this.size.width,r=this.size.height,s=this.position,i=e.position,o=e instanceof tw?e.size:{width:0,height:0},a=o.width,l=o.height;return i.x<s.x+n&&i.x+a>s.x&&i.y<s.y+r&&i.y+l>s.y}},nw=class rw extends ew{constructor(e,n,r){super(e,n),this.radius=r}contains(e){return Ah(e,this.position)<=this.radius}intersects(e){const n=this.position,r=e.position,s={x:Math.abs(r.x-n.x),y:Math.abs(r.y-n.y)},i=this.radius;if(e instanceof rw){const o=i+e.radius,a=Math.sqrt(s.x**2+s.y**2);return o>a}else if(e instanceof pl){const{width:o,height:a}=e.size;return Math.pow(s.x-o,2)+Math.pow(s.y-a,2)<=i**2||s.x<=i+o&&s.y<=i+a||s.x<=o||s.y<=a}return!1}};class ml{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:r,y:s}=this.rectangle.position,{width:i,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new ml(new pl(r+i/2*(l%2),s+o/2*(Math.round(l/2)-l%2),i/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,r){const s=r||[];if(!e.intersects(this.rectangle))return[];for(const i of this._points)!e.contains(i.position)&&Ah(e.position,i.position)>i.particle.getRadius()&&(!n||n(i.particle))||s.push(i.particle);if(this._divided)for(const i of this._subs)i.query(e,n,s);return s}queryCircle(e,n,r){return this.query(new nw(e.x,e.y,n),r)}queryRectangle(e,n,r){return this.query(new pl(e.x,e.y,n.width,n.height),r)}}const nm=4,rm=t=>new pl(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let Nj=class{constructor(e,n){this._applyDensity=(s,i,o)=>{var p;if(!((p=s.number.density)!=null&&p.enable))return;const a=s.number,l=this._initDensityFactor(a.density),c=a.value,d=a.limit>0?a.limit:c,h=Math.min(c,d)*l+i,f=Math.min(this.count,this.filter(y=>y.group===o).length);this.limit=a.limit*l,f<h?this.push(Math.abs(h-f),void 0,s,o):f>h&&this.removeQuantity(f-h,o)},this._initDensityFactor=s=>{const i=this._container;if(!i.canvas.element||!s.enable)return 1;const o=i.canvas.element,a=i.retina.pixelRatio;return o.width*o.height/(s.factor*a**2*s.area)},this._pushParticle=(s,i,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,s,i,o):l=new Rj(this._engine,this._nextId,this._container,s,i,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){yo().warning(`${ns} adding particle: ${l}`);return}},this._removeParticle=(s,i,o)=>{const a=this._array[s];if(!a||a.group!==i)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(s,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new Tj(e,n);const r=n.canvas.size;this.quadTree=new ml(rm(r),nm),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const r of n.manualParticles)this.addParticle(r.position?Wv(r.position,e.canvas.size):void 0,r.options)}addParticle(e,n,r,s){const i=this._container,o=i.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,n,r,s)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,r]of n.plugins)n.canvas.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var s;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let r=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,i]of e.plugins)if(i.particlesInitialization!==void 0&&(r=i.particlesInitialization()),r)break;this._interactionManager.init();for(const[,i]of e.pathGenerators)i.init(e);if(this.addManualParticles(),!r){for(const i in n.particles.groups){const o=n.particles.groups[i];for(let a=this.count,l=0;l<((s=o.number)==null?void 0:s.value)&&a<n.particles.number.value;a++,l++)this.addParticle(void 0,o,i)}for(let i=this.count;i<n.particles.number.value;i++)this.addParticle()}}push(e,n,r,s){this.pushing=!0;for(let i=0;i<e;i++)this.addParticle(n==null?void 0:n.position,r,s);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,r){this.removeAt(this._array.indexOf(e),void 0,n,r)}removeAt(e,n=1,r,s){if(e<0||e>this.count)return;let i=0;for(let o=e;i<n&&o<this.count;o++)this._removeParticle(o--,r,s)&&i++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const r in n)this._applyDensity(n[r],0,r);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,r=new Set;this.quadTree=new ml(rm(n.canvas.size),nm);for(const[,s]of n.pathGenerators)s.update();for(const[,s]of n.plugins)s.update&&s.update(e);for(const s of this._array){const i=n.canvas.resizeFactor;i&&!s.ignoresResizeRatio&&(s.position.x*=i.width,s.position.y*=i.height,s.initialPosition.x*=i.width,s.initialPosition.y*=i.height),s.ignoresResizeRatio=!1,await this._interactionManager.reset(s);for(const[,o]of this._container.plugins){if(s.destroyed)break;o.particleUpdate&&o.particleUpdate(s,e)}for(const o of this.movers)o.isEnabled(s)&&o.move(s,e);if(s.destroyed){r.add(s);continue}this.quadTree.insert(new Oj(s.getPosition(),s))}if(r.size){const s=i=>!r.has(i);this._array=this.filter(s),this._zArray=this._zArray.filter(s),this.pool.push(...r)}await this._interactionManager.externalInteract(e);for(const s of this._array){for(const i of this.updaters)i.update(s,e);!s.destroyed&&!s.spawning&&await this._interactionManager.particlesInteract(s,e)}if(delete n.canvas.resizeFactor,this.needsSort){const s=this._zArray;s.sort((i,o)=>o.position.z-i.position.z||i.id-o.id),this.lastZIndex=s[s.length-1].position.z,this.needsSort=!1}}};class Ij{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Ul()?1:window.devicePixelRatio,this.reduceFactor=1;const r=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*r,e.canvas.size.height=o.offsetHeight*r}const s=n.particles,i=s.move;this.attractDistance=se(i.attract.distance)*r,this.maxSpeed=se(i.gravity.maxSpeed)*r,this.sizeAnimationSpeed=se(s.size.animation.speed)*r}initParticle(e){const n=e.options,r=this.pixelRatio,s=n.move,i=s.distance,o=e.retina;o.attractDistance=se(s.attract.distance)*r,o.moveDrift=se(s.drift)*r,o.moveSpeed=se(s.speed)*r,o.sizeAnimationSpeed=se(n.size.animation.speed)*r;const a=o.maxDistance;a.horizontal=i.horizontal!==void 0?i.horizontal*r:void 0,a.vertical=i.vertical!==void 0?i.vertical*r:void 0,o.maxSpeed=se(s.gravity.maxSpeed)*r}}function pe(t){return t&&!t.destroyed}function Lj(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function ms(t,e,...n){const r=new Pj(t,e);return Xv(r,...n),r}const Mj="default",sm={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class Aj{constructor(e,n,r){this.id=n,this._intersectionManager=s=>{if(!(!pe(this)||!this.actualOptions.pauseOnOutsideViewport))for(const i of s)i.target===this.interactivity.element&&(i.isIntersecting?this.play:this.pause)()},this._nextFrame=async s=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&s<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=s);const i=Lj(s-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(i.value),this.lastFrameTime=s,i.value>1e3){this.draw(!1);return}if(await this.particles.draw(i),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(i){yo().error(`${ns} in animation loop`,i)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=r,this._initialSourceOptions=r,this.retina=new Ij(this),this.canvas=new U2(this),this.particles=new Nj(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=ms(this._engine,this),this.actualOptions=ms(this._engine,this),this._eventListeners=new F2(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(s=>this._intersectionManager(s))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!pe(this))return;const n=this.interactivity.element;if(!n)return;const r=(h,f,p)=>{if(!pe(this))return;const y=this.retina.pixelRatio,w={x:f.x*y,y:f.y*y},x=this.particles.quadTree.queryCircle(w,p*y);e(h,x)},s=h=>{if(!pe(this))return;const f=h,p={x:f.offsetX||f.clientX,y:f.offsetY||f.clientY};r(h,p,1)},i=()=>{pe(this)&&(c=!0,d=!1)},o=()=>{pe(this)&&(d=!0)},a=h=>{if(pe(this)){if(c&&!d){const f=h;let p=f.touches[f.touches.length-1];if(!p&&(p=f.changedTouches[f.changedTouches.length-1],!p))return;const y=this.canvas.element,w=y?y.getBoundingClientRect():void 0,x={x:p.clientX-(w?w.left:0),y:p.clientY-(w?w.top:0)};r(h,x,Math.max(p.radiusX,p.radiusY))}c=!1,d=!1}},l=()=>{pe(this)&&(c=!1,d=!1)};let c=!1,d=!1;n.addEventListener("click",s),n.addEventListener("touchstart",i),n.addEventListener("touchmove",o),n.addEventListener("touchend",a),n.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,r=!1){return!pe(this)||!r&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??sm),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!pe(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,r]of this.drawers)r.destroy&&r.destroy(this);for(const r of this.drawers.keys())this.drawers.delete(r);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(r=>r===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!pe(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async r=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(r)})}async export(e,n={}){for(const[,r]of this.plugins){if(!r.export)continue;const s=await r.export(e,n);if(s.supported)return s.blob}yo().error(`${ns} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&pe(this)}handleClickMode(e){if(pe(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!pe(this))return;const e=this._engine.plugins.getSupportedShapes();for(const r of e){const s=this._engine.plugins.getShapeDrawer(r);s&&this.drawers.set(r,s)}this._options=ms(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ms(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[r,s]of n)this.plugins.set(r,s);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=se(this.actualOptions.duration)*1e3,this._delay=se(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,r]of this.drawers)r.init&&await r.init(this);for(const[,r]of this.plugins)r.init&&await r.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,r]of this.plugins)r.particlesSetup&&r.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){pe(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(pe(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!pe(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,r]of this.plugins)r.play&&r.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(pe(this))return this.stop(),this.start()}async reset(){if(pe(this))return this._initialSourceOptions=void 0,this._options=ms(this._engine,this),this.actualOptions=ms(this._engine,this,this._options),this.refresh()}setNoise(e,n,r){pe(this)&&this.setPath(e,n,r)}setPath(e,n,r){if(!e||!pe(this))return;const s={...sm};if(Hv(e))s.generate=e,n&&(s.init=n),r&&(s.update=r);else{const i=s;s.generate=e.generate||i.generate,s.init=e.init||i.init,s.update=e.update||i.update}this.addPath(Mj,s,!0)}async start(){!pe(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!pe(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class zj{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let r=this._listeners.get(e);r||(r=[],this._listeners.set(e,r)),r.push(n)}dispatchEvent(e,n){const r=this._listeners.get(e);r&&r.forEach(s=>s(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const r=this._listeners.get(e);if(!r)return;const s=r.length,i=r.indexOf(n);i<0||(s===1?this._listeners.delete(e):r.splice(i,1))}}function Fc(t,e,n,r=!1){let s=e.get(t);return(!s||r)&&(s=[...n.values()].map(i=>i(t)),e.set(t,s)),s}class $j{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,r=!1){(r||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){rs(e,r=>{!this.getShapeDrawer(r)&&this.drawers.set(r,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const r of this.plugins)r.needsPlugin(e.actualOptions)&&n.set(r.id,r.getPlugin(e));return n}getInteractors(e,n=!1){return Fc(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return Fc(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return Fc(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const r of this.plugins)r.loadOptions(e,n)}loadParticlesOptions(e,n,...r){const s=this.updaters.get(e);if(s)for(const i of s)i.loadOptions&&i.loadOptions(n,...r)}}async function Dj(t){const e=qi(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(yo().error(`${ns} ${n.status} while retrieving config file`),t.fallback)}function Uj(t){return!t.id&&!t.element&&!t.url&&!t.options}function Fj(t){return!Uj(t)}class Bj{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new zj,this._initialized=!1,this.plugins=new $j(this)}get configs(){const e={};for(const[n,r]of this._configs)e[n]=r;return e}get version(){return"2.12.0"}addConfig(e,n){xn(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,r=!0){this.plugins.addInteractor(e,n),await this.refresh(r)}async addMover(e,n,r=!0){this.plugins.addParticleMover(e,n),await this.refresh(r)}async addParticleUpdater(e,n,r=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(r)}async addPathGenerator(e,n,r=!0){this.plugins.addPathGenerator(e,n),await this.refresh(r)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,r=!1,s=!0){this.plugins.addPreset(e,n,r),await this.refresh(s)}async addShape(e,n,r,s,i,o=!0){let a,l=o,c,d,h;hr(r)?(l=r,c=void 0):c=r,hr(s)?(l=s,d=void 0):d=s,hr(i)?(l=i,h=void 0):h=i,Hv(n)?a={afterEffect:d,destroy:h,draw:n,init:c}:a=n,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),r=n[e];if(!r||r.destroyed){n.splice(e,1);return}return r}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,r){let s;return Fj(e)?s=e:(s={},xn(e)?s.id=e:s.options=e,tn(n)?s.index=n:s.options=n??s.options,s.index=r??s.index),this._loadParams(s)}async loadJSON(e,n,r){let s,i;return tn(n)||n===void 0?s=e:(i=e,s=n),this._loadParams({id:i,url:s,index:r})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,r,s){const i={index:s};return xn(e)?i.id=e:i.element=e,n instanceof HTMLElement?i.element=n:i.options=n,tn(r)?i.index=r:i.options=r??i.options,this._loadParams(i)}async setJSON(e,n,r,s){const i={};return e instanceof HTMLElement?(i.element=e,i.url=n,i.index=r):(i.id=e,i.element=n,i.url=r,i.index=s),this._loadParams(i)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${ns} can only set click handlers after calling tsParticles.load()`);for(const r of n)r.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(Dn()*1e4)}`,{index:r,url:s}=e,i=s?await Dj({fallback:e.options,url:s,index:r}):e.options;let o=e.element??document.getElementById(n);o||(o=document.createElement("div"),o.id=n,document.body.append(o));const a=qi(i,r),l=this.dom(),c=l.findIndex(f=>f.id===n);if(c>=0){const f=this.domItem(c);f&&!f.destroyed&&(f.destroy(),l.splice(c,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[Vi]="false";else{const f=o.getElementsByTagName("canvas");f.length?(d=f[0],d.dataset[Vi]="false"):(d=document.createElement("canvas"),d.dataset[Vi]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const h=new Aj(this,n,a);return c>=0?l.splice(c,0,h):l.push(h),h.canvas.loadCanvas(d),await h.start(),h}}let Vj=class{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.s!==void 0&&r.l!==void 0)return ud(r)}handleRangeColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.l!==void 0)return ud({h:se(r.h),l:se(r.l),s:se(r.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,r=n.exec(e);return r?T2({a:r.length>4?Vv(r[5]):1,h:parseInt(r[1],10),l:parseInt(r[3],10),s:parseInt(r[2],10)}):void 0}},qj=class{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return r}handleRangeColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return{r:se(r.r),g:se(r.g),b:se(r.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,r=n.exec(e);return r?{a:r.length>4?Vv(r[5]):1,b:parseInt(r[3],10),g:parseInt(r[2],10),r:parseInt(r[1],10)}:void 0}};function Wj(){const t=new qj,e=new Vj;Kp(t),Kp(e);const n=new Bj;return n.init(),n}const dd=Wj();Ul()||(window.tsParticles=dd);const Ns=t=>typeof t=="object"&&t!==null;function gl(t,e,n=()=>!1){if(!Ns(t)||!Ns(e))return t===e;const r=Object.keys(t).filter(i=>!n(i)),s=Object.keys(e).filter(i=>!n(i));if(r.length!==s.length)return!1;for(const i of r){const o=t[i],a=e[i];if(Ns(o)&&Ns(a)){if(o===e&&a===t)continue;if(!gl(o,a,n))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!sw(o,a,n))return!1}else if(o!==a)return!1}return!0}function sw(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],i=e[r];if(Array.isArray(s)&&Array.isArray(i)){if(!sw(s,i,n))return!1}else if(Ns(s)&&Ns(i)){if(!gl(s,i,n))return!1}else if(s!==i)return!1}return!0}const iw="tsparticles";class Bl extends _.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const n=e.options??e.params,r=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!gl(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!gl(n,r,s=>s.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(dd),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:r,canvasClassName:s,id:i}=this.props;return tf.createElement("div",{className:r,id:i},tf.createElement("canvas",{className:s,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??Bl.defaultProps.id??iw,n=await dd.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}}Bl.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:iw};const Hj="pointerleave",Oo="pointermove",ni="tsParticles - Error",Vl=100,ss=.5,Un=1e3,mn={x:0,y:0,z:0},yl="random",Ma="mid",Nn=2,Ur=2,Gj=1,Aa=255,Hr=360,hd=100,fd=100,im=0,pd=0,Kj=60,om=0,ow=1,Jj=0,Qj=1,Yj=1,Xj=0,Tr=255,Bc=3,Vc=6,Zj=1,eE=1,tE=0,nE=0,rE=0,sE=0;var am;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(am||(am={}));function ri(t){return typeof t=="string"}function No(t){return typeof t=="number"}function Oi(t){return typeof t=="object"&&t!==null}function Vn(t){return Array.isArray(t)}function ne(t){return t==null}class qt{constructor(e,n,r){if(this._updateFromAngle=(s,i)=>{this.x=Math.cos(s)*i,this.y=Math.sin(s)*i},!No(e)&&e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:mn.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=r??mn.z;else throw new Error(`${ni} Vector3d not initialized correctly`)}static get origin(){return qt.create(mn.x,mn.y,mn.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return qt.create(e.x,e.y,e.z)}static create(e,n,r){return new qt(e,n,r)}add(e){return qt.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return qt.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return qt.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Ur+this.y**Ur}mult(e){return qt.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=Jj&&this.multTo(Gj/e)}rotate(e){return qt.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),mn.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:mn.z}sub(e){return qt.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class He extends qt{constructor(e,n){super(e,n,mn.z)}static get origin(){return He.create(mn.x,mn.y)}static clone(e){return He.create(e.x,e.y)}static create(e,n){return new He(e,n)}}let iE=Math.random;function ke(){return on(iE(),0,1-Number.EPSILON)}function on(t,e,n){return Math.min(Math.max(t,e),n)}function qc(t,e,n,r){return Math.floor((t*n+e*r)/(n+r))}function Nt(t){const e=yn(t),n=0;let r=ql(t);return e===r&&(r=n),ke()*(e-r)+r}function $(t){return No(t)?t:Nt(t)}function ql(t){return No(t)?t:t.min}function yn(t){return No(t)?t:t.max}function At(t,e){if(t===e||e===void 0&&No(t))return t;const n=ql(t),r=yn(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(r,e)}:At(n,r)}function et(t,e){const n=t.x-e.x,r=t.y-e.y,s=2;return{dx:n,dy:r,distance:Math.sqrt(n**s+r**s)}}function nn(t,e){return et(t,e).distance}function Wi(t){return t*Math.PI/180}function lm(t,e,n,r){return He.create(t.x*(n-r)/(n+r)+e.x*Nn*r/(n+r),t.y)}function aw(t){return t?t.endsWith("%")?parseFloat(t)/Vl:parseFloat(t):1}var Is;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(Is||(Is={}));var je;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(je||(je={}));var wo;(function(t){t.none="none",t.max="max",t.min="min"})(wo||(wo={}));var V;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(V||(V={}));var cm;(function(t){t.precise="precise",t.percent="percent"})(cm||(cm={}));var Hi;(function(t){t.max="max",t.min="min",t.random="random"})(Hi||(Hi={}));const oE={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function lw(){return oE}function um(t){const e={bounced:!1},{pSide:n,pOtherSide:r,rectSide:s,rectOtherSide:i,velocity:o,factor:a}=t;return r.min<i.min||r.min>i.max||r.max<i.min||r.max>i.max||(n.max>=s.min&&n.max<=(s.max+s.min)*ss&&o>om||n.min<=s.max&&n.min>(s.max+s.min)*ss&&o<om)&&(e.velocity=o*-a,e.bounced=!0),e}function aE(t,e){const n=_r(e,r=>t.matches(r));return Vn(n)?n.some(r=>r):n}function dm(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function Ce(t,e){return t===e||Vn(e)&&e.indexOf(t)>-1}async function hm(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function lE(t){return Math.floor(ke()*t.length)}function Wl(t,e,n=!0){return t[e!==void 0&&n?e%t.length:lE(t)]}function $h(t,e,n,r,s){return cE(Io(t,r??0),e,n,s)}function cE(t,e,n,r){let s=!0;return(!r||r===V.bottom)&&(s=t.top<e.height+n.x),s&&(!r||r===V.left)&&(s=t.right>n.x),s&&(!r||r===V.right)&&(s=t.left<e.width+n.y),s&&(!r||r===V.top)&&(s=t.bottom>n.y),s}function Io(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function vl(t,...e){for(const n of e){if(n==null)continue;if(!Oi(n)){t=n;continue}const r=Array.isArray(n);r&&(Oi(t)||!t||!Array.isArray(t))?t=[]:!r&&(Oi(t)||!t||Array.isArray(t))&&(t={});for(const s in n){if(s==="__proto__")continue;const i=n,o=i[s],a=t;a[s]=Oi(o)&&Array.isArray(o)?o.map(l=>vl(a[s],l)):vl(a[s],o)}}return t}function Dh(t,e){return!!dw(e,n=>n.enable&&Ce(t,n.mode))}function Uh(t,e,n){_r(e,r=>{const s=r.mode;r.enable&&Ce(t,s)&&uE(r,n)})}function uE(t,e){const n=t.selectors;_r(n,r=>{e(r,t)})}function cw(t,e){if(!(!e||!t))return dw(t,n=>aE(e,n.selectors))}function md(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:He.create($(t.options.bounce.horizontal.value),$(t.options.bounce.vertical.value))}}function uw(t,e){const{x:n,y:r}=t.velocity.sub(e.velocity),[s,i]=[t.position,e.position],{dx:o,dy:a}=et(i,s);if(n*o+r*a<0)return;const c=-Math.atan2(a,o),d=t.mass,h=e.mass,f=t.velocity.rotate(c),p=e.velocity.rotate(c),y=lm(f,p,d,h),w=lm(p,f,d,h),x=y.rotate(-c),m=w.rotate(-c);t.velocity.x=x.x*t.factor.x,t.velocity.y=x.y*t.factor.y,e.velocity.x=m.x*e.factor.x,e.velocity.y=m.y*e.factor.y}function dE(t,e){const n=t.getPosition(),r=t.getRadius(),s=Io(n,r),i=t.options.bounce,o=um({pSide:{min:s.left,max:s.right},pOtherSide:{min:s.top,max:s.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:$(i.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(t.velocity.x=o.velocity),o.position!==void 0&&(t.position.x=o.position));const a=um({pSide:{min:s.top,max:s.bottom},pOtherSide:{min:s.left,max:s.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:$(i.vertical.value)});a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function _r(t,e){return Vn(t)?t.map((r,s)=>e(r,s)):e(t,0)}function Hl(t,e,n){return Vn(t)?Wl(t,e,n):t}function dw(t,e){return Vn(t)?t.find((r,s)=>e(r,s)):e(t,0)?t:void 0}function hE(t,e){const n=t.value,r=t.animation,s={delayTime:$(r.delay)*Un,enable:r.enable,value:$(t.value)*e,max:yn(n)*e,min:ql(n)*e,loops:0,maxLoops:$(r.count),time:0},i=1;if(r.enable){switch(s.decay=i-$(r.decay),r.mode){case Is.increase:s.status=je.increasing;break;case Is.decrease:s.status=je.decreasing;break;case Is.random:s.status=ke()>=ss?je.increasing:je.decreasing;break}const o=r.mode===Is.auto;switch(r.startValue){case Hi.min:s.value=s.min,o&&(s.status=je.increasing);break;case Hi.max:s.value=s.max,o&&(s.status=je.decreasing);break;case Hi.random:default:s.value=Nt(s),o&&(s.status=ke()>=ss?je.increasing:je.decreasing);break}}return s.initialValue=s.value,s}function fE(t,e,n,r,s){switch(e){case wo.max:n>=s&&t.destroy();break;case wo.min:n<=r&&t.destroy();break}}function Fh(t,e,n,r,s){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const d=(e.velocity??0)*s.factor,h=e.min,f=e.max,p=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=s.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case je.increasing:e.value>=f?(n?e.status=je.decreasing:e.value-=f,e.loops||(e.loops=0),e.loops++):e.value+=d;break;case je.decreasing:e.value<=h?(n?e.status=je.increasing:e.value+=f,e.loops||(e.loops=0),e.loops++):e.value-=d}e.velocity&&p!==1&&(e.velocity*=p),fE(t,r,e.value,h,f),t.destroyed||(e.value=on(e.value,h,f))}}var fm;(function(t){t.darken="darken",t.enlighten="enlighten"})(fm||(fm={}));function pE(t,e){if(e){for(const n of t.colorManagers.values())if(e.startsWith(n.stringPrefix))return n.parseString(e)}}function is(t,e,n,r=!0){if(!e)return;const s=ri(e)?{value:e}:e;if(ri(s.value))return hw(t,s.value,n,r);if(Vn(s.value))return is(t,{value:Wl(s.value,n,r)});for(const i of t.colorManagers.values()){const o=i.handleRangeColor(s);if(o)return o}}function hw(t,e,n,r=!0){if(!e)return;const s=ri(e)?{value:e}:e;if(ri(s.value))return s.value===yl?pw():mE(t,s.value);if(Vn(s.value))return hw(t,{value:Wl(s.value,n,r)});for(const i of t.colorManagers.values()){const o=i.handleColor(s);if(o)return o}}function Bh(t,e,n,r=!0){const s=is(t,e,n,r);return s?fw(s):void 0}function fw(t){const e=t.r/Aa,n=t.g/Aa,r=t.b/Aa,s=Math.max(e,n,r),i=Math.min(e,n,r),o={h:im,l:(s+i)*ss,s:pd};return s!==i&&(o.s=o.l<ss?(s-i)/(s+i):(s-i)/(Nn-s-i),o.h=e===s?(n-r)/(s-i):o.h=n===s?Nn+(r-e)/(s-i):Nn*Nn+(e-n)/(s-i)),o.l*=fd,o.s*=hd,o.h*=Kj,o.h<im&&(o.h+=Hr),o.h>=Hr&&(o.h-=Hr),o}function mE(t,e){return pE(t,e)}function si(t){const e=(t.h%Hr+Hr)%Hr,n=Math.max(pd,Math.min(hd,t.s)),r=Math.max(Xj,Math.min(fd,t.l)),s=e/Hr,i=n/hd,o=r/fd;if(n===pd){const y=Math.round(o*Tr);return{r:y,g:y,b:y}}const a=(y,w,x)=>{if(x<0&&x++,x>1&&x--,x*Vc<1)return y+(w-y)*Vc*x;if(x*Nn<1)return w;if(x*Bc<1*Nn){const v=Nn/Bc;return y+(w-y)*(v-x)*Vc}return y},l=o<ss?o*(Zj+i):o+i-o*i,c=Nn*o-l,d=eE/Bc,h=Math.min(Tr,Tr*a(c,l,s+d)),f=Math.min(Tr,Tr*a(c,l,s)),p=Math.min(Tr,Tr*a(c,l,s-d));return{r:Math.round(h),g:Math.round(f),b:Math.round(p)}}function gE(t){const e=si(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function pw(t){const e=tE,n=Aa+Yj;return{b:Math.floor(Nt(At(e,n))),g:Math.floor(Nt(At(e,n))),r:Math.floor(Nt(At(e,n)))}}function xo(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??ow})`}function gd(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??ow})`}function Vh(t,e,n,r){let s=t,i=e;return s.r===void 0&&(s=si(t)),i.r===void 0&&(i=si(e)),{b:qc(s.b,i.b,n,r),g:qc(s.g,i.g,n,r),r:qc(s.r,i.r,n,r)}}function yd(t,e,n){if(n===yl)return pw();if(n===Ma){const r=t.getFillColor()??t.getStrokeColor(),s=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(r&&s&&e)return Vh(r,s,t.getRadius(),e.getRadius());{const i=r??s;if(i)return si(i)}}else return n}function mw(t,e,n,r){const s=ri(e)?e:e.value;return s===yl?r?is(t,{value:s}):n?yl:Ma:s===Ma?Ma:is(t,{value:s})}function gw(t,e,n){const r={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Wc(r.h,e.h,n),Wc(r.s,e.s,n),Wc(r.l,e.l,n)),r}function Wc(t,e,n){t.enable=e.enable,t.enable?(t.velocity=$(e.speed)/Vl*n,t.decay=Qj-$(e.decay),t.status=je.increasing,t.loops=rE,t.maxLoops=$(e.count),t.time=sE,t.delayTime=$(e.delay)*Un,e.sync||(t.velocity*=ke(),t.value*=ke()),t.initialValue=t.value,t.offset=At(e.offset)):t.velocity=nE}function Hc(t,e,n,r){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=r.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const d=t.offset?Nt(t.offset):0,h=(t.velocity??0)*r.factor+d*3.6,f=t.decay??1,p=yn(e),y=ql(e);!n||t.status===je.increasing?(t.value+=h,t.value>p&&(t.loops||(t.loops=0),t.loops++,n?t.status=je.decreasing:t.value-=p)):(t.value-=h,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=je.increasing)),t.velocity&&f!==1&&(t.velocity*=f),t.value=on(t.value,y,p)}function yw(t,e){if(!t)return;const{h:n,s:r,l:s}=t,i={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&Hc(n,i.h,!1,e),r&&Hc(r,i.s,!0,e),s&&Hc(s,i.l,!0,e)}function Gi(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}class Fn{constructor(){this.value=""}static create(e,n){const r=new Fn;return r.load(e),n!==void 0&&(ri(n)||Vn(n)?r.load({value:n}):r.load(n)),r}load(e){ne(e)||ne(e.value)||(this.value=e.value)}}var bo;(function(t){t.circle="circle",t.rectangle="rectangle"})(bo||(bo={}));var Ki;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Ki||(Ki={}));class qh{constructor(){this.value=0}load(e){ne(e)||ne(e.value)||(this.value=At(e.value))}}var ze;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(ze||(ze={}));var wl;(function(t){t.external="external",t.particles="particles"})(wl||(wl={}));var fr;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(fr||(fr={}));var Ws;(function(t){t.circle="circle",t.rectangle="rectangle"})(Ws||(Ws={}));class vw{constructor(e,n,r){this.position={x:e,y:n},this.type=r}}class tt extends vw{constructor(e,n,r){super(e,n,Ws.circle),this.radius=r}contains(e){return nn(e,this.position)<=this.radius}intersects(e){const n=this.position,r=e.position,s={x:Math.abs(r.x-n.x),y:Math.abs(r.y-n.y)},i=this.radius;if(e instanceof tt||e.type===Ws.circle){const o=e,a=i+o.radius,l=Math.sqrt(s.x**Ur+s.y**Ur);return a>l}else if(e instanceof kr||e.type===Ws.rectangle){const o=e,{width:a,height:l}=o.size;return Math.pow(s.x-a,Ur)+Math.pow(s.y-l,Ur)<=i**Ur||s.x<=i+a&&s.y<=i+l||s.x<=a||s.y<=l}return!1}}class kr extends vw{constructor(e,n,r,s){super(e,n,Ws.rectangle),this.size={height:s,width:r}}contains(e){const n=this.size.width,r=this.size.height,s=this.position;return e.x>=s.x&&e.x<=s.x+n&&e.y>=s.y&&e.y<=s.y+r}intersects(e){if(e instanceof tt)return e.intersects(this);const n=this.size.width,r=this.size.height,s=this.position,i=e.position,o=e instanceof kr?e.size:{width:0,height:0},a=o.width,l=o.height;return i.x<s.x+n&&i.x+a>s.x&&i.y<s.y+r&&i.y+l>s.y}}class _n{constructor(e){this.type=wl.external,this.container=e}}class Wh{constructor(e){this.type=wl.particles,this.container=e}}var Qt;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(Qt||(Qt={}));var Jr;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(Jr||(Jr={}));const vd=.5,yE=2,rr=0,Yt=1,pm=60,mm=0,vE=.01,wE=Math.PI*yE;function xE(t){const e=t.initialPosition,{dx:n,dy:r}=et(e,t.position),s=Math.abs(n),i=Math.abs(r),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!a&&!l)return;const c=(a&&s>=a)??!1,d=(l&&i>=l)??!1;if((c||d)&&!t.misplaced)t.misplaced=!!a&&s>a||!!l&&i>l,a&&(t.velocity.x=t.velocity.y*vd-t.velocity.x),l&&(t.velocity.y=t.velocity.x*vd-t.velocity.y);else if((!a||s<a)&&(!l||i<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const h=t.position,f=t.velocity;a&&(h.x<e.x&&f.x<rr||h.x>e.x&&f.x>rr)&&(f.x*=-ke()),l&&(h.y<e.y&&f.y<rr||h.y>e.y&&f.y>rr)&&(f.y*=-ke())}}function bE(t,e,n,r,s,i,o){kE(t,o);const a=t.gravity,l=a!=null&&a.enable&&a.inverse?-Yt:Yt;s&&n&&(t.velocity.x+=s*o.factor/(pm*n)),a!=null&&a.enable&&n&&(t.velocity.y+=l*(a.acceleration*o.factor)/(pm*n));const c=t.moveDecay;t.velocity.multTo(c);const d=t.velocity.mult(n);a!=null&&a.enable&&r>rr&&(!a.inverse&&d.y>=rr&&d.y>=r||a.inverse&&d.y<=rr&&d.y<=-r)&&(d.y=l*r,n&&(t.velocity.y=d.y/n));const h=t.options.zIndex,f=(Yt-t.zIndexFactor)**h.velocityRate;d.multTo(f),d.multTo(i);const{position:p}=t;p.addTo(d),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y))*i,p.y+=Math.cos(p.y*Math.sin(p.x))*i)}function _E(t,e,n){const r=t.container;if(!t.spin)return;const s=t.spin.direction===Qt.clockwise,i={x:s?Math.cos:Math.sin,y:s?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle)*n,t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle)*n,t.spin.radius+=t.spin.acceleration*n;const o=Math.max(r.canvas.size.width,r.canvas.size.height),a=o*vd;t.spin.radius>a?(t.spin.radius=a,t.spin.acceleration*=-Yt):t.spin.radius<mm&&(t.spin.radius=mm,t.spin.acceleration*=-Yt),t.spin.angle+=e*vE*(Yt-t.spin.radius/o)}function kE(t,e){var o;const n=t.options,r=n.move.path;if(!r.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const i=(o=t.pathGenerator)==null?void 0:o.generate(t,e);i&&t.velocity.addTo(i),r.clamp&&(t.velocity.x=on(t.velocity.x,-Yt,Yt),t.velocity.y=on(t.velocity.y,-Yt,Yt)),t.lastPathTime-=t.pathDelay}function SE(t){return t.slow.inRange?t.slow.factor:Yt}function jE(t){const e=t.container,n=t.options,r=n.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},i=.01,o={x:s.x*i*e.canvas.size.width,y:s.y*i*e.canvas.size.height},a=t.getPosition(),l=nn(a,o),c=$(r.acceleration);t.retina.spinAcceleration=c*e.retina.pixelRatio,t.spin={center:o,direction:t.velocity.x>=rr?Qt.clockwise:Qt.counterClockwise,angle:ke()*wE,radius:l,acceleration:t.retina.spinAcceleration}}const EE=2,CE=1,PE=1;class TE{init(e){const n=e.options,r=n.move.gravity;e.gravity={enable:r.enable,acceleration:$(r.acceleration),inverse:r.inverse},jE(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var x,m;const r=e.options,s=r.move;if(!s.enable)return;const i=e.container,o=i.retina.pixelRatio;(x=e.retina).moveSpeed??(x.moveSpeed=$(s.speed)*o),(m=e.retina).moveDrift??(m.moveDrift=$(e.options.move.drift)*o);const a=SE(e),l=i.retina.reduceFactor,c=e.retina.moveSpeed,d=e.retina.moveDrift,h=yn(r.size.value)*o,f=s.size?e.getRadius()/h:CE,p=n.factor||PE,y=c*f*a*p/EE,w=e.retina.maxSpeed??i.retina.maxSpeed;s.spin.enable?_E(e,y,l):bE(e,s,y,w,d,l,n),xE(e)}}async function RE(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new TE),e)}const OE=2,NE=Math.PI*OE,IE=0,gm={x:0,y:0};function LE(t){const{context:e,particle:n,radius:r}=t;n.circleRange||(n.circleRange={min:IE,max:NE});const s=n.circleRange;e.arc(gm.x,gm.y,r,s.min,s.max,!1)}const ME=12,AE=360,ym=0;class zE{constructor(){this.validTypes=["circle"]}draw(e){LE(e)}getSidesCount(){return ME}particleInit(e,n){const r=n.shapeData,s=(r==null?void 0:r.angle)??{max:AE,min:ym};n.circleRange=Oi(s)?{min:Wi(s.min),max:Wi(s.max)}:{min:ym,max:Wi(s)}}}async function $E(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new zE,e)}class DE{constructor(e,n){this._container=e,this._engine=n}init(e){const n=Bh(this._engine,e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=gw(n,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:n,s:r,l:s}=e.options.color.animation,{color:i}=e;return!e.destroyed&&!e.spawning&&((i==null?void 0:i.h.value)!==void 0&&n.enable||(i==null?void 0:i.s.value)!==void 0&&r.enable||(i==null?void 0:i.l.value)!==void 0&&s.enable)}update(e,n){yw(e.color,n)}}async function UE(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",n=>Promise.resolve(new DE(n,t)),e)}var Fr;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(Fr||(Fr={}));const FE=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,BE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,ha=16,VE=1,qE=255;class WE{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const n=e.replace(FE,(s,i,o,a,l)=>i+i+o+o+a+a+(l!==void 0?l+l:"")),r=BE.exec(n);return r?{a:r[Fr.a]!==void 0?parseInt(r[Fr.a],ha)/qE:VE,b:parseInt(r[Fr.b],ha),g:parseInt(r[Fr.g],ha),r:parseInt(r[Fr.r],ha)}:void 0}}async function HE(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new WE,e)}var Ls;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(Ls||(Ls={}));class GE{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.s!==void 0&&r.l!==void 0)return si(r)}handleRangeColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.l!==void 0)return si({h:$(r.h),l:$(r.l),s:$(r.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,r=n.exec(e),s=4,i=1,o=10;return r?gE({a:r.length>s?aw(r[Ls.a]):i,h:parseInt(r[Ls.h],o),l:parseInt(r[Ls.l],o),s:parseInt(r[Ls.s],o)}):void 0}}async function KE(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new GE,e)}class JE{constructor(e){this.container=e}init(e){const n=e.options.opacity,r=1;e.opacity=hE(n,r);const s=n.animation;s.enable&&(e.opacity.velocity=$(s.speed)/Vl*this.container.retina.reduceFactor,s.sync||(e.opacity.velocity*=ke()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||Fh(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function QE(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",n=>Promise.resolve(new JE(n)),e)}const xl=0,Hs=0;function YE(t){if(t.outMode!==ze.bounce&&t.outMode!==ze.split||t.direction!==V.left&&t.direction!==V.right)return;t.bounds.right<Hs&&t.direction===V.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===V.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===V.right&&t.bounds.right>=t.canvasSize.width&&e>xl||t.direction===V.left&&t.bounds.left<=Hs&&e<xl){const s=$(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-s,n=!0}if(!n)return;const r=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===V.right?t.particle.position.x=t.canvasSize.width-r:t.bounds.left<=Hs&&t.direction===V.left&&(t.particle.position.x=r),t.outMode===ze.split&&t.particle.destroy()}function XE(t){if(t.outMode!==ze.bounce&&t.outMode!==ze.split||t.direction!==V.bottom&&t.direction!==V.top)return;t.bounds.bottom<Hs&&t.direction===V.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===V.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===V.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>xl||t.direction===V.top&&t.bounds.top<=Hs&&e<xl){const s=$(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-s,n=!0}if(!n)return;const r=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===V.bottom?t.particle.position.y=t.canvasSize.height-r:t.bounds.top<=Hs&&t.direction===V.top&&(t.particle.position.y=r),t.outMode===ze.split&&t.particle.destroy()}class ZE{constructor(e){this.container=e,this.modes=[ze.bounce,ze.split]}update(e,n,r,s){if(!this.modes.includes(s))return;const i=this.container;let o=!1;for(const f of i.plugins.values())if(f.particleBounce!==void 0&&(o=f.particleBounce(e,r,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),d=Io(a,c),h=i.canvas.size;YE({particle:e,outMode:s,direction:n,bounds:d,canvasSize:h,offset:l,size:c}),XE({particle:e,outMode:s,direction:n,bounds:d,canvasSize:h,offset:l,size:c})}}const fa=0;class eC{constructor(e){this.container=e,this.modes=[ze.destroy]}update(e,n,r,s){if(!this.modes.includes(s))return;const i=this.container;switch(e.outType){case fr.normal:case fr.outside:if($h(e.position,i.canvas.size,He.origin,e.getRadius(),n))return;break;case fr.inside:{const{dx:o,dy:a}=et(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<fa&&o>e.moveCenter.radius||c<fa&&a>e.moveCenter.radius||l>=fa&&o<-e.moveCenter.radius||c>=fa&&a<-e.moveCenter.radius)return;break}}i.particles.remove(e,e.group,!0)}}const pa=0;class tC{constructor(e){this.container=e,this.modes=[ze.none]}update(e,n,r,s){if(!this.modes.includes(s)||((e.options.move.distance.horizontal&&(n===V.left||n===V.right))??(e.options.move.distance.vertical&&(n===V.top||n===V.bottom))))return;const i=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(i.enable){const c=e.position;(!i.inverse&&c.y>a.height+l&&n===V.bottom||i.inverse&&c.y<-l&&n===V.top)&&o.particles.remove(e)}else{if(e.velocity.y>pa&&e.position.y<=a.height+l||e.velocity.y<pa&&e.position.y>=-l||e.velocity.x>pa&&e.position.x<=a.width+l||e.velocity.x<pa&&e.position.x>=-l)return;$h(e.position,o.canvas.size,He.origin,l,n)||o.particles.remove(e)}}}const ma=0,ga=0;class nC{constructor(e){this.container=e,this.modes=[ze.out]}update(e,n,r,s){if(!this.modes.includes(s))return;const i=this.container;switch(e.outType){case fr.inside:{const{x:o,y:a}=e.velocity,l=He.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(He.create(e.moveCenter));const{dx:c,dy:d}=et(e.position,l);if(o<=ma&&c>=ga||a<=ma&&d>=ga||o>=ma&&c<=ga||a>=ma&&d<=ga)return;e.position.x=Math.floor(Nt({min:0,max:i.canvas.size.width})),e.position.y=Math.floor(Nt({min:0,max:i.canvas.size.height}));const{dx:h,dy:f}=et(e.position,e.moveCenter);e.direction=Math.atan2(-f,-h),e.velocity.angle=e.direction;break}default:{if($h(e.position,i.canvas.size,He.origin,e.getRadius(),n))return;switch(e.outType){case fr.outside:{e.position.x=Math.floor(Nt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Nt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=et(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case fr.normal:{const o=e.options.move.warp,a=i.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),d=Io(e.position,c);n===V.right&&d.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=ke()*a.height,e.initialPosition.y=e.position.y)):n===V.left&&d.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=ke()*a.height,e.initialPosition.y=e.position.y)),n===V.bottom&&d.top>a.height+e.offset.y?(o||(e.position.x=ke()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n===V.top&&d.bottom<-e.offset.y&&(o||(e.position.x=ke()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const rC=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class sC{constructor(e){this._addUpdaterIfMissing=(n,r,s)=>{const i=n.options.move.outModes;!this.updaters.has(r)&&rC(i,r)&&this.updaters.set(r,s(this.container))},this._updateOutMode=(n,r,s,i)=>{for(const o of this.updaters.values())o.update(n,i,r,s)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,ze.bounce,n=>new ZE(n)),this._addUpdaterIfMissing(e,ze.out,n=>new nC(n)),this._addUpdaterIfMissing(e,ze.destroy,n=>new eC(n)),this._addUpdaterIfMissing(e,ze.none,n=>new tC(n))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const r=e.options.move.outModes;this._updateOutMode(e,n,r.bottom??r.default,V.bottom),this._updateOutMode(e,n,r.left??r.default,V.left),this._updateOutMode(e,n,r.right??r.default,V.right),this._updateOutMode(e,n,r.top??r.default,V.top)}}async function iC(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",n=>Promise.resolve(new sC(n)),e)}var Ms;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(Ms||(Ms={}));class oC{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return r}handleRangeColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return{r:$(r.r),g:$(r.g),b:$(r.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,r=n.exec(e),s=10;return r?{a:r.length>4?aw(r[Ms.a]):1,b:parseInt(r[Ms.b],s),g:parseInt(r[Ms.g],s),r:parseInt(r[Ms.r],s)}:void 0}}async function aC(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new oC,e)}const Rr=0;class lC{init(e){const n=e.container,r=e.options.size,s=r.animation;s.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/Vl*n.retina.reduceFactor,s.sync||(e.size.velocity*=ke()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Rr)<=Rr||(e.size.maxLoops??Rr)>Rr&&(e.size.loops??Rr)<(e.size.maxLoops??Rr))}reset(e){e.size.loops=Rr}update(e,n){this.isEnabled(e)&&Fh(e,e.size,!0,e.options.size.animation.destroy,n)}}async function cC(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new lC),e)}async function uC(t,e=!0){t.checkVersion("3.9.1"),await HE(t,!1),await KE(t,!1),await aC(t,!1),await RE(t,!1),await $E(t,!1),await UE(t,!1),await QE(t,!1),await iC(t,!1),await cC(t,!1),await t.refresh(e)}async function dC(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing(Jr.easeInQuad,n=>n**2,!1),await t.addEasing(Jr.easeOutQuad,n=>1-(1-n)**2,!1),await t.addEasing(Jr.easeInOutQuad,n=>n<.5?2*n**2:1-(-2*n+2)**2/2,!1),await t.refresh(e)}function hC(t,e){const{context:n,opacity:r}=t,s=.5,i=n.globalAlpha;if(!e)return;const o=e.width,a=o*s;n.globalAlpha=r,n.drawImage(e,-a,-a,o,o),n.globalAlpha=i}const Gc='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',vm=0;class fC{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&(n==null||n.close()),this._emojiShapeDict.delete(e)}draw(e){const n=e.particle.emojiDataKey;if(!n)return;const r=this._emojiShapeDict.get(n);r&&hC(e,r)}async init(e){const n=e.actualOptions,{validTypes:r}=this;if(!r.find(o=>Ce(o,n.particles.shape.type)))return;const s=[hm(Gc)],i=r.map(o=>n.particles.shape.options[o]).find(o=>!!o);i&&_r(i,o=>{o.font&&s.push(hm(o.font))}),await Promise.all(s)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,n){const s=n.shapeData;if(!(s!=null&&s.value))return;const i=Hl(s.value,n.randomIndexData);if(!i)return;const o=typeof i=="string"?{font:s.font??Gc,padding:s.padding??vm,value:i}:{font:Gc,padding:vm,...s,...i},a=o.font,l=o.value,c=`${l}_${a}`;if(this._emojiShapeDict.has(c)){n.emojiDataKey=c;return}const d=o.padding*2,h=yn(n.size.value),f=h+d,p=f*2;let y;if(typeof OffscreenCanvas<"u"){const w=new OffscreenCanvas(p,p),x=w.getContext("2d");if(!x)return;x.font=`400 ${h*2}px ${a}`,x.textBaseline="middle",x.textAlign="center",x.fillText(l,f,f),y=w.transferToImageBitmap()}else{const w=document.createElement("canvas");w.width=p,w.height=p;const x=w.getContext("2d");if(!x)return;x.font=`400 ${h*2}px ${a}`,x.textBaseline="middle",x.textAlign="center",x.fillText(l,f,f),y=w}this._emojiShapeDict.set(c,y),n.emojiDataKey=c}}async function pC(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new fC,e)}const mC=1,gC=1,ww=0;function xw(t,e,n,r,s,i){const o=e.actualOptions.interactivity.modes.attract;if(!o)return;const a=e.particles.quadTree.query(s,i);for(const l of a){const{dx:c,dy:d,distance:h}=et(l.position,n),f=o.speed*o.factor,p=on(t.getEasing(o.easing)(gC-h/r)*f,mC,o.maxSpeed),y=He.create(h?c/h*p:f,h?d/h*p:f);l.position.subFrom(y)}}function yC(t,e,n){e.attract||(e.attract={particles:[]});const{attract:r}=e;if(r.finish||(r.count||(r.count=0),r.count++,r.count===e.particles.count&&(r.finish=!0)),r.clicking){const s=e.interactivity.mouse.clickPosition,i=e.retina.attractModeDistance;if(!i||i<ww||!s)return;xw(t,e,s,i,new tt(s.x,s.y,i),o=>n(o))}else r.clicking===!1&&(r.particles=[])}function vC(t,e,n){const r=e.interactivity.mouse.position,s=e.retina.attractModeDistance;!s||s<ww||!r||xw(t,e,r,s,new tt(r.x,r.y,s),i=>n(i))}class wC{constructor(){this.distance=200,this.duration=.4,this.easing=Jr.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){ne(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const Si="attract";let xC=class extends _n{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=r=>{const s=this.container.actualOptions,i=s.interactivity.modes.attract;if(!(!i||r!==Si)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},i.duration*Un)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,r=e.interactivity.status===Oo,s=n.interactivity.events,{enable:i,mode:o}=s.onHover,{enable:a,mode:l}=s.onClick;r&&i&&Ce(Si,o)?vC(this._engine,this.container,c=>this.isEnabled(c)):a&&Ce(Si,l)&&yC(this._engine,this.container,c=>this.isEnabled(c))}isEnabled(e){const n=this.container,r=n.actualOptions,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??r.interactivity).events;if((!s.position||!i.onHover.enable)&&(!s.clickPosition||!i.onClick.enable))return!1;const o=i.onHover.mode,a=i.onClick.mode;return Ce(Si,o)||Ce(Si,a)}loadModeOptions(e,...n){e.attract||(e.attract=new wC);for(const r of n)e.attract.load(r==null?void 0:r.attract)}reset(){}};async function bC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",n=>Promise.resolve(new xC(t,n)),e)}const _C=2,za=.5,kC=Math.PI*za,wm=2,bw=10,SC=0;function _w(t,e,n,r,s){const i=t.particles.quadTree.query(r,s);for(const o of i)r instanceof tt?uw(md(o),{position:e,mass:n**_C*kC,velocity:He.origin,factor:He.origin}):r instanceof kr&&dE(o,Io(e,n))}function jC(t,e,n,r){const s=document.querySelectorAll(e);s.length&&s.forEach(i=>{const o=i,a=t.retina.pixelRatio,l={x:(o.offsetLeft+o.offsetWidth*za)*a,y:(o.offsetTop+o.offsetHeight*za)*a},c=o.offsetWidth*za*a,d=bw*a,h=n.type===bo.circle?new tt(l.x,l.y,c+d):new kr(o.offsetLeft*a-d,o.offsetTop*a-d,o.offsetWidth*a+d*wm,o.offsetHeight*a+d*wm);r(l,c,h)})}function EC(t,e,n,r){Uh(n,e,(s,i)=>jC(t,s,i,(o,a,l)=>_w(t,o,a,l,r)))}function CC(t,e){const n=t.retina.pixelRatio,r=bw*n,s=t.interactivity.mouse.position,i=t.retina.bounceModeDistance;!i||i<SC||!s||_w(t,s,i,new tt(s.x,s.y,i+r),e)}class PC{constructor(){this.distance=200}load(e){ne(e)||e.distance!==void 0&&(this.distance=e.distance)}}const ya="bounce";class TC extends _n{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,r=n.interactivity.events,s=e.interactivity.status===Oo,i=r.onHover.enable,o=r.onHover.mode,a=r.onDiv;s&&i&&Ce(ya,o)?CC(this.container,l=>this.isEnabled(l)):EC(this.container,a,ya,l=>this.isEnabled(l))}isEnabled(e){const n=this.container,r=n.actualOptions,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??r.interactivity).events,o=i.onDiv;return!!s.position&&i.onHover.enable&&Ce(ya,i.onHover.mode)||Dh(ya,o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new PC);for(const r of n)e.bounce.load(r==null?void 0:r.bounce)}reset(){}}async function RC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",n=>Promise.resolve(new TC(n)),e)}class kw{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!ne(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=Vn(this.color)?void 0:this.color;this.color=_r(e.color,r=>Fn.create(n,r))}e.size!==void 0&&(this.size=e.size)}}}class OC extends kw{constructor(){super(),this.selectors=[]}load(e){super.load(e),!ne(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class NC extends kw{load(e){super.load(e),!ne(e)&&(this.divs=_r(e.divs,n=>{const r=new OC;return r.load(n),r}))}}var pn;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(pn||(pn={}));function xm(t,e,n,r){if(e>=n){const s=t+(e-n)*r;return on(s,t,e)}else if(e<n){const s=t-(n-e)*r;return on(s,e,t)}}const Or="bubble",Kc=0,IC=0,LC=2,bm=1,_m=1,MC=0,AC=0,Jc=.5,Qc=1;class zC extends _n{constructor(e,n){super(e),this._clickBubble=()=>{var d;const r=this.container,s=r.actualOptions,i=r.interactivity.mouse.clickPosition,o=s.interactivity.modes.bubble;if(!o||!i)return;r.bubble||(r.bubble={});const a=r.retina.bubbleModeDistance;if(!a||a<Kc)return;const l=r.particles.quadTree.queryCircle(i,a,h=>this.isEnabled(h)),{bubble:c}=r;for(const h of l){if(!c.clicking)continue;h.bubble.inRange=!c.durationEnd;const f=h.getPosition(),p=nn(f,i),y=(new Date().getTime()-(r.interactivity.mouse.clickTime??IC))/Un;y>o.duration&&(c.durationEnd=!0),y>o.duration*LC&&(c.clicking=!1,c.durationEnd=!1);const w={bubbleObj:{optValue:r.retina.bubbleModeSize,value:h.bubble.radius},particlesObj:{optValue:yn(h.options.size.value)*r.retina.pixelRatio,value:h.size.value},type:pn.size};this._process(h,p,y,w);const x={bubbleObj:{optValue:o.opacity,value:h.bubble.opacity},particlesObj:{optValue:yn(h.options.opacity.value),value:((d=h.opacity)==null?void 0:d.value)??bm},type:pn.opacity};this._process(h,p,y,x),!c.durationEnd&&p<=a?this._hoverBubbleColor(h,p):delete h.bubble.color}},this._hoverBubble=()=>{const r=this.container,s=r.interactivity.mouse.position,i=r.retina.bubbleModeDistance;if(!i||i<Kc||!s)return;const o=r.particles.quadTree.queryCircle(s,i,a=>this.isEnabled(a));for(const a of o){a.bubble.inRange=!0;const l=a.getPosition(),c=nn(l,s),d=_m-c/i;c<=i?d>=AC&&r.interactivity.status===Oo&&(this._hoverBubbleSize(a,d),this._hoverBubbleOpacity(a,d),this._hoverBubbleColor(a,d)):this.reset(a),r.interactivity.status===Hj&&this.reset(a)}},this._hoverBubbleColor=(r,s,i)=>{const o=this.container.actualOptions,a=i??o.interactivity.modes.bubble;if(a){if(!r.bubble.finalColor){const l=a.color;if(!l)return;const c=Hl(l);r.bubble.finalColor=Bh(this._engine,c)}if(r.bubble.finalColor)if(a.mix){r.bubble.color=void 0;const l=r.getFillColor();r.bubble.color=l?fw(Vh(l,r.bubble.finalColor,_m-s,s)):r.bubble.finalColor}else r.bubble.color=r.bubble.finalColor}},this._hoverBubbleOpacity=(r,s,i)=>{var f,p;const o=this.container,a=o.actualOptions,l=(i==null?void 0:i.opacity)??((f=a.interactivity.modes.bubble)==null?void 0:f.opacity);if(!l)return;const c=r.options.opacity.value,d=((p=r.opacity)==null?void 0:p.value)??bm,h=xm(d,l,yn(c),s);h!==void 0&&(r.bubble.opacity=h)},this._hoverBubbleSize=(r,s,i)=>{const o=this.container,a=i!=null&&i.size?i.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(a===void 0)return;const l=yn(r.options.size.value)*o.retina.pixelRatio,c=r.size.value,d=xm(c,a,l,s);d!==void 0&&(r.bubble.radius=d)},this._process=(r,s,i,o)=>{const a=this.container,l=o.bubbleObj.optValue,c=a.actualOptions,d=c.interactivity.modes.bubble;if(!d||l===void 0)return;const h=d.duration,f=a.retina.bubbleModeDistance,p=o.particlesObj.optValue,y=o.bubbleObj.value,w=o.particlesObj.value??MC,x=o.type;if(!(!f||f<Kc||l===p))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)y&&(x===pn.size&&delete r.bubble.radius,x===pn.opacity&&delete r.bubble.opacity);else if(s<=f){if((y??w)!==l){const g=w-i*(w-l)/h;x===pn.size&&(r.bubble.radius=g),x===pn.opacity&&(r.bubble.opacity=g)}}else x===pn.size&&delete r.bubble.radius,x===pn.opacity&&delete r.bubble.opacity},this._singleSelectorHover=(r,s,i)=>{const o=this.container,a=document.querySelectorAll(s),l=o.actualOptions.interactivity.modes.bubble;!l||!a.length||a.forEach(c=>{const d=c,h=o.retina.pixelRatio,f={x:(d.offsetLeft+d.offsetWidth*Jc)*h,y:(d.offsetTop+d.offsetHeight*Jc)*h},p=d.offsetWidth*Jc*h,y=i.type===bo.circle?new tt(f.x,f.y,p):new kr(d.offsetLeft*h,d.offsetTop*h,d.offsetWidth*h,d.offsetHeight*h),w=o.particles.quadTree.query(y,x=>this.isEnabled(x));for(const x of w){if(!y.contains(x.getPosition()))continue;x.bubble.inRange=!0;const m=l.divs,g=cw(m,d);(!x.bubble.div||x.bubble.div!==d)&&(this.clear(x,r,!0),x.bubble.div=d),this._hoverBubbleSize(x,Qc,g),this._hoverBubbleOpacity(x,Qc,g),this._hoverBubbleColor(x,Qc,g)}})},this._engine=n,e.bubble||(e.bubble={}),this.handleClickMode=r=>{r===Or&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,r){e.bubble.inRange&&!r||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,r=n.interactivity.events,s=r.onHover,i=r.onClick,o=s.enable,a=s.mode,l=i.enable,c=i.mode,d=r.onDiv;o&&Ce(Or,a)?this._hoverBubble():l&&Ce(Or,c)?this._clickBubble():Uh(Or,d,(h,f)=>this._singleSelectorHover(e,h,f))}isEnabled(e){const n=this.container,r=n.actualOptions,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??r.interactivity).events,{onClick:o,onDiv:a,onHover:l}=i,c=Dh(Or,a);return c||l.enable&&s.position||o.enable&&s.clickPosition?Ce(Or,l.mode)||Ce(Or,o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new NC);for(const r of n)e.bubble.load(r==null?void 0:r.bubble)}reset(e){e.bubble.inRange=!1}}async function $C(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",n=>Promise.resolve(new zC(n,t)),e)}class DC{constructor(){this.opacity=.5}load(e){ne(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class UC{constructor(){this.distance=80,this.links=new DC,this.radius=60}load(e){ne(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const km=0,Sm=1,FC=0;function BC(t,e,n,r){const s=Math.floor(n.getRadius()/e.getRadius()),i=e.getFillColor(),o=n.getFillColor();if(!i||!o)return;const a=e.getPosition(),l=n.getPosition(),c=Vh(i,o,e.getRadius(),n.getRadius()),d=t.createLinearGradient(a.x,a.y,l.x,l.y);return d.addColorStop(km,gd(i,r)),d.addColorStop(on(s,km,Sm),xo(c,r)),d.addColorStop(Sm,gd(o,r)),d}function VC(t,e,n,r,s){Gi(t,r,s),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function qC(t,e,n,r){const s=t.actualOptions,i=s.interactivity.modes.connect;if(i)return BC(e,n,r,i.links.opacity)}function WC(t,e,n){t.canvas.draw(r=>{const s=qC(t,r,e,n);if(!s)return;const i=e.getPosition(),o=n.getPosition();VC(r,e.retina.linksWidth??FC,s,i,o)})}const HC="connect",jm=0;class GC extends _n{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const r=e.interactivity.mouse.position,{connectModeDistance:s,connectModeRadius:i}=e.retina;if(!s||s<jm||!i||i<jm||!r)return;const o=Math.abs(i),a=e.particles.quadTree.queryCircle(r,o,l=>this.isEnabled(l));a.forEach((l,c)=>{const d=l.getPosition(),h=1;for(const f of a.slice(c+h)){const p=f.getPosition(),y=Math.abs(s),w=Math.abs(d.x-p.x),x=Math.abs(d.y-p.y);w<y&&x<y&&WC(e,l,f)}})}}isEnabled(e){const n=this.container,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&r.position?Ce(HC,s.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new UC);for(const r of n)e.connect.load(r==null?void 0:r.connect)}reset(){}}async function KC(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",n=>Promise.resolve(new GC(n)),e)}class JC{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){ne(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Fn.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class QC{constructor(){this.distance=100,this.links=new JC}load(e){ne(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const YC=0;function XC(t,e,n,r,s,i){Gi(t,n,r),t.strokeStyle=xo(s,i),t.lineWidth=e,t.stroke()}function ZC(t,e,n,r,s){t.canvas.draw(i=>{const o=e.getPosition();XC(i,e.retina.linksWidth??YC,o,s,n,r)})}const eP="grab",tP=0,nP=0;class rP extends _n{constructor(e,n){super(e),this._engine=n}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){var a;const e=this.container,n=e.actualOptions,r=n.interactivity;if(!r.modes.grab||!r.events.onHover.enable||e.interactivity.status!==Oo)return;const s=e.interactivity.mouse.position;if(!s)return;const i=e.retina.grabModeDistance;if(!i||i<tP)return;const o=e.particles.quadTree.queryCircle(s,i,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),d=nn(c,s);if(d>i)continue;const h=r.modes.grab.links,f=h.opacity,p=f-d*f/i;if(p<=nP)continue;const y=h.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&y){const x=r.modes.grab.links;e.particles.grabLineColor=mw(this._engine,y,x.blink,x.consent)}const w=yd(l,void 0,e.particles.grabLineColor);w&&ZC(e,l,w,p,s)}}isEnabled(e){const n=this.container,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&!!r.position&&Ce(eP,s.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new QC);for(const r of n)e.grab.load(r==null?void 0:r.grab)}reset(){}}async function sP(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",n=>Promise.resolve(new rP(n,t)),e)}const iP="pause";class oP extends _n{constructor(e){super(e),this.handleClickMode=n=>{if(n!==iP)return;const r=this.container;r.animationStatus?r.pause():r.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function aP(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",n=>Promise.resolve(new oP(n)),e)}class lP{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(ne(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(r=>r)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=At(n)),this.particles=_r(e.particles,r=>vl({},r))}}const cP="push",uP=0;class dP extends _n{constructor(e){super(e),this.handleClickMode=n=>{if(n!==cP)return;const r=this.container,s=r.actualOptions,i=s.interactivity.modes.push;if(!i)return;const o=$(i.quantity);if(o<=uP)return;const a=Wl([void 0,...i.groups]),l=a!==void 0?r.actualOptions.particles.groups[a]:void 0,c=Hl(i.particles),d=vl(l,c);r.particles.push(o,r.interactivity.mouse,d,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new lP);for(const r of n)e.push.load(r==null?void 0:r.push)}reset(){}}async function hP(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",n=>Promise.resolve(new dP(n)),e)}class fP{constructor(){this.quantity=2}load(e){if(ne(e))return;const n=e.quantity;n!==void 0&&(this.quantity=At(n))}}const pP="remove";class mP extends _n{constructor(e){super(e),this.handleClickMode=n=>{const r=this.container,s=r.actualOptions;if(!s.interactivity.modes.remove||n!==pP)return;const i=$(s.interactivity.modes.remove.quantity);r.particles.removeQuantity(i)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new fP);for(const r of n)e.remove.load(r==null?void 0:r.remove)}reset(){}}async function gP(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",n=>Promise.resolve(new mP(n)),e)}class Sw{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=Jr.easeOutQuad}load(e){ne(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class yP extends Sw{constructor(){super(),this.selectors=[]}load(e){super.load(e),!ne(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class vP extends Sw{load(e){super.load(e),!ne(e)&&(this.divs=_r(e.divs,n=>{const r=new yP;return r.load(n),r}))}}const Nr="repulse",wP=0,xP=6,bP=3,_P=2,kP=0,SP=0,jP=1,Yc=.5;class EP extends _n{constructor(e,n){super(n),this._clickRepulse=()=>{const r=this.container,s=r.actualOptions.interactivity.modes.repulse;if(!s)return;const i=r.repulse??{particles:[]};if(i.finish||(i.count||(i.count=0),i.count++,i.count===r.particles.count&&(i.finish=!0)),i.clicking){const o=r.retina.repulseModeDistance;if(!o||o<wP)return;const a=Math.pow(o/xP,bP),l=r.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new tt(l.x,l.y,a),d=r.particles.quadTree.query(c,h=>this.isEnabled(h));for(const h of d){const{dx:f,dy:p,distance:y}=et(l,h.position),w=y**_P,x=s.speed,m=-a*x/w;if(w<=a){i.particles.push(h);const g=He.create(f,p);g.length=m,h.velocity.setTo(g)}}}else if(i.clicking===!1){for(const o of i.particles)o.velocity.setTo(o.initialVelocity);i.particles=[]}},this._hoverRepulse=()=>{const r=this.container,s=r.interactivity.mouse.position,i=r.retina.repulseModeDistance;!i||i<kP||!s||this._processRepulse(s,i,new tt(s.x,s.y,i))},this._processRepulse=(r,s,i,o)=>{const a=this.container,l=a.particles.quadTree.query(i,x=>this.isEnabled(x)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;const{easing:d,speed:h,factor:f,maxSpeed:p}=c,y=this._engine.getEasing(d),w=((o==null?void 0:o.speed)??h)*f;for(const x of l){const{dx:m,dy:g,distance:v}=et(x.position,r),b=on(y(jP-v/s)*w,SP,p),S=He.create(v?m/v*b:w,v?g/v*b:w);x.position.addTo(S)}},this._singleSelectorRepulse=(r,s)=>{const i=this.container,o=i.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(r);a.length&&a.forEach(l=>{const c=l,d=i.retina.pixelRatio,h={x:(c.offsetLeft+c.offsetWidth*Yc)*d,y:(c.offsetTop+c.offsetHeight*Yc)*d},f=c.offsetWidth*Yc*d,p=s.type===bo.circle?new tt(h.x,h.y,f):new kr(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),y=o.divs,w=cw(y,c);this._processRepulse(h,f,p,w)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=r=>{const s=this.container.actualOptions,i=s.interactivity.modes.repulse;if(!i||r!==Nr)return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},i.duration*Un)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,r=e.interactivity.status===Oo,s=n.interactivity.events,i=s.onHover,o=i.enable,a=i.mode,l=s.onClick,c=l.enable,d=l.mode,h=s.onDiv;r&&o&&Ce(Nr,a)?this._hoverRepulse():c&&Ce(Nr,d)?this._clickRepulse():Uh(Nr,h,(f,p)=>this._singleSelectorRepulse(f,p))}isEnabled(e){const n=this.container,r=n.actualOptions,s=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??r.interactivity).events,o=i.onDiv,a=i.onHover,l=i.onClick,c=Dh(Nr,o);if(!(c||a.enable&&s.position||l.enable&&s.clickPosition))return!1;const d=a.mode,h=l.mode;return Ce(Nr,d)||Ce(Nr,h)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new vP);for(const r of n)e.repulse.load(r==null?void 0:r.repulse)}reset(){}}async function CP(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",n=>Promise.resolve(new EP(t,n)),e)}class PP{constructor(){this.factor=3,this.radius=200}load(e){ne(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const TP="slow",RP=0;class OP extends _n{constructor(e){super(e)}clear(e,n,r){e.slow.inRange&&!r||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&!!r.position&&Ce(TP,s.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new PP);for(const r of n)e.slow.load(r==null?void 0:r.slow)}reset(e){e.slow.inRange=!1;const n=this.container,r=n.actualOptions,s=n.interactivity.mouse.position,i=n.retina.slowModeRadius,o=r.interactivity.modes.slow;if(!o||!i||i<RP||!s)return;const a=e.getPosition(),l=nn(s,a),c=l/i,d=o.factor,{slow:h}=e;l>i||(h.inRange=!0,h.factor=c/d)}}async function NP(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",n=>Promise.resolve(new OP(n)),e)}const IP=0,LP=1,MP=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function AP(t,e,n){const{svgData:r}=t;if(!r)return"";const s=gd(e,n);if(r.includes("fill"))return r.replace(MP,()=>s);const i=r.indexOf(">");return`${r.substring(IP,i)} fill="${s}"${r.substring(i)}`}async function Gl(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,lw().error(`${ni} loading image: ${t.source}`),e()}),n.src=t.source})}async function zP(t){if(t.type!=="svg"){await Gl(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(lw().error(`${ni} Image not found`),t.error=!0),t.loading=!1}function $P(t,e,n,r){var o;const s=AP(t,n,((o=r.opacity)==null?void 0:o.value)??LP),i={color:n,gif:e.gif,data:{...t,svgData:s},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const l=new Blob([s],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,d=c.createObjectURL(l),h=new Image;h.addEventListener("load",()=>{i.loaded=!0,i.element=h,a(i),c.revokeObjectURL(d)});const f=async()=>{c.revokeObjectURL(d);const p={...t,error:!1,loading:!0};await Gl(p),i.loaded=!0,i.element=p.element,a(i)};h.addEventListener("error",()=>void f()),h.src=d})}const Xc=[0,4,2,1],Em=[8,8,4,2];class DP{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((r,s)=>r+String.fromCharCode(s),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const r=0,s=0;do{n=this.data[this.pos++];for(let i=n;--i>=r;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==s);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const r=0,s=1;for(let o=0;e!==r;o+=e+s,e=this.data[this.pos+o])n+=e;const i=new Uint8Array(n);e=this.data[this.pos++];for(let o=0;e!==r;e=this.data[this.pos++])for(let a=e;--a>=r;i[o++]=this.data[this.pos++]);return i}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var Gt;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(Gt||(Gt={}));var In;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(In||(In={}));const lt={x:0,y:0},UP=0,Cm=.5,FP=0,Pm=0,wd=0;function jw(t,e){const n=[];for(let r=0;r<e;r++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function BP(t,e,n,r){switch(t.nextByte()){case In.GraphicsControlExtension:{const s=e.frames[n(!1)];t.pos++;const i=t.nextByte();s.GCreserved=(i&224)>>>5,s.disposalMethod=(i&28)>>>2,s.userInputDelayFlag=(i&2)===2;const o=(i&1)===1;s.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&r(a),t.pos++;break}case In.ApplicationExtension:{t.pos++;const s={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(s);break}case In.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case In.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function VP(t,e,n,r,s,i){const o=e.frames[r(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const d=1<<(a&7)+1;l&&(o.localColorTable=jw(t,d));const h=m=>{const{r:g,g:v,b}=(l?o.localColorTable:e.globalColorTable)[m];return m!==s(null)?{r:g,g:v,b,a:255}:{r:g,g:v,b,a:n?~~((g+v+b)/3):0}},f=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(m){if(m instanceof DOMException&&m.name==="IndexSizeError")return null;throw m}})();if(f==null)throw new EvalError("GIF frame size is to large");const p=t.nextByte(),y=t.readSubBlocksBin(),w=1<<p,x=(m,g)=>{const v=m>>>3,b=m&7;return(y[v]+(y[v+1]<<8)+(y[v+2]<<16)&(1<<g)-1<<b)>>>b};if(c){for(let m=0,g=p+1,v=0,b=[[0]],S=0;S<4;S++)if(Xc[S]<o.height){let j=0,k=0,E=!1;for(;!E;){const P=m;if(m=x(v,g),v+=g+1,m===w){g=p+1,b.length=w+2;for(let T=0;T<b.length;T++)b[T]=T<w?[T]:[]}else{m>=b.length?b.push(b[P].concat(b[P][0])):P!==w&&b.push(b[P].concat(b[m][0]));for(const T of b[m]){const{r:B,g:oe,b:ue,a:Ke}=h(T);f.data.set([B,oe,ue,Ke],Xc[S]*o.width+Em[S]*k+j%(o.width*4)),j+=4}b.length===1<<g&&g<12&&g++}j===o.width*4*(k+1)&&(k++,Xc[S]+Em[S]*k>=o.height&&(E=!0))}}o.image=f,o.bitmap=await createImageBitmap(f)}else{let m=0,g=p+1,v=0,b=-4,S=!1;const j=[[0]];for(;!S;){const k=m;if(m=x(v,g),v+=g,m===w){g=p+1,j.length=w+2;for(let E=0;E<j.length;E++)j[E]=E<w?[E]:[]}else{if(m===w+1){S=!0;break}m>=j.length?j.push(j[k].concat(j[k][0])):k!==w&&j.push(j[k].concat(j[m][0]));for(const E of j[m]){const{r:P,g:T,b:B,a:oe}=h(E);f.data.set([P,T,B,oe],b+=4)}j.length>=1<<g&&g<12&&g++}}o.image=f,o.bitmap=await createImageBitmap(f)}}async function qP(t,e,n,r,s,i){switch(t.nextByte()){case In.EndOfFile:return!0;case In.Image:await VP(t,e,n,r,s);break;case In.Extension:BP(t,e,r,s);break;default:throw new EvalError("undefined block found")}return!1}function WP(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function HP(t,e,n){n||(n=!1);const r=await fetch(t);if(!r.ok&&r.status===404)throw new EvalError("file not found");const s=await r.arrayBuffer(),i={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new DP(new Uint8ClampedArray(s));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");i.width=o.nextTwoBytes(),i.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;i.colorRes=(a&112)>>>4,i.sortFlag=(a&8)===8;const c=1<<(a&7)+1,d=o.nextByte();i.pixelAspectRatio=o.nextByte(),i.pixelAspectRatio!==0&&(i.pixelAspectRatio=(i.pixelAspectRatio+15)/64),l&&(i.globalColorTable=jw(o,c));const h=(()=>{try{return new ImageData(i.width,i.height,{colorSpace:"srgb"})}catch(b){if(b instanceof DOMException&&b.name==="IndexSizeError")return null;throw b}})();if(h==null)throw new Error("GIF frame size is to large");const{r:f,g:p,b:y}=i.globalColorTable[d];h.data.set(l?[f,p,y,255]:[0,0,0,0]);for(let b=4;b<h.data.length;b*=2)h.data.copyWithin(b,0,b);i.backgroundImage=h;let w=-1,x=!0,m=-1;const g=b=>(b&&(x=!0),w),v=b=>(b!=null&&(m=b),m);try{do x&&(i.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Gt.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),w++,m=-1,x=!1);while(!await qP(o,i,n,g,v,e));i.frames.length--;for(const b of i.frames){if(b.userInputDelayFlag&&b.delayTime===0){i.totalTime=1/0;break}i.totalTime+=b.delayTime}return i}catch(b){throw b instanceof EvalError?new Error(`error while parsing frame ${w} "${b.message}"`):b}}function GP(t){const{context:e,radius:n,particle:r,delta:s}=t,i=r.image;if(!(i!=null&&i.gifData)||!i.gif)return;const o=new OffscreenCanvas(i.gifData.width,i.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(lt.x,lt.y,o.width,o.height),r.gifLoopCount===void 0&&(r.gifLoopCount=i.gifLoopCount??wd);let l=r.gifFrame??UP;const c={x:-i.gifData.width*Cm,y:-i.gifData.height*Cm},d=i.gifData.frames[l];if(r.gifTime===void 0&&(r.gifTime=FP),!!d.bitmap){switch(e.scale(n/i.gifData.width,n/i.gifData.height),d.disposalMethod){case Gt.UndefinedA:case Gt.UndefinedB:case Gt.UndefinedC:case Gt.UndefinedD:case Gt.Replace:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(lt.x,lt.y,o.width,o.height);break;case Gt.Combine:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y);break;case Gt.RestoreBackground:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(lt.x,lt.y,o.width,o.height),i.gifData.globalColorTable.length?a.putImageData(i.gifData.backgroundImage,c.x,c.y):a.putImageData(i.gifData.frames[Pm].image,c.x+d.left,c.y+d.top);break;case Gt.RestorePrevious:{const h=a.getImageData(lt.x,lt.y,o.width,o.height);a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(lt.x,lt.y,o.width,o.height),a.putImageData(h,lt.x,lt.y)}break}if(r.gifTime+=s.value,r.gifTime>d.delayTime){if(r.gifTime-=d.delayTime,++l>=i.gifData.frames.length){if(--r.gifLoopCount<=wd)return;l=Pm,a.clearRect(lt.x,lt.y,o.width,o.height)}r.gifFrame=l}e.scale(i.gifData.width/n,i.gifData.height/n)}}async function KP(t){if(t.type!=="gif"){await Gl(t);return}t.loading=!0;try{t.gifData=await HP(t.source),t.gifLoopCount=WP(t.gifData)??wd,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const JP=2,QP=1,YP=12,XP=1;class ZP{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${ni} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:r,particle:s,opacity:i}=e,o=s.image,a=o==null?void 0:o.element;if(o){if(n.globalAlpha=i,o.gif&&o.gifData)GP(e);else if(a){const l=o.ratio,c={x:-r,y:-r},d=r*JP;n.drawImage(a,c.x,c.y,d,d/l)}n.globalAlpha=QP}}getSidesCount(){return YP}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const r of n.preload)await this._engine.loadImage(r)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(s=>s.name===n.name||s.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const r=this._engine.images,s=n.shapeData;if(!s)return;const i=n.getFillColor(),o=r.find(l=>l.name===s.name||l.source===s.src);if(!o)return;const a=s.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&i?l=await $P(o,s,i,n):l={color:i,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:s.width&&s.height?s.width/s.height:o.ratio??XP,replaceColor:a,source:s.src},l.ratio||(l.ratio=1);const c=s.fill??n.shapeFill,d=s.close??n.shapeClose,h={image:l,fill:c,close:d};n.image=h.image,n.shapeFill=h.fill,n.shapeClose=h.close})()}}class eT{constructor(){this.src="",this.gif=!1}load(e){ne(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class tT{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!(n!=null&&n.preload))return;e.preload||(e.preload=[]);const r=e.preload;for(const s of n.preload){const i=r.find(o=>o.name===s.name||o.src===s.src);if(i)i.load(s);else{const o=new eT;o.load(s),r.push(o)}}}needsPlugin(){return!0}}const nT=3;function rT(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${ni} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-nT),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let r;e.gif?r=KP:r=e.replaceColor?zP:Gl,await r(n)}catch{throw new Error(`${ni} ${e.name??e.src} not found`)}})}async function sT(t,e=!0){t.checkVersion("3.9.1"),rT(t);const n=new tT(t);await t.addPlugin(n,e),await t.addShape(new ZP(t),e)}class iT extends qh{constructor(){super(),this.sync=!1}load(e){ne(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class oT extends qh{constructor(){super(),this.sync=!1}load(e){ne(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class aT{constructor(){this.count=0,this.delay=new iT,this.duration=new oT}load(e){ne(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const gs=0,lT=-1,Tm=0,Rm=0;function cT(t,e,n){if(!t.life)return;const r=t.life;let s=!1;if(t.spawning)if(r.delayTime+=e.value,r.delayTime>=t.life.delay)s=!0,t.spawning=!1,r.delayTime=gs,r.time=gs;else return;if(r.duration===lT||t.spawning||(s?r.time=gs:r.time+=e.value,r.time<r.duration))return;if(r.time=gs,t.life.count>Tm&&t.life.count--,t.life.count===Tm){t.destroy();return}const i=At(Rm,n.width),o=At(Rm,n.width);t.position.x=Nt(i),t.position.y=Nt(o),t.spawning=!0,r.delayTime=gs,r.time=gs,t.reset();const a=t.options.life;a&&(r.delay=$(a.delay.value)*Un,r.duration=$(a.duration.value)*Un)}const Ir=0,Om=1,Nm=-1;class uT{constructor(e){this.container=e}init(e){const n=this.container,r=e.options,s=r.life;s&&(e.life={delay:n.retina.reduceFactor?$(s.delay.value)*(s.delay.sync?Om:ke())/n.retina.reduceFactor*Un:Ir,delayTime:Ir,duration:n.retina.reduceFactor?$(s.duration.value)*(s.duration.sync?Om:ke())/n.retina.reduceFactor*Un:Ir,time:Ir,count:s.count},e.life.duration<=Ir&&(e.life.duration=Nm),e.life.count<=Ir&&(e.life.count=Nm),e.life&&(e.spawning=e.life.delay>Ir))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new aT);for(const r of n)e.life.load(r==null?void 0:r.life)}update(e,n){!this.isEnabled(e)||!e.life||cT(e,n,this.container.canvas.size)}}async function dT(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async n=>Promise.resolve(new uT(n)),e)}function hT(t){const{context:e,particle:n,radius:r}=t,s=n.shapeData,i=0;e.moveTo(-r,i),e.lineTo(r,i),e.lineCap=(s==null?void 0:s.cap)??"butt"}const fT=1;class pT{constructor(){this.validTypes=["line"]}draw(e){hT(e)}getSidesCount(){return fT}}async function mT(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new pT,e)}const Im=.5;class gT{init(){}isEnabled(e){return!dm()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,r=n.actualOptions,s=r.interactivity.events.onHover.parallax;if(dm()||!s.enable)return;const i=s.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width*Im,y:a.height*Im},c=s.smooth,d=e.getRadius()/i,h={x:(o.x-l.x)*d,y:(o.y-l.y)*d},{offset:f}=e;f.x+=(h.x-f.x)/c,f.y+=(h.y-f.y)/c}}async function yT(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new gT),e)}const Lm=1e3,vT=1;class wT extends Wh{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=$(e.options.move.attract.distance)*n.retina.pixelRatio);const r=e.attractDistance,s=e.getPosition(),i=n.particles.quadTree.queryCircle(s,r);for(const o of i){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=et(s,a),d=e.options.move.attract.rotate,h=l/(d.x*Lm),f=c/(d.y*Lm),p=o.size.value/e.size.value,y=vT/p;e.velocity.x-=h*p,e.velocity.y-=f*p,o.velocity.x+=h*y,o.velocity.y+=f*y}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function xT(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",n=>Promise.resolve(new wT(n)),e)}const bT=.5,_T=10,kT=0;function Mm(t,e,n,r,s,i){const o=on(t.options.collisions.absorb.speed*s.factor/_T,kT,r);t.size.value+=o*bT,n.size.value-=o,r<=i&&(n.size.value=0,n.destroy())}function ST(t,e,n,r){const s=t.getRadius(),i=e.getRadius();s===void 0&&i!==void 0?t.destroy():s!==void 0&&i===void 0?e.destroy():s!==void 0&&i!==void 0&&(s>=i?Mm(t,s,e,i,n,r):Mm(e,i,t,s,n,r))}const Am=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=$(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function Ew(t,e){uw(md(t),md(e)),Am(t),Am(e)}function jT(t,e){!t.unbreakable&&!e.unbreakable&&Ew(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function ET(t,e,n,r){switch(t.options.collisions.mode){case Ki.absorb:{ST(t,e,n,r);break}case Ki.bounce:{Ew(t,e);break}case Ki.destroy:{jT(t,e);break}}}const CT=2;class PT extends Wh{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const r=this.container,s=e.getPosition(),i=e.getRadius(),o=r.particles.quadTree.queryCircle(s,i*CT);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(s.z)-Math.round(l.z))>i+c)continue;const d=nn(s,l),h=i+c;d>h||ET(e,a,n,r.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function TT(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",n=>Promise.resolve(new PT(n)),e)}const Zc=2;class RT extends tt{constructor(e,n,r,s){super(e,n,r),this.canvasSize=s,this.canvasSize={...s}}contains(e){const{width:n,height:r}=this.canvasSize,{x:s,y:i}=e;return super.contains(e)||super.contains({x:s-n,y:i})||super.contains({x:s-n,y:i-r})||super.contains({x:s,y:i-r})}intersects(e){if(super.intersects(e))return!0;const n=e,r=e,s={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(r.radius!==void 0){const i=new tt(s.x,s.y,r.radius*Zc);return super.intersects(i)}else if(n.size!==void 0){const i=new kr(s.x,s.y,n.size.width*Zc,n.size.height*Zc);return super.intersects(i)}return!1}}class OT{constructor(){this.blur=5,this.color=new Fn,this.color.value="#000",this.enable=!1}load(e){ne(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Fn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class NT{constructor(){this.enable=!1,this.frequency=1}load(e){ne(e)||(e.color!==void 0&&(this.color=Fn.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class IT{constructor(){this.blink=!1,this.color=new Fn,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new OT,this.triangles=new NT,this.width=1,this.warp=!1}load(e){ne(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Fn.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const zm=2,LT=1,va={x:0,y:0},MT=0;function AT(t,e,n,r,s){const{dx:i,dy:o,distance:a}=et(t,e);if(!s||a<=n)return a;const l={x:Math.abs(i),y:Math.abs(o)},c={x:Math.min(l.x,r.width-l.x),y:Math.min(l.y,r.height-l.y)};return Math.sqrt(c.x**zm+c.y**zm)}class zT extends Wh{constructor(e,n){super(e),this._setColor=r=>{if(!r.options.links)return;const s=this._linkContainer,i=r.options.links;let o=i.id===void 0?s.particles.linksColor:s.particles.linksColors.get(i.id);if(o)return;const a=i.color;o=mw(this._engine,a,i.blink,i.consent),i.id===void 0?s.particles.linksColor=o:s.particles.linksColors.set(i.id,o)},this._linkContainer=e,this._engine=n}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),r=this.container,s=r.canvas.size;if(n.x<va.x||n.y<va.y||n.x>s.width||n.y>s.height)return;const i=e.options.links,o=i.opacity,a=e.retina.linksDistance??MT,l=i.warp;let c;l?c=new RT(n.x,n.y,a,s):c=new tt(n.x,n.y,a);const d=r.particles.quadTree.query(c);for(const h of d){const f=h.options.links;if(e===h||!(f!=null&&f.enable)||i.id!==f.id||h.spawning||h.destroyed||!h.links||e.links.some(x=>x.destination===h)||h.links.some(x=>x.destination===e))continue;const p=h.getPosition();if(p.x<va.x||p.y<va.y||p.x>s.width||p.y>s.height)continue;const y=AT(n,p,a,s,l&&f.warp);if(y>a)continue;const w=(LT-y/a)*o;this._setColor(e),e.links.push({destination:h,opacity:w})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new IT);for(const r of n)e.links.load(r==null?void 0:r.links)}reset(){}}async function $T(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new zT(n,t)),e)}function DT(t,e,n,r){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(r.x,r.y),t.closePath()}function UT(t){let e=!1;const{begin:n,end:r,engine:s,maxDistance:i,context:o,canvasSize:a,width:l,backgroundMask:c,colorLine:d,opacity:h,links:f}=t;if(nn(n,r)<=i)Gi(o,n,r),e=!0;else if(f.warp){let y,w;const x={x:r.x-a.width,y:r.y},m=et(n,x);if(m.distance<=i){const g=n.y-m.dy/m.dx*n.x;y={x:0,y:g},w={x:a.width,y:g}}else{const g={x:r.x,y:r.y-a.height},v=et(n,g);if(v.distance<=i){const S=-(n.y-v.dy/v.dx*n.x)/(v.dy/v.dx);y={x:S,y:0},w={x:S,y:a.height}}else{const b={x:r.x-a.width,y:r.y-a.height},S=et(n,b);if(S.distance<=i){const j=n.y-S.dy/S.dx*n.x;y={x:-j/(S.dy/S.dx),y:j},w={x:y.x+a.width,y:y.y+a.height}}}}y&&w&&(Gi(o,n,y),Gi(o,r,w),e=!0)}if(!e)return;o.lineWidth=l,c.enable&&(o.globalCompositeOperation=c.composite),o.strokeStyle=xo(d,h);const{shadow:p}=f;if(p.enable){const y=is(s,p.color);y&&(o.shadowBlur=p.blur,o.shadowColor=xo(y))}o.stroke()}function FT(t){const{context:e,pos1:n,pos2:r,pos3:s,backgroundMask:i,colorTriangle:o,opacityTriangle:a}=t;DT(e,n,r,s),i.enable&&(e.globalCompositeOperation=i.composite),e.fillStyle=xo(o,a),e.fill()}function BT(t){return t.sort((e,n)=>e-n),t.join("_")}function $m(t,e){const n=BT(t.map(s=>s.id));let r=e.get(n);return r===void 0&&(r=ke(),e.set(n,r)),r}const Dm=0,eu=0,Um=0,VT=.5,qT=1;class WT{constructor(e,n){this._drawLinkLine=(r,s)=>{const i=r.options.links;if(!(i!=null&&i.enable))return;const o=this._container,a=o.actualOptions,l=s.destination,c=r.getPosition(),d=l.getPosition();let h=s.opacity;o.canvas.draw(f=>{var g;let p;const y=(g=r.options.twinkle)==null?void 0:g.lines;if(y!=null&&y.enable){const v=y.frequency,b=is(this._engine,y.color);ke()<v&&b&&(p=b,h=$(y.opacity))}if(!p){const v=i.id!==void 0?o.particles.linksColors.get(i.id):o.particles.linksColor;p=yd(r,l,v)}if(!p)return;const w=r.retina.linksWidth??eu,x=r.retina.linksDistance??Um,{backgroundMask:m}=a;UT({context:f,width:w,begin:c,end:d,engine:this._engine,maxDistance:x,canvasSize:o.canvas.size,links:i,backgroundMask:m,colorLine:p,opacity:h})})},this._drawLinkTriangle=(r,s,i)=>{const o=r.options.links;if(!(o!=null&&o.enable))return;const a=o.triangles;if(!a.enable)return;const l=this._container,c=l.actualOptions,d=s.destination,h=i.destination,f=a.opacity??(s.opacity+i.opacity)*VT;f<=Dm||l.canvas.draw(p=>{const y=r.getPosition(),w=d.getPosition(),x=h.getPosition(),m=r.retina.linksDistance??Um;if(nn(y,w)>m||nn(x,w)>m||nn(x,y)>m)return;let g=is(this._engine,a.color);if(!g){const v=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;g=yd(r,d,v)}g&&FT({context:p,pos1:y,pos2:w,pos3:x,backgroundMask:c.backgroundMask,colorTriangle:g,opacityTriangle:f})})},this._drawTriangles=(r,s,i,o)=>{var c,d,h;const a=i.destination;if(!((c=r.links)!=null&&c.triangles.enable&&((d=a.options.links)!=null&&d.triangles.enable)))return;const l=(h=a.links)==null?void 0:h.filter(f=>{const p=this._getLinkFrequency(a,f.destination);return a.options.links&&p<=a.options.links.frequency&&o.findIndex(w=>w.destination===f.destination)>=0});if(l!=null&&l.length)for(const f of l){const p=f.destination;this._getTriangleFrequency(s,a,p)>r.links.triangles.frequency||this._drawLinkTriangle(s,i,f)}},this._getLinkFrequency=(r,s)=>$m([r,s],this._freqs.links),this._getTriangleFrequency=(r,s,i)=>$m([r,s,i],this._freqs.triangles),this._container=e,this._engine=n,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:r,options:s}=n;if(!(r!=null&&r.length))return;const i=r.filter(o=>s.links&&(s.links.frequency>=qT||this._getLinkFrequency(n,o.destination)<=s.links.frequency));for(const o of i)this._drawTriangles(s,n,o,i),o.opacity>Dm&&(n.retina.linksWidth??eu)>eu&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this._container.retina.pixelRatio,{retina:r}=e,{distance:s,width:i}=e.options.links;r.linksDistance=s*n,r.linksWidth=i*n}particleDestroyed(e){e.links=[]}}class HT{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new WT(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function GT(t,e=!0){const n=new HT(t);await t.addPlugin(n,e)}async function KT(t,e=!0){t.checkVersion("3.9.1"),await $T(t,e),await GT(t,e)}const JT=180,wa={x:0,y:0},QT=2;function YT(t,e,n){const{context:r}=t,s=n.count.numerator*n.count.denominator,i=n.count.numerator/n.count.denominator,o=JT*(i-QT)/i,a=Math.PI-Wi(o);if(r){r.beginPath(),r.translate(e.x,e.y),r.moveTo(wa.x,wa.y);for(let l=0;l<s;l++)r.lineTo(n.length,wa.y),r.translate(n.length,wa.y),r.rotate(a)}}const XT=5;class Cw{draw(e){const{particle:n,radius:r}=e,s=this.getCenter(n,r),i=this.getSidesData(n,r);YT(e,s,i)}getSidesCount(e){const n=e.shapeData;return Math.round($((n==null?void 0:n.sides)??XT))}}const Fm=3.5,Bm=2.66,ZT=3;class eR extends Cw{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/Fm),y:-n/(Bm/Fm)}}getSidesData(e,n){const r=e.sides;return{count:{denominator:1,numerator:r},length:n*Bm/(r/ZT)}}}const tR=1.66,nR=3,rR=2;class sR extends Cw{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/tR}}getSidesCount(){return nR}getSidesData(e,n){const r=n*rR;return{count:{denominator:2,numerator:3},length:r}}}async function iR(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new eR,e)}async function oR(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new sR,e)}async function aR(t,e=!0){t.checkVersion("3.9.1"),await iR(t,e),await oR(t,e)}class lR{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){ne(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=At(e.speed)),e.decay!==void 0&&(this.decay=At(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class cR extends qh{constructor(){super(),this.animation=new lR,this.direction=Qt.clockwise,this.path=!1,this.value=0}load(e){ne(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const Pw=2,uR=Math.PI*Pw,dR=1,hR=360;class fR{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:Wi($(n.value)),min:0,max:uR},e.pathRotation=n.path;let r=n.direction;switch(r===Qt.random&&(r=Math.floor(ke()*Pw)>0?Qt.counterClockwise:Qt.clockwise),r){case Qt.counterClockwise:case"counterClockwise":e.rotate.status=je.decreasing;break;case Qt.clockwise:e.rotate.status=je.increasing;break}const s=n.animation;s.enable&&(e.rotate.decay=dR-$(s.decay),e.rotate.velocity=$(s.speed)/hR*this.container.retina.reduceFactor,s.sync||(e.rotate.velocity*=ke())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new cR);for(const r of n)e.rotate.load(r==null?void 0:r.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(Fh(e,e.rotate,!1,wo.none,n),e.rotation=e.rotate.value))}}async function pR(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",n=>Promise.resolve(new fR(n)),e)}const mR=2,gR=Math.sqrt(mR),yR=2;function vR(t){const{context:e,radius:n}=t,r=n/gR,s=r*yR;e.rect(-r,-r,s,s)}const wR=4;class xR{constructor(){this.validTypes=["edge","square"]}draw(e){vR(e)}getSidesCount(){return wR}}async function bR(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new xR,e)}const _R=2,ys={x:0,y:0};function kR(t){const{context:e,particle:n,radius:r}=t,s=n.sides,i=n.starInset??_R;e.moveTo(ys.x,ys.y-r);for(let o=0;o<s;o++)e.rotate(Math.PI/s),e.lineTo(ys.x,ys.y-r*i),e.rotate(Math.PI/s),e.lineTo(ys.x,ys.y-r)}const SR=2,jR=5;class ER{constructor(){this.validTypes=["star"]}draw(e){kR(e)}getSidesCount(e){const n=e.shapeData;return Math.round($((n==null?void 0:n.sides)??jR))}particleInit(e,n){const r=n.shapeData;n.starInset=$((r==null?void 0:r.inset)??SR)}}async function CR(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new ER,e)}const PR=1;class TR{constructor(e,n){this._container=e,this._engine=n}init(e){var o;const n=this._container,r=e.options,s=Hl(r.stroke,e.id,r.reduceDuplicates);e.strokeWidth=$(s.width)*n.retina.pixelRatio,e.strokeOpacity=$(s.opacity??PR),e.strokeAnimation=(o=s.color)==null?void 0:o.animation;const i=Bh(this._engine,s.color)??e.getFillColor();i&&(e.strokeColor=gw(i,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:r}=e;return!e.destroyed&&!e.spawning&&!!n&&((r==null?void 0:r.h.value)!==void 0&&r.h.enable||(r==null?void 0:r.s.value)!==void 0&&r.s.enable||(r==null?void 0:r.l.value)!==void 0&&r.l.enable)}update(e,n){this.isEnabled(e)&&yw(e.strokeColor,n)}}async function RR(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new TR(n,t)),e)}async function OR(t,e=!0){t.checkVersion("3.9.1"),await yT(t,!1),await bC(t,!1),await RC(t,!1),await $C(t,!1),await KC(t,!1),await sP(t,!1),await aP(t,!1),await hP(t,!1),await gP(t,!1),await CP(t,!1),await NP(t,!1),await xT(t,!1),await TT(t,!1),await KT(t,!1),await dC(t,!1),await pC(t,!1),await sT(t,!1),await mT(t,!1),await aR(t,!1),await bR(t,!1),await CR(t,!1),await dT(t,!1),await pR(t,!1),await RR(t,!1),await uC(t,e)}const NR={ice:["#00d4ff","#0099cc","#66e0ff","#3399ff"],stone:["#8b6f47","#a0826d","#6b5c4d","#8b7355"],chocolate:["#d2691e","#ff8c42","#ff6f3c","#ffa500"]},IR=({trigger:t,theme:e,onComplete:n})=>{const[r,s]=_.useState(!1),[i,o]=_.useState(0),a=_.useCallback(async l=>{await OR(l)},[]);return _.useEffect(()=>{if(t){s(!0),o(c=>c+1);const l=setTimeout(()=>{s(!1),n==null||n()},2e3);return()=>clearTimeout(l)}},[t,n]),r?u.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:u.jsx(Bl,{id:`shatter-${e}-${i}`,init:a,options:{particles:{number:{value:30},color:{value:NR[e]},shape:{type:["circle","square"]},opacity:{value:{min:.3,max:1},animation:{enable:!0,speed:1,minimumValue:0,sync:!1,destroy:"min"}},size:{value:{min:3,max:8}},move:{enable:!0,speed:{min:3,max:8},direction:"none",random:!0,straight:!1,outModes:{default:"destroy"},gravity:{enable:!0,acceleration:9.81}},rotate:{value:{min:0,max:360},animation:{enable:!0,speed:30,sync:!1}},life:{duration:{value:2}}},emitters:{position:{x:50,y:50},rate:{quantity:30,delay:0},life:{duration:.1,count:1}},detectRetina:!0}},i)}):null},Vm=10,LR=400,_o=()=>{ES();const e=Date.now()+3e3,n=(o,a)=>Math.random()*(a-o)+o,r=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"],s=[],i=setInterval(()=>{if(e-Date.now()<=0){clearInterval(i),s.forEach(l=>l.remove());return}const a=50;for(let l=0;l<a;l++){const c=document.createElement("div");c.style.position="fixed",c.style.width="10px",c.style.height="10px",c.style.backgroundColor=r[Math.floor(Math.random()*r.length)],c.style.left=Math.random()*window.innerWidth+"px",c.style.top="-20px",c.style.opacity="1",c.style.borderRadius="50%",c.style.pointerEvents="none",c.style.zIndex="9999",document.body.appendChild(c),s.push(c);const d=n(0,360),h=n(10,30),f=n(-2,2);let p=parseFloat(c.style.left),y=-20,w=Math.cos(d*Math.PI/180)*h,x=Math.sin(d*Math.PI/180)*h;const m=()=>{p+=w+f,y+=x,x+=.5,c.style.left=p+"px",c.style.top=y+"px",c.style.opacity=String(Math.max(0,1-y/window.innerHeight)),y<window.innerHeight&&Date.now()<e?requestAnimationFrame(m):c.remove()};m()}},250)};function qm(){const t=new Date,e=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),r=String(t.getUTCDate()).padStart(2,"0");return`${e}-${n}-${r}`}function MR(){if(typeof window>"u")return qm();const e=new URLSearchParams(window.location.search).get("seed");return e&&/^\d{4}-\d{2}-\d{2}$/.test(e)?e:qm()}function AR(t){let e=1779033703^t.length;for(let n=0;n<t.length;n++)e=Math.imul(e^t.charCodeAt(n),3432918353),e=e<<13|e>>>19;return function(){return e=Math.imul(e^e>>>16,2246822507),e=Math.imul(e^e>>>13,3266489909),(e^=e>>>16)>>>0}}function zR(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function Tw(t){const e=AR(t);return zR(e())}function Wm(t,e){const n=Tw(e),r=[...t];for(let s=r.length-1;s>0;s--){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}const Rw={1:{world:1,level:1,pairs:6,timeLimit:60,theme:"nature",unlockReward:10},2:{world:1,level:2,pairs:7,timeLimit:55,theme:"nature",unlockReward:12},3:{world:1,level:3,pairs:8,timeLimit:52,theme:"nature",unlockReward:15},4:{world:1,level:4,pairs:9,timeLimit:48,theme:"nature",unlockReward:18},5:{world:1,level:5,pairs:10,timeLimit:45,theme:"nature",unlockReward:100},6:{world:2,level:1,pairs:8,timeLimit:55,theme:"sports",unlockReward:15},7:{world:2,level:2,pairs:9,timeLimit:52,theme:"sports",unlockReward:18},8:{world:2,level:3,pairs:10,timeLimit:48,theme:"sports",unlockReward:20},9:{world:2,level:4,pairs:11,timeLimit:44,theme:"sports",unlockReward:25},10:{world:2,level:5,pairs:12,timeLimit:40,theme:"sports",unlockReward:120},11:{world:3,level:1,pairs:10,timeLimit:50,theme:"arcade",unlockReward:20},12:{world:3,level:2,pairs:11,timeLimit:47,theme:"arcade",unlockReward:22},13:{world:3,level:3,pairs:12,timeLimit:44,theme:"arcade",unlockReward:25},14:{world:3,level:4,pairs:13,timeLimit:40,theme:"arcade",unlockReward:30},15:{world:3,level:5,pairs:14,timeLimit:35,theme:"arcade",unlockReward:150},16:{world:4,level:1,pairs:10,timeLimit:45,theme:"animals",unlockReward:30,obstacles:{ice:3}},17:{world:4,level:2,pairs:10,timeLimit:42,theme:"animals",unlockReward:35,obstacles:{ice:4}},18:{world:4,level:3,pairs:10,timeLimit:38,theme:"animals",unlockReward:40,obstacles:{ice:4,stone:2}},19:{world:4,level:4,pairs:10,timeLimit:34,theme:"animals",unlockReward:45,obstacles:{ice:5,stone:2}},20:{world:4,level:5,pairs:10,timeLimit:30,theme:"animals",unlockReward:200,obstacles:{ice:5,stone:3}},21:{world:5,level:1,pairs:10,timeLimit:40,theme:"space",unlockReward:50,obstacles:{ice:4,stone:2}},22:{world:5,level:2,pairs:10,timeLimit:36,theme:"space",unlockReward:60,obstacles:{ice:5,stone:2}},23:{world:5,level:3,pairs:10,timeLimit:32,theme:"space",unlockReward:70,obstacles:{ice:6,stone:3}},24:{world:5,level:4,pairs:10,timeLimit:28,theme:"space",unlockReward:80,obstacles:{ice:6,stone:4}},25:{world:5,level:5,pairs:10,timeLimit:25,theme:"space",unlockReward:500,obstacles:{ice:7,stone:4}},26:{world:6,level:1,pairs:10,timeLimit:38,theme:"ocean",unlockReward:70,obstacles:{ice:5,stone:3}},27:{world:6,level:2,pairs:10,timeLimit:34,theme:"ocean",unlockReward:80,obstacles:{ice:6,stone:3}},28:{world:6,level:3,pairs:10,timeLimit:30,theme:"ocean",unlockReward:90,obstacles:{ice:7,stone:4}},29:{world:6,level:4,pairs:10,timeLimit:26,theme:"ocean",unlockReward:100,obstacles:{ice:7,stone:5}},30:{world:6,level:5,pairs:10,timeLimit:22,theme:"ocean",unlockReward:600,obstacles:{ice:8,stone:5}},31:{world:7,level:1,pairs:10,timeLimit:36,theme:"food",unlockReward:90,obstacles:{ice:6,stone:4}},32:{world:7,level:2,pairs:10,timeLimit:32,theme:"food",unlockReward:100,obstacles:{ice:7,stone:4}},33:{world:7,level:3,pairs:10,timeLimit:28,theme:"food",unlockReward:110,obstacles:{ice:7,stone:5}},34:{world:7,level:4,pairs:10,timeLimit:24,theme:"food",unlockReward:120,obstacles:{ice:8,stone:5}},35:{world:7,level:5,pairs:10,timeLimit:20,theme:"food",unlockReward:700,obstacles:{ice:8,stone:6}},36:{world:8,level:1,pairs:10,timeLimit:34,theme:"music",unlockReward:110,obstacles:{ice:7,stone:5}},37:{world:8,level:2,pairs:10,timeLimit:30,theme:"music",unlockReward:120,obstacles:{ice:8,stone:5}},38:{world:8,level:3,pairs:10,timeLimit:26,theme:"music",unlockReward:130,obstacles:{ice:8,stone:6}},39:{world:8,level:4,pairs:10,timeLimit:22,theme:"music",unlockReward:140,obstacles:{ice:9,stone:6}},40:{world:8,level:5,pairs:10,timeLimit:18,theme:"music",unlockReward:800,obstacles:{ice:9,stone:7}},41:{world:9,level:1,pairs:10,timeLimit:32,theme:"beauty",unlockReward:130,obstacles:{ice:8,stone:6}},42:{world:9,level:2,pairs:10,timeLimit:28,theme:"beauty",unlockReward:140,obstacles:{ice:8,stone:7}},43:{world:9,level:3,pairs:10,timeLimit:24,theme:"beauty",unlockReward:150,obstacles:{ice:9,stone:7}},44:{world:9,level:4,pairs:10,timeLimit:20,theme:"beauty",unlockReward:160,obstacles:{ice:9,stone:8}},45:{world:9,level:5,pairs:10,timeLimit:16,theme:"beauty",unlockReward:900,obstacles:{ice:10,stone:8}},46:{world:10,level:1,pairs:10,timeLimit:30,theme:"tech",unlockReward:150,obstacles:{ice:8,stone:7}},47:{world:10,level:2,pairs:10,timeLimit:26,theme:"tech",unlockReward:160,obstacles:{ice:9,stone:7}},48:{world:10,level:3,pairs:10,timeLimit:22,theme:"tech",unlockReward:170,obstacles:{ice:9,stone:8}},49:{world:10,level:4,pairs:10,timeLimit:18,theme:"tech",unlockReward:180,obstacles:{ice:10,stone:8}},50:{world:10,level:5,pairs:10,timeLimit:15,theme:"tech",unlockReward:1e3,obstacles:{ice:10,stone:8}}};function Xt(t){return Rw[t]}function $R(t){return Object.values(Rw).filter(e=>e.world===t).sort((e,n)=>e.level-n.level)}function er(t,e){return(t-1)*5+e}const xd={nature:{name:"Naturaleza",images:["","","","","","","","","","","","","","","","","",""]},sports:{name:"Deportes",images:["","","","","","","","","","","","","","",""]},arcade:{name:"Juegos",images:["","","","","","","","","","","","","","","","","",""]},animals:{name:"Animalitos",images:["","","","","","","","","","","","","","","","","",""]},space:{name:"Espacio",images:["","","","","","","","","","","","","","","","","",""]},ocean:{name:"Ocano",images:["","","","","","","","","","","","","","","","","",""]},food:{name:"Comida",images:["","","","","","","","","","","","","","","","","",""]},music:{name:"Msica",images:["","","","","","","","","","","","","","","","","",""]},beauty:{name:"Belleza",images:["","","","","","","","","","","","","","","","","",""]},tech:{name:"Tecnologa",images:["","","","","","","","","","","","","","","","","",""]}};function Hm(t){var e;return((e=xd[t])==null?void 0:e.images)||xd.nature.images}function DR(t){var e;return((e=xd[t])==null?void 0:e.name)||"Desconocido"}function UR(t){const[e,n]=_.useState(!1),r=_.useRef(!1),s=_.useRef(t.enabled);_.useEffect(()=>{s.current=t.enabled},[t.enabled]);const i=_.useCallback(()=>{n(!0),r.current=!0},[]),o=_.useCallback(()=>{n(!1),r.current=!1},[]);return _.useEffect(()=>{if(!t.enabled)return;const a=c=>{if(s.current){if(r.current){t.onConfirmExit();return}c.preventDefault(),window.history.pushState(null,"",window.location.href),i()}},l=c=>{if(s.current){if(c.preventDefault(),r.current){t.onConfirmExit();return}i()}};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",a),"backbutton"in document&&document.addEventListener("backbutton",l,!1),()=>{window.removeEventListener("popstate",a),"backbutton"in document&&document.removeEventListener("backbutton",l,!1)}},[t.enabled,t.onConfirmExit,i]),{open:e,openModal:i,closeModal:o}}const Ow=({level:t,onComplete:e,onBackToMenu:n,isDailyChallenge:r=!1})=>{const s=Xt(t),[i,o]=_.useState([]),[a,l]=_.useState([]),[c,d]=_.useState(0),[h,f]=_.useState(!0),[p,y]=_.useState((s==null?void 0:s.timeLimit)||60),[w,x]=_.useState(!1),[m,g]=_.useState(0),[v,b]=_.useState(0),[S,j]=_.useState(!1),[k,E]=_.useState(null),[P]=_.useState(()=>r?MR():`random-${Date.now()}`),[T,B]=_.useState(!1),[oe,ue]=_.useState(!1),[Ke,an]=_.useState(()=>Uv()),[Dt,qn]=_.useState(0),[R,M]=_.useState(0),[z,Z]=_.useState([]),[fe,St]=_.useState(0),[jt,U]=_.useState(!1),[D,q]=_.useState(!1),[st,it]=_.useState(!1),[Sr,ls]=_.useState({text:"",url:""}),[ot,Le]=_.useState(new Set),[Je,pt]=_.useState(new Set),[Kl,Hh]=_.useState(!1),[Nw,Lo]=_.useState(!1),[Iw,Gh]=_.useState("ice"),Kh=_.useCallback(()=>{Ve.stopLevelMusic(),n()},[n]),{open:Lw,openModal:Mw,closeModal:Aw}=UR({enabled:!S&&!w,onConfirmExit:Kh,isLevelCompleted:S}),di=_.useRef(!1),Ut=_.useRef(null),jr=_.useRef(null),kn=_.useRef(null),hi=_.useRef(0),fi=_.useRef(null),Mo=_.useCallback(()=>{console.log("[GameCore] initializeLevel",{level:t,seed:P});const A=Xt(t),ee=(A==null?void 0:A.pairs)||6,ae=(A==null?void 0:A.timeLimit)||60,be=(A==null?void 0:A.theme)||"nature",Wn=Hm(be).slice(0,ee).flatMap((Et,ln)=>[{id:ln*2,imageIndex:ln,isFlipped:!1,isMatched:!1,obstacle:null,obstacleHealth:0},{id:ln*2+1,imageIndex:ln,isFlipped:!1,isMatched:!1,obstacle:null,obstacleHealth:0}]),Y=r?Wm(Wn,P):Wn.sort(()=>Math.random()-.5),J=A==null?void 0:A.obstacles;if(J){const ln=Y.length/2,at=4;(J.ice||0)+(J.stone||0);const Q=Math.max(2,Math.ceil(ln*.35)),Qe=new Map;Y.forEach((te,we)=>{Qe.has(te.imageIndex)||Qe.set(te.imageIndex,[]),Qe.get(te.imageIndex).push(we)});const un=Array.from(Qe.keys()).slice(0,Q),Hn=new Set;un.forEach(te=>{(Qe.get(te)||[]).forEach(Oe=>Hn.add(Oe))});const $o=te=>{const we=[],Oe=Math.floor(te/at),Er=te%at;return Er>0&&we.push(te-1),Er<at-1&&we.push(te+1),Oe>0&&we.push(te-at),Oe<at-1&&we.push(te+at),we},Ww=(te,we)=>$o(te).some(Er=>!we.has(Er)),Jh=(te,we,Oe)=>{const Er=Y.find(mi=>mi.id!==Y[te].id&&mi.imageIndex===Y[te].imageIndex);if(!Er)return!1;const Hw=Y.findIndex(mi=>mi.id===Er.id),Yh=new Set(we);return Yh.add(te),!(!Ww(Hw,Yh)||Oe&&$o(te).some(Gw=>Y[Gw].obstacle==="stone"))},Qh=Y.map((te,we)=>we).filter(te=>!Hn.has(te)),Do=r?Wm([...Qh],P+"-obstacles"):Qh.sort(()=>Math.random()-.5),pi=new Set;if(J.ice){let te=0;for(let we=0;we<Do.length&&te<J.ice;we++){const Oe=Do[we];Jh(Oe,pi,!1)&&(Y[Oe].obstacle="ice",Y[Oe].obstacleHealth=1,pi.add(Oe),te++)}}if(J.stone){let te=0;for(let we=0;we<Do.length&&te<J.stone;we++){const Oe=Do[we];!pi.has(Oe)&&Jh(Oe,pi,!0)&&(Y[Oe].obstacle="stone",Y[Oe].obstacleHealth=2,pi.add(Oe),te++)}}}if(o(Y),l([]),d(0),f(!0),x(!1),y(ae),g(0),b(0),j(!1),Z([]),St(0),U(!1),Le(new Set),pt(new Set),hi.current=0,A!=null&&A.obstacles&&(A.obstacles.ice||A.obstacles.stone)&&(localStorage.getItem("obstacle_tutorial_seen")||setTimeout(()=>Hh(!0),1e3)),jr.current&&clearTimeout(jr.current),jr.current=window.setTimeout(()=>{f(!1)},Vm*1e3),r){const Et=localStorage.getItem(`best:${P}`);if(Et)try{E(JSON.parse(Et))}catch{E(null)}else E(null)}},[t,P,r]);_.useEffect(()=>(console.log("[GameCore] mount for level",t),Mo(),()=>{console.log("[GameCore] unmount for level",t),Ut.current&&clearInterval(Ut.current),jr.current&&clearTimeout(jr.current),fi.current&&clearTimeout(fi.current)}),[t,Mo]),_.useEffect(()=>{if(h||w){Ut.current&&clearInterval(Ut.current),kn.current&&clearInterval(kn.current);return}return hi.current===0&&(hi.current=Date.now()),Ut.current=window.setInterval(()=>{y(A=>A<=1?(Ut.current&&clearInterval(Ut.current),kn.current&&clearInterval(kn.current),Ve.playLose(),x(!0),0):A-1)},1e3),kn.current=window.setInterval(()=>{b(Math.floor((Date.now()-hi.current)/1e3))},100),()=>{Ut.current&&clearInterval(Ut.current),kn.current&&clearInterval(kn.current)}},[h,w]),_.useEffect(()=>{const A=(s==null?void 0:s.pairs)||6;if(c===A&&c>0)if(console.log("[GameCore] LEVEL COMPLETED",{level:t,matchedPairs:c,moves:m,timeElapsed:v}),Ut.current&&clearInterval(Ut.current),jr.current&&clearTimeout(jr.current),kn.current&&clearInterval(kn.current),_o(),Ve.playWin(),r){const ee=Math.floor((Date.now()-hi.current)/1e3);b(ee),qn(ee),M(m);const ae=localStorage.getItem(`best:${P}`);let be=!0;if(ae)try{const W=JSON.parse(ae);(ee>W.time||ee===W.time&&m>=W.moves)&&(be=!1)}catch{}if(be){const W={time:ee,moves:m,date:new Date().toISOString()};localStorage.setItem(`best:${P}`,JSON.stringify(W)),E(W)}QS({seed:P,timeMs:ee*1e3,moves:m,crewId:Ke,levelId:t}).then(W=>{W.isPioneer&&ue(!0)}).catch(W=>{console.error("[GameCore] Failed to submit score:",W)}),On(10),j(!0)}else On(10),e()},[c,t,e,r,m,P,v]);const zw=_.useCallback(A=>{if(h||di.current||a.length>=2)return;const ee=i.find(be=>be.id===A);if(!ee||ee.isMatched||a.includes(A)||ee.obstacle&&(ee.obstacleHealth??0)>0)return;const ae=[...a,A];if(l(ae),o(be=>be.map(W=>W.id===A?{...W,isFlipped:!0}:W)),ae.length===2){di.current=!0,g(Y=>Y+1);const[be,W]=ae,zo=i.find(Y=>Y.id===be),Wn=i.find(Y=>Y.id===W);if(zo&&Wn&&zo.imageIndex===Wn.imageIndex){Ve.playMatch();const Y=at=>{const Q=i.findIndex($o=>$o.id===at),Qe=Math.ceil(Math.sqrt(i.length)),cn=Math.floor(Q/Qe),un=Q%Qe,Hn=[];return un>0&&Hn.push(Q-1),un<Qe-1&&Hn.push(Q+1),cn>0&&Hn.push(Q-Qe),cn<Qe-1&&Hn.push(Q+Qe),Hn},J=[...Y(be),...Y(W)],Et=new Set(ot),ln=new Set(Je);J.forEach(at=>{const Q=i[at];Q!=null&&Q.obstacle&&(Q.obstacleHealth??0)>0&&((Q.obstacleHealth??0)-1<=0?(ln.add(Q.id),setTimeout(()=>{pt(cn=>{const un=new Set(cn);return un.delete(Q.id),un})},600)):(Et.add(Q.id),setTimeout(()=>{Le(cn=>{const un=new Set(cn);return un.delete(Q.id),un})},500)))}),Le(Et),pt(ln),o(at=>at.map((Q,Qe)=>{if(Q.id===be||Q.id===W)return{...Q,isMatched:!0};if(J.includes(Qe)&&Q.obstacle&&(Q.obstacleHealth??0)>0){const cn=(Q.obstacleHealth??0)-1;return cn<=0?(Q.obstacle==="ice"?(On(10),console.log("[GameCore] Ice destroyed! +10 coins"),Gh("ice"),Lo(!0),setTimeout(()=>Lo(!1),100)):Q.obstacle==="stone"&&(On(20),console.log("[GameCore] Stone destroyed! +20 coins"),Gh("stone"),Lo(!0),setTimeout(()=>Lo(!1),100)),{...Q,obstacle:null,obstacleHealth:0}):{...Q,obstacleHealth:cn}}return Q})),d(at=>at+1),l([]),St(0),Z([]),di.current=!1}else St(Y=>Y+1),setTimeout(()=>{o(Y=>Y.map(J=>J.id===be||J.id===W?{...J,isFlipped:!1}:J)),l([]),di.current=!1},LR)}},[i,a,h,ot,Je]);_.useEffect(()=>{if(fe>=4&&!h&&!w&&z.length===0){const A=i.filter(ee=>!ee.isMatched&&!ee.isFlipped);if(A.length>=2){const ee=new Map;A.forEach(ae=>{ee.has(ae.imageIndex)||ee.set(ae.imageIndex,[]),ee.get(ae.imageIndex).push(ae.id)});for(const[,ae]of ee)if(ae.length>=2){const[be,W]=ae.slice(0,2);Z([be,W]),fi.current&&clearTimeout(fi.current),fi.current=window.setTimeout(()=>{Z([])},3e3);break}}}},[fe,h,w,i,z.length]);const $w=_.useCallback(A=>{const ee=i.filter(J=>!J.isMatched),ae=ee.length/2,be=Math.max(1,Math.floor(ae*(A/100))),W=new Map;ee.forEach(J=>{W.has(J.imageIndex)||W.set(J.imageIndex,[]),W.get(J.imageIndex).push(J.id)});const Wn=Array.from(W.entries()).filter(([,J])=>J.length===2).slice(0,be),Y=[];Wn.forEach(([,J])=>{Y.push(...J)}),o(J=>J.map(Et=>Y.includes(Et.id)?{...Et,isFlipped:!0,isMatched:!0}:Et)),d(J=>J+Wn.length),U(!0),_o()},[i]),Ao=_.useCallback(()=>{Mo()},[Mo]),Dw=_.useCallback(()=>{let A,ee;if(r){const ae=new URL(window.location.href);ae.searchParams.set("seed",P),ae.searchParams.set("time",Dt.toString()),ae.searchParams.set("moves",R.toString());let be=Ke;if(be)ae.searchParams.set("crew",be);else{const W=crypto.randomUUID().slice(0,8);ae.searchParams.set("crew",W),GS(W),an(W),be=W}ee=ae.toString(),A=`Complet el reto diario en ${Dt}s con ${R} movimientos! Puedes superarme?`}else ee=window.location.origin,A=`Complet el Nivel ${t} en ${Dt}s con ${R} movimientos!  Juega TwinClash y pon a prueba tu memoria.`;ls({text:A,url:ee}),it(!0)},[P,Dt,R,Ke,r,t]),Sn=Xt(t),Uw=(Sn==null?void 0:Sn.theme)||"nature",Fw=Hm(Uw),Bw=(Sn==null?void 0:Sn.pairs)||6,Vw=Fw.slice(0,Bw),qw=(Sn==null?void 0:Sn.timeLimit)||60;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex flex-col p-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 mb-4",children:[r&&u.jsxs("div",{className:"mb-3 text-sm text-gray-600 flex flex-col gap-1",children:[u.jsxs("span",{children:["Reto: ",P]}),k&&u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Rn,{size:14,className:"text-yellow-500"}),"Mejor: ",k.time,"s, ",k.moves," mov"]})]}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r?"Reto Diario":`Nivel ${t}`}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(n2,{}),u.jsx("div",{className:`text-2xl font-bold ${p<=10?"text-red-600 animate-pulse":"text-blue-600"}`,children:h?`Preview: ${Math.max(0,Math.ceil(p-(qw-Vm)))}s`:`${p}s`})]})]}),r&&u.jsxs("div",{className:"flex gap-4 mb-3 text-sm font-semibold text-gray-700",children:[u.jsxs("span",{children:["Tiempo: ",v,"s"]}),u.jsxs("span",{children:["Movimientos: ",m]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:Mw,className:"bg-gray-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-gray-600 transition-colors",children:[u.jsx(fo,{size:18}),"Volver"]}),u.jsxs("button",{onClick:Ao,className:"flex-1 bg-orange-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors",children:[u.jsx(g0,{size:18}),"Reiniciar"]}),r&&u.jsxs("button",{onClick:()=>B(!0),className:"flex-1 bg-yellow-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-yellow-600 transition-colors",children:[u.jsx(R_,{size:18}),"Top"]})]}),!r&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[u.jsx("div",{className:"text-xs text-gray-600 font-semibold mb-2 text-center",children:" Ayuda Extra (Revela Parejas)"}),u.jsx(e2,{onPowerUpUsed:$w,disabled:h||w||jt}),jt&&u.jsx("div",{className:"text-xs text-center text-green-600 font-semibold mt-2",children:" Ayuda usada en este nivel"}),u.jsx("button",{onClick:()=>q(!0),className:"w-full mt-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-2 px-4 rounded-lg font-bold text-sm shadow-lg hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-2",children:" Comprar Monedas"})]})]}),u.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden px-4",children:u.jsx("div",{className:"w-full max-w-lg",children:u.jsx("div",{className:"grid grid-cols-4 gap-3",children:i.map(A=>u.jsx("div",{className:`${ot.has(A.id)?"obstacle-crack":""} ${Je.has(A.id)?"obstacle-break":""}`,children:u.jsx(Dv,{card:{...A,isFlipped:h||A.isFlipped},image:Vw[A.imageIndex],onClick:zw,disabled:h||di.current,showHint:z.includes(A.id),isBreaking:Je.has(A.id)})},A.id))})})}),w&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-red-600 mb-2",children:"Game Over"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Se acab el tiempo"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:n,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),u.jsx("button",{onClick:Ao,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reintentar"})]})]})}),S&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-green-600 mb-4",children:"Completado!"}),oe&&u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-4",children:[u.jsx("div",{className:"text-3xl mb-2",children:""}),u.jsx("div",{className:"text-white font-bold text-lg",children:"Medalla Pionero!"}),u.jsx("div",{className:"text-yellow-100 text-sm",children:"+20 monedas por ser el primero"})]}),u.jsx("div",{className:"bg-gray-100 rounded-xl p-4 mb-6",children:u.jsxs("div",{className:"flex justify-around text-center",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Dt,"s"]}),u.jsx("div",{className:"text-xs text-gray-600",children:"Tiempo"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:R}),u.jsx("div",{className:"text-xs text-gray-600",children:"Movimientos"})]})]})}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:Dw,className:"flex-1 bg-blue-500 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-600 transition-colors",children:[u.jsx(y0,{size:18}),"Compartir"]}),u.jsx("button",{onClick:Ao,className:"flex-1 bg-green-500 text-white py-3 rounded-xl font-semibold hover:bg-green-600 transition-colors",children:"Reintentar"})]}),u.jsxs("button",{onClick:()=>{j(!1),n()},className:"w-full bg-gray-500 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-gray-600 transition-colors",children:[u.jsx(fo,{size:18}),"Salir"]})]})]})}),T&&u.jsx(ZS,{seed:P,onClose:()=>B(!1),onPlayNow:()=>{B(!1),Ao()}}),D&&u.jsx(Iv,{onClose:()=>q(!1)}),u.jsx(t2,{open:Lw,onStay:Aw,onExit:Kh}),u.jsx(r2,{open:st,onClose:()=>it(!1),shareText:Sr.text,shareUrl:Sr.url}),Kl&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Nuevos Obstculos!"}),u.jsx("p",{className:"text-gray-600",children:"Aprende a superarlos"})]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-4 rounded-xl border-2 border-blue-200",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Hielo"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Bloquea cartas. Haz un match cercano (arriba, abajo, izquierda o derecha) para romperlo."})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-slate-100 p-4 rounded-xl border-2 border-gray-300",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Piedra"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Ms resistente. Necesita 2 matches cercanos para romperse. Vers un contador rojo."})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 p-4 rounded-xl border-2 border-yellow-200",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:"Estrategia"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Primero libera las cartas bloqueadas haciendo matches alrededor. Vers el hielo agrietarse!"})]})]})})]}),u.jsx("button",{onClick:()=>{Hh(!1),localStorage.setItem("obstacle_tutorial_seen","true")},className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 px-6 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:"Entendido!"})]})}),u.jsx(IR,{trigger:Nw,theme:Iw})]})};function FR({completedWorld:t,unlockedWorld:e,coinsEarned:n,onContinue:r,isGameComplete:s=!1}){_.useEffect(()=>{_o();const a=[];for(let l=0;l<3;l++){const c=window.setTimeout(()=>{_o()},(l+1)*600);a.push(c)}return()=>a.forEach(clearTimeout)},[]);const i=["","Naturaleza","Deportes","Juegos","Animales","Espacio"],o=["","","","","",""];return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:[u.jsxs("div",{className:"relative bg-gradient-to-br from-white via-yellow-50 to-orange-50 rounded-3xl p-8 max-w-md w-full text-center shadow-2xl animate-bounce-in",children:[u.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:u.jsx(Rn,{size:48,className:"text-white"})}),u.jsx("div",{className:"mt-8 mb-6",children:s?u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-5xl font-black mb-3 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"JUEGO COMPLETADO!"}),u.jsx("div",{className:"text-7xl mb-4 animate-bounce",children:""}),u.jsx("p",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Eres un Maestro de la Memoria!"}),u.jsx("p",{className:"text-gray-600",children:"Has superado todos los mundos"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("h2",{className:"text-4xl font-black mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["Mundo ",t," Completado!"]}),u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-lg border-2 border-yellow-200",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[u.jsx(sn,{className:"text-yellow-500",size:32}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Nuevo Mundo Desbloqueado"}),u.jsx(sn,{className:"text-yellow-500",size:32})]}),u.jsxs("div",{className:"flex items-center justify-center gap-4 py-4",children:[u.jsx("div",{className:"text-6xl",children:o[e]}),u.jsxs("div",{className:"text-left",children:[u.jsxs("div",{className:"text-3xl font-black text-transparent bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text",children:["Mundo ",e]}),u.jsx("div",{className:"text-xl font-semibold text-gray-700",children:i[e]})]})]})]})]})}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-4 mb-6 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[u.jsx(Lt,{size:28}),u.jsxs("span",{className:"text-3xl font-black",children:["+",n]}),u.jsx("span",{className:"text-lg font-semibold",children:"monedas"})]})}),u.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-2xl font-bold text-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all active:scale-95",children:s?"Vamos!":`Explorar Mundo ${e}`}),u.jsx("div",{className:"mt-4 flex justify-center gap-2",children:[...Array(5)].map((a,l)=>u.jsx("div",{className:`w-3 h-3 rounded-full ${l<t?"bg-yellow-400":"bg-gray-300"}`},l))})]}),u.jsx("style",{children:`
        @keyframes bounce-in {
          0% {
            transform: scale(0.3);
            opacity: 0;
          }
          50% {
            transform: scale(1.05);
          }
          70% {
            transform: scale(0.9);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-bounce-in {
          animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
      `})]})}const BR=[{name:"Naturaleza",icon:yh,emoji:"",description:"Explora la belleza del mundo natural",color:{from:"from-emerald-500",to:"to-green-700",bg:"bg-gradient-to-br from-emerald-400 via-green-500 to-teal-600"},features:["6-10 parejas","60-45 segundos","55 monedas totales"]},{name:"Deportes",icon:mh,emoji:"",description:"Pon a prueba tu memoria deportiva",color:{from:"from-yellow-500",to:"to-orange-700",bg:"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600"},features:["8-12 parejas","55-40 segundos","98 monedas totales"]},{name:"Juegos",icon:gh,emoji:"",description:"El paraso de los gamers te espera",color:{from:"from-purple-500",to:"to-pink-700",bg:"bg-gradient-to-br from-purple-400 via-pink-500 to-rose-600"},features:["10-14 parejas","50-35 segundos","137 monedas totales"]},{name:"Animales",icon:vh,emoji:"",description:"Descubre el reino animal",color:{from:"from-orange-500",to:"to-red-700",bg:"bg-gradient-to-br from-orange-400 via-red-500 to-pink-600"},features:["12-16 parejas","45-30 segundos","190 monedas totales"]},{name:"Espacio",icon:wh,emoji:"",description:"Viaja ms all de las estrellas",color:{from:"from-indigo-500",to:"to-blue-700",bg:"bg-gradient-to-br from-indigo-400 via-blue-500 to-cyan-600"},features:["14-18 parejas","40-25 segundos","260 monedas totales"]}];function VR({world:t,onStart:e}){const[n,r]=_.useState(!1),s=BR[t-1],i=s.icon;return _.useEffect(()=>{setTimeout(()=>r(!0),100)},[]),u.jsxs("div",{className:`fixed inset-0 ${s.color.bg} flex items-center justify-center p-6 z-50`,children:[u.jsxs("div",{className:`max-w-lg w-full transition-all duration-700 ${n?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"inline-block relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"relative text-9xl animate-bounce-slow",children:s.emoji})]}),u.jsxs("div",{className:"mb-4 flex justify-center gap-2",children:[u.jsx(sn,{className:"text-yellow-300 animate-pulse",size:24}),u.jsxs("h1",{className:"text-5xl font-black text-white drop-shadow-2xl",children:["Mundo ",t]}),u.jsx(sn,{className:"text-yellow-300 animate-pulse",size:24})]}),u.jsx("h2",{className:"text-3xl font-bold text-white/90 mb-3 drop-shadow-lg",children:s.name}),u.jsx("p",{className:"text-xl text-white/80 font-medium",children:s.description})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-6 shadow-2xl mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(i,{className:`bg-gradient-to-br ${s.color.from} ${s.color.to} text-white p-2 rounded-xl`,size:40}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Caractersticas"})]}),u.jsx("div",{className:"space-y-3",children:s.features.map((o,a)=>u.jsxs("div",{className:"flex items-center gap-3 text-gray-700 text-lg",style:{animationDelay:`${a*100}ms`},children:[u.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-br ${s.color.from} ${s.color.to}`}),u.jsx("span",{className:"font-semibold",children:o})]},a))})]}),u.jsx("button",{onClick:e,className:"w-full bg-white text-gray-800 py-5 rounded-2xl font-black text-2xl shadow-2xl hover:scale-105 active:scale-95 transition-all hover:shadow-3xl",children:"COMENZAR! "}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("p",{className:"text-white/70 text-sm font-medium",children:"5 niveles de diversin te esperan"})})]}),u.jsx("style",{children:`
        @keyframes bounce-slow {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-20px);
          }
        }

        .animate-bounce-slow {
          animation: bounce-slow 2s ease-in-out infinite;
        }
      `})]})}const qR=({initialLevel:t,onBackToMenu:e})=>{var j;const[n,r]=_.useState(t),[s,i]=_.useState(null),[o,a]=_.useState(!1),[l,c]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(!1),[y,w]=_.useState(1),x=_.useRef(!1),m=_.useRef(((j=Xt(t))==null?void 0:j.world)||1),g=_.useCallback(async()=>{if(x.current){console.log("[GameShell] onLevelCompleted: already completed, skipping");return}x.current=!0;const k=Xt(n);if(!k)return;const E=mS(n),P=gS(n);if(await fS(E,P,3),On(k.unlockReward),k.level===5){const T=k.world+1;T<=10?h({completedWorld:k.world,unlockedWorld:T,coinsEarned:k.unlockReward,isGameComplete:!1}):h({completedWorld:k.world,unlockedWorld:k.world,coinsEarned:k.unlockReward,isGameComplete:!0})}else{const T=n+1;i(T),c("level"),a(!0)}},[n]);_.useEffect(()=>{console.log("[GameShell] LEVEL_CHANGED",n),x.current=!1;const k=Xt(n);k&&k.world!==m.current&&k.level===1&&(w(k.world),p(!0),m.current=k.world),Ve.stopStartMusic(),k&&Ve.playLevelMusic(k.world)},[n]);const v=_.useCallback(()=>{console.log("[GameShell] handleNextLevel",{level:n,nextLevel:s}),s!=null&&(r(s),i(null),a(!1),c(null))},[s,n]),b=_.useCallback(()=>{h(null);const k=n+1,E=Xt(k);E&&(w(E.world),p(!0),m.current=E.world),r(k)},[n]),S=_.useCallback(()=>{p(!1)},[]);return console.log("[GameShell] Render",{level:n,nextLevel:s,showBanner:o,bannerType:l}),u.jsxs(u.Fragment,{children:[f?u.jsx(VR,{world:y,onStart:S}):u.jsx("section",{children:u.jsx(Ow,{level:n,onComplete:g,onBackToMenu:e})},`level-${n}`),d&&u.jsx(FR,{completedWorld:d.completedWorld,unlockedWorld:d.unlockedWorld,coinsEarned:d.coinsEarned,isGameComplete:d.isGameComplete,onContinue:b}),o&&s!=null&&!d&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsx("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl pointer-events-auto",children:l==="level"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-green-600 mb-2",children:["Nivel ",n," Completado!"]}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Pulsa para continuar."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),u.jsxs("button",{onClick:v,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",s]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent mb-2",children:"Has completado todas las fases!"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Quieres volver a empezar?"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Men"}),u.jsxs("button",{onClick:v,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",s]})]})]})})})]})},WR=({onClose:t,onCreateRoom:e,onJoinRoom:n})=>{const[r,s]=_.useState("menu"),[i,o]=_.useState(1),[a,l]=_.useState(""),c=()=>{e(i),t()},d=()=>{a.trim().length===6&&(n(a.toUpperCase()),t())};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",style:{fontFamily:"system-ui"},children:u.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-6 w-full max-w-lg",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("h2",{className:"text-2xl font-bold m-0",children:[r==="menu"&&" Duelo",r==="create"&&" Crear Sala",r==="join"&&" Unirse a Sala"]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Cerrar",children:u.jsx(ts,{size:20})})]}),r==="menu"&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:()=>s("create"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:" Crear Sala"}),u.jsx("button",{onClick:()=>s("join"),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:" Unirse con Cdigo"})]}),r==="create"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Selecciona el Mundo:"}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(h=>u.jsx("button",{onClick:()=>o(h),className:`py-3 rounded-lg font-bold transition-all ${i===h?"bg-gradient-to-r from-green-500 to-emerald-600 text-white scale-110":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:h},h))})]}),u.jsx("div",{className:"bg-gray-800 rounded-lg p-3 text-sm",children:u.jsxs("p",{className:"opacity-80",children:[" Recompensa: ",u.jsxs("span",{className:"font-bold text-yellow-400",children:[20+(i-1)*13," monedas"]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>s("menu"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-xl font-bold transition-all",children:"Atrs"}),u.jsx("button",{onClick:c,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Crear Sala"})]})]}),r==="join"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Cdigo de la Sala:"}),u.jsx("input",{type:"text",value:a,onChange:h=>l(h.target.value.toUpperCase().slice(0,6)),placeholder:"ABC123",maxLength:6,className:"w-full bg-gray-800 text-white px-4 py-3 rounded-xl text-center text-2xl font-bold tracking-widest focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsx("div",{className:"bg-gray-800 rounded-lg p-3 text-sm opacity-80",children:" Ingresa el cdigo de 6 caracteres que te comparti tu rival"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>s("menu"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-xl font-bold transition-all",children:"Atrs"}),u.jsx("button",{onClick:d,disabled:a.length!==6,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Unirse"})]})]})]})})},HR=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Gm=t=>{const e=(t-1)*6;return HR.slice(e,e+6)};function GR(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}async function KR(t,e){const n=GR(),r=`duel-${Date.now()}-${Math.random().toString(36).substring(7)}`,{data:s,error:i}=await he.from("duel_rooms").insert({room_code:n,world_id:e,seed:r,host_client_id:t,status:"waiting"}).select().maybeSingle();return i?(console.error("[createDuelRoom] Error:",i),null):s}async function JR(t,e){const{data:n,error:r}=await he.from("duel_rooms").select("*").eq("room_code",e).eq("status","waiting").maybeSingle();if(r||!n)return console.error("[joinDuelRoom] Room not found or error:",r),null;if(n.host_client_id===t)return n;const{data:s,error:i}=await he.from("duel_rooms").update({guest_client_id:t,status:"playing"}).eq("id",n.id).select().maybeSingle();return i?(console.error("[joinDuelRoom] Error updating room:",i),null):s}async function Km(t,e){const{data:n}=await he.from("duel_rooms").select("*").eq("id",t).maybeSingle();if(!n)return;const r=n.host_client_id===e,i={[r?"host_finished_at":"guest_finished_at"]:new Date().toISOString()},a=n[r?"guest_finished_at":"host_finished_at"];if(a){const l=new Date().toISOString(),c=a;i.winner_client_id=l<c?e:r?n.guest_client_id:n.host_client_id,i.status="finished"}else i.winner_client_id=e,i.status="finished";await he.from("duel_rooms").update(i).eq("id",t)}async function QR(t){await he.from("duel_rooms").update({status:"cancelled"}).eq("id",t)}const YR=({onBackToMenu:t})=>{const[e,n]=_.useState(!1),[r,s]=_.useState(null),[i,o]=_.useState("lobby"),[a,l]=_.useState([]),[c,d]=_.useState([]),[h,f]=_.useState(new Set),[p,y]=_.useState(0),[w,x]=_.useState(0),[m,g]=_.useState(null),[v,b]=_.useState(!1),[S,j]=_.useState(!1),k=Mt(),E=_.useRef(!1),P=_.useRef(null),T=_.useRef(null);r==null||r.host_client_id;const B=(r==null?void 0:r.guest_client_id)!=null,oe=_.useCallback((U,D)=>{const q=er(D,1),st=Xt(q),it=(st==null?void 0:st.pairs)||10,ls=Gm(q).slice(0,it).flatMap((Je,pt)=>[{id:pt*2,imageIndex:pt,isFlipped:!1,isMatched:!1},{id:pt*2+1,imageIndex:pt,isFlipped:!1,isMatched:!1}]),ot=Tw(U),Le=[...ls];for(let Je=Le.length-1;Je>0;Je--){const pt=Math.floor(ot()*(Je+1));[Le[Je],Le[pt]]=[Le[pt],Le[Je]]}return Le},[]);_.useEffect(()=>{const D=new URLSearchParams(window.location.search).get("room");D&&qn(D)},[]),_.useEffect(()=>{if(!r)return;const U=he.channel(`duel_room:${r.room_code}`);return T.current=U,U.on("postgres_changes",{event:"*",schema:"public",table:"duel_rooms",filter:`room_code=eq.${r.room_code}`},D=>{console.log("[DuelScene] Room updated:",D);const q=D.new;s(q),q.status==="playing"&&i==="lobby"&&ue(q),q.status==="finished"&&i==="playing"&&an(q)}).subscribe(),()=>{he.removeChannel(U)}},[r==null?void 0:r.room_code]);const ue=U=>{const D=er(U.world_id,1),q=Xt(D),st=oe(U.seed,U.world_id);l(st),y((q==null?void 0:q.timeLimit)||60),x(0),f(new Set),d([]),o("playing"),P.current=window.setInterval(()=>{y(it=>it<=1?(P.current&&clearInterval(P.current),Ke(),0):it-1)},1e3)},Ke=async()=>{r&&await Km(r.id,k)},an=U=>{P.current&&(clearInterval(P.current),P.current=null),o("finished");const D=U.winner_client_id===k;if(g(D?"me":"opponent"),D){const q=20+(U.world_id-1)*13;On(q),Ve.playWin(),_o()}else Ve.playLose();b(!0)},Dt=async U=>{const D=await KR(k,U);if(D){s(D);const q=new URL(window.location.href);q.searchParams.set("room",D.room_code),window.history.replaceState({},"",q.toString())}},qn=async U=>{const D=await JR(k,U);if(D){s(D);const q=new URL(window.location.href);q.searchParams.set("room",D.room_code),window.history.replaceState({},"",q.toString()),D.status==="playing"&&ue(D)}else alert("Sala no encontrada o ya est llena")},R=_.useCallback(async U=>{if(i!=="playing"||E.current||c.length>=2||!r)return;const D=a.find(st=>st.id===U);if(!D||h.has(D.imageIndex)||c.includes(U))return;const q=[...c,U];if(d(q),l(st=>st.map(it=>it.id===U?{...it,isFlipped:!0}:it)),q.length===2){E.current=!0;const[st,it]=q,Sr=a.find(ot=>ot.id===st),ls=a.find(ot=>ot.id===it);if(Sr&&ls&&Sr.imageIndex===ls.imageIndex){Ve.playMatch(),f(Kl=>new Set(Kl).add(Sr.imageIndex));const ot=w+1;x(ot),d([]),E.current=!1;const Le=er(r.world_id,1),Je=Xt(Le),pt=(Je==null?void 0:Je.pairs)||10;ot>=pt&&await Km(r.id,k)}else setTimeout(()=>{l(ot=>ot.map(Le=>Le.id===st||Le.id===it?{...Le,isFlipped:!1}:Le)),d([]),E.current=!1},600)}},[a,c,i,h,w,r,k]),M=async()=>{if(i==="playing"){if(!confirm("Seguro que quieres salir? Perders la partida."))return;r&&await QR(r.id)}t()},z=async()=>{if(r)try{await navigator.clipboard.writeText(r.room_code),j(!0),setTimeout(()=>j(!1),2e3)}catch{alert(`Cdigo: ${r.room_code}`)}},Z=async()=>{if(!r)return;const U=`${window.location.origin}${window.location.pathname}?room=${r.room_code}`,D=` nete a mi duelo en Twin Clash!
 Cdigo: ${r.room_code}
 Mundo ${r.world_id}

${U}`;if(navigator.share)try{await navigator.share({title:"Twin Clash Duelo",text:D,url:U})}catch(q){console.log("Share cancelled",q)}else try{await navigator.clipboard.writeText(D),alert("Enlace copiado al portapapeles")}catch{alert(D)}},fe=r?Gm(er(r.world_id,1)):[],St=r?Xt(er(r.world_id,1)):null,jt=(St==null?void 0:St.theme)||"nature";return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-400 via-pink-500 to-purple-600 flex flex-col p-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Duelo 1v1"}),r&&u.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:["Mundo ",r.world_id," - ",jt]})]}),u.jsxs("button",{onClick:M,className:"flex items-center gap-2 bg-red-500 text-white px-3 py-2 rounded-lg text-sm font-semibold hover:bg-red-600 transition-colors",children:[u.jsx(fo,{size:16}),"Salir"]})]}),i==="lobby"&&!r&&u.jsx("div",{className:"text-center py-8",children:u.jsx("button",{onClick:()=>n(!0),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:" Crear o Unirse a Duelo"})}),i==="lobby"&&r&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Gu,{size:16,className:B?"text-green-500":"text-gray-400"}),u.jsx("span",{className:B?"text-green-600 font-semibold":"text-gray-600",children:B?"Oponente conectado!":"Esperando oponente..."})]}),u.jsxs("div",{className:"bg-gray-100 rounded-xl p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Cdigo de la sala:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-800 tracking-widest",children:r.room_code}),u.jsx("button",{onClick:z,className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:u.jsx(h0,{size:16})}),u.jsx("button",{onClick:Z,className:"p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:u.jsx(y0,{size:16})})]}),S&&u.jsx("div",{className:"text-xs text-green-600 mt-1",children:" Copiado"})]}),!B&&u.jsx("div",{className:"text-sm text-gray-600 text-center bg-blue-50 p-3 rounded-lg",children:" Comparte el cdigo con tu rival para que se una"})]}),i==="playing"&&u.jsxs("div",{className:"flex items-center justify-around text-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:w}),u.jsx("div",{className:"text-xs text-gray-600",children:"Parejas"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(d0,{size:20,className:"text-red-500"}),u.jsxs("div",{className:`text-2xl font-bold ${p<=10?"text-red-600 animate-pulse":"text-gray-800"}`,children:[p,"s"]})]})]})]}),i==="lobby"&&r&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-white",children:[u.jsx(Gu,{size:64,className:"mx-auto mb-4 opacity-50"}),u.jsxs("p",{className:"text-lg font-semibold mb-2",children:["Sala: ",r.room_code]}),u.jsx("p",{className:"text-sm opacity-80",children:B?"Esperando que el anfitrin inicie...":"Esperando oponente..."})]})}),i==="playing"&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"w-full max-w-lg",children:u.jsx("div",{className:"grid grid-cols-4 gap-3",children:a.map(U=>{const D={...U,isMatched:h.has(U.imageIndex)};return u.jsx(Dv,{card:D,image:fe[U.imageIndex],onClick:R,disabled:E.current},U.id)})})})}),v&&i==="finished"&&r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:m==="me"?"":""}),u.jsx("h3",{className:`text-3xl font-bold mb-2 ${m==="me"?"text-green-600":"text-gray-600"}`,children:m==="me"?"Ganaste!":"Perdiste"}),m==="me"&&u.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["+",20+(r.world_id-1)*13," monedas"]}),u.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all",children:"Volver al Men"})]})}),e&&u.jsx(WR,{onClose:()=>n(!1),onCreateRoom:Dt,onJoinRoom:qn})]})},XR=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];function Jm(t){return[...XR].sort(()=>Math.random()-.5).slice(0,t)}const ZR=({onBackToMenu:t})=>{const[e,n]=_.useState(()=>Jm(5)),[r,s]=_.useState(0),[i,o]=_.useState(new Set),[a,l]=_.useState(!1),[c,d]=_.useState({}),[h,f]=_.useState(!0);_.useEffect(()=>{p()},[e]);const p=async()=>{try{const g=Mt(),{data:v,error:b}=await he.from("scores").select("level_id, score").eq("client_id",g).in("level_id",e);if(!b&&v){const S=new Set,j={};v.forEach(k=>{k.level_id&&(S.add(k.level_id),j[k.level_id]=k.score||0)}),o(S),d(j)}}catch(g){console.error("Error loading challenge progress:",g)}finally{f(!1)}},y=g=>{s(g),l(!0)},w=async()=>{await p(),l(!1)},x=async()=>{await p(),l(!1)},m=()=>{const g=Jm(5);n(g),o(new Set),d({}),f(!0)};return h?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 flex items-center justify-center",children:u.jsx("div",{className:"text-white text-2xl font-bold",children:"Cargando desafos..."})}):a?u.jsx(Ow,{level:e[r],isDailyChallenge:!0,onComplete:w,onBackToMenu:x},`challenge-${e[r]}-${Date.now()}`):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 p-4",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Desafos Diarios"}),u.jsx("p",{className:"text-sm text-gray-600",children:"5 desafos aleatorios"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors",children:[u.jsx(g0,{size:18}),"Nuevos"]}),u.jsxs("button",{onClick:t,className:"flex items-center gap-2 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:[u.jsx(fo,{size:18}),"Volver"]})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-4 mb-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Rn,{className:"text-yellow-600",size:32}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[i.size," / ",e.length]}),u.jsx("div",{className:"text-xs text-gray-600",children:"Desafos completados"})]})]})})]}),u.jsx("div",{className:"space-y-4",children:e.map((g,v)=>{const b=i.has(g),S=c[g]||0,j=v>0&&!i.has(e[v-1]);return u.jsx("div",{className:`bg-white rounded-2xl shadow-lg p-6 transition-all ${j?"opacity-50 cursor-not-allowed":"hover:shadow-xl cursor-pointer"}`,onClick:()=>!j&&y(v),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold ${b?"bg-gradient-to-br from-green-400 to-green-600 text-white":j?"bg-gray-300 text-gray-500":"bg-gradient-to-br from-yellow-400 to-orange-500 text-white"}`,children:j?"":b?"":v+1}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["Desafo ",v+1," - Nivel ",g]}),u.jsx("p",{className:"text-sm text-gray-600",children:j?"Completa el desafo anterior":b?`Puntuacin: ${S}`:"Sin completar"})]})]}),b&&u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[u.jsx(Na,{className:"text-yellow-500 fill-yellow-500",size:16}),u.jsx(Na,{className:"text-yellow-500 fill-yellow-500",size:16}),u.jsx(Na,{className:"text-yellow-500 fill-yellow-500",size:16})]}),u.jsx("button",{onClick:k=>{k.stopPropagation(),y(v)},className:"text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded-lg hover:bg-gray-300 transition-colors",children:"Volver a jugar"})]}),!j&&!b&&u.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 text-white px-6 py-2 rounded-lg font-bold hover:shadow-lg transition-all",children:"Jugar"})]})},`${g}-${v}`)})})]})})},eO=[yh,mh,gh,vh,wh,w0,m0,p0,sn,f0],Qm=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],tO=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}];function nO({currentWorld:t,currentLevel:e,worldsCompleted:n,onSelectWorld:r,onBackToMenu:s}){const[i,o]=_.useState({1:!0}),[a,l]=_.useState({}),[c,d]=_.useState(0),[h,f]=_.useState(null),[p,y]=_.useState(!1),[w,x]=_.useState(!1),[m,g]=_.useState(""),[v,b]=_.useState(null);_.useEffect(()=>{(async()=>{for(let E=1;E<=10;E++)Lv(`world-${E}`,5),E>1&&dS(`world-${E}`).then(P=>{o(T=>({...T,[E]:P}))}),Mv(`world-${E}`).then(P=>{l(T=>({...T,[E]:P}))});d(qe())})()},[]);const S=async k=>{if(k===1||i[k]){r(k);return}f(k)},j=async()=>{if(!h)return;y(!0);const k=`world-${h}`,E=fl[k],P=await Av(k,E);P.ok?(o({...i,[h]:!0}),d(qe()),f(null),r(h)):alert(P.reason),y(!1)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 via-blue-500 to-indigo-700 p-6",children:[u.jsx("button",{onClick:s,className:"mb-6 text-white flex items-center gap-2 font-semibold text-lg hover:scale-105 transition-transform",children:" Volver"}),u.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-3",children:"Elige tu Mundo"}),u.jsx("p",{className:"text-white/80 text-center mb-10 text-lg",children:"10 Mundos  50 Niveles  Aventura pica"}),u.jsx("div",{className:"grid grid-cols-1 gap-6 max-w-md mx-auto",children:[1,2,3,4,5,6,7,8,9,10].map(k=>{const E=i[k]??!1,P=eO[k-1],T=tO[k-1],B=t===k,oe=a[k]??!1;return u.jsxs("button",{onClick:()=>S(k),className:`relative p-6 rounded-3xl shadow-2xl transition-all transform overflow-hidden ${E?`bg-gradient-to-br ${T.from} ${T.to} hover:scale-105 active:scale-95`:"bg-gradient-to-br from-gray-600 to-gray-800"}`,children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsxs("div",{className:`relative ${E?"animate-bounce-slow":"opacity-40"}`,children:[u.jsx("div",{className:`absolute inset-0 ${E?"bg-white/30":"bg-white/10"} rounded-full blur-xl`}),u.jsx(P,{size:56,className:"relative text-white drop-shadow-lg",strokeWidth:1.5})]})}),u.jsxs("div",{className:"flex items-start justify-between text-white relative z-10",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("h3",{className:"text-2xl font-bold drop-shadow-lg",children:["Mundo ",k]}),u.jsx("p",{className:`text-lg font-semibold ${E?"opacity-90":"opacity-60"}`,children:Qm[k-1]}),B&&!oe&&u.jsxs("div",{className:"mt-1 text-sm bg-white/30 rounded-lg px-3 py-1.5 inline-block backdrop-blur-sm",children:[" Nivel ",e," / 5"]})]}),u.jsx("div",{className:"flex flex-col items-center gap-1 ml-4",children:oe?u.jsxs(u.Fragment,{children:[u.jsx(Rn,{className:"text-yellow-300 drop-shadow-lg",size:32}),u.jsx("span",{className:"text-xs bg-yellow-300/30 px-2 py-1 rounded-full font-semibold",children:"Completado"})]}):E?null:u.jsxs("div",{className:"flex flex-col items-center gap-1",children:[u.jsx(zl,{size:32,className:"text-white/60"}),u.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Bloqueado"})]})})]})]},k)})}),w&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Acceso Admin"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Ingresa la contrasea de administrador"}),u.jsx("input",{type:"password",value:m,onChange:k=>g(k.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none mb-4",onKeyDown:k=>{k.key==="Enter"&&(m==="admin2025"?(v&&(o({...i,[v]:!0}),localStorage.setItem(`world_${v}_unlocked`,"true"),r(v)),x(!1),g(""),b(null)):(alert("Contrasea incorrecta"),g("")))}}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>{x(!1),g(""),b(null)},className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:()=>{m==="admin2025"?(v&&(o({...i,[v]:!0}),localStorage.setItem(`world_${v}_unlocked`,"true"),r(v)),x(!1),g(""),b(null)):(alert("Contrasea incorrecta"),g(""))},className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Desbloquear"})]})]})}),h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Mundo ",h]}),u.jsx("p",{className:"text-gray-600 mb-4",children:Qm[h-1]}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Al desbloquear este mundo, podrs jugar el nivel 1. Los dems niveles se desbloquean jugando."}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Lt,{size:24,className:"text-white"}),u.jsx("span",{className:"text-2xl font-bold text-white",children:fl[`world-${h}`]})]}),u.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",c," monedas"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>f(null),disabled:p,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:j,disabled:p,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:p?"Desbloqueando...":"Desbloquear"})]}),u.jsx("button",{type:"button",onClick:()=>{b(h),f(null),x(!0)},className:"mt-3 text-xs text-gray-400 hover:text-gray-600 transition-colors",children:"Admin"})]})}),u.jsx("style",{children:`
        @keyframes bounce-slow {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-15px);
          }
        }

        .animate-bounce-slow {
          animation: bounce-slow 2.5s ease-in-out infinite;
        }
      `})]})}function rO({world:t,currentLevel:e,onSelectLevel:n,onBack:r}){var x;const s=$R(t),i=DR((x=s[0])==null?void 0:x.theme),[o,a]=_.useState({}),[l,c]=_.useState(null),[d,h]=_.useState(0),[f,p]=_.useState(!1);_.useEffect(()=>{(async()=>{const g=`world-${t}`;await Lv(g,5);const v=await pS(g),b={};v.levels.forEach((S,j)=>{b[j+1]=S.unlocked}),b[1]=!0,a(b),h(qe())})()},[t]);const y=async m=>{const g=er(t,m);if(m===1||o[m]){n(g);return}if(m===5&&!o[4]){alert("Para jugar el nivel 5, primero debes completar el nivel 4 o comprarlo");return}c(m)},w=async()=>{if(!l)return;p(!0);const m=`world-${t}`,g=await hS(m,l,$p);if(g.ok){a({...o,[l]:!0}),h(qe());const v=er(t,l);c(null),n(v)}else alert(g.reason);p(!1)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-6",children:[u.jsx("button",{onClick:r,className:"text-white mb-6 font-semibold text-lg flex items-center gap-2 hover:scale-105 transition-transform",children:" Mundos"}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Mundo ",t]}),u.jsx("p",{className:"text-white/90 text-xl",children:i})]}),u.jsx("div",{className:"grid grid-cols-5 gap-4 max-w-lg mx-auto mb-8",children:s.map(m=>{const g=o[m.level]??!1,b=er(t,m.level)===e;return u.jsx("button",{onClick:()=>y(m.level),className:`relative w-16 h-16 rounded-2xl font-bold text-xl transition-all shadow-lg ${g?b?"bg-yellow-400 scale-110 shadow-xl text-yellow-900":"bg-white hover:scale-105 text-purple-700":"bg-gray-700 opacity-50 text-gray-400"}`,children:g?u.jsxs(u.Fragment,{children:[u.jsx("span",{children:m.level}),b&&u.jsx(Na,{className:"absolute -top-2 -right-2 text-yellow-600 fill-yellow-400",size:20}),m.level===5&&u.jsx(Rn,{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 text-orange-500",size:16})]}):u.jsx(zl,{className:"absolute inset-0 m-auto text-gray-500",size:20})},m.level)})}),u.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-3xl p-6 max-w-lg mx-auto text-white",children:[u.jsx("h3",{className:"font-bold text-xl mb-3",children:" Informacin del Mundo"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("p",{children:[" Tiempo: ",s[0].timeLimit,"s - ",s[4].timeLimit,"s"]}),u.jsxs("p",{children:[" Parejas: ",s[0].pairs," - ",s[4].pairs]}),u.jsxs("p",{children:[" Recompensa total: ",s.reduce((m,g)=>m+g.unlockReward,0)," monedas"]}),u.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completa niveles para desbloquear el siguiente"}),u.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completar nivel 5 desbloquea el siguiente mundo"})]})]}),l&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Nivel ",l]}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Saltars el requisito de completar el nivel anterior. Solo este nivel ser desbloqueado."}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Lt,{size:24,className:"text-white"}),u.jsx("span",{className:"text-2xl font-bold text-white",children:$p})]}),u.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",d," monedas"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>c(null),disabled:f,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:w,disabled:f,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:f?"Desbloqueando...":"Desbloquear"})]})]})})]})}function sO(){const[t,e]=_.useState(()=>new URLSearchParams(window.location.search).get("mode")==="duel"?"duel":"menu"),[n,r]=_.useState(1),[s,i]=_.useState(1),[o,a]=_.useState(!0);_.useEffect(()=>{(async()=>{await Nv(),a(!1)})()},[]);const l=()=>{e("challenge")},c=()=>{e("duel")},d=()=>{e("menu")};return o?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mx-auto mb-4"}),u.jsx("p",{className:"text-white text-xl font-bold",children:"Sincronizando progreso..."})]})}):u.jsxs(u.Fragment,{children:[t==="menu"&&u.jsx(BS,{onStartGame:()=>e("worldmap"),onStartDailyChallenge:l,onStartDuel:c}),t==="worldmap"&&u.jsx(nO,{currentWorld:1,currentLevel:1,worldsCompleted:0,onSelectWorld:h=>{i(h),e("levelselect")},onBackToMenu:()=>{e("menu")}}),t==="levelselect"&&u.jsx(rO,{world:s,currentLevel:1,onSelectLevel:h=>{r(h),e("game")},onBack:()=>e("worldmap")}),t==="game"&&u.jsx(qR,{initialLevel:n,onBackToMenu:d},n),t==="challenge"&&u.jsx(ZR,{onBackToMenu:d}),t==="duel"&&u.jsx(YR,{onBackToMenu:d})]})}c0(document.getElementById("root")).render(u.jsx(_.StrictMode,{children:u.jsx(sO,{})}));export{zv as W};
